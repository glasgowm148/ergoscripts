==============================================================
Guild: Ergo Platform
Channel: üîí „Éª„Äò Core „Äô‚ò∞ / core
Topic: https://t.me/+8-qN9mPujtMyMmM0
==============================================================

[01/22/2020 1:19 PM] kushti#0978
@morphic I've addressed your comments, please do another round! https://github.com/ergoplatform/ergo/pull/1020

{Embed}
https://github.com/ergoplatform/ergo/pull/1020
IODB & old versioned leveldb based storage removed by kushti ¬∑ Pu...
This PR is removing IODB dependency and also old LevelDB-based solution for versioned storage. Both wasn&#39;t used in 3.2.0 (outside of tests &amp; benchmarks), and this PR removes the ent...
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[01/22/2020 2:20 PM] morphic#4133
LGTM, approved


[01/23/2020 3:25 PM] kushti#0978
@Ilya | Spectrum it seems some tests are broken in https://github.com/ergoplatform/ergo/pull/1036

{Embed}
https://github.com/ergoplatform/ergo/pull/1036
Transaction cost calculation fixed. by oskin1 ¬∑ Pull Request #103...
Close #1035
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[01/23/2020 3:38 PM] Ilya | Spectrum#0494
I see, haven't found the reason still


[01/23/2020 3:39 PM] Ilya | Spectrum#0494
Seems wallet tx signer is used in test generators


[01/26/2020 8:16 AM] greenhat#6562
https://jenkins.ergoplatform.com/job/ergo-node-benchmarks/1656/ job was stuck for 11 days jamming the CI pipeline. üôÇ We need to setup CI job timeouts on Jenkins. BTW, where is @andyceo?


[01/26/2020 9:02 AM] scalahub#2618
Is there a way to extract bigInt secret from ergo wallet for some derivation path (or address)?


[01/26/2020 12:33 PM] greenhat#6562
We need to search boxes by token ids and register value for token listing in DEX - https://github.com/aslesarenko/ergo-tool/issues/25 . @kushti I see it should be doable only after https://github.com/ergoplatform/eips/blob/master/eip-0001.md is implemented. Otherwise, new endpoints have be added to the explorer backend. Did I miss anything? Is there any other way to find those boxes?

{Embed}
https://github.com/aslesarenko/ergo-tool/issues/25
List Issued Tokens (DEX) ¬∑ Issue #25 ¬∑ aslesarenko/ergo-tool
Motivation Issued token is a special box created according to EIP-4. In order to by existing token one needs to find it&#39;s id. Thus we need a command which: list all issued tokens (respectin...
https://images-ext-2.discordapp.net/external/elTY0f5IcgCYlqkyT633y2k4IrumfJoDn4Y5RCBNr0g/%3Fs%3D400%26v%3D4/https/avatars0.githubusercontent.com/u/654077

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0001.md
ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[01/26/2020 12:53 PM] greenhat#6562
I see how coinbarn gets token name and stuff by token id - https://github.com/coinbarn/ergo-ts/blob/80551350e882585f7c24ce642e9bc750badc76a3/src/explorer.ts#L64  . 
 But we don't have a particular token id. We need to find all issued tokens.

{Embed}
https://github.com/coinbarn/ergo-ts/blob/80551350e882585f7c24ce642e9bc750badc76a3/src/explorer.ts
coinbarn/ergo-ts
Contribute to coinbarn/ergo-ts development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/y45ha0JNp5zOrJ2Mql89xoABvQh1uHKusdsIlGiW-7U/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/57797929


[01/26/2020 1:36 PM] Dmitry Meshkov#1652
Why do you need it? As far as I remember, Waves exchange have hard-coded "qualified" tojens, for others you should use id


[01/26/2020 1:37 PM] Dmitry Meshkov#1652
It would anyway hard to find a token you need, if there will be 100 identical BTC tokens


[01/26/2020 1:42 PM] greenhat#6562
@Dmitry Meshkov It's for https://github.com/aslesarenko/ergo-tool/issues/25 . We want to list all issued tokens for DEX. I'm not sure though how we should handle tokens that are issued for other reasons than to be traded on DEX. We have no way to distinguish them.

{Embed}
https://github.com/aslesarenko/ergo-tool/issues/25
List Issued Tokens (DEX) ¬∑ Issue #25 ¬∑ aslesarenko/ergo-tool
Motivation Issued token is a special box created according to EIP-4. In order to by existing token one needs to find it&#39;s id. Thus we need a command which: list all issued tokens (respectin...
https://images-ext-2.discordapp.net/external/elTY0f5IcgCYlqkyT633y2k4IrumfJoDn4Y5RCBNr0g/%3Fs%3D400%26v%3D4/https/avatars0.githubusercontent.com/u/654077


[01/26/2020 1:45 PM] Dmitry Meshkov#1652
Do you need to add tokens manually? Anyway you should rely on id only, name is not unique. Right after the dex launch we'll have ton of identical tokens with id only different


[01/26/2020 1:47 PM] greenhat#6562
Yes, I suppose token will be issued manually. I assuming anyone can issue a token.


[01/26/2020 9:32 PM] kushti#0978
please review https://github.com/ScorexFoundation/Scorex/pull/358

{Embed}
https://github.com/ScorexFoundation/Scorex/pull/358
Banning peers for sending adversarially constructed messages by ku...
This PR is introducing MaliciousBehaviorException indicating malicious behavior of a peer. Such exception is thrown if a peer tries to send wrong magic bytes (so a peer is from another network), or...
https://images-ext-2.discordapp.net/external/YpBER9jxoC4piVA-OFwYuv0LT48G70XEXqXD46lUmgg/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/20186710


[01/27/2020 11:43 AM] kushti#0978
@greenhat do you have maybe ~25% time to work on the Ergo core ?


[01/27/2020 11:55 AM] greenhat#6562
@kushti I'm focused on DEX lately, with ErgoScala compiler pipeline moved aside. All my time is spread across ergo-tool, appkit and occasional explorer backend tasks. So, no, unless I decrease my involvement with DEX, which is not advisable given the whole DEX contracts rewrite is planned. üôÇ


[01/27/2020 12:22 PM] morphic#4133
@greenhat I think we need to weight the priorities. It is has become a norm that most of us working in many directions in parallel. I think it is ok, us long as we  minimize the switching, i.e. work full day on one (maximum two things). The task kushti keep in mind is related to new wallet implementation and the wallet is something which we use from Appkit. Limitations of the current wallet directly limit Appkit, which limits the applications. From this perspecitve, this work is directly connected to DEX, since we will need to have better BoxSelector for DEX anyway.


[01/27/2020 12:34 PM] greenhat#6562
@morphic @kushti No problem. I'm happy to help where my help is needed the most. Show me this wallet task please.


[01/28/2020 10:18 AM] kushti#0978
@greenhat ok so lemme finish w. 3.2.1 in 1-2 days and then I would be happy to get review and help for the new wallet (3.3.0) implementing EIP-1

{Reactions}
üëç 

[01/28/2020 10:26 AM] kushti#0978
@morphic @scalahub bug in sigma in regards with signing DHT with secret not known confirmed 
https://github.com/ScorexFoundation/sigmastate-interpreter/issues/638
Happily, verification fails anyway.

@scalahub does it prevent mixing impl ?

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/issues/638
Signing for DHT could work for improper secret  ¬∑ Issue #638 ¬∑ S...
Currently for DHT secret prover can generate a proof for secret not really satisfying a statement to be proven. See new failing &quot;DH tuple - signing w. proper and improper secrets&quot;...
https://images-ext-2.discordapp.net/external/YpBER9jxoC4piVA-OFwYuv0LT48G70XEXqXD46lUmgg/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/20186710


[01/28/2020 10:28 AM] scalahub#2618
@kushti no the bug does not prevent mixing impl. I'll work on finishing it. But you can start playing right now if you need


[01/29/2020 9:12 AM] greenhat#6562
My Ergo open source IntelliJ subscription expires in two days. Do we have more?


[01/29/2020 9:13 AM] kushti#0978
@Dmitry Meshkov was that you ? ) ^


[01/29/2020 10:13 AM] morphic#4133
@Ilya | Spectrum was requesting last time


[01/29/2020 10:18 AM] Ilya | Spectrum#0494
Will ask Jetbrains to refresh subscription


[01/29/2020 12:01 PM] morphic#4133
how many licences?


[01/29/2020 12:22 PM] Ilya | Spectrum#0494
How many do we need?


[01/29/2020 12:22 PM] Ilya | Spectrum#0494
There were 4 licenses last time


[01/31/2020 8:23 AM] kushti#0978
@greenhat @morphic so what's the progress towards DEX ?


[01/31/2020 8:28 AM] greenhat#6562
@kushti I‚Äôm implementing new API calls in new explorer backend (buy/sell orders, token info).


[01/31/2020 8:35 AM] kushti#0978
contracts done ?


[01/31/2020 8:39 AM] greenhat#6562
@kushti @morphic is working on them.


[01/31/2020 8:40 AM] greenhat#6562
@Ilya | Spectrum any news with Jetbrains subscriptions?


[01/31/2020 9:05 AM] Ilya | Spectrum#0494
@greenhat, I've emailed them, but haven't seen any reply yet


[01/31/2020 10:09 AM] morphic#4133
When I sent them request for Scalan it took 4 days.


[01/31/2020 7:09 PM] scalahub#2618
Trying to broadcast this tx
```{"id":"56cb28db6a2a567bbbeae010f11becfe1d8f4cb5ade347a9d6ef15798a2b5280","inputs":[{"boxId":"bfbb3f5cc02bf5fd7bbefd8c7bdc67ae57667aef29d65cb0b4aff95da75c8a9f","spendingProof":{"proofBytes":"bbdddfe9109af15cf416ba363ab7b60f348b71ce07df229c3f5a53aa5203a7da6a58a6d442392c700f7fc9c7bba1c64cbbba0dfc2423aeb413f7a53923c945d61404c3ece53a54a94fa197979e752e441ef217745ff124abd1c24fc554a9b6f68669ba2bdf8c9289e4cc7b45b7dc4772","extension":{}}}],"dataInputs":[],"outputs":[{"boxId":"f300e928a202305d63d27cf29592db98f78b448abc3ebeccdf3ffd5c0d988a7d","value":500000,"ergoTree":"0008cd025e85fe75a2325e01de4b0bedfea066552f2676600cdac0934ee9a6e43e33f339","creationHeight":154236,"assets":[],"additionalRegisters":{},"transactionId":"56cb28db6a2a567bbbeae010f11becfe1d8f4cb5ade347a9d6ef15798a2b5280","index":0},{"boxId":"a484ca2a9357ba7ea3366f2e0e87bd8ed7e1dd55382dd060e2958ec96eb68ff0","value":500000,"ergoTree":"1005040004000e36100204a00b08cd0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798ea02d192a39a8cc7a701730073011001020402d19683030193a38cc7b2a57300000193c2b2a57301007473027303830108cdeeac93b1a57304","creationHeight":154236,"assets":[],"additionalRegisters":{},"transactionId":"56cb28db6a2a567bbbeae010f11becfe1d8f4cb5ade347a9d6ef15798a2b5280","index":1}]}```

Does not seem to be going from public node. Perhaps there's something wrong with it. Can anyone else try?


[01/31/2020 7:15 PM] kushti#0978
fee is too small


[01/31/2020 7:15 PM] kushti#0978
for the tx to be propagated


[02/06/2020 11:38 AM] Ilya | Spectrum#0494
@greenhat, our JetBrains licenses should have been refreshed -- please check


[02/06/2020 11:40 AM] greenhat#6562
@Ilya | Spectrum Yes - `Valid through:    January 29, 2021` . Thanks!


[02/10/2020 3:51 AM] scalahub#2618
Is there an api to get transaction by id? (any transaction, not just wallet transactions)


[02/10/2020 6:48 AM] Ilya | Spectrum#0494
@scalahub, no, you can use explorer for that purpose


[02/10/2020 9:28 AM] kushti#0978
@scalahub node is not building transactions index currently, maybe will be added in the future (via optional flag, like in Bitcoin Core, as it makes node much slower). Why do you need for it ?


[02/10/2020 9:33 AM] scalahub#2618
It's very useful feature :) for designing generic tools


[02/10/2020 9:33 AM] scalahub#2618
Like explorer


[02/10/2020 9:33 AM] scalahub#2618
Can we add using flag as in bitcoin


[02/10/2020 9:34 AM] scalahub#2618
Or web wallets


[02/10/2020 10:49 AM] scalahub#2618
Another feature request is to have box indexed by address


[02/10/2020 1:14 PM] kushti#0978
@scalahub address -> boxes index ?


[02/10/2020 1:15 PM] scalahub#2618
getBoxesForAddress (unspent)


[02/10/2020 1:31 PM] kushti#0978
also pretty heavy index


[02/10/2020 1:41 PM] scalahub#2618
Will be useful for url based wallets


[02/10/2020 1:41 PM] scalahub#2618
But agreed that quite heavy


[02/10/2020 1:57 PM] kushti#0978
with additional flag


[02/10/2020 1:57 PM] kushti#0978
can you do a GH issue?


[02/11/2020 11:54 AM] greenhat#6562
Just discovered that Travis builds Draft PRs now. See https://github.com/ergoplatform/ergo-contracts/pull/6 . We can use them instead of WIP labels.

{Embed}
https://github.com/ergoplatform/ergo-contracts/pull/6
EDEX contracts by greenhat ¬∑ Pull Request #6 ¬∑ ergoplatform/ergo-co...
#5
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[02/18/2020 9:38 AM] greenhat#6562
How can I get coins in testnet? I've heard of a some "tap" before. Where is it?  üôÇ


[02/18/2020 10:06 AM] kushti#0978
@greenhat not sure about tap , but http://88.198.13.202:9052/swagger , unlock with API key 7yaASMijGEGTbttYHg1MrXnWB8EbzjJnFLSWvmNoHrXV and there are a lot there )

{Reactions}
üôè 

[02/18/2020 4:20 PM] kushti#0978
@morphic @scalahub please feel free to join a discord of BPSAA (Blockchain Privacy, Security and Adoption Alliance) https://discord.gg/vMy4Ufm to represent Ergo there and talk about integrations


[03/09/2020 2:45 PM] Ilya | Spectrum#0494
@kushti, @morphic, @greenhat, please review

https://github.com/ergoplatform/explorer-backend/pull/8

{Embed}
https://github.com/ergoplatform/explorer-backend/pull/8
API v0 impl by oskin1 ¬∑ Pull Request #8 ¬∑ ergoplatform/explorer-bac...
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[03/11/2020 6:55 AM] greenhat#6562
@kushti I looked at ergo's develop branch and I've found the reason for timeouts in it:tests 
```
Caused by: java.lang.UnsupportedClassVersionError: scorex/ByteUtils has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 53.0
```
from https://jenkins.ergoplatform.com/job/ergo-it/4113/artifact/target/logs/ForkResolutionSpec-975db29c98a86c324d77e09ad1694c936a9af77d162485b83afec5f5c82002fd.log

~~thus, ergo is broken on JRE 8(confirmed locally). Travis is green because we use 9 there.~~


[03/11/2020 7:58 AM] kushti#0978
@greenhat oh I see, will fix, thanks!


[03/11/2020 8:00 AM] greenhat#6562
@kushti I'm adding matrix builds on travis to test on multiple JDKs.


[03/11/2020 8:05 AM] kushti#0978
@greenhat that's awesome!


[03/11/2020 9:40 AM] greenhat#6562
Hm, it's green on openjdk8 on travis. I suspect it might be a caching issue. I'm testing locally.


[03/11/2020 10:18 AM] greenhat#6562
Other find, `libleveldbjni` crash JRE on OpenJDK11 - https://github.com/ergoplatform/ergo/issues/1067

EDIT: happened on Oracle JDK 8 as well, updated the issue.
EDIT2: seems to happen on macOS only.

{Embed}
https://github.com/ergoplatform/ergo/issues/1067
Tests crash on OpenJDK11 and Oracle JDK 8 on macOS ¬∑ Issue #1067 ¬∑ ...
Branch: develop Log for OpenJDK11: [info] - applyModifier() - invalid block # # A fatal error has been detected by the Java Runtime Environment: # # SIGBUS (0xa) at pc=0x00000001116703f0, pid=57166...
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[03/11/2020 12:45 PM] kushti#0978
@greenhat so no problem w. ByteUtils ?


[03/11/2020 1:26 PM] greenhat#6562
@kushti Yes, there is a problem. Seems like avldb project missing `-release 8` scalac option. I'm testing.


[03/11/2020 4:01 PM] greenhat#6562
@kushti The reason is that avldb is built without `-release 8`. For it:tests jar was built with jdk 11,  but container, where jar ran was with jdk9. I've tried to reproduce it on travis (switching jdks between build and tests) with no luck. So our jenkins node setup is the only "test" that will catch such regression in the future. 
https://github.com/ergoplatform/ergo/pull/1066 is ready (wait for green ci though) 
I've also streamlined our travis setup (parallel jobs, names, etc.).

{Embed}
https://github.com/ergoplatform/ergo/pull/1066
add oraclejdk8 to travis.yml by greenhat ¬∑ Pull Request #1066 ¬∑ erg...
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[03/11/2020 4:05 PM] greenhat#6562
Spent the whole day, but green ci is priceless. üôÇ


[03/11/2020 4:18 PM] greenhat#6562
#1067 is a showstopper on macOS though. Any ideas?


[03/12/2020 8:10 AM] kushti#0978
@greenhat revert to pure Java implementation on MacOS ? pure Java is not very good though. But I can't find any issues in Waves in regards with that, and they're using the same dependency


[03/12/2020 8:51 AM] greenhat#6562
@kushti I reproduced it with both 8 and 11 JDK. Can anyone else with mac can 
check and confirm? @morphic ?


[03/15/2020 2:42 PM] greenhat#6562
@kushti I've found logs with the same crashes (libleveldbjni) when I ran 3.2.0 node on testnet in February. I've attached them - https://github.com/ergoplatform/ergo/issues/1067#issuecomment-599218725
I'm syncing 3.2.1 node on mainnet now. Let's see if the crash pops up.

{Embed}
https://github.com/ergoplatform/ergo/issues/1067
Crash on OpenJDK11 and Oracle JDK 8 on macOS ¬∑ Issue #1067 ¬∑ ergopl...
Branch: develop Steps to reproduce: run sbt test Log for OpenJDK11: [info] - applyModifier() - invalid block # # A fatal error has been detected by the Java Runtime Environment: # # SIGBUS (0xa) at...
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[03/15/2020 2:51 PM] greenhat#6562
BTW, I'm still experiencing "empty panel" https://github.com/ergoplatform/ergo-node-interface/issues/11 
now (node syncs). I don't think its an expected behavior?  /cc @Dmitry Usov

{Embed}
https://github.com/ergoplatform/ergo-node-interface/issues/11
Blank `panel` page ¬∑ Issue #11 ¬∑ ergoplatform/ergo-node-interface
Steps to reproduce: get 3.2.0 version from github releases; run on testnet; http://127.0.0.1:9052/info works fine. Here is the source of http://127.0.0.1:9052/panel/: &lt;!doctype html&gt;&...
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[03/16/2020 8:13 AM] Dmitry Usov#0134
Sorry, did not see. I give you response today.


[03/16/2020 8:23 AM] greenhat#6562
@Dmitry Usov No hurry. It's not a showstopper for me.


[03/16/2020 8:30 AM] Dmitry Usov#0134
Can you try go to /panel no /panel/


[03/16/2020 9:49 AM] greenhat#6562
@Dmitry Usov Ha! It works! Thanks. Can you make `/panel/` (trailing slash) also work?


[03/19/2020 12:23 PM] greenhat#6562
I suggest we switch "default branch" in our repos to `develop`. 
Benefits:
- new PR will target `develop` instead of `master`;
- PRs that have `Close #633` directive will close the given issue after merged to `develop`;
Drawbacks:
- yet to find. üôÇ

{Reactions}
üíØ üëç 

[03/19/2020 12:42 PM] greenhat#6562


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/690178330938572821/unknown.png


[03/19/2020 4:57 PM] morphic#4133
@greenhat good points, please switch
nevertheless, `master` should remain protected, right?


[03/19/2020 6:52 PM] greenhat#6562
@morphic yes, ‚Äúprotected branches‚Äù is a different setting and I believe completely independent. Will do on repositories where I have the rights.


[03/22/2020 1:56 PM] greenhat#6562
@morphic @kushti I don't have enough access rights to switch most of our repos.


[03/22/2020 9:46 PM] kushti#0978
@greenhat ok, admin access is needed ?


[03/23/2020 7:14 AM] greenhat#6562
@kushti yes, I suppose. But it's not necessary. I believe every "owner" of the repo should do it themself in their own pace.


[03/25/2020 2:49 PM] greenhat#6562
Travis suddenly decided to require new activation via github apps. I sent requests for ergoplatform  and scorex foundation orgs. 
All I got was "A request to install Travis CI has been submitted on the @ergoplatform account." I don't see this request anywhere in github account. @kushti please check and approve.


[03/25/2020 2:50 PM] greenhat#6562
Just when I was in the middle of pulling new sigma into ergo-dex. ü§¶


[03/25/2020 3:44 PM] kushti#0978
@greenhat grant access, please check


[03/25/2020 3:45 PM] greenhat#6562
@kushti thanks, got it.


[03/25/2020 3:51 PM] greenhat#6562
@kushti Hm, seems like repositories have to be added explicitly. Only the owner can add them. Please check https://github.com/apps/travis-ci/installations/new and add repos. Thanks.

{Embed}
https://github.com/apps/travis-ci/installations/new
Build software better, together
GitHub is where people build software. More than 40 million people use GitHub to discover, fork, and contribute to over 100 million projects.
https://images-ext-1.discordapp.net/external/GknnCjizMYMXTf7AxtPGiAkqk1cGv6dwIUxYVc4g3cA/https/github.githubassets.com/images/modules/open_graph/github-logo.png


[03/26/2020 7:09 AM] greenhat#6562
Well, it seems travis is pushing users from travis-ci.org to travis-ci.com. Here is their plan - https://docs.travis-ci.com/user/migrate/open-source-on-travis-ci-com/

{Embed}
https://docs.travis-ci.com/user/migrate/open-source-on-travis-ci-com/
Travis CI Documentation
Open Source on travis-ci.com
https://images-ext-1.discordapp.net/external/gRVU0lAPWyqnlU4vSrn6G3M9-LuhaV1DGUJ4HKmWQWI/https/docs.travis-ci.com/images/TravisCI-Full-Color.png


[03/26/2020 7:14 AM] greenhat#6562
But apparently yesterday was a glitch (no repos in my travis-ci.org account) so I followed their presented path. And now glitch seems to be fixed and travis-ci.org shows all the repos.


[03/26/2020 7:20 AM] greenhat#6562
I suggest to sit on travis-ci.org and migrate only when it's absolutely necessary.

{Reactions}
üíØ 

[03/26/2020 9:22 AM] kushti#0978
@greenhat accepted another request, anything else to do ?


[03/26/2020 9:23 AM] greenhat#6562
@kushti thanks! Nope. Good old  travis-ci.org seems to be working fine.


[03/31/2020 2:03 PM] greenhat#6562
Scala object in Java. üò±

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/694532413581164624/unknown.png


[04/07/2020 1:46 PM] morphic#4133
What may be the problem in compiling Ergo
Error:(118, 33) constructor Integer in class Integer is deprecated: see corresponding Javadoc for more information.
    pushMemoryPool.invoke(null, new Integer(memoryPoolSize))


[04/07/2020 1:46 PM] morphic#4133
develop branch


[04/07/2020 2:43 PM] kushti#0978
@morphic fixed in 3.3.0 branch, new Integer(memoryPoolSize) => Integer.valueOf(memoryPoolSize)

{Reactions}
üëç 

[04/13/2020 7:02 PM] scalahub#2618
whats the min amount of nanoergs I can keep in a box?


[04/13/2020 7:02 PM] scalahub#2618
can I keep 1 nanoerg?


[04/14/2020 6:46 AM] greenhat#6562
@scalahub No. Its `box size in bytes` * 30 * 12 nanoergs. üôÇ


[04/14/2020 6:47 AM] greenhat#6562
Here is the check - https://github.com/ergoplatform/ergo/blob/1caf2c1a52f373106c3518ac85254331de2f7d96/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala#L149-L149

{Embed}
https://github.com/ergoplatform/ergo/blob/1caf2c1a52f373106c3518ac85254331de2f7d96/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala
ergoplatform/ergo
Ergo protocol description & reference client implementation - ergoplatform/ergo
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[04/14/2020 6:56 AM] greenhat#6562
In current code (appkit, playgrounds, etc), we have hardcoded 1000000 nanoergs as min box value.


[04/14/2020 8:41 AM] scalahub#2618
@greenhat  thanks that is helpful.. üôÇ


[04/14/2020 5:38 PM] greenhat#6562
https://github.blog/2020-04-14-github-is-now-free-for-teams/
I can move sigma-spam repo to ergoplatform org now. üòé

{Embed}
Nat Friedman
https://github.blog/2020-04-14-github-is-now-free-for-teams/
GitHub is now free for teams - The GitHub Blog
Every developer and team can now get private repositories with unlimited collaborators at no cost with GitHub Free, and we reduced prices for some of our paid plans.
https://images-ext-2.discordapp.net/external/QnACZLlmKYjUVTf2khTtLeApvD6dJs_b8x47IfKisyc/%3Fresize%3D1024%2C612/https/github.blog/wp-content/uploads/2019/03/BlogHeaders_Aligned_PRODUCT_1008x602_x2.png

{Reactions}
üëç üíØ 

[04/17/2020 3:17 PM] gagarin55#2131
Can someone correct phrase from white paper: "a transaction could not be included into the blockchain if it contains an output with creation height being no more than current blockchain height" I can't get what it means "being no more" ?


[04/17/2020 3:21 PM] greenhat#6562
@gagarin55 I believe its `creation height <= current height`. Here is the exact check in tx validation - https://github.com/ergoplatform/ergo/blob/1caf2c1a52f373106c3518ac85254331de2f7d96/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala#L150-L150

{Embed}
https://github.com/ergoplatform/ergo/blob/1caf2c1a52f373106c3518ac85254331de2f7d96/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala
ergoplatform/ergo
Ergo protocol description & reference client implementation - ergoplatform/ergo
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[04/17/2020 3:24 PM] gagarin55#2131
so, we can say being no greater?


[04/17/2020 3:25 PM] greenhat#6562
yes

{Reactions}
üëå 

[05/20/2020 9:14 PM] Robert K#0722
Tx fees currently are not being redeemed by miners but instead are being locked in a contract from what I recall seeing, right? Are these funds going to be accesible to miners once the initial release of all Erg into circulation completes?


[05/20/2020 10:01 PM] kushti#0978
@Robert K miners are collecting them ! see https://explorer.ergoplatform.com/en/blocks/d6bcff5a91bbb278c1418e8098ca17a815bee27b820fc8c3fffcc735d3158af1/transactions for example


[05/20/2020 10:02 PM] kushti#0978
last transactions is getting two fee inputs (from outputs created in the block) and spending to to the miner's script


[05/20/2020 10:02 PM] kushti#0978
fee contract is now such as the fee box is spendable only to a miner script


[05/20/2020 10:03 PM] kushti#0978
this is not a part of the protocol though


[05/20/2020 10:03 PM] kushti#0978
so can be changed to e.g. anyone-can-spend script


[05/20/2020 10:25 PM] Robert K#0722
Ah right I see now, thanks for clarifying.


[06/08/2020 9:02 AM] scalahub#2618
Are there two types of address encodings? 
Both the addresses `fANwcUDKxKD3btGmknic2kE7mEzLR2CFTYzEKPh5iyPMUMwfwjuxsJP` and `9hTh4u6CDXktMQb9BoRo5nTPnmFN8G5u4PUCURvoUCXmtaaDYdw` correspond to the same script
See below code snippet:
```import org.ergoplatform.ErgoAddressEncoder
import org.apache.commons.codec.binary.Hex
val addressEncoder = new ErgoAddressEncoder(ErgoAddressEncoder.MainnetNetworkPrefix)
val address1 = addressEncoder.fromString("fANwcUDKxKD3btGmknic2kE7mEzLR2CFTYzEKPh5iyPMUMwfwjuxsJP").get
val address2 = addressEncoder.fromString("9hTh4u6CDXktMQb9BoRo5nTPnmFN8G5u4PUCURvoUCXmtaaDYdw").get
val hex1 = Hex.encodeHexString(address1.script.bytes)
val hex2 = Hex.encodeHexString(address2.script.bytes)
assert(hex1 == hex2) // passes
println(hex1) // prints 0008cd03836fd1f810cbfa6aa9516530709ae6e591bccb9523e9b65c49c09586319d10de
println(Pay2SAddress(address2.script).toString()) // prints fANwcUDKxKD3btGmknic2kE7mEzLR2CFTYzEKPh5iyPMUMwfwjuxsJP
println(addressEncoder.fromProposition(address1.script).get) // prints 9hTh4u6CDXktMQb9BoRo5nTPnmFN8G5u4PUCURvoUCXmtaaDYdw
```


[06/08/2020 9:02 AM] scalahub#2618
@kushti @morphic


[06/08/2020 9:16 AM] morphic#4133
@scalahub there are many different ways to convert between hex string, byte array, ErgoTree, ErgoAddress, which are all about the same thing, but not quite. I don't know which way is a canonical method of converting. In Appkit I created the Address class to encapsulate this conversions. With Sigma API you can do whatever you want, meaning you should understand what your are doing.


[06/08/2020 9:17 AM] morphic#4133
In general id you convert ErgoTree to string and Address you may get different strings


[06/08/2020 9:17 AM] scalahub#2618
So for the same eegotree we could have more than one address?


[06/08/2020 9:18 AM] morphic#4133
yes, there is no documented invariants, which guarantee some identities you expect


[06/08/2020 9:19 AM] scalahub#2618
Ok usually I would expect unique encoding of ergotree to address


[06/08/2020 9:20 AM] morphic#4133
The address is an abstraction over other data, which adds prefix, suffix etc data.


[06/08/2020 9:20 AM] scalahub#2618
Apart from ergotree and network prefix what else is added to address?


[06/08/2020 9:20 AM] morphic#4133
address type


[06/08/2020 9:20 AM] morphic#4133
checksum


[06/08/2020 9:21 AM] scalahub#2618
Ok but thoee fields are dependent on the ergotree I think, or not?


[06/08/2020 9:24 AM] morphic#4133
no, I suggest you look at ErgoAddress.scala to know it for yourself. I typically do this every time I need to make myself sure about exact logic.


[06/08/2020 9:29 AM] scalahub#2618
Thanks, was about to ask for references


[06/08/2020 9:34 AM] scalahub#2618
Also explorer having some issues displaying the first encoding address https://explorer.ergoplatform.com/en/addresses/fANwcUDKxKD3btGmknic2kE7mEzLR2CFTYzEKPh5iyPMUMwfwjuxsJP


[06/08/2020 9:35 AM] scalahub#2618
second one works fine https://explorer.ergoplatform.com/en/addresses/9hTh4u6CDXktMQb9BoRo5nTPnmFN8G5u4PUCURvoUCXmtaaDYdw


[06/08/2020 9:37 AM] morphic#4133
This is the consequence of the conceptual diversity of things we have on the surface. 
There are subtle conversions between GroupElement, ProveDlog, SigmaPropConstant, ErgoTree, ErgoAddress. 
All this objects can be converted to bytes and to strings. And strings can be Hex or Base58.


[06/08/2020 9:39 AM] morphic#4133
The address is on top of all this ErgoAddress(ErgoTree(SigmaPropConstant(ProveDlog(groupElement))))


[06/08/2020 9:41 AM] scalahub#2618
The quick lesson learned is to not use `Pay2SAddress(ergoTree).toString` but to instead use `ergoAddressEncoder.fromProposition(ergoTree).get.toString` to  get string representation of address


[06/08/2020 9:44 AM] morphic#4133
Well, the difference is not how to toString work, it is how the address is created


[06/08/2020 9:45 AM] morphic#4133
I suggest to use methods of Address class from Appkit


[06/08/2020 9:47 AM] morphic#4133
There are constructors which create appkit.Address from base58Str, from mnemonic, from ErgoTree


[06/08/2020 9:48 AM] morphic#4133
BTW, it uses Pay2SAddress(ergoTree)


[06/08/2020 9:48 AM] morphic#4133
so why this method is not good?


[06/08/2020 9:48 AM] scalahub#2618
ok thanks.. will check out `Address` class for more details


[06/08/2020 9:50 AM] scalahub#2618
> so why this method is not good?
@morphic I guess it depends on the context. In my case, the following code:
```val addressEncoder = new ErgoAddressEncoder(ErgoAddressEncoder.MainnetNetworkPrefix)
val address = addressEncoder.fromString("9hTh4u6CDXktMQb9BoRo5nTPnmFN8G5u4PUCURvoUCXmtaaDYdw").get
println(Pay2SAddress(address.script).toString()) // prints fANwcUDKxKD3btGmknic2kE7mEzLR2CFTYzEKPh5iyPMUMwfwjuxsJP
println(addressEncoder.fromProposition(address.script).get) // prints 9hTh4u6CDXktMQb9BoRo5nTPnmFN8G5u4PUCURvoUCXmtaaDYdw```
So the Pay2SAddress gives me different address than what went in


[06/08/2020 9:53 AM] morphic#4133
you should treat ErgoAddress as opaque data value without properties. Those properties are in fact private and shouldn't be used from applications


[06/08/2020 9:53 AM] morphic#4133
When you use address.script you should know what you do.


[06/08/2020 10:09 AM] scalahub#2618
But unfortunately,` Pay2SAddress.toString` gives the wrong answer. The method code is `override def toString: String = encoder.toString(this)`


[06/08/2020 10:10 AM] scalahub#2618
Maybe I should use Pay2PkAddress


[06/08/2020 10:15 AM] scalahub#2618
Also I guess the right way to conver `ErgoAddress` to string is to use `AddressEncoder.toString(..)`


[06/08/2020 2:42 PM] kushti#0978
@scalahub P2PK is a shorthand basically for ProveDlog(ecPoint), which contains network prefix, ecPoint, checksum. P2S encodes the full script.


[06/17/2020 10:21 AM] scalahub#2618
> @scalahub there are many different ways to convert between hex string, byte array, ErgoTree, ErgoAddress, which are all about the same thing, but not quite. I don't know which way is a canonical method of converting. In Appkit I created the Address class to encapsulate this conversions. With Sigma API you can do whatever you want, meaning you should understand what your are doing.
@morphic Given some instance of `sigmastate.Values.ErgoTree` what is the right way to convert this to a string address to share with someone?


[06/17/2020 10:45 AM] morphic#4133
@scalahub Addresses are not part of the protocol. You can create both P2S and P2SH addresses from ErgoTree.
Address is API/Application level abstraction. When you share an address you expect it will be used somehow. However when you send coins you create boxes, which are protected by script not by the address. The translation between the address and the actual script is performed by the application you use to create a transaction. We implicitly rely on the fact, that all applications perform this translation in the same way. I don't know which document specifies this translation ATM.


[06/17/2020 10:48 AM] morphic#4133
I think we need a special EIP which specifies this, so that applications can support it (be compliant with it)


[06/17/2020 10:50 AM] scalahub#2618
hmm yes definitely warrants an EIP


[06/17/2020 11:01 AM] scalahub#2618
So the most foolproof way seems to serialize ErgoTree, convert to hex/base64 and send that to someone. Then he can desserialize the bytes to ErgoTree and create box with that as script


[06/17/2020 11:43 AM] kushti#0978
Sounds like P2S address ?


[06/17/2020 11:44 AM] morphic#4133
@scalahub translation from Address to ErgoTree is deterministic, thus given an address you know how to use it. However, you can create different addresses from the same ErgoTree. This is up to the application.
All we can do is to specify in the EIP a "canonical" translation, so that all existing applications can check their complaince against it.


[06/17/2020 11:44 AM] kushti#0978
the missing part there is how script is serialized


[06/17/2020 11:44 AM] kushti#0978
constants etc


[06/17/2020 11:44 AM] morphic#4133
@kushti please read ErgoTree Spec


[06/17/2020 11:45 AM] kushti#0978
@morphic for what? which section?


[06/17/2020 11:45 AM] scalahub#2618
I think ErgoTree to bytes is specified


[06/17/2020 11:45 AM] morphic#4133
https://ergoplatform.org/docs/ErgoTree.pdf . Serialization section üôÇ


[06/17/2020 11:46 AM] kushti#0978
@morphic well, in regards with P2S and so on, serialization done in certain way because you recommended it informally


[06/17/2020 11:46 AM] kushti#0978
would be good to fill the gap


[06/17/2020 11:46 AM] kushti#0978
with EIP or spec


[06/17/2020 11:47 AM] kushti#0978
I suppose ErgoTree spec is not quite an affirmative answer for a dev willing to know when to use on serialization or another


[06/17/2020 11:47 AM] kushti#0978
it is not answering such questions atm


[06/17/2020 11:48 AM] morphic#4133
Address is not part of ErgoTree, it is next layer, so EIP is better place


[06/17/2020 11:49 AM] morphic#4133
ErgoTree Spec defines format and its interpretation. You can do whatever you want above it. Like for example EIP-5


[06/17/2020 11:51 AM] kushti#0978
@morphic ok, its up to you really how to answer the question )


[06/17/2020 11:52 AM] kushti#0978
we also have wiki, blog etc


[07/10/2020 11:11 AM] greenhat#6562
/rant on
I‚Äôve being struggling with Travis lately while setting up release publishing for ergo-contracts repo. Starting with weird issues like when my travis.org account stop seeing all the repos. Now it‚Äôs killing me with ‚Äúcould not parse ‚Äú error for GitHub‚Äôs web hook requests, which I have not figured out a way to fix yet. I‚Äôm kinda fed up with it and ready to start looking into GitHub Actions. Its free for public repos.
/rant off üôÇ


[07/10/2020 11:14 AM] greenhat#6562
Somebody stop me if I‚Äôm missing something and/or there is a better option.


[07/10/2020 11:14 AM] greenhat#6562
https://github.com/features/actions

{Embed}
https://github.com/features/actions
Features ‚Ä¢ GitHub Actions
Easily build, package, release, update, and deploy your project in any language‚Äîon GitHub or any external system‚Äîwithout having to run code yourself.
https://images-ext-2.discordapp.net/external/9BWT7nOGtEVIaYp_2pcr8b88tWfYtb42-zgF81Yc2jo/https/github.githubassets.com/images/modules/site/social-cards/actions.png


[07/10/2020 11:15 AM] kushti#0978
and btw on Jenkins, any good cloud alternatives to own server ?


[07/10/2020 11:26 AM] greenhat#6562
@kushti I believe node deployment and other jobs except it* tests can be migrated to Github Actions/whatever. It tests are running multiple docker containers simultaneously which is a no-no on CI services. I‚Äôm not aware of any service that could handle our it test. ü§∑üèª‚Äç‚ôÇÔ∏è


[07/11/2020 6:19 AM] gagarin55#2131
Github Actions is not free as I remember, @greenhat


[07/11/2020 7:55 AM] greenhat#6562
They‚Äôre charging only for private repos. Although free 2k minutes  / month should be enough for our only private sigma-spam repo.

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/731403215005810708/image0.png


[07/11/2020 7:58 AM] greenhat#6562
Having looked close into GA I have a tiny hope that our it* tests might be hosted there as well. They basically give you a VM with root access.


[07/14/2020 4:38 PM] greenhat#6562
I've migrated ergo-scala-compiler and ergo-contracts repos from travis to GA. The GA setup process was smooth and the learning curve was quite reasonable. I modified the release publishing process to be more integrated with github releases. Now it's "make v* tag" -> "create github release" and after `Publish release` button is pushed release workflow is triggered. Check out how it ran for ergo-contracts release - https://github.com/ergoplatform/ergo-contracts/runs/869893495?check_suite_focus=true

{Embed}
https://github.com/ergoplatform/ergo-contracts/runs/869893495?check_suite_focus=true
ergoplatform/ergo-contracts
Contracts with verified properties. Contribute to ergoplatform/ergo-contracts development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654

{Reactions}
üëç (2) 

[07/15/2020 1:58 PM] kushti#0978
@greenhat so GA can replace Travis completely?


[07/15/2020 2:00 PM] greenhat#6562
@kushti Yes. Also GA can replace some of our jenkins jobs.


[07/15/2020 2:17 PM] kushti#0978
oh nice, but not all ?


[07/15/2020 2:21 PM] greenhat#6562
@kushti I need to check that, but worst case scenario is, yes not all of  jenkins jobs.  I want to try to run it:tests on GA. I have a tiny hope that it might work.


[07/15/2020 2:22 PM] morphic#4133
@greenhat what about private repos like spam tests?


[07/15/2020 2:34 PM] greenhat#6562
@morphic surprisingly yes, github gives 2000 minutes/month for private repos on free tier. That should be enough.


[07/15/2020 2:36 PM] morphic#4133
Great, then will it be possible to run GA jobs on spam tests from sigma PRs?


[07/15/2020 2:52 PM] greenhat#6562
@morphic yes


[07/15/2020 2:54 PM] morphic#4133
So for Sigma we can get rid of jenkins completely (except it tests)


[07/15/2020 3:03 PM] greenhat#6562
Yes.


[07/15/2020 7:48 PM] gagarin55#2131
https://medium.com/flutter/announcing-flutter-linux-alpha-with-canonical-19eb824590a9

{Embed}
https://medium.com/flutter/announcing-flutter-linux-alpha-with-canonical-19eb824590a9
Announcing Flutter Linux Alpha with Canonical
The Ubuntu team has produced a new GTK+ based host for Flutter apps on all Linux distros
https://images-ext-2.discordapp.net/external/a2oI60r__EwmkIm9uYyp02LSNIlUSfo2hacv5DoG7UY/https/miro.medium.com/max/1200/0%2AuMT4fCQFO8VQwB0Q

{Reactions}
üëç (2) 

[07/15/2020 7:49 PM] gagarin55#2131
Say buy buy to different $h1t like xamarin, javafx, gtk, electronjs and etc ...


[07/31/2020 10:25 PM] Robert K#0722
In the v3.3.0 node there's a spelling error:

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/738869896166899862/unknown.png


[07/31/2020 10:25 PM] Robert K#0722
I'd recommend changing the wording to `Click Here To Go To The Explorer` and the whole sentence be a link


[08/01/2020 7:01 PM] kushti#0978
Is it in the panel? @Dmitry Usov  ?


[08/01/2020 7:15 PM] Dmitry Usov#0134
Yes


[08/01/2020 7:15 PM] Dmitry Usov#0134
@Robert K thanks, I will change

{Reactions}
üëç 

[08/03/2020 2:14 PM] Robert K#0722
Thanks


[08/05/2020 9:48 PM] Dmitry Usov#0134
https://github.com/ergoplatform/ergo/pull/1158 @kushti
> I'd recommend changing the wording to `Click Here To Go To The Explorer` and the whole sentence be a link
@kushti https://github.com/ergoplatform/ergo/pull/1158


[08/06/2020 8:19 AM] kushti#0978
@Dmitry Usov approved, merged!


[08/14/2020 7:47 AM] greenhat#6562
Hey! I‚Äôd like to take a one-day vacation (day-off) on Tuesday, 18th of August.


[08/19/2020 6:00 PM] gagarin55#2131
Hi all, I'm looking at https://github.com/ergoplatform/ergo-contracts/tree/master, there are links to some contracts in README, but contracts folder contains only DexLimitOrder


[08/19/2020 6:00 PM] gagarin55#2131
Can we migrate to trunk based development? Its a mess with tons of branches


[08/19/2020 6:02 PM] gagarin55#2131
Please, it has been proven by many years that there is only one working model - TBD


[08/20/2020 6:35 AM] greenhat#6562
@gagarin55 Verified contracts linked in the readme( besides DexLimitOrder) are in the separate project and cannot be in the same folder. 
Why migrate to TBD? Everyone committing to master branch does not sound enticing. 
To follow the project master and develop branches are usually enough in GitFlow.


[08/20/2020 11:05 AM] gagarin55#2131
how it can be in separate project if its in the same repo ?


[08/20/2020 11:09 AM] gagarin55#2131
I don't mind about your repos actually, but such a mess will stop newcomers to learn ergo, new devs will find another crypto project to deep into


[08/20/2020 11:45 AM] greenhat#6562
> how it can be in separate project if its in the same repo ?
@gagarin55 Contracts that are gone through formal verification are in the separate project under Stainless(our FV "tool") which operates on the "whole project" basis, making it very hard to have non-verified code in the same project. Initially the goal for `ergo-contracts` repo was to have only verified contracts. However, with new DEX contracts become "unverifiable" very quickly I thought that making new repo for non-verified contracts will over-complicate things. So I extended `ergo-contracts` role to hold non-verified contracts as well.


[08/20/2020 11:51 AM] greenhat#6562
Onboarding of new devs is a hard problem. I don't think TBD is the solution here, since tracking fast-moving master (TBD) vs. more slow-paced "stable" develop(GF) does not sound easier. I'd rather invest in docs (readme/contribution guides/wiki/etc.).


[08/20/2020 12:02 PM] gagarin55#2131
Up to you üòâ


[08/20/2020 2:08 PM] Robert K#0722
I think the problem of onboarding developers is not particularly related to how git repos are organized üòÖ  That seems like one of the last problems on our hands. More so as @greenhat said is the focus needed on educational material.

{Reactions}
üíØ 

[08/21/2020 5:19 PM] Robert K#0722
Feedback from setting up a node from Nico:

`It was a pain because there is no example basic default config file, just and outdated page https://github.com/ergoplatform/ergo/wiki/Node-Configuration-File`


[08/21/2020 9:08 PM] mx#5165
https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node

{Embed}
https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node
ergoplatform/ergo
Ergo protocol description & reference client implementation - ergoplatform/ergo
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[08/21/2020 9:10 PM] mx#5165
looks like the link you mentioned isn`t included in tutorial, configs examples are in tutorial, maybe node-configuration-file should be just deleted?


[08/21/2020 9:11 PM] Robert K#0722
Yeah potentially.


[08/21/2020 9:11 PM] Robert K#0722
The readme needs to be reordered as well:

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/746461459382534181/unknown.png

{Reactions}
‚ù§Ô∏è 

[08/21/2020 9:11 PM] Robert K#0722
The text about the ergo-installer.sh doesn't in the `Installation` section


[08/21/2020 9:19 PM] Robert K#0722
https://github.com/ergoplatform/ergo/pull/1178

{Embed}
https://github.com/ergoplatform/ergo/pull/1178
README edits to make installation simpler by robkorn ¬∑ Pull Request...
Made the link more clear/more text in it for setting one up manually, move the script installation to the correct section, and did some minor edits on the text.
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654

{Reactions}
‚ù§Ô∏è 

[08/21/2020 9:32 PM] mx#5165
we can additionally add in tutorial link to some existing files with configs https://github.com/ergoplatform/ergo/tree/master/src/main/resources

{Embed}
https://github.com/ergoplatform/ergo/tree/master/src/main/resources
ergoplatform/ergo
Ergo protocol description & reference client implementation - ergoplatform/ergo
https://images-ext-1.discordapp.net/external/7ow6w19rs4z17zegDBdf-Ioan6Q9DfyYbxg1vtgnJk4/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/27490654


[08/23/2020 9:23 AM] greenhat#6562
I‚Äôd like to take one more one-day vacation (day-off) on Tuesday, 25th of August.


[08/23/2020 12:50 PM] kushti#0978
@Robert K thanks for the PR!

{Reactions}
üëç 

[08/26/2020 1:34 PM] greenhat#6562
Do we have tx's that use context extension on the mainnet? I suspect that context extension with more than one value is unusable ATM. `ContextExtension` values order is not preserved in JSON enconding
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/6fc2491c48b55ecd554a53f1292bd185570d7f00/sigmastate/src/main/scala/org/ergoplatform/JsonCodecs.scala#L226-L230
 as well as in binary serialization(we're using `Map`).  
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/6fc2491c48b55ecd554a53f1292bd185570d7f00/sigmastate/src/main/scala/sigmastate/interpreter/InterpreterContext.scala#L27-L30
I found this while implementing serialization in rust.
Since `ContextExtension` is used in tx id, it'll make tx id unstable. @kushti @morphic What do you think?

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/6fc2491c48b55ecd554a53f1292bd185570d7f00/sigmastate/src/main/scala/org/ergoplatform/JsonCodecs.scala
ScorexFoundation/sigmastate-interpreter
Interpreter of a Sigma-State language. Contribute to ScorexFoundation/sigmastate-interpreter development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/YpBER9jxoC4piVA-OFwYuv0LT48G70XEXqXD46lUmgg/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/20186710

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/6fc2491c48b55ecd554a53f1292bd185570d7f00/sigmastate/src/main/scala/sigmastate/interpreter/InterpreterContext.scala
ScorexFoundation/sigmastate-interpreter
Interpreter of a Sigma-State language. Contribute to ScorexFoundation/sigmastate-interpreter development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/YpBER9jxoC4piVA-OFwYuv0LT48G70XEXqXD46lUmgg/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/20186710


[08/26/2020 1:57 PM] morphic#4133
I don't see a big problem. The bytes -> ContextExtensions -> bytes roundtrip is not guaranteed to be identity. But ContextExtensions -> bytes -> ContextExtensions is identity (up to equals implementation).
It is possible to construct two equal transactions which will have different bytesToSign and hence ids.


[08/26/2020 1:58 PM] kushti#0978
@greenhat will check after the chat


[08/26/2020 1:58 PM] kushti#0978
@morphic equal transactions in what sense ?


[08/26/2020 1:58 PM] morphic#4133
tx.equals(tx2)


[08/26/2020 2:00 PM] morphic#4133
However I think this should be fixed


[08/26/2020 2:00 PM] greenhat#6562
> tx.equals(tx2)
@morphic This should be false as well, since we comparing ids:
```
  override def equals(obj: Any): Boolean = obj match {
    //we're ignoring spending proofs here
    case tx: ErgoLikeTransaction => this.id == tx.id
    case _ => false
  }
```


[08/26/2020 2:01 PM] kushti#0978
> tx.equals(tx2)
@morphic not true )


[08/26/2020 2:01 PM] kushti#0978
Tx equality is done properly


[08/26/2020 2:07 PM] morphic#4133
ah, yes, but equality of ContextExtensions is broken with respect to serialization then


[08/26/2020 2:31 PM] kushti#0978
@morphic you mean order?


[08/26/2020 2:33 PM] kushti#0978
@greenhat so the problem is in JSON map ordering right ?


[08/26/2020 2:35 PM] morphic#4133
I think the problem is in serialization


[08/26/2020 2:35 PM] morphic#4133
Specifically that bytes -> ContextExtensions -> bytes roundtrip is not guaranteed to be identity


[08/26/2020 2:36 PM] morphic#4133
That is what @greenhat is pointing out, if I got it right


[08/26/2020 2:38 PM] greenhat#6562
@kushti no, fixing ordering in JSON is not enough since it's NOT guaranteed on binary serialization. 
@morphic  yes, sorting by keys on binary serialization will fix the issue.


[08/26/2020 2:40 PM] greenhat#6562
Although I'd make implicit ordering for JSON as well, just to be consistent.


[08/26/2020 2:40 PM] kushti#0978
I see


[08/26/2020 2:40 PM] kushti#0978
Not a big issue likely, but would be good to specify behavior


[08/26/2020 2:41 PM] morphic#4133
Sorting is not necessary. It is enough to just keep pairs in the ContextExtensions in a Seq and check of uniqueness of the keys


[08/26/2020 2:41 PM] morphic#4133
this will solve the roundtrip problem and is backward compatible


[08/26/2020 2:43 PM] morphic#4133
The Map is not actually necessary. Uniqueness can be enforced by checks. And performance of Array may be even better


[08/26/2020 2:44 PM] morphic#4133
real cases


[08/26/2020 2:44 PM] kushti#0978
Well, there's no reason to do checks on deserialization


[08/26/2020 2:44 PM] morphic#4133
Yes, that is why it will be faster


[08/26/2020 2:44 PM] kushti#0978
on serialization, possible


[08/26/2020 2:45 PM] kushti#0978
@morphic no, deserialization is consensus-critical


[08/26/2020 2:45 PM] kushti#0978
serialization is not so


[08/26/2020 2:45 PM] morphic#4133
> @morphic no, deserialization is consensus-critical
@kushti "no" for what?


[08/26/2020 2:47 PM] morphic#4133
current deserialization uses toMap which doesn't prevent duplicated keys in serialized bytes


[08/26/2020 2:50 PM] kushti#0978
well, that's true


[08/26/2020 2:50 PM] kushti#0978
but we can preserve this


[08/26/2020 2:50 PM] kushti#0978
or fix in 4.0


[08/26/2020 2:51 PM] kushti#0978
btw @morphic for CE serialization fix already done you need to consider versioning somehow


[08/26/2020 2:52 PM] morphic#4133
@kushti sorry?


[08/26/2020 2:54 PM] morphic#4133
@greenhat I think sigma-rust can have stable serialization and keep current Sigma semantics


[08/26/2020 3:02 PM] greenhat#6562
@morphic Would using order preserving map type in rust be enough?

https://docs.rs/indexmap/1.3.2/indexmap/map/struct.IndexMap.html

{Embed}
https://docs.rs/indexmap/1.3.2/indexmap/map/struct.IndexMap.html
indexmap::map::IndexMap - Rust
API documentation for the Rust `IndexMap` struct in crate `indexmap`.


[08/26/2020 3:05 PM] morphic#4133
Yes, looks like

{Reactions}
üëç 

[08/26/2020 3:43 PM] kushti#0978
@morphic 
" // TODO HF: fix hashCode, it should be consistent with [[equals]] and should be based on [[id]]
  override def hashCode(): Int =
    ScalaRunTime._hashCode((value, ergoTree, additionalTokens, additionalRegisters, index, creationHeight))
"


[08/26/2020 3:43 PM] kushti#0978
shouldn't be consensus-critical issue


[08/26/2020 3:44 PM] kushti#0978
> @kushti sorry?
@morphic https://github.com/ScorexFoundation/sigmastate-interpreter/pull/671
old deserialization should be used in 3.x, new in 4.x

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/pull/671
ContextExtension serialization by aslesarenko ¬∑ Pull Request #671 ¬∑...
https://images-ext-2.discordapp.net/external/YpBER9jxoC4piVA-OFwYuv0LT48G70XEXqXD46lUmgg/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/20186710


[08/27/2020 2:35 PM] greenhat#6562
Hey! I create the issue for tracking - https://github.com/ScorexFoundation/sigmastate-interpreter/issues/681 . I found that just switching to order-preserving data structure is not enough due to JSON.  I laid out my thoughts in the issue. /cc @morphic @kushti

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/issues/681
Preserve value order in ContextExtension on serialization ¬∑ Issue #...
Problem ContextExtension values order is not preserved in JSON and binary serializaion. Since ContextExtension serialized values used in transaction id generation it should lead to unstable tx id m...
https://images-ext-2.discordapp.net/external/YpBER9jxoC4piVA-OFwYuv0LT48G70XEXqXD46lUmgg/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/20186710

{Reactions}
‚ù§Ô∏è 

[08/27/2020 4:51 PM] kushti#0978
@greenhat thanks! Actually, I guess the issue can be more subtle than you think even )


[08/27/2020 4:52 PM] kushti#0978
e.g. even if standard serializers are preserving the order, an attacker can swap context extension vars to get different representations of the same transaction


[08/27/2020 4:52 PM] kushti#0978
but maybe it is not critical


[08/27/2020 4:52 PM] kushti#0978
lemme think on that


[08/27/2020 4:52 PM] kushti#0978
as an option, we can fix order in 4.0 , @morphic any thoughts on versioning in serializers ?


[08/27/2020 6:33 PM] Robert K#0722
In regards to the upcoming HF, one thought that just came to mind is that it could be a good idea if we could check if we currently support/can support checking signatures that are currently commonly produced for things such as signed oracle data.


[08/27/2020 6:34 PM] Robert K#0722
It'd be good to have the potential to integrate with any current signed data solutions (for oracles or otherwise) whether we use it in the short term or not


[08/27/2020 6:38 PM] Robert K#0722
Referencing things such as: https://docs.pro.coinbase.com/#oracle

{Embed}
https://docs.pro.coinbase.com/
Coinbase Pro API Reference
Coinbase Pro trader and developer documentation.


[08/27/2020 9:19 PM] greenhat#6562
> e.g. even if standard serializers are preserving the order, an attacker can swap context extension vars to get different representations of the same transaction
@kushti What worries me is that tx deserialized from JSON would have different id(due to the different order), thus verification will fail. I have not started thinking of the attackers yet.


[08/27/2020 9:34 PM] kushti#0978
@Robert K is it ECDSA ?


[08/27/2020 9:35 PM] Robert K#0722
Let me take a look


[08/27/2020 9:37 PM] Robert K#0722
```import Web3 from 'web3';
const web3 = new Web3(null); // This is just for encoding, etc.

const COINBASE_ORACLE_PUBLIC_KEY = '0xfCEAdAFab14d46e20144F48824d0C09B1a03F2BC';

let messages = ['0x0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000005e5da58000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000020f3570580000000000000000000000000000000000000000000000000000000000000006707269636573000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034254430000000000000000000000000000000000000000000000000000000000'];
let signatures = ['0x8318875F720F88683B75C949A1E83FCEFBD586AE8A8276944F126CDBA176F3844B05C92D1B4393DCF1DAD2D59B88F196C9ABA988141265BDACBFDBC90049FA211c'];

let hash = web3.utils.keccak256(messages[0]);
let signatory = web3.eth.accounts.recover(hash, signatures[0]);
const isValid = signatory == COINBASE_ORACLE_PUBLIC_KEY;
```


[08/27/2020 9:38 PM] Robert K#0722
Coinbase signed data is meant to be consumed easily via web3 they say


[08/27/2020 9:50 PM] Robert K#0722
So yeah ECDSA but requires keccak256 hashing


[09/09/2020 4:34 PM] Dmitry Usov#0134
@scalahub how can I help you with kiosk?


[09/09/2020 5:21 PM] scalahub#2618
> @scalahub how can I help you with kiosk?
@Dmitry Usov need a better front end. I'll share my ideas shortly


[09/09/2020 5:51 PM] Dmitry Usov#0134
I think we can use https://tailwindcss.com/

{Embed}
https://tailwindcss.com/
Tailwind CSS - A Utility-First CSS Framework for Rapidly Building C...
A utility-first CSS framework for rapidly building custom user interfaces.
https://images-ext-1.discordapp.net/external/m1-ENjj2CA604iUFyNQfDVKM4F0Dkrw9Yf68thLCKkw/https/tailwindcss.com/_next/static/media/twitter-large-card.2e0e43628f69eba639f387da72c3e323.png


[01/30/2021 3:45 PM] Ilya | Spectrum#0494
@morphic, @kushti 
I'm getting some weird exception when trying to serialize ErgoLikeTransaction
```
executor_1  | java.lang.ClassCastException: special.collection.CollOverArray cannot be cast to sigmastate.Values$Value
executor_1  |     at org.ergoplatform.ErgoBoxCandidate$serializer$.serializeBodyWithIndexedDigests(ErgoBoxCandidate.scala:168)
executor_1  |     at org.ergoplatform.ErgoLikeTransactionSerializer$.serialize(ErgoLikeTransaction.scala:142)
executor_1  |     at org.ergoplatform.ErgoLikeTransaction$.bytesToSign(ErgoLikeTransaction.scala:191)
executor_1  |     at org.ergoplatform.ErgoLikeTransactionTemplate.messageToSign(ErgoLikeTransaction.scala:49)
executor_1  |     at org.ergoplatform.ErgoLikeTransactionTemplate.messageToSign$(ErgoLikeTransaction.scala:49)
executor_1  |     at org.ergoplatform.ErgoLikeTransaction.messageToSign$lzycompute(ErgoLikeTransaction.scala:92)
executor_1  |     at org.ergoplatform.ErgoLikeTransaction.messageToSign(ErgoLikeTransaction.scala:92)
executor_1  |     at org.ergoplatform.ErgoLikeTransaction.id$lzycompute(ErgoLikeTransaction.scala:99)
executor_1  |     at org.ergoplatform.ErgoLikeTransaction.id(ErgoLikeTransaction.scala:99)
```


[01/30/2021 3:46 PM] Ilya | Spectrum#0494
Any ideas where the problem can be?


[01/30/2021 9:02 PM] Ilya | Spectrum#0494
sigma-state 4.0.0-java8


[01/31/2021 2:05 PM] morphic#4133
Looks like the problem is with the value of a register. Make sure each box of the transaction has sigmastate.Values.Constant instances only


[02/27/2021 5:49 PM] morphic#4133
@Ilya | Spectrum I need SQL access to explorer to analyse ErgoTrees in the UTXO.  I want  to identify most frequently used scripts and script templates. Based on this I will decide how to optimize their execution.

{Reactions}
üëå 

[02/27/2021 5:50 PM] morphic#4133
Readonly access is preferable for security.


[03/16/2021 8:11 PM] morphic#4133
@kushti am I correct that this function is not deterministic and for the same arguments may produce different proofs?
`prove(unprovenTree, message, hintsBag)`


[03/16/2021 8:13 PM] morphic#4133
Or there is some randomness inside, so that it only deterministic with respect to using that proof in verify?


[03/16/2021 8:36 PM] kushti#0978
@morphic proofs are randomized, yes (for sure)


[03/16/2021 8:37 PM] kushti#0978
prove can not be called deterministic by any sense, but completeness should hold, i.e. verify(stmt, msg, proof(stmt, msg)) == true


[03/16/2021 8:38 PM] morphic#4133
Yeah, i'm thinking about adding test vectors for prover


[03/17/2021 8:43 AM] morphic#4133
@kushti this roundtrip serialization test should work for all SigmaBoolean values including CTHRESHOLD?
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/401d40a22430661ed5a397098633465b1e39e3bc/sigmastate/src/test/scala/sigmastate/serialization/SigSerializerSpecification.scala#L69

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/401d40a22430661ed5a397098633465b1e39e3bc/sigmastate/src/test/scala/sigmastate/serialization/SigSerializerSpecification.scala
ScorexFoundation/sigmastate-interpreter
Interpreter of a Sigma-State language. Contribute to ScorexFoundation/sigmastate-interpreter development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/_nody0wS3OvmY22UOA61a_QOmwa65I0Y_aXf_2IML_A/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/20186710


[03/17/2021 8:56 AM] kushti#0978
yes

{Reactions}
üëç 

[03/31/2021 12:50 PM] morphic#4133
@kushti I get this error during full sync

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/826785452786843658/message.txt


[03/31/2021 12:50 PM] morphic#4133
Cause: Transaction outputs should have creationHeight not exceeding block height.  457330 <= 220540 is not true


[03/31/2021 12:52 PM] morphic#4133
After which the node stops syncing and panel shows

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/826785962649845788/unknown.png


[03/31/2021 12:53 PM] morphic#4133
Reproduced it twice, stops on the same block 220540


[03/31/2021 1:10 PM] Ilya | Spectrum#0494
It's weird because this transaction is actually at 457332
https://api.ergoplatform.com/api/v1/transactions/b3ea8359e91e7caaff93b3d6f8718fe6b55e0a5dba4b8bd6d6e80e2e8988b9aa


[03/31/2021 1:20 PM] morphic#4133
It shows the same state after restart of the node


[03/31/2021 1:21 PM] morphic#4133
Should I zip this state and share somehow for further investigation?


[03/31/2021 1:24 PM] morphic#4133
The only suspicious change I made the local val non-lazy in this code 
      val costTry = verifier.verify(box.ergoTree, ctx, proof, messageToSign)
      costTry.recover { case t =>
        log.debug(s"Tx verification failed: ${t.getMessage}")
      }

      lazy val (isCostValid, scriptCost) = costTry.getOrElse((false, maxCost + 1))


[03/31/2021 1:25 PM] morphic#4133
any specific reason why it is lazy?


[03/31/2021 7:11 PM] morphic#4133
It looks like the actual reason is this

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/826881353034891264/message.txt


[03/31/2021 7:13 PM] morphic#4133
This is because I reimplemented signature parsing using readers. And it turns out that the old implementation didn't check the signature format, because parsing of bytes was done using arr.slice(...) method. It never throws an exception, even if array is empty and indices are out of range.


[04/01/2021 1:56 PM] morphic#4133
This problem is fixed. It has to do with parsing z value for this constructor 
UncheckedSchnorr(dl, None, challenge, SecondDLogProverMessage(z))
It is expected in the code of the current release Sigma v4.0.3, that z is saved as 32 bytes. However in the transaction mentioned above, it is less then 32 bytes. 
Here is the message in the log from my new parser
`15:51:22.001 WARN  [tor.default-dispatcher-20] sigmastate.SigSerializer$ - Invalid z bytes for ProveDlog((b7c20d695a784ee2df954ca1353def047cfabdfd947d48d28608c0e5e984e103,cef74096234cd932c07491e62e55173901c3158adde6af42ed9e9847aa4f27df,1)); Proof bytes: d2d9e18116b4a3c516d028b9c3886d9749eb760d8044f09be58a181690779898d82abec148b6d1d1f9fd07bf442ab0e660595840bc6f6a`
It is probably ok (for signature to work) when z is less then 32 bytes BigInt value.
When this bytes are at the tail position of the proof bytes, the parser can work around this and parse less than 32 remaining bytes and construct valid z value. (This is what I did and it seems to work well)


[04/01/2021 3:48 PM] kushti#0978
So the problem is in your new parse ?


[04/01/2021 3:48 PM] kushti#0978
btw I do not think we should change sig format etc


[04/01/2021 3:48 PM] kushti#0978
Please avoid that at any cost


[04/01/2021 3:50 PM] morphic#4133
The problem with node stuck on the transaction, yes, in my new parser. But we also have signatures in the blockchain which require more flexible proof parsing


[04/01/2021 3:51 PM] morphic#4133
neither do I


[04/01/2021 3:51 PM] kushti#0978
What do you mean ?


[04/01/2021 3:51 PM] morphic#4133
I described the situation above


[04/01/2021 3:52 PM] morphic#4133
z value is expected to be 32 bytes long in the proof, right?


[04/01/2021 3:54 PM] morphic#4133
The sync problem is solved now, sync is almost finished


[04/01/2021 3:57 PM] kushti#0978
yes, and serializer is writing 32 bytes:


[04/01/2021 3:57 PM] kushti#0978
BigIntegers.asUnsignedByteArray(order, dh.secondMessage.z)


[04/01/2021 3:58 PM] morphic#4133
Yes, but, somebody crafted proofs in which z value is less than 32 bytes. There are 10 such transactions


[04/01/2021 3:59 PM] kushti#0978
they are invalid then ?


[04/01/2021 4:00 PM] morphic#4133
This length is not checked by the current parsers (before my changes). And the transactions are accepted


[04/01/2021 4:00 PM] morphic#4133
They are valid cryptographically


[04/01/2021 4:00 PM] kushti#0978
How sig check can pass then ?


[04/01/2021 4:01 PM] morphic#4133
I don't know, but they are in the blockchain


[04/01/2021 4:02 PM] kushti#0978
I need for details


[04/01/2021 4:03 PM] morphic#4133
This is the first problematic block
`19:08:30.024 WARN  [ctor.default-dispatcher-9] o.e.n.state.UtxoState - Error while applying full block with header 39a4f6074592cfd4da053ce1b10233fd2bc659f573a1dc1c0689a55cf2d480c8 to UTXOState with root ede14d8a9ea2d03c93fc011c72fa3d79b718b58c91eb2d3b38360a886890d24513, reason: scorex.core.validation.MalformedModifierError: Scripts of all transaction inputs should pass verification. 9f4d40607a561c14a504c96919362f150fca3337ab43219d9a683f1617b74b0a: #0 => Success((false,10141))`


[04/01/2021 4:04 PM] kushti#0978
???


[04/01/2021 4:04 PM] morphic#4133
https://explorer.ergoplatform.com/en/blocks/39a4f6074592cfd4da053ce1b10233fd2bc659f573a1dc1c0689a55cf2d480c8


[04/01/2021 4:04 PM] kushti#0978
Can you please provide 10 transactions for which z is less than 32 bytes and sig check works ?


[04/01/2021 4:08 PM] morphic#4133
There is no information about transaction inside SigSerializer.parse method, so I log only the proofs themselves.


[04/01/2021 4:08 PM] morphic#4133
I will try to search for TX in explorer


[04/01/2021 4:10 PM] morphic#4133
Well, the sync has completed, and we indeed have only 10 proofs like that.


[04/01/2021 4:14 PM] kushti#0978
As sig is checked against tx bytes, I need for transactions.


[04/01/2021 4:14 PM] morphic#4133
@Ilya | Spectrum do you have proofs in the explorer database (those which are stored in spendingProof of each Input of ErgoTransaction)?


[04/01/2021 4:15 PM] Ilya | Spectrum#0494
Yep


[04/01/2021 4:25 PM] morphic#4133
which table.column?


[04/01/2021 4:25 PM] Ilya | Spectrum#0494
node_inputs.proof_bytes

{Reactions}
üëç 

[04/01/2021 4:32 PM] morphic#4133
@Ilya | Spectrum `node_inputs.tx_id` is the transaction where the input was spent?


[04/01/2021 4:35 PM] morphic#4133
@kushti ok, so the first example transaction is this
https://explorer.ergoplatform.com/en/transactions/4f5a79f037863b78089595a6e47c34643f2330339a7d8ca4ad3a4cb9c27d39f4
see spendingProof of the  input with index 1.


[04/01/2021 5:00 PM] morphic#4133
@kushti here is the list of all transactions

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/827210915576938516/invalid_proofs.csv


[04/01/2021 5:01 PM] Ilya | Spectrum#0494
Exactly


[04/01/2021 5:01 PM] morphic#4133
thanks


[04/01/2021 9:54 PM] kushti#0978
thanks, will take a look soon!


[04/04/2021 12:43 PM] morphic#4133
@mhs_sam I noticed you are using collection append operation inside fold loop. In general this combination of fold and append is unsafe (from costing point of view). I'm thinking about introducing a new constrain (in v5.0 soft-fork) on the size of collection constructed by `++` operation or even entirely forbid `++` inside `fold`. 
The limit can be the same for example as the current size of the Box (i.e. 4K). The limitation is necessary to avoid attacks using script cost, because currently it is possible to construct arbitrary big collection and then perform another loop over that collection.
Please keep this in mind and try to avoid nested loops (think about ++ as loop over both collections) 
/cc @kushti


[04/04/2021 12:55 PM] morphic#4133
@kushti I think a better solution is to introduce per transaction cost limit. (Yes I raise this topic again). 
This example of  `++` inside `fold` can be used as motivation for having per transaction cost limit. 
Unrestricted usage of `++` and `fold` can be used to construct simple scripts which will exceed the whole block cost limit and this will be known only after the node resources are spent, which is free for attacker. 
So the attacker can send many benign-looking transactions which will take up a lot of network resources basically for free.
I'm sure over time we will come up with more cases like this so implementing ad-hoc constrain for just `fold`/`++` combination in not enough and we may end up adding such constraints again and again.


[04/05/2021 12:53 PM] kushti#0978
How transaction limit is different from block limit in regards with ++ ? Especially as pretty often transactions having cost like 0.20-0.40x block limit are created (by  exchanges and pools).


[04/05/2021 12:53 PM] kushti#0978
@morphic so it seems there will be two counters like now? For computational cost and data ?


[04/05/2021 12:54 PM] kushti#0978
"I'm sure over time we will come up with more cases like this so implementing ad-hoc constrain for just fold/++ combination in not enough and we may end up adding such constraints again and again." - adhoc approach is not good for sure, you need for some universal and ideally formalized solution


[04/05/2021 2:12 PM] mhs_sam#1471
Thanks, I will fix it


[04/05/2021 5:16 PM] morphic#4133
Current transaction cost is overly pessimistic, because of the AOT costing poor performance. For example each ProveDlog verification has 5000 cost. 
In the new JIT based interpreter ProveDlog verification takes only 380 microseconds on my MacBook. And have the corresponding cost - 380 cost units. Even if we scale this cost up to 500 we still can spend 2000 boxes withing 1000000 block cost limit. So the typical transaction will be much smaller then block.


[04/05/2021 5:42 PM] morphic#4133
No, cost is enough if we can limit each transaction to be at most blockLimit/10. In this case what ever happens during script reduciton (fullReduction method) it will be limited by approximately 100 msec


[04/05/2021 9:10 PM] kushti#0978
So when miners will do block limit x10, you have the same issue again ?


[04/06/2021 9:44 AM] morphic#4133
If they do 10x then there is probably something wrong going on with miners. üôÇ This would mean the time limit for block is raised up to 10 sec, which as we already discussed may lead to network problems.  
Anyway, my point with per-transaction limit is not about absolute value of limit, but it is about making the potential attack 10 times less dangerous. If you only have per-block limit, I can craft many transactions which will take up to 1 sec in fullReduction only to be rejected.


[04/06/2021 9:49 AM] morphic#4133
If I were a miner, I would flood the network with such transactions to keep others wasting resources and time, while taking advantage.


[04/06/2021 9:52 AM] morphic#4133
If we can make this perBlockCost/perTxCost ration as big as possible, we can essentially reduce the potential advantage of doing such an attack to the point it is non-profitable.


[04/06/2021 10:03 AM] morphic#4133
I still, however, think it is better to make Tx fees somehow proportional to validation cost. We don't have such dependence now and only bind fees to the data size. 
However, AFAIK, Cardano charges fees proportional to the estimated cost. I think they do it in a right way, so should we.


[04/06/2021 10:12 AM] morphic#4133
To minimize probability of the attack and the potential advantage of doing spam attack I can add simple and generic constraint of the size of any collection. Basically, the script will fail if at any time evaluator encounters a collection with size > 100 items (for example). 
However, while simple to implement, it will introduce another difficulty during programming.


[04/06/2021 10:50 AM] morphic#4133
The most expensive operation which can run during fullReduction is Exponentiate for GroupElement. It takes 90 microsec on my Mac. So you need 10000 of them to hit maxBlockCost. So the following script
```
coll1.map(i => coll2.map(j => groupGenerator.exp(i + j))) 
```
will hit the limit, even when both coll1 and coll2 are within the size limit of 100 items.
If we forbid also nested loops, then we still can compose many maps within script size limit of 4K


[04/06/2021 10:58 AM] morphic#4133
Keeping this in mind, the only solution I see, which is reasonably easy to implement in Ergo now is to introduce MaxTxCost limit and make it:
1) as low as possible at the beginning and votable (increase only) 
2) bind it to MaxBlockCost via ratio MaxBlockCost / MaxTxCost, so that this ratio is never less then 10 (or better 50)


[04/06/2021 11:06 AM] morphic#4133
When the cost ratio < 10, this means:
1) we allow the transactions that have too many inputs (which usually involves some kind of batching logic, so the batch size can be reduced)
2) or, we allow that one of the input has too complex script which runs longer than 100 ms. With new  JIT based costing evaluator performance this means the script is either doing around 100000 of simple operations, or doing many complex operations with cryptography. Both cases suggest something wrong with the script.


[04/06/2021 11:11 AM] morphic#4133
Thus, if we want to allow more complex transactions over time to be possible on the network, the miners need to increase MaxBlockLimit before they can proportionally increase the MaxTxCost limit.


[04/06/2021 11:28 AM] morphic#4133
Dealing with the ratio of 50, the attacker need to send 50x more transactions to achieve the same advantage over others (if the attacker is also a miner). This means 50x more transactions to build, signatures to produce etc, so he is spending 50x more his own resources. 
Also, it will be 50x harder to fool around DoS protection mechanisms, or he will need to spread the attack over 50x longer time frame.
All this 50x barriers reduce the probability of a successful attack or of gaining some advantage out of it.


[04/06/2021 5:49 PM] kushti#0978
are you talking about transactions in blocks? Then you need to waste PoW on getting a block with such transactions, and the block will be invalidated on first invalid tx.


[04/06/2021 5:49 PM] kushti#0978
It is proposed for Ergo as well https://www.ergoforum.org/t/protecting-mempool-from-computationally-heavy-transactions/231 , should not be a part of the protocol though I guess

{Embed}
https://www.ergoforum.org/t/protecting-mempool-from-computationally-heavy-transactions/231
Protecting mempool from computationally heavy transactions
In regards with a switch from AOT to JIT costing being discussed recently, a lot of talks on how to protect from computationally heavy (and possibly adversarial) transaction is going on.  In the first place, block validation (consensus-critical verification protocol) works in the same way regardless a costing procedure, if the procedure ensures ...


[04/06/2021 5:52 PM] kushti#0978
I still do not understand how the problem can be solved with small-factor limit reduction, basically doing MaxTxCost = MaxBlockCost / 10 is not different from reducing MaxBlockCost by 10x


[04/06/2021 5:56 PM] kushti#0978
Such scripts are the most problematic for sure. Are you reworking spam scripts suite towards 5.0 ?


[04/06/2021 5:57 PM] kushti#0978
Cardano guys also thinking a lot about protection from heavy scripts atm btw


[04/06/2021 5:57 PM] kushti#0978
So we can do a working group maybe.


[04/06/2021 8:06 PM] morphic#4133
Sorry, I don't understand you logic. I propose two parameter which are both checked independently. One parameter limits the max cost of transactions, another limits the max cost of blocks. They limit different things, transactions and blocks. With too parameters you can have big blocks and small transactions in the blocks. And the number of transactions is not limited, only by total block cost. 
When MaxTxLimit is small, I can start validating any transaction knowing that if the validation fails it fails fast and I don't spend too much resources. I can then skip this Tx and take next one and do this in a loop until I collect enough transactions with total cost <= MaxBlockCost.

This logic applies to miners creating block candidates and choosing transactions from mempool. I don't know protocol it or not, but we need to implement this logic in the v5.0 release in order to protect JIT based evaluator against spam attacks. If we want to ensure that > 50% of nodes is always protected against BIG transactions (this is what I propose), then MaxTxCost should be part of the protocol and in v5.0 we need to release reference implementation of it.

Verification of existing blocks doesn't need MaxTxCost because, the block is already fixed, PoW is done and validation is linear algorithm with single cost limit.


[04/06/2021 8:07 PM] morphic#4133
Not yes, but this discussion I started today motivated by that goal.


[04/06/2021 8:09 PM] morphic#4133
At least some channel here or there would be useful.


[04/07/2021 2:53 PM] kushti#0978
In regards with transactions which are included into blocks, why two limits will prevent all the possible attacks with spam scripts ?


[04/07/2021 2:54 PM] kushti#0978
In regards with offchain transactions, we already have some limits (for tx "complexity"), please feel free to rework it w. 5.0


[04/12/2021 12:25 PM] Sebastien#0653
dApp connector test build is released!

To use, follow these steps
1. Download Yoroi Nightly (public test build of Yoroi. See link below)
2. Download Yoroi dApp Connector Nightly (public test build of Yoroi. See link below)
3. Create at least 1 Ergo wallet in Yoroi
4. Connect to a dApp that implements EIP-12 (https://github.com/ergoplatform/eips/pull/23)

üôÇ 

Hopefully there are no bugs. If any dApp finds an issue during integration or has any suggestion for changes, let me know!

Yoroi extension test build: https://chrome.google.com/webstore/detail/yoroi-nightly/poonlenmfdfbjfeeballhiibknlknepo?hl=en&authuser=0
dApp connector test build: https://chrome.google.com/webstore/detail/yoroi-ergo-dapp-connector/chifollcalpmjdiokipacefnpmbgjnle/related?hl=en&authuser=0

{Embed}
https://github.com/ergoplatform/eips/pull/23
EIP-0012 - dApp-Wallet Web Bridge by rooooooooob ¬∑ Pull Request #23...
Technical spec for wallet-dApp communication.
https://images-ext-1.discordapp.net/external/-KRVlD4_nyV4m1pVCd9KQWWbk8Kzhe9Rdnel6es6kxo/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/27490654

{Embed}
https://chrome.google.com/webstore/detail/yoroi-nightly/poonlenmfdfbjfeeballhiibknlknepo?hl=en&authuser=0
Yoroi Nightly
A simple, secure and fast Cardano ADA wallet.
https://images-ext-2.discordapp.net/external/aDxZZGJq4kKlywIUx_UUF5jogzwY57z2uku5TfHl5Z4/https/lh3.googleusercontent.com/gLpGL4hCBgoqWpxLJGY2xn0KpwlDK3eg9OjAhWCfdamVPQXgFbb98wtZROXZwI0dgSztIUd3S2c5yF_zPkTRnOGEhQ%3Dw128-h128-e365-rj-sc0x00ffffff

{Embed}
https://chrome.google.com/webstore/detail/yoroi-ergo-dapp-connector/chifollcalpmjdiokipacefnpmbgjnle/related?hl=en&authuser=0
Yoroi-Ergo dApp Connector Nightly
Allows the Yoroi extension to interface with dApps following the Ergo EIP-0012 spec.
https://images-ext-1.discordapp.net/external/odbDmhpSoUumZKepX8XreSFhCCV4g0jRAhtZSuO7Jiw/https/lh3.googleusercontent.com/sld87R-BF4ws807VWKg_bkteJYFpHl0g2r5bwuMRdUDKlKzBt_6_avqa5MV3nUhFHxTDZ_XhhrmzxigC3eI0Vi-P%3Dw128-h128-e365-rj-sc0x00ffffff


[04/19/2021 7:17 AM] greenhat#6562
@kushti @morphic @Ilya | Spectrum 
https://about.codecov.io/security-update/?utm_medium=email&utm_source=marketo&ajs_uid=2448616&ajs_event=Clicked%20Email&mkt_tok=MzMyLUxWWC03NDEAAAF8dJn_oFBUJSNQDAiYNUpxg1HGpLjt5HRJaN_wlIl4LITqWZ_tlNtQZch-Fz9O6fGGPLm_Jdu9IIIkc1cfv2n-qVT5yI6ElTeOTDZnn651
Codecov was hacked and our github secrets from sigmastate repo were stolen, including sonatype credentials. I would consider them compromised and change them ASAP. Also GPG signing key for sigmastate release signing was stolen, but I generated them on a per repo basis, so no other libs are affected.

{Embed}
Jon Blumenfeld
https://about.codecov.io/security-update/?utm_medium=email&utm_source=marketo&ajs_uid=2448616&ajs_event=Clicked%20Email&mkt_tok=MzMyLUxWWC03NDEAAAF8dJn_oFBUJSNQDAiYNUpxg1HGpLjt5HRJaN_wlIl4LITqWZ_tlNtQZch-Fz9O6fGGPLm_Jdu9IIIkc1cfv2n-qVT5yI6ElTeOTDZnn651
Bash Uploader Security Update - Codecov
Note: If you are in the affected user group, at 6 am PT, Thursday, April 15th, we emailed your email address on file from GitHub / GitLab / Bitbucket ...
https://images-ext-1.discordapp.net/external/5vCbx8y-xbqsQ4IjeJXzWQlNMfx59Q0JErpM262eJEI/https/about.codecov.io/wp-content/uploads/2020/12/featured-image.jpg


[04/19/2021 7:26 AM] greenhat#6562
I'd like to change the sonatype password and then go through all our Scala repos and update them to use the new password.

{Reactions}
üëç 

[04/19/2021 7:35 AM] greenhat#6562
I'm talking about our sonatype credentials with login `abls2VK6`.


[04/19/2021 7:39 AM] greenhat#6562
@kushti I'm seeing `Externally configured users are read-only (LDAP)` in the sonatype profile and there is no way of changing the password on the website. Could you please change the password?


[04/20/2021 6:48 PM] Ilya | Spectrum#0494
@Sebastien, are there any projects integrating with dapp-connector I can refer to ?


[04/20/2021 6:49 PM] Sebastien#0653
nothing other than the example inside the Yoroi repo at the moment


[04/20/2021 7:13 PM] Ilya | Spectrum#0494
Can you please point me to it?


[04/20/2021 7:28 PM] Sebastien#0653
https://github.com/Emurgo/yoroi-frontend/tree/develop/packages/yoroi-ergo-connector/example

{Embed}
https://github.com/Emurgo/yoroi-frontend/tree/develop/packages/yoroi-ergo-connector/example
Emurgo/yoroi-frontend
Yoroi Wallet - Cardano ADA Wallet - Your gateway to the financial world (extension frontend) - Emurgo/yoroi-frontend
https://images-ext-2.discordapp.net/external/1e-t5s_ozw_GZmUTfYYzwoz8bRKHKNjtEbS_wtELy0o/https/repository-images.githubusercontent.com/144911693/91963f00-7e7f-11e9-9385-4f7404177cf6


[04/20/2021 7:28 PM] Sebastien#0653
also be careful since the example sends your ERG balance to an address if you accept to sign the tx


[04/20/2021 7:28 PM] Ilya | Spectrum#0494
Thanks!


[04/28/2021 1:50 PM] greenhat#6562
I'd like to change the password for our sonatype credentials (login: abls2VK6) due to it being leaked in codecov hack (see above). @kushti I need your help, since sonatype shows  `Externally configured users are read-only (LDAP)` in the user profile and there is no way of changing the password on the page.


[04/28/2021 1:55 PM] greenhat#6562
Do you have any idea how to change it? Can you change it yourself? I plan to go through our repositories and update them to use the new password.


[05/27/2021 10:52 AM] glasgowm#9381
Can he start? @kushti

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/847411922579619840/unknown.png


[05/27/2021 11:10 AM] kushti#0978
So what should I do ?


[05/27/2021 11:10 AM] kushti#0978
@greenhat @morphic @scalahub @anon_real made an issue https://github.com/ergoplatform/ergo/issues/1368

{Embed}
https://github.com/ergoplatform/ergo/issues/1368
[Soft-Fork] Prohibit data inputs to refer to outputs from the same ...
[fill details]
https://images-ext-2.discordapp.net/external/T28Ku731R9FJeSz1HSgcvru_fdJrWSU1Ykgugfq3hvs/https/opengraph.githubassets.com/c142f4ebe8dddb321a176ba1bfdbcb156fb27e335c8ddb107f7164c92dfae667/ergoplatform/ergo/issues/1368


[05/27/2021 11:17 AM] greenhat#6562
I'd like you to change the sonatype password. After that I'll go through all our repos and update the password on CI where it's used to publish snapshots and releases. During this time publishing will not work. Let's do it on Monday since I'm worrying of unexpected difficulties in repos using Travis so it's better to avoid doing it at the end of this week. üôÇ


[05/27/2021 11:35 AM] kushti#0978
Well, why not, but that should be noted


[05/27/2021 11:35 AM] kushti#0978
ok, lemme do that on Mon


[06/03/2021 10:48 AM] glasgowm#9381
Why is the height not always on the node interface @kushti ?

Sometimes that field is missing - and people try syncing for days not realising. The API / info shows the correct height. Could it be pulled from there? Or even better - pulled from there and compared to the explorer / another source so it doesn't read `Synced` when it actually isn't ?


[06/03/2021 1:02 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/849981405689413642/unknown.png


[06/03/2021 1:02 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/849981461436432434/unknown.png


[06/03/2021 1:02 PM] glasgowm#9381
sounds promising


[06/03/2021 11:08 PM] kushti#0978
in the panel you mean ?


[06/03/2021 11:10 PM] glasgowm#9381
yeah


[06/04/2021 10:04 AM] greenhat#6562
I'm sorry I got carried away this week with other tasks. Let's change sonatype password on Monday.


[06/04/2021 10:50 AM] glasgowm#9381
Hey @Ecosystem Core - If anyone could add to this or help with the structure it'd be appreciated and save a lot of hassle for the Hackathon. I've been improving it based on questions here but still flying blind on a lot of stuff. (and ty @scalahub for your appkit PR)

I've made a `ErgoDevs` login here anyone can use, or push to the git directly if easier. 

https://ergonaut.space/en/hackathon
`mark.glasgow@gmail.com`
`strongpass123!`

Still unclear on a few things like

1. What is the pathway someone should start with? I read a blog post that made it sound like ergo-bootstrap was the easiest solution to get started. But unsure if that's still actively supported and we should be recommending AppKit at a starting point. A high-level overview would be helpful from a the perspective of a developer without blockchain experience. 
2. I've nested Rust under sigmastate-interpreter if I'm understanding it's role correctly
3. Anymore resources, guides, or videos that I'm missing. I'm going to go through the research-and-development/ section on the forum and try and categorise that stuff - but feels like there's goldmines of info tucked away everywhere I'm missing.

{Embed}
https://ergonaut.space/en/hackathon
Hackathon


[06/07/2021 7:51 AM] greenhat#6562
Thanks! I fixed minor wording issues and fixed a good-first-issues link.

{Reactions}
üå† 

[06/08/2021 12:49 PM] greenhat#6562
Hey! I prepared quite a few good-first issues https://github.com/ergoplatform/sigma-rust/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22 and I want to set bounties on them. I have them estimated for time (as I would do them myself) and they're mostly in 2 - 5 hours range each. How to determine the bounty? Do we have a budget for this campaign?  /cc @kushti

{Embed}
https://github.com/ergoplatform/sigma-rust/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22
ergoplatform/sigma-rust
Alternative and simple implementation of ErgoTree interpreter - ergoplatform/sigma-rust
https://images-ext-1.discordapp.net/external/UZKM77b0oN9l7P-09luKuqpJwhcaSiQuN7hYQKy-qIA/https/opengraph.githubassets.com/a09d9a283052b168fecf5df591ee821ffeb4cc3fdceddb45e50646981f2c5eb0/ergoplatform/sigma-rust


[06/08/2021 12:55 PM] greenhat#6562
I'm ready to update sonatype password in our repos. Please change it and let me know.


[06/08/2021 1:49 PM] kushti#0978
@greenhat like $50/hr ?


[06/08/2021 1:50 PM] kushti#0978
you can use SigUSD


[06/08/2021 2:04 PM] greenhat#6562
So like $100-$250 per issue. Sounds fair. Sure, I'll use SigmaUSD.


[06/08/2021 2:53 PM] greenhat#6562
@kushti bounties are set - https://github.com/ergoplatform/sigma-rust/labels/bounty

{Embed}
https://github.com/ergoplatform/sigma-rust/labels/bounty
ergoplatform/sigma-rust
Alternative and simple implementation of ErgoTree interpreter - ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/qdEdOKwUsrRVZpWK4xTWnTtHzDtg981Uhh8I9JBd7IM/https/opengraph.githubassets.com/bc5f786e321d1eff65a5ebbcd3b5f97c8d68cf49ce24cfc277eedd7e10d32ca9/ergoplatform/sigma-rust

{Reactions}
üòç 

[07/13/2021 1:07 PM] glasgowm#9381
Still says non-outsourceable here

https://github.com/ergoplatform/ergo/wiki#ergo-proof-of-work-pow

{Embed}
https://github.com/ergoplatform/ergo/wiki
ergoplatform/ergo
Ergo protocol description & reference client implementation - ergoplatform/ergo
https://images-ext-1.discordapp.net/external/8POb02inFPV8s4TKvRGx1GvWrG8i2Dfq4fvsun8tp-c/https/opengraph.githubassets.com/c42296cc9161a8e497c0d3a95964889254aa957778e76571de8b5b20b387349c/ergoplatform/ergo

{Reactions}
üëçüèª 

[08/16/2021 5:47 PM] kushti#0978
@greenhat I've set new credentials for sonatype


[08/16/2021 5:47 PM] kushti#0978
What to do with them ?


[08/16/2021 6:29 PM] greenhat#6562
Thanks! They are exposed as secrets in Travis/GA jobs. In Travis they are encoded via their command line tool. In GitHub they are set in settings. I'll take care of it first thing tomorrow morning. DM me new credentials.


[08/18/2021 8:57 AM] kushti#0978
DMed


[08/18/2021 9:01 AM] greenhat#6562
Yep. I'm on it. Did you update any repository yet? I'm making a list of repositories that I need to update.


[08/18/2021 3:44 PM] greenhat#6562
I assessed our projects and here is my plan.

Change sonatype credentials in repos that already using GA:
* sigmastate
* ergo-appkit

Migrate the following repos to GA:
* scorex-util 
* ergo-wallet 
* ergo-scala-compiler
* ergo-playgrounds
* ergo-contracts
* scrypto (I need admin role)

@kushti I see you're already migrating scorex-core to GA so I skip that.
Could you please give me the admin role in https://github.com/input-output-hk/scrypto so I could migrate its CI to GA.

{Embed}
https://github.com/input-output-hk/scrypto
GitHub - input-output-hk/scrypto: Cryptographic primitives for Scala
Cryptographic primitives for Scala. Contribute to input-output-hk/scrypto development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/HX45gQcK3X1vlwj7ypuWbhbJgfvvXKs76EqcFypuZOA/https/opengraph.githubassets.com/8d319e798821d5aeabf8c3c680d9341eb188e8ae728f85c798d5dd7edc21e92b/input-output-hk/scrypto


[08/18/2021 4:24 PM] kushti#0978
@greenhat done, please check


[08/18/2021 4:30 PM] greenhat#6562
Thanks! I'm in. üôÇ


[08/18/2021 4:38 PM] greenhat#6562
I updated sonatype credentials in:
* sigmastate
* ergo-appkit
Now, onto the hard part, migrating the rest of the projects to GA

{Reactions}
üëç 

[08/30/2021 1:08 PM] glasgowm#9381
is this something we have?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/881873040814784512/unknown.png


[08/30/2021 1:13 PM] greenhat#6562
I'm not really into mining side of things but I'm not aware that we have anything implemented in Go. I don't even know what are clvm libraries.

{Reactions}
üëç 

[08/31/2021 11:39 AM] greenhat#6562
scorex-util and scrypto PRs for CI migration to GA are ready:
https://github.com/ScorexFoundation/scorex-util/pull/25
https://github.com/input-output-hk/scrypto/pull/83
@kushti @morphic please review so I could merge them.

{Embed}
https://github.com/ScorexFoundation/scorex-util/pull/25
migrate CI to GA by greenhat ¬∑ Pull Request #25 ¬∑ ScorexFoundation/...
release workflow;
 remove .travis;

This PR removes Travis CI and adds the following GA workflows:

ci.yml that runs on every push and publishes a snapshot version (except on external PRs);
release...
https://images-ext-1.discordapp.net/external/M2X-p58cStVqJ5VzEnrn_JbfANUffMhbJqfX-KJS27s/https/opengraph.githubassets.com/d687204f51c9cc7f66e6ba4952fc00a88eb65984cb28774030a6ff3c61d8f3fc/ScorexFoundation/scorex-util/pull/25

{Embed}
https://github.com/input-output-hk/scrypto/pull/83
Migrate CI to GA by greenhat ¬∑ Pull Request #83 ¬∑ input-output-hk/s...
release workflow;
 remove .travis;

This PR removes Travis CI and adds the following GA workflows:

ci.yml that runs on every push and publishes a snapshot version (except on external PRs);
release...
https://images-ext-2.discordapp.net/external/soYLcqCLXByfGLNG5JaAxXPwEOzpPTwTVlF481wjKjo/https/opengraph.githubassets.com/056cb83f262c9642322b4bd5ad7945fddc4a381a430caa3b72c1721ee8d4704c/input-output-hk/scrypto/pull/83


[08/31/2021 12:07 PM] greenhat#6562
@kushti I don't have admin rights in https://github.com/ergoplatform/ergo to set secrets (sonatype credentials, gpg key, gpg passphrase). Can you give me an admin role or you prefer to set them yourself? BTW, I see you https://github.com/ergoplatform/ergo/pull/1429 PR for ergowallet publishing and read your changes but I'd rather make a new PR.

{Embed}
https://github.com/ergoplatform/ergo
GitHub - ergoplatform/ergo: Ergo protocol description & reference c...
Ergo protocol description & reference client implementation - GitHub - ergoplatform/ergo: Ergo protocol description & reference client implementation
https://images-ext-1.discordapp.net/external/Nr1G6I-MKlGHi8tQdF12SqLETO4UkPMBIryyyD6Z_9s/https/opengraph.githubassets.com/861d96db9ab4b5003e973d82cd878f4e2af82c77e719dbc41ae2214ae5d166a6/ergoplatform/ergo

{Embed}
https://github.com/ergoplatform/ergo/pull/1429
ErgoWallet Publishing by kushti ¬∑ Pull Request #1429 ¬∑ ergoplatform...
https://images-ext-1.discordapp.net/external/0R0TeP5253CAaqwTiEjlyGxt26ujhckCfpC5AH_3dBQ/https/opengraph.githubassets.com/cf87ca2a186f4f61746a7706655f9287ce48eeac7af82fd30899289bddf0332b/ergoplatform/ergo/pull/1429


[08/31/2021 12:40 PM] greenhat#6562
Do we have anyone with admin rights in https://github.com/hyperledger-labs/Scorex ? I need to set secrets in repo settings for publishing.

{Embed}
https://github.com/hyperledger-labs/Scorex
GitHub - hyperledger-labs/Scorex: Scorex 2.0 Core
Scorex 2.0 Core. Contribute to hyperledger-labs/Scorex development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/So3O0wDrrm_ZWegyfdVZjW6EXixgw___EKroZRXxQBw/https/opengraph.githubassets.com/267eae1a97bc3bd1f9250b6a8ac214b4a47f4cd9f786ab031ab20d7018423f3b/hyperledger-labs/Scorex


[08/31/2021 12:42 PM] morphic#4133
approved

{Reactions}
üôè 

[08/31/2021 12:49 PM] greenhat#6562
Thanks! Merged.


[08/31/2021 3:41 PM] greenhat#6562
@kushti I had a call with Egor and he asked if we want to implement signing of a non-PK input boxes (sigma OR, AND, etc.). I believe that with already implemented PK signing we have smart contracts that reduce to a PK covered. The question is if we want more. The way I see it, for sigma OR, AND, AtLeast a wallet has to feed parts(leafs?) of the reduced sigma prop tree to a ledger with instructions on how to sign them. It looks like it might take a significant amount of time. Is it worth spending resources on it now or PK boxes and ones that can be signed with PK (DEX order cancellation, etc) is enough for now?


[08/31/2021 3:48 PM] greenhat#6562
Besides that, I'm starting to implement in sigma-rust all the stuff needed for a wallet developer to use the ledger. I mean serialized tx, output box, input box cutting/preparation, tx token index (all that we have described in ledger protocol). Egor will use it in integration tests so I hope we'll have a tested and ready-to-use ledger support in sigma-rust when we're done.

EDIT: Ergo Ledger App Protocol - https://docs.google.com/document/d/1IOOypX75xbvjKGNYGWTGiu8VasiefdkVWV35JJuxERw

{Embed}
https://docs.google.com/document/d/1IOOypX75xbvjKGNYGWTGiu8VasiefdkVWV35JJuxERw
Ergo Ledger App Protocol v4
Ergo Ledger App Protocol Draft v4  Introduction Messaging protocol APDU message structure Command Response Ergo Protocol Instruction Codes 0x01-0x0F - General application status methods 0x10-0x1F - Public key / addresses related methods 0x20-0x2F - Signing methods 0xF0-0xFE - Debug methods Proto...
https://images-ext-1.discordapp.net/external/N8flFqgjELk-DzOqo6cOo4NQl0-GoWtkreNbLBctc2w/https/lh5.googleusercontent.com/7R_UyaLFQtXRW5yL8_8zuS3Xa_d-ScUb0kdK8F9DEP1-yMLrftpsCBiInxBZNRPUznNV_7bD_s--IA%3Dw1200-h630-p


[08/31/2021 4:02 PM] greenhat#6562
BTW, should we discuss questions related to ledger support in open #core channel? Or is it a security sensitive topic that is better suited for this channel?


[08/31/2021 9:17 PM] morphic#4133
Hi, you may want to look at a new way of signing transactions I implemented in Appkit for Cold Wallet signing. https://github.com/ergoplatform/eips/pull/36
From this perspective Ledger need to implement Cold Wallet part of the interaction. 
From sigma-rust point of view, only proof generation part will be necessary on the Ledger side as long as both the app and Ledger can write/read  ReducedTransaction data.

{Embed}
https://github.com/ergoplatform/eips/pull/36
EIP-0019: Cold Wallet by aslesarenko ¬∑ Pull Request #36 ¬∑ ergoplatf...
This standard, when supported by mobile wallets, can be used to create transactions in the Hot wallet (connected to network), pass them via QR codes to Cold Wallet (disconnected from network) for s...
https://images-ext-1.discordapp.net/external/oGaVKWf8_dfyr0R3a7YZp3JAxqNVQIsS9mi2V0HBca4/https/opengraph.githubassets.com/01eb7d7b2fa43f3eb77eae0bcbba72103a48ec3b4198e9e13f71380107a951d3/ergoplatform/eips/pull/36


[08/31/2021 9:29 PM] morphic#4133
There is the test case which shows the usage in Appkit https://github.com/ergoplatform/ergo-appkit/blob/develop/appkit/src/test/scala/org/ergoplatform/appkit/TxBuilderSpec.scala#L231


[09/01/2021 9:13 AM] greenhat#6562
Thanks! I totally missed EIP-19. However, Cold Wallet role is not "untrusted" enough for Ledger. There is too much trust Cold Wallet needs to have for Hot Wallet, whereas Ledger treats its computer/desktop counterpart as an untrusted entity and verifies inputs along with controlling the outputs (change, miners fee).


[09/01/2021 9:25 AM] greenhat#6562
Damn it! Antispam bot was triggered by a chat message link (he thought it was an invite) and killed the "wall of text" I wrote.


[09/01/2021 9:54 AM] mx#5165
"Let me clarify my question from https://discord.com/channels/668903786361651200/668912878992228353/882273958098006107 .
What we have now implemented in Ledger for tx signing is similar to what we have in ergo-ts - PK signing https://github.com/coinbarn/ergo-ts/blob/daf8df37886f31ac1c96582789030ce7e889a682/src/ergoSchnorr.ts#L18-L50 . This should be suffice to sign any input that reduces to ProveDlog. What I was thinking is to add support for sigma OR and maybe some cases of AtLeast without implementing full-fledged sigma protocol prover on Ledger (traversing sigma trees, conversions, etc.).
So my questions are:"

{Embed}
https://github.com/coinbarn/ergo-ts/blob/daf8df37886f31ac1c96582789030ce7e889a682/src/ergoSchnorr.ts
ergo-ts/ergoSchnorr.ts at daf8df37886f31ac1c96582789030ce7e889a682 ...
Contribute to coinbarn/ergo-ts development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/ewPtjzxVGQLBIxkpz9iLJpI5VitERAhYQLI2tH5H-uU/https/opengraph.githubassets.com/86891e943524e3b63e4dce78dd3372059bd277b7fba5c48290faa5d20dd508e4/coinbarn/ergo-ts


[09/01/2021 9:54 AM] mx#5165
try again @greenhat


[09/01/2021 9:55 AM] greenhat#6562
@mx Thank you!


[09/01/2021 10:33 AM] greenhat#6562
Let me clarify my question about signing on Ledger. Now we sign tx on Ledger similarly to ergo-ts - 
https://github.com/coinbarn/ergo-ts/blob/daf8df37886f31ac1c96582789030ce7e889a682/src/ergoSchnorr.ts#L18-L50
"blindly" doing ProveDlog code path from the prover without analyzing input box tree. That should work for P2PK and for trees that reduce to ProveDlog (think canceling DEX order, etc.). I was thinking of a way to add sigma conjecture support without forcing Ledger to implement full-fledged sigma protocol prover (traversing sigma tree, conversion, etc.). 
My questions are:
1. Does this makes sense for a hardware wallet to support non-P2PK at all? I mean given that Ledger although having multiple accounts for a root secret key has effectively a single secret key model, only sigma OR might be signed on the device. We're not talking distributed sigs here. Do we have a use-cases where we'd want to sign sigma OR on the device?
2. Do we want to spend time on it now or do we want to have P2PK as is ASAP?

{Embed}
https://github.com/coinbarn/ergo-ts/blob/daf8df37886f31ac1c96582789030ce7e889a682/src/ergoSchnorr.ts
ergo-ts/ergoSchnorr.ts at daf8df37886f31ac1c96582789030ce7e889a682 ...
Contribute to coinbarn/ergo-ts development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/ewPtjzxVGQLBIxkpz9iLJpI5VitERAhYQLI2tH5H-uU/https/opengraph.githubassets.com/86891e943524e3b63e4dce78dd3372059bd277b7fba5c48290faa5d20dd508e4/coinbarn/ergo-ts


[09/01/2021 10:51 AM] greenhat#6562
@kushti I don't have admin rights in https://github.com/ergoplatform/ergo to set secrets (sonatype credentials, gpg key, gpg passphrase). Can you give me an admin role or do you prefer to set them yourself?

{Embed}
https://github.com/ergoplatform/ergo
GitHub - ergoplatform/ergo: Ergo protocol description & reference c...
Ergo protocol description & reference client implementation - GitHub - ergoplatform/ergo: Ergo protocol description & reference client implementation
https://images-ext-1.discordapp.net/external/CxvFtu5v3Qrn6LhSFvnSA3Q02jhcsR67uxJTpvUVFYU/https/opengraph.githubassets.com/3038ae4cd6278981b580c6bc16f6b363d70996be67b4b7c5661206355204c455/ergoplatform/ergo


[09/01/2021 11:20 AM] morphic#4133
I think we better release P2PK support ASAP and make it clear for users about this limitation. Then more complex cases can be supported. And since P2PK limit is only for inputs, then sending funds from Ledger wallet to any contracts will be still possible.


[09/01/2021 11:28 AM] morphic#4133
ReducedTransaction have the same messageToSign bytes as UnsigendTransacton. Input amounts are not part of it. So, which attack is possible with ReducedTransaction, which is not possible with  passing the UnsignedTransaction and all context data?


[09/01/2021 11:45 AM] greenhat#6562
ReducedTransaction without all context data? Unintentional token burning is the first that comes to mind. To be clear I was not comparing UnsignedTx vs ReducedTx. I was talking about passing-ReducedTx-without-context-data model in which case Cold Wallet has to trust Hot Wallet with inputs.


[09/01/2021 11:50 AM] greenhat#6562
I'm leaning to go with P2PK-only support ASAP as well. Just wanted to make sure we're on the same page and I did not miss anything. I kind of got into the whole Ledger stuff "accidentally" along the ride üôÇ and I did not see our initial requirements/expectations.

{Reactions}
üëç 

[09/01/2021 1:03 PM] morphic#4133
Additional ErgoBox information can be attached to ReducedTransaction in the same way as it is attached to UnsigendTransaction. I.e. when ErgoBox is created for each input, it's parameters are not part of messageToSign, but having ErgoBox on ledger you can compute ErgoBox.id on the ledger (which is simple) and compare with each id in ReducedTransaction, so you can be sure which actual inputs got spent. But this scheme will not require full reduction on Ledger side while still any input contract can be spent on Ledger this way.


[09/01/2021 1:07 PM] morphic#4133
So passing ErgoBoxes to the Ledger is much easier then passing ErgoBoxes, Context and implement full reduction. 
I don't want to say full reduction is not necessary in Rust, just that intermediate universal solution seems to be possible. And probably make sense to implement it first.


[09/01/2021 1:11 PM] morphic#4133
@MrStahlfelge it probably makes sense to extend the ColdWallet EIP with additional requirements of passing ErgoBox data for each input so that the Cold Wallet app can show transaction details and check ids.


[09/01/2021 1:33 PM] MrStahlfelge#0042
Is it really needed? I checked and outboxes data is available. So user can check what  he sends to where. I don't see a use case where the exact inboxes need to be checked?


[09/01/2021 1:51 PM] greenhat#6562
@morphic Yep. Essentially, this is how its implemented on Ledger now. See `0x20 - Attest Input Box` in the ergo ledger app protocol I linked above. I was not asking if we should do a full reduction on ledger, I talked about whether a simplified sigma protocol prover implementation is worth doing on Ledger. We have never intended to pass a context and do a reduction on Ledger anyway.


[09/01/2021 1:56 PM] greenhat#6562
It's ok if the user has full trust in Hot Wallet. If it's not the case as with Ledger(or any) hardware wallet we're assuming that the user's PC is compromised. In this case, Ledger cannot blindly trust the data passed from Hot Wallet but has to verify it somehow.


[09/01/2021 2:02 PM] morphic#4133
Ok, then I suggest using ReducedTransaction extended with ErgoBox for each input as pretty much universal singing solution for Ledger (after P2PK release)


[09/01/2021 2:07 PM] MrStahlfelge#0042
I still don't get what damage can be done by not knowing the exact inbox data? I came up that tokens could be burned, so it is surely more safe to show ingoing and outgoing boxes


[09/01/2021 2:11 PM] greenhat#6562
Ledger API is much-much more low level so EIP-19 won't be practically applicable to Ledger, but the notion (input box attestation, etc.) is there. See - https://docs.google.com/document/d/1IOOypX75xbvjKGNYGWTGiu8VasiefdkVWV35JJuxERw/edit#

{Embed}
https://docs.google.com/document/d/1IOOypX75xbvjKGNYGWTGiu8VasiefdkVWV35JJuxERw/edit
Ergo Ledger App Protocol v4
Ergo Ledger App Protocol Draft v4  Introduction Messaging protocol APDU message structure Command Response Ergo Protocol Instruction Codes 0x01-0x0F - General application status methods 0x10-0x1F - Public key / addresses related methods 0x20-0x2F - Signing methods 0xF0-0xFE - Debug methods Proto...
https://images-ext-1.discordapp.net/external/N8flFqgjELk-DzOqo6cOo4NQl0-GoWtkreNbLBctc2w/https/lh5.googleusercontent.com/7R_UyaLFQtXRW5yL8_8zuS3Xa_d-ScUb0kdK8F9DEP1-yMLrftpsCBiInxBZNRPUznNV_7bD_s--IA%3Dw1200-h630-p


[09/01/2021 2:13 PM] greenhat#6562
In order for Cold Wallet to show ingoing data (value, tokens) to the user it needs to verify it first by serializing the full input box and check that input id in tx is the same.


[09/01/2021 2:16 PM] MrStahlfelge#0042
I get that. If the hot wallet is untrusted, it could just transmit wrong data, couldn't it? But again, what harm can be done apart from burning tokens? This question is important to know what type of attacks could be expected.


[09/01/2021 2:25 PM] greenhat#6562
Well, given that input sum == output sum requirement (node tx validation) and given that Cold Wallet knows/controls the outputs coins are probably safe. Besides token burning, there is token minting that could also be exploited although I'm struggling to find a reason for unintended token minting.


[09/01/2021 2:29 PM] greenhat#6562
@morphic Wait, I forgot, passing input boxes along with ReducedTx is not enough. To calculate box id you need to know token index stored on tx level. So we actually passing full tx for each input box.


[09/01/2021 2:33 PM] MrStahlfelge#0042
Since the outbox data can be safely shown, this can't happen unintended. So it falls back to token burning, which for sure could be dangerous


[09/01/2021 2:44 PM] greenhat#6562
I mostly agree. :) But Cold Wallet UI should be as clear as possible. In case of token minting it's "confirm token id  to send" vs "do you want to mint token id?".


[09/01/2021 2:59 PM] morphic#4133
I mean in addition to ReducedTransaction data for each input we can pass ErgoBox (https://github.com/ScorexFoundation/sigmastate-interpreter/blob/5a4cf4003f5b560ba3e46c36dd79a52c18922fae/sigmastate/src/main/scala/org/ergoplatform/ErgoBox.scala#L51) to the Ledger. Then Ledger can deserialize it and compute ErgoBox.id. It then can compare this id with the UnsigneInput.boxId from ReducedTransaction (which is part of messageToSign). This check will prove that each ErgoBox is the actual ErgoBox being spent. In addition having all ErgoBox data and OutputCandidate data we actually have full transaction data on the Ledger.
If that is what you already do in Ledger, great.
 I just wanted to emphasise that full reduction will not be necessary on Ledger even for complex contracts.


[09/01/2021 3:08 PM] greenhat#6562
You cannot compute input box id without full tx where this input box was created. Due to the way tokens are serialized (see distinct token ids part). 
Ledger API is much-much more low level and EIP-19 is not applicable anyway. 
And yes, I never considered full reduction to be done on Ledger.


[09/01/2021 3:15 PM] morphic#4133
Well, I'm not proposing EIP-19 to be used literally, just as an example. But I propose to use ReducedTransaction for signing on Ledger.


[09/01/2021 3:15 PM] morphic#4133
I'm a bit confused, is this ErgoBox.id (https://github.com/ScorexFoundation/sigmastate-interpreter/blob/5a4cf4003f5b560ba3e46c36dd79a52c18922fae/sigmastate/src/main/scala/org/ergoplatform/ErgoBox.scala#L64) the same as UnsignedInput.boxId (https://github.com/ScorexFoundation/sigmastate-interpreter/blob/b3695bdb785c9b3a94545ffea506358ee3f8ed3d/sigmastate/src/main/scala/org/ergoplatform/Input.scala#L34) ?


[09/01/2021 3:18 PM] morphic#4133
"cannot compute input box id without full tx where this input box was created." Why?


[09/01/2021 3:24 PM] greenhat#6562
Could you elaborate on how we can use ReducedTx for signing on Ledger? Given that Ledger API is dealing with low-level stuff. See "0x21 - Sign transaction" where unsigned tx is basically constructed inside the Ledger (passed in parts).


[09/01/2021 3:25 PM] morphic#4133
ok, let me check that


[09/01/2021 3:27 PM] greenhat#6562
See box serialization - https://github.com/ScorexFoundation/sigmastate-interpreter/blob/0c5c5b515ccb452536e440469b56d763d5ba30ec/sigmastate/src/main/scala/org/ergoplatform/ErgoBoxCandidate.scala#L146-L152 . You need `tokensInTx` which means you need the whole tx that created this box.

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/0c5c5b515ccb452536e440469b56d763d5ba30ec/sigmastate/src/main/scala/org/ergoplatform/ErgoBoxCandidate.scala
sigmastate-interpreter/ErgoBoxCandidate.scala at 0c5c5b515ccb452536...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/ErgoBoxCandidate.scala at 0c5c5b515ccb452536e440469b56d763d5ba30ec ¬∑ ScorexFoundation/sigmas...
https://images-ext-2.discordapp.net/external/wCUVhYZC82xSdxu4AhWNyeniYgzPY2UQW-gXS4Ulqrc/https/opengraph.githubassets.com/5e9dbeda2dce845eac4ed4701599b10318b824f5af4b6f84be4dd00a15b99a51/ScorexFoundation/sigmastate-interpreter


[09/01/2021 3:33 PM] morphic#4133
All ErgoBoxCandidates are serialized as part of ReducedTransaction (https://github.com/ergoplatform/ergo-appkit/blob/b91e8ad049f6fb9cca5dbcb3359fd5203afbc166/common/src/main/java/org/ergoplatform/appkit/AppkitProvingInterpreter.scala#L269)


[09/01/2021 3:35 PM] morphic#4133
This is how ReducedTransaction is defined https://github.com/ergoplatform/ergo-appkit/blob/b91e8ad049f6fb9cca5dbcb3359fd5203afbc166/common/src/main/java/org/ergoplatform/appkit/AppkitProvingInterpreter.scala#L261


[09/01/2021 3:37 PM] morphic#4133
So you can see it is full UnsignedTransaction extended with reduced inputs. In simple cases it is just 400 bytes long.


[09/01/2021 3:37 PM] greenhat#6562
@morphic I was talking about input boxes.


[09/01/2021 3:42 PM] morphic#4133
When ErgoBox.id is computed then this method is used https://github.com/ScorexFoundation/sigmastate-interpreter/blob/7bc1001e34114596a106588d1fe9529c7343827a/sigmastate/src/main/scala/org/ergoplatform/ErgoBoxCandidate.scala#L176
Which passes tokensInTx=None

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/7bc1001e34114596a106588d1fe9529c7343827a/sigmastate/src/main/scala/org/ergoplatform/ErgoBoxCandidate.scala
sigmastate-interpreter/ErgoBoxCandidate.scala at 7bc1001e34114596a1...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/ErgoBoxCandidate.scala at 7bc1001e34114596a106588d1fe9529c7343827a ¬∑ ScorexFoundation/sigmas...
https://images-ext-2.discordapp.net/external/wCUVhYZC82xSdxu4AhWNyeniYgzPY2UQW-gXS4Ulqrc/https/opengraph.githubassets.com/5e9dbeda2dce845eac4ed4701599b10318b824f5af4b6f84be4dd00a15b99a51/ScorexFoundation/sigmastate-interpreter


[09/01/2021 3:43 PM] morphic#4133
This is how box.bytes are serialized.


[09/01/2021 3:43 PM] morphic#4133
and then they are hashed


[09/01/2021 3:44 PM] morphic#4133
This parameter was introduced as an optimization, but for id computation it is not used


[09/01/2021 3:55 PM] greenhat#6562
Oh, you're right! My bad. I need to recall why we added input tx to the protocol. üôÇ  But yes, to check the input on tx singing in Cold Wallet full input box should be enough.

{Reactions}
üëç 

[09/01/2021 3:58 PM] morphic#4133
@MrStahlfelge for Cold Wallet we have a trade-off here, on one hand it is better to have additional check and pass ErgoBoxes for each input, but, on the other hand we are limited with 4K bytes in QR code.


[09/01/2021 4:00 PM] morphic#4133
I propose to make it flexible, if the full data package fits into 4K, then pass it in full and have (Fully Secured sign on the screen).


[09/01/2021 4:00 PM] morphic#4133
This will work for 90% of transactions


[09/01/2021 4:03 PM] MrStahlfelge#0042
This will probably fit into 4K for most transactions. However, it only makes sense if the cold wallet can validate that the inbox boxes are like it was transmitted. Can this be done?


[09/01/2021 4:23 PM] morphic#4133
Yes, greenhat made a good point about input box validation before signing. Fourtunately, we can easily do this by passing ErgoBox data for each input. If you look at ErgoBox you will see that id is a hash of its content https://github.com/ScorexFoundation/sigmastate-interpreter/blob/5a4cf4003f5b560ba3e46c36dd79a52c18922fae/sigmastate/src/main/scala/org/ergoplatform/ErgoBox.scala#L64
Thus is can be compared with UnsigedInput.boxId from ReducedTransaction. It should be the same, otherwise the ErgoBox data is tampered. And UnsigedInput.boxId is part of messageToSign bytes which are signed.


[09/01/2021 4:26 PM] morphic#4133
Thus, by comparing ids, you can authenticate on Cold Wallet all the data in input ErgoBoxes with all amounts, tokens and registers etc.


[09/01/2021 4:26 PM] morphic#4133
In this way, any "trust" can be excluded (or minimised)


[09/01/2021 4:28 PM] MrStahlfelge#0042
Ah, that's great!


[09/01/2021 4:32 PM] morphic#4133
And having large screen you can actually show all the same transaction screen on the Cold Wallet as on the Hot Wallet app.

{Reactions}
üëç 

[09/01/2021 5:35 PM] greenhat#6562
We're removing the "tx for every input" requirement in Ledger. Full input box is enough. @morphic Thanks for catching this and straightening me up!

{Reactions}
üëç (2) 

[09/13/2021 2:17 PM] greenhat#6562
@kushti I don't have admin rights in https://github.com/ergoplatform/ergo to set secrets (sonatype credentials, gpg key, gpg passphrase) for wallet publishing in #1437. Can you give me an admin role or you prefer to set them yourself?

{Embed}
https://github.com/ergoplatform/ergo
GitHub - ergoplatform/ergo: Ergo protocol description & reference c...
Ergo protocol description & reference client implementation - GitHub - ergoplatform/ergo: Ergo protocol description & reference client implementation
https://images-ext-2.discordapp.net/external/DqGdnSabnDQcjUB0JZmCuiVAVBX1M9DOloDPszFqWIY/https/opengraph.githubassets.com/e3ba2f3ce46b59067d37a2acd2330f0690a802456de35fceb1982554a0d6ab5e/ergoplatform/ergo


[09/15/2021 1:57 PM] glasgowm#9381
from @Tolstojevski (in response to me asking if any c# would be ready for ergohack)
```
That is an actual possibility :slight_smile: crunching hard on that gateway app this week, next one should allow some breathing room. Made a killer C# lib for talking to binance over the websocket tho, should be all packed up in a nugget and shared by the end of this week 

As easy as that with my lib, and the ticker data starts pouring as as proper c# objects. Just pick the ticker&currencies and it's a done job. It's our back exchange for this project I'm on. Reckon it will be useful to have a lib that grabs market data that easy any way you look at it.

Yeah, realtime tickers, candles and all - on the other hand, a mate is working on talking with their restfully to fully automate everything :). Also, an old friend just joined up and she is a kickass dev (worked on hive os) and we've already spent hours talking about ergo proofs and all, so high chances we will have something to show by the due date, I'm hoping we will at least be able to parse blocks, interpret transactions and do proofs natively on .net
```
exciting stuff !


[10/08/2021 10:41 PM] glasgowm#9381
Given the inordinate increase in network transactions since the submission of our ErgoForAll proposal, it seems that some testing of the transaction factor may be under way. 

 

If it is helpful, the analyst among us wanted us to pass along where he felt that he was able to most likely affect the network via transactions ‚Äì for better or worse (relatively speaking) ‚Äì through his own trials.

 

It should be mentioned first that the sample sizes and time frames were far too small to be anything close to concrete, but he claims to have been approaching significance. With runway quickly evaporating to develop a solution prior to the post-Ethereum mining redirection, we collectively felt that leveraging his observations in conjunction with general community expansion might lift relative value enough to provide breathing room.

 

To summarize his most pertinent observations:


[10/08/2021 10:41 PM] glasgowm#9381
All other factors being relatively stable, a steady flow of simple transactions at an interval of greater than approximately 3 seconds (on average) from a well-connected node with adequate processing power tended to decrease block time during the period that transactions were submitted. Locally, in terms of miners pointed directly at the transactional node, this tended to increase the rate of solution discovery (equivalent to pool shares, using 25G as a difficulty benchmark), but not necessarily increase the difficulty of solutions discovered. Although this would be beneficial to pool miners, the impact of the abbreviated block times appears to have reliably contributed to increased difficulty in subsequent epochs (‚Äúepoch‚Äù here being used to describe the period of consistent network difficulty between network difficulty adjustments). It is assumed that this would ultimately detract from intermediate to long-term mining efficiency in the absence of proportional increases in value of Erg.


[10/08/2021 10:41 PM] glasgowm#9381
All other factors being relatively stable, a high quantity burst of simple transactions followed by an extended flow of simple transactions at an interval of less than three seconds (on average) from an outbound-only and comparatively less well-connected node, tended to expand block time. For local miners under these conditions, the rate of solution discovery increased compared to ordinary network activity, but the increase was less than under the previously mentioned conditions. The difficulty of solutions discovered under these conditions tend to spike temporarily as the network ‚Äúcatches up,‚Äù potentially leading to a higher than probable rate of block discovery over an extended period of time among those miners directed towards the transactional node. The impact of the expanded block times appears to contribute to lower than otherwise expected network difficulty relative to trailing network hashrate in subsequent epochs. It is easy to surmise that the potency of these conditions might deteriorate with more mining power, additional organic transactions, and higher average token value, better reflecting in function the intention of the current difficulty adjustment scheme.


[10/08/2021 10:41 PM] glasgowm#9381
Our operations mining to any one node are not large enough to determine to what extent this potential exploit could be leveraged by a very large solo miner, but, if nothing else, we can verify that the increase in solution difficulty achieved is replicable under these conditions. So, while sporadic high transaction bursts followed by a steady stream of low interval transactions might benefit solo miners mining to the transactional node, it also appears that it may facilitate the addition of mining power with lower-than-expected increases in network difficulty across subsequent epochs.

It is important to us that you know that we are not trying to exploit the network or the platform with our activity. To the contrary, we wish to invest more heavily in the platform and currency, and want to ensure we have a clear path to do so for the long-term. We see the potential inability to absorb redirected mining power without a crippling decline in mining efficiency as the largest hurdle to Ergo‚Äôs exponential growth in the near-term and hope to find solutions to this perceived issue. 

Obviously, an increase in the relative value of Erg would help resolve this. Which is why we also intend to work towards objectives such as a broader investor base and large exchange adoption, but feel that smoothing difficulty ‚Äì if possible ‚Äì might provide the greatest near-term benefit and establish a solid foundation from which to pursue these other objectives.

We have asked our partner to suspend his on-network trials for the time being in case you are, indeed, conducting tests of your own.

If you do internally develop a solution to the issues that ErgoForAll is intended to address, please let us know and we will desist, freeing up resources to direct towards other initiatives.  

Regards

Ergo For All Administration

Admin@ErgoForAll.com


[10/08/2021 10:44 PM] glasgowm#9381
https://ergoforall.com/

{Embed}
Nate Edwards
https://ergoforall.com/
(no title)
Visit the post for more.
https://images-ext-1.discordapp.net/external/T2S2KbQwcjzSYkh5N6uyo4daehSGC9WC69U0-qgfz1s/https/ergoforall.com/wp-content/uploads/2021/09/cropped-ErgoE3D.png


[10/15/2021 7:56 PM] glasgowm#9381
Would it feasible to put something in the node config that exchanges use that auto-returns any RSV sent to it?


[10/15/2021 8:39 PM] kushti#0978
any token then ?


[10/15/2021 8:41 PM] glasgowm#9381
yeh, only accept erg - return the rest.


[10/15/2021 8:41 PM] glasgowm#9381
to stop it being lost when people do it - just had someone else send 100k sigrsv to kucoin


[11/11/2021 3:04 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/908371490020425778/unknown.png


[11/12/2021 1:43 PM] kushti#0978
node API must be closed for most of the nodes, we're running few public node with open API for apps (such as mixer)


[11/12/2021 1:44 PM] kushti#0978
I imagine there are hundreds of ways to DoS them


[11/12/2021 1:46 PM] kushti#0978
can I point him to a node and the guy will crash it on time ?


[11/12/2021 1:46 PM] kushti#0978
How can we be sure he's not using just DoS


[11/12/2021 3:45 PM] morphic#4133
if node is behind Cloudflare, then simple DoS should be prevented by Cloudflare. If he still able to crash the node, then it something deeper.


[11/22/2021 7:41 AM] glasgowm#9381
https://twitter.com/123456/status/1462572899085258764

{Embed}
pad (@123456)
https://twitter.com/123456/status/1462572899085258764
i emailed @ergoplatformorg 11 days ago about a remote p2p crash and they haven't responded. if i don't hear anything this week i'm going to release the exploit publicly. it is possible to spider the ergo network and crash nodes through p2p ports.

#infosec #ergo $erg https://t.co/P3cLpHL8oy
https://images-ext-1.discordapp.net/external/2Vz6HNEx64LwkOtWoPsiu36BuUH0Mqg78b4uTY4mN7M/https/pbs.twimg.com/tweet_video_thumb/FEwaS2bXIAY5-F2.jpg
Twitter


[11/22/2021 7:53 AM] glasgowm#9381
step 1: spider peers
NODEIP:9053/peers/all

step 2: crash peers by spamming this from 1000 sockets:
GET /blocks/lastHeaders/1000000 HTTP/1.1
Host: NODEIP:9053


[11/22/2021 8:54 AM] glasgowm#9381
specifics here @kushti


[11/22/2021 9:22 AM] Ilya | Spectrum#0494
Only those peers who keep their REST API open are susceptible


[11/22/2021 9:22 AM] Ilya | Spectrum#0494
Should be a minority


[11/22/2021 9:32 AM] kushti#0978
also for some nodes number of API connections is limited


[11/22/2021 9:32 AM] kushti#0978
can be added to default settings, but DoS is possible anyway I guess


[11/22/2021 9:32 AM] kushti#0978
you can always overload your node


[11/22/2021 9:32 AM] glasgowm#9381
How do you close the REST API? Is it by default? The instructions say `Access to the Ergo REST API must be restricted to known hosts. In particular, the API must not be accessible from the Internet.` - but there's no instructions on how in the node setup guide


[11/22/2021 9:34 AM] kushti#0978
It depends on enviroment (Docker, Linux, Windows etc)


[11/22/2021 9:39 AM] glasgowm#9381
So would it not be the majority then? If it requires you to manually close the API I can guarantee almost nobody has done so.


[11/22/2021 9:04 PM] glasgowm#9381
could use some help in #‚ùì‚îÇdev-support @Ecosystem Core


[11/22/2021 10:16 PM] mhs_sam#1471
just tested with ergopool.io with just 4 requests and cloudflare bans all of them due to time out.

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/912466683648688138/unknown.png


[11/23/2021 12:47 AM] mhs_sam#1471
It seems he is trying to attack right know. ProSavage reported having some trouble with his node.
Simple ddos mitigations, haproxy, cloudflare, hiding apis, whitelisting, and some simple procedures will be useful.
Maybe we can write some notes for pool owners and other serious node runners


[11/23/2021 1:04 PM] kushti#0978
can update node readme


[11/23/2021 1:04 PM] kushti#0978
with a note in bold font


[11/23/2021 1:04 PM] kushti#0978
however, closing a port has so many solutions


[11/23/2021 1:15 PM] glasgowm#9381
If you (or someone) just does a rough bullet point list I can flesh it out for other OSes.


[12/04/2021 8:27 PM] glasgowm#9381
Will we loose Pi support with v5? Just so I know whether to improve the docs/etc there.


[12/04/2021 10:05 PM] morphic#4133
Raspberry Pi should work.

{Reactions}
ü§© 

[12/05/2021 8:57 PM] glasgowm#9381
https://explorer.ergoplatform.com/en/transactions/880d044bb7f904bd2ee31a0dd58c6fbcbf56060656854cfeea429d41edd2d713

Is this dust collection?


[12/06/2021 10:39 AM] MrStahlfelge#0042
it is more of a split, not a collection


[12/06/2021 11:53 AM] glasgowm#9381
yeah I'm not sure how it's done so thought it might've been a part of the consolidation process. The txs leading to it look like block-rewards or something?

https://explorer.ergoplatform.com/en/transactions/f9277987bfeb675f8726ba0d873398f6e730907917b7be76ca9764432b4a66aa


[12/06/2021 12:31 PM] MrStahlfelge#0042
it could be a pool payout


[12/07/2021 11:26 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/917920053205299270/unknown.png


[12/08/2021 12:49 PM] kushti#0978
HM says orphans rate is okay now, was big during the incindent (for sure)


[12/08/2021 12:49 PM] kushti#0978
Pinged getblok guys to tune networking config


[12/18/2021 1:14 PM] glasgowm#9381
Source code: https://github.com/Satergo/Satergo
To do list: https://github.com/Satergo/Satergo/projects/1
Website (no downloads yet, scroll up this chat for beta4): https://satergo.com
Website source code: https://github.com/Satergo/satergo.github.io


[12/18/2021 1:15 PM] glasgowm#9381
anyone able to check this before I advertise it?


[12/19/2021 11:21 AM] MrStahlfelge#0042
I would love to, but next two weeks I'll have not much time. given the fact that he postponed the project for some weeks that might be early enough?


[01/06/2022 9:41 AM] greenhat#6562
Hey! The keys we're using for sonatype publishing expired last month. I updated `GPG_SIGNING_KEY` secret in all our relevant repos with updated keys without the expiration date. It's the same key so no need to change anything else.


[01/06/2022 12:29 PM] MrStahlfelge#0042
great, that explains why appkit publish failed. will restart the actions


[01/06/2022 12:48 PM] greenhat#6562
Actually, I found that there was no `GPG_SIGNING_KEY` secret set at all in appkit. This was the most likely reason to fail. I've checked GA scripts and build.sbt and everything seems to be in place now.


[01/06/2022 12:59 PM] MrStahlfelge#0042
okay, I start it again


[01/06/2022 1:05 PM] greenhat#6562
No, I meant I did it in the morning. Anyway, I don't see any failed runs at https://github.com/ergoplatform/ergo-appkit/actions/workflows/release.yml . How do you run it?

{Embed}
https://github.com/ergoplatform/ergo-appkit/actions/workflows/release.yml
Actions ¬∑ ergoplatform/ergo-appkit
Appkit: A Library for Polyglot Development of Ergo Applications - Actions ¬∑ ergoplatform/ergo-appkit
https://images-ext-1.discordapp.net/external/qT7YS6lQwW7eCEBJUr60UL7PCaFTtwkNc4SZihI55so/https/opengraph.githubassets.com/d060a330dec9c07243fcd6679831ec75eaf42148adf05b6be3e9a27deaaf92d4/ergoplatform/ergo-appkit


[01/06/2022 1:06 PM] MrStahlfelge#0042
snapshot publish on PR https://github.com/ergoplatform/ergo-appkit/pull/119

{Embed}
https://github.com/ergoplatform/ergo-appkit/pull/119
Added option proxy connection to clients by anon2020s ¬∑ Pull Reques...
https://images-ext-2.discordapp.net/external/dJ_N0YS4lKbwsSmOsFiPsRfezYd6BFUwg-ZV48__aZs/https/opengraph.githubassets.com/9100fd052a3a9abfb667f73bfdcaef7fa5a64a032ead3c018df77f0ae2f5cb08/ergoplatform/ergo-appkit/pull/119


[01/06/2022 1:08 PM] greenhat#6562
Oh, I was talking about release publishing. Let me take a look at snapshot publishing fail.

{Reactions}
üáπ üáæ 

[01/06/2022 1:47 PM] greenhat#6562
I believe the reason snapshot publishing failed in this PR is that it's an external PR (from a forked repo). The github security policy is to expose empty secrets in external PRs. There is no workaround.


[01/06/2022 1:49 PM] greenhat#6562
We should skip the publishing step for such PRs. Like I did in ergo wallet snapshot publishing - https://github.com/ergoplatform/ergo/blob/f7b91c0be00531c6d042c10a8855149ca6924373/.github/workflows/ci.yml#L54

{Embed}
https://github.com/ergoplatform/ergo/blob/f7b91c0be00531c6d042c10a8855149ca6924373/.github/workflows/ci.yml
ergo/ci.yml at f7b91c0be00531c6d042c10a8855149ca6924373 ¬∑ ergoplatf...
Ergo protocol description & reference client implementation - ergo/ci.yml at f7b91c0be00531c6d042c10a8855149ca6924373 ¬∑ ergoplatform/ergo
https://images-ext-2.discordapp.net/external/qiOiML1j3bZK_fS9w5s5HoXPGxCQnDt0f-OW7wEefmQ/https/opengraph.githubassets.com/c96feef16821dcf1885f03ae925f69e3ea1d888bc59e00f6ab5fc7d7e5f1be2f/ergoplatform/ergo


[01/06/2022 2:29 PM] MrStahlfelge#0042
it failed on my PR from within the repo as well https://github.com/ergoplatform/ergo-appkit/pull/118

it worked before. it is pretty convinient to test the PR, so I would like to keep it if possible.


[01/06/2022 2:43 PM] greenhat#6562
It failed on tests and did not get to snapshot publishing. 
Empty secrets only affect snapshot publishing and have nothing to do with running the tests.


[01/06/2022 2:45 PM] greenhat#6562
Snapshot publishing worked and should continue to work on "internal" PRs, like in https://github.com/ergoplatform/ergo-appkit/pull/115

{Embed}
https://github.com/ergoplatform/ergo-appkit/pull/115
Avoid error "There should be no duplicate inputs" when sending fund...
This closes #110
https://images-ext-2.discordapp.net/external/1shO0xwwUXAkfzyyjMGVsoHvenUkw5mNGPaCwnQPmAg/https/opengraph.githubassets.com/a6196cb194659f11ad4366f2fb982030c96ceed1efd37dd62621c73320649ae6/ergoplatform/ergo-appkit/pull/115


[01/06/2022 2:54 PM] MrStahlfelge#0042
sorry, confused it - you are right.
okay, great when PRs still release snapshots. is there a way to disable it for external PRs so that the actions don't fail?


[01/06/2022 3:27 PM] greenhat#6562
Yes, like I did for ergo wallet in https://github.com/ergoplatform/ergo/blob/f7b91c0be00531c6d042c10a8855149ca6924373/.github/workflows/ci.yml#L54

{Embed}
https://github.com/ergoplatform/ergo/blob/f7b91c0be00531c6d042c10a8855149ca6924373/.github/workflows/ci.yml
ergo/ci.yml at f7b91c0be00531c6d042c10a8855149ca6924373 ¬∑ ergoplatf...
Ergo protocol description & reference client implementation - ergo/ci.yml at f7b91c0be00531c6d042c10a8855149ca6924373 ¬∑ ergoplatform/ergo
https://images-ext-2.discordapp.net/external/qiOiML1j3bZK_fS9w5s5HoXPGxCQnDt0f-OW7wEefmQ/https/opengraph.githubassets.com/c96feef16821dcf1885f03ae925f69e3ea1d888bc59e00f6ab5fc7d7e5f1be2f/ergoplatform/ergo


[01/06/2022 5:26 PM] MrStahlfelge#0042
awesome! worked well on appkit, too

{Reactions}
üôå 

[01/06/2022 8:08 PM] MrStahlfelge#0042
@greenhat is there a reason why ergo-wallet is not released after 4.0.16? my java7 changes went in for 4.0.17, so I still have to depend on the PR snapshot to use it. would be great to have a new release


[01/07/2022 8:57 AM] greenhat#6562
Yes, the expired pub key I fixed yesterday. 4.0.20 was published half an hour ago - https://github.com/ergoplatform/ergo/actions/runs/1666723803

{Embed}
https://github.com/ergoplatform/ergo/actions/runs/1666723803
Merge pull request #1550 from ergoplatform/v4.0.20 ¬∑ ergoplatform/e...
Ergo protocol description & reference client implementation - Merge pull request #1550 from ergoplatform/v4.0.20 ¬∑ ergoplatform/ergo@0ea3fac
https://images-ext-1.discordapp.net/external/FVXlHVHp1lrvZVMG7dlp3CH8Uj9KmGiJ4TqpNS_uXoc/https/opengraph.githubassets.com/c46bbbcf8926ce695269e6fd675fd4f97376392a2a4c2d86119becd449b763ca/ergoplatform/ergo


[01/07/2022 8:57 AM] MrStahlfelge#0042
Okay, great, I'll update appkit to use it üëç


[01/08/2022 3:01 PM] MrStahlfelge#0042
I think we should merge https://github.com/ergoplatform/eips/pull/36 - I made the requested changes and the implementation proofed to be working well for the users. So it is time to fix it, but there are no approvals yet. @morphic @greenhat

{Embed}
https://github.com/ergoplatform/eips/pull/36
EIP-0019: Cold Wallet by aslesarenko ¬∑ Pull Request #36 ¬∑ ergoplatf...
This standard, when supported by mobile wallets, can be used to create transactions in the Hot wallet (connected to network), pass them via QR codes to Cold Wallet (disconnected from network) for s...
https://images-ext-2.discordapp.net/external/KFfne_gy8dsbsFD1YnOXjxO-Nq5bMwEzf4rWso9onmw/https/opengraph.githubassets.com/b0447666768f88b86d8ffee276490c3d3716710d505182bd2844f177b466b822/ergoplatform/eips/pull/36


[01/25/2022 1:25 PM] glasgowm#9381
can someone add me (glasgowm148) to the organisation for https://github.com/ergoplatform so I can add socials, update logo, etc.

{Embed}
https://github.com/ergoplatform
Ergo
Ergo has 52 repositories available. Follow their code on GitHub.
https://images-ext-1.discordapp.net/external/njkqaIe0lbVkMH9X3OVSdINIDmyk8J0a0DiilPyVkN0/%3Fs%3D280%26v%3D4/https/avatars.githubusercontent.com/u/27490654


[01/25/2022 4:49 PM] morphic#4133
sent invitation

{Reactions}
ThankYou 

[01/29/2022 12:53 PM] glasgowm#9381
```
Hello,

 

Hope you are doing well. I wasn't sure if you all had a bug bounty program, but I wanted to report the following security vulnerability.

 

The below URL is vulnerable to cross site scripting (XSS) (see attached).

https://paidincrypto.io/swagger?url=https://benzegreatest.github.io/xss/index.html

 

Any cookie set on this domain could be targeted with this attack. 

 

With XSS here we would have the opportunity to target admin users and access very sensitive data. More information on XSS is available here: https://www.packetlabs.net/cross-site-scripting-xss/

 

To fix this you should be able to upgrade the instance of swagger or change the cross origin policy on the API spec. The current version of swagger is using an older version of dom-purify.

 

Let me know if you have questions or if you are interested in me doing further research for you all!

 

Thanks!

 

Ben
```


[02/10/2022 7:58 PM] glasgowm#9381
Joe_NiceHash ‚Äî Today at 19:52
Hi Mark! Just wanted to let you know we are adding Autolykos to NiceHash miner, it will be in the next stable release. Also I was talking to Matthew Hinton about some videos for the Ergo Summit, but then lost contact with him, he asked if we could change something but didn't hear back. Anyway hope you have a great summit!


[02/11/2022 8:49 AM] root7Z#8699
Andy sent e-mail I suppose to joe.downie@nicehash.com, I am asking to Joe now


[02/28/2022 3:05 PM] glasgowm#9381
Anyone had a chance to check this out ? Would it be eligible for the bug bounty @kushti ? Sorry for the tag but with bug bounties - don't want to leave them hanging too long. 

Also am I ok to add pragmaxim to this chat? Was going to ask him to check this out but he doesn't have access.


[03/09/2022 6:25 PM] Dmitry Usov#0134
I think there is no problem with adding pragmaxim to this chat.

{Reactions}
üëç 

[03/10/2022 5:02 PM] glasgowm#9381
Maybe a poll is best

add @pragmaxim to @Ecosystem Core

{Reactions}
üëç (5) üëé 

[03/12/2022 5:00 PM] glasgowm#9381
Welcome @pragmaxim - would you be able to check this out when you have a minute? Or do you know who would be best doing that?


[03/12/2022 7:06 PM] pragmaxim#0778
I'll have this on my mind before the next release ... I guess kushti uses this https://github.com/swagger-api/swagger-codegen to generate the swagger-ui from `openapi.yaml`

{Reactions}
üëç (2) 

[03/15/2022 11:31 AM] kushti#0978
Xss for swagger is not a big issue I guess but better to update yes


[03/21/2022 4:40 PM] glasgowm#9381
now bridged to tg

https://t.me/+8-qN9mPujtMyMmM0

for core+ef discussions

{Embed}
https://t.me/+8-qN9mPujtMyMmM0
Ergo Core
https://images-ext-2.discordapp.net/external/vQJF1mUTS5Fumitbe1LLlMqmyrwKJ2tgTbvnfq1kLP0/https/telegram.org/img/t_logo.png

{Reactions}
üëç 

[03/21/2022 4:44 PM] MrStahlfelge#0000
Great!


[03/23/2022 11:16 AM] glasgowm#9381
> Sirs:The following links you have in "https://ergoplatform.org/es/mining/" have viruses:
- https://github.com/NebuTech/NBMiner/releases
- https://github.com/doktor83/SRBMiner-Multi/releases
- https://github.com/todxx/teamredminer/releases/
And I am not referring to the fact that antiviruses detect them as risky, but I am referring to the fact that they have viruses and Trojans

Are you aware of this? This type of thing totally distorts the ERGO project


[03/23/2022 11:16 AM] glasgowm#9381
Not checked them out but those are fairly established right / should be okay? @mhs_sam

{Reactions}
üëç 

[03/23/2022 11:26 AM] glasgowm#9381
Please join here if you prefer Telegram @Ecosystem Core (Bridged here if you prefer Discord)

This will be like the Ergonauts chat on Telegram - but with only ecosystem core+EF

Also as a nice perk I've just noticed - if you set your username the same on Discord/Telegram - you can use the Discord notification panel to see all your notifications instead of having to rifle through telegram chats to find @'s


[04/01/2022 11:16 PM] MrStahlfelge#0000
Something is off with testnet, either there are no new blocks or explorer is not synced


[04/06/2022 8:10 PM] seedubya#0000
Received this message in Twitter from TradeOrge. Not sure what is going on here but sounds extremely unusual

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/961342030016049222/file_8156.jpg


[04/06/2022 8:10 PM] seedubya#0000
Is this the change address


[04/06/2022 8:10 PM] glasgowm#0000
wtf


[04/06/2022 8:12 PM] glasgowm#0000
assuming it must be something internal to their system right? Ask them for more details / tx


[04/06/2022 8:13 PM] glasgowm#0000
maybe someone sent some of the native tokens called ADA


[04/06/2022 8:14 PM] seedubya#0000
Yep I'm just in the process. True, could have been from that pool on the ErgoDex


[04/06/2022 8:17 PM] seedubya#0000
They do say ERG to ADA address though, surely something internal on their end


[04/06/2022 8:17 PM] glasgowm#0000
there‚Äôs also fake ERG tokens on ada iirc - but yeah maybe they can help us with crosschain lmao


[04/06/2022 8:21 PM] seedubya#0000
> *(re @glasgowm)*: there‚Äôs also fake ERG tokens on ada iirc - but... 
Lol


[04/06/2022 8:57 PM] kushti#0000
Addresses are different


[04/06/2022 8:57 PM] kushti#0000
So a valid ERG adreess could not be valid for ada


[04/06/2022 8:57 PM] kushti#0000
Need for details


[04/06/2022 9:01 PM] seedubya#0000
Yep, will pass on their response once received üôÇ


[04/07/2022 1:27 AM] seedubya#0000
From TradeOgre
txid was be17b7feb631b61b6f4c0453213d001526fbbb3fa090758e360879d42ffe2f1c not sure why it sent ergo back to us with a cardano address thought it would just fail


[04/07/2022 1:29 AM] seedubya#0000
Theres no "addr" address. there is WT_ADA in the output address token list


[04/07/2022 1:32 AM] seedubya#0000
https://explorer.ergoplatform.com/en/transactions/be17b7feb631b61b6f4c0453213d001526fbbb3fa090758e360879d42ffe2f1c


[04/07/2022 6:12 AM] kushti#0000
Maybe TO backend just filtered out ada address, so this tx indeed just pays to TO root address


[04/07/2022 6:29 AM] seedubya#0000
Yeah, I'll try find out some more info. Just out of curiosity


[04/13/2022 1:35 PM] glasgowm#0000
Worth trying this out ?


[04/13/2022 1:35 PM] glasgowm#0000
Forwarded from anon_br: Did you already consider to move or at least split technical Q&A to stackoverflow?


[04/13/2022 1:35 PM] glasgowm#0000
Forwarded from anon_br: Yeah, https://stackoverflow.com/questions/tagged/cardano

{Embed}
https://stackoverflow.com/questions/tagged/cardano
Newest 'cardano' Questions
Stack Overflow | The World‚Äôs Largest Online Community for Developers
https://images-ext-1.discordapp.net/external/VbfwnzN2MM794XNccNxDzrB1YeuPrxR53y11bwRfflY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon%402.png


[04/13/2022 3:26 PM] MrStahlfelge#0000
@kushti_ru node is or was stuck/out of sync


[04/13/2022 5:13 PM] kushti#0000
Ah yes, out of sync


[04/13/2022 5:13 PM] kushti#0000
Going to fix in 30 mins


[04/13/2022 6:16 PM] kushti#0000
Fixed


[04/13/2022 6:16 PM] kushti#0000
213 is on non master experimental branch maybe related


[04/13/2022 6:16 PM] kushti#0000
Checking


[04/13/2022 9:05 PM] MrStahlfelge#0000
Appkit get a unit test fail on mining API for the server as well


[04/13/2022 9:05 PM] kushti#0000
> kushti re @MrStahlfelge: Appkit get a unit test fail on mining API for ... 
 
 Any details?


[04/13/2022 9:05 PM] kushti#0000
There were no changes in mining api recently I guess


[04/13/2022 9:36 PM] MrStahlfelge#0000
> MrStahlfelge re @kushti_ru: Any details? 
 
 this request fails http://213.239.193.208:9053/mining/candidate


[04/14/2022 4:03 PM] MrStahlfelge#0000
testnet node is also stuck. do we have an alternative testnet node?


[04/14/2022 4:12 PM] kushti#0000
> kushti re @MrStahlfelge: this request fails http://213.239.193.208:9053... 
 
 Ah, wallet not initialized, going to init


[04/14/2022 4:13 PM] kushti#0000
> kushti re @MrStahlfelge: testnet node is also stuck. do we have an alte... 
 
 We need for miners


[04/14/2022 7:20 PM] MrStahlfelge#0000
> MrStahlfelge re @kushti_ru: Ah, wallet not initialized, going to init 
 
 can you ping me when done? have to restart some actions then


[04/15/2022 10:06 AM] MrStahlfelge#0000
does anyone know if transactions/waitTime API returns seconds or minutes? documentation does not state it.


[04/15/2022 12:32 PM] kushti#0000
> kushti re @MrStahlfelge: does anyone know if transactions/waitTime API ... 
 
 done


[04/15/2022 12:32 PM] kushti#0000
> kushti re @MrStahlfelge: can you ping me when done? have to restart som... 
 
 done


[04/15/2022 1:00 PM] MrStahlfelge#0000
> MrStahlfelge re @kushti_ru: done 
 
 thanks, works :)


[04/15/2022 2:11 PM] MrStahlfelge#0000
looks like node is out of sync again


[04/15/2022 2:29 PM] kushti#0000
fixing


[04/15/2022 2:50 PM] kushti#0000
will move experimental build to another node


[04/15/2022 2:54 PM] kushti#0000
> kushti re @MrStahlfelge: looks like node is out of sync again 
 
 synced


[04/15/2022 2:54 PM] kushti#0000
will switch to stable version in 1 hr


[04/15/2022 2:55 PM] kushti#0000
experimental build will be on 165.227.26.175


[04/15/2022 4:25 PM] MrStahlfelge#0000
looks wallet is not initialized any more because of the change?


[04/15/2022 4:29 PM] kushti#0000
Ah right


[04/15/2022 4:29 PM] kushti#0000
Reverted to prev db snapshot


[04/15/2022 4:29 PM] kushti#0000
Also failed to revert to stable version


[04/15/2022 4:30 PM] kushti#0000
So need to start with db snapshot and 4.0.25


[04/15/2022 4:30 PM] kushti#0000
Will do later today


[04/16/2022 7:50 AM] MrStahlfelge#0000
Seems to be out of sync


[04/16/2022 9:33 AM] kushti#0000
> kushti re @MrStahlfelge: Seems to be out of sync 
 
 Fixed, and reverted to stable version this time


[04/16/2022 9:34 AM] MrStahlfelge#0000
thanks!


[04/16/2022 11:04 AM] MrStahlfelge#0000
> MrStahlfelge re @kushti_ru: Fixed, and reverted to stable version this tim... 
 
 can you add the wallet as well for appkit tests to go through?


[04/16/2022 11:04 AM] MrStahlfelge#0000
or should we deactivate that test case?


[04/16/2022 1:51 PM] kushti#0000
Initialized the wallet here


[04/18/2022 9:58 AM] MrStahlfelge#0000
Could we add a bounty or a higher priority here https://github.com/ergoplatform/explorer-backend/issues/189 ?
It might not look important, but this holds back the release for support of messages attached to transactions which will be a great feature for users and dapps.

{Embed}
https://github.com/ergoplatform/explorer-backend/issues/189
R9 is omitted in API transaction info and box info ¬∑ Issue #189 ¬∑ e...
Register R9 is omitted and not listed even when set in additionalRegisters. Example: https://api-testnet.ergoplatform.com/api/v1/boxes/80a8b3a328d45ef468c27b1f5b0e0d924bfd52c16c1058aaaddd5d66ecf986...
https://images-ext-1.discordapp.net/external/6kGT3UGIRu_66wGiCgATIE0H_mZzxSJxwSuHQ_rGWUc/https/opengraph.githubassets.com/c7d04bb0fe9cab7198996d25d7e19921723834dc3f97c8064278ad16ff30d4e7/ergoplatform/explorer-backend/issues/189


[04/18/2022 10:07 AM] glasgowm#9381
There's a running bounty budget on core-repos of $2k/month so if you can estimate cost you can assign one


[04/18/2022 11:24 AM] MrStahlfelge#0000
can't judge, maybe @oskin can estimate and set it. my hope is that it is just some try/catch phrase needed


[04/18/2022 1:45 PM] glasgowm#0000
There‚Äôs a handy button to import all repo‚Äôs to GitLab - but needs someone with admin access


[04/18/2022 1:56 PM] MrStahlfelge#0000
with issues and pr data?


[04/18/2022 1:56 PM] MrStahlfelge#0000
and releases


[04/18/2022 2:02 PM] glasgowm#0000


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/965598095507324938/file_11005.jpg


[04/18/2022 2:03 PM] MrStahlfelge#0000
looks good


[04/18/2022 2:13 PM] oskin#0000
> oskin re @MrStahlfelge: Could we add a bounty or a higher priority her... 
 
 I'll prioritize this


[04/18/2022 3:09 PM] oskin#0000
@MrStahlfelge https://github.com/ergoplatform/explorer-backend/pull/201/files


[04/18/2022 3:12 PM] oskin#0000
Dont know why a simple R9 wasn't parsed though. Now even those constants that failed to be parsed will be displayed.


[04/18/2022 3:13 PM] oskin#0000
I've built a test based on a box from your example


[04/18/2022 3:16 PM] MrStahlfelge#0000
thanks. the R9 was not (), I've added a comment with the actual value


[04/18/2022 3:17 PM] MrStahlfelge#0000
can you drop me a note when it is live on explorer, I will test with a new box then


[04/18/2022 3:37 PM] oskin#0000
Ok, updated the test


[04/18/2022 4:03 PM] oskin#0000
> oskin re @MrStahlfelge: can you drop me a note when it is live on expl... 
 
 I've deployed the new version


[04/18/2022 4:05 PM] MrStahlfelge#0000
thanks, will test asap. can you deploy to testnet as well?


[04/19/2022 8:37 AM] kushti#0000
@MrStahlfelge can you switch to another node in the wallet? Or better multiple nodes


[04/19/2022 8:38 AM] kushti#0000
Also, why this group?


[04/19/2022 8:40 AM] MrStahlfelge#0042
Two ways possible but not fast to roll out:
- When https://github.com/ergoplatform/ergo/issues/1652 is merged into the node, wallet app can fetch the list of open rest api nodes and suggest user to switch to another one. 

- can make the app connect to https://api.tokenjay.app/peers/list and use a random node. a bit faster to roll out but still relying on a centralized server, but will help the current situation


[04/19/2022 8:41 AM] MrStahlfelge#0042
for internal talks of core developers that is not marketing related, exactly the problem that we have here


[04/19/2022 8:44 AM] MrStahlfelge#0042
what is weird is that according to the list th 213... server is on current block height


[04/19/2022 8:59 AM] kushti#0000
> kushti re @ErgoBridgeBot: <MrStahlfelge> for internal talks of core deve... 
 
 We have a public group for that


[04/19/2022 9:02 AM] kushti#0000
> kushti re @ErgoBridgeBot: <MrStahlfelge> what is weird is that according... 
 
 Fixed it recently


[04/19/2022 9:47 AM] MrStahlfelge#0042
great. so the question regarding above is if https://github.com/ergoplatform/ergo/issues/1652 will be solved anytime soon so wallet app can detect other nodes. if


[04/19/2022 9:48 AM] MrStahlfelge#0042
if not the second approach might be necessary to go for a better user experience.
we can have this talk in public, but there might be other topics that shouldn't be discussed in public


[04/19/2022 10:36 AM] oskin#0000
> oskin re @MrStahlfelge: thanks, will test asap. can you deploy to test... 
 
 Updated


[04/19/2022 11:02 AM] glasgowm#9381
This one for either sensitive/internal or boring stuff (so it doesn't flood #üõ†‚îÇdevelopment as it gets busier - or #ergonauts ). But it's always been here - just linked to telegram now.


[04/19/2022 11:54 AM] MrStahlfelge#0042
does anyone know how nautilus bypass the problems with connecting a node?


[04/19/2022 6:17 PM] anon_br#0000
> anon_br re @ErgoBridgeBot: <MrStahlfelge> does anyone know how nautilus b... 
 
 It doesn‚Äôt interacts directly with any node. Only explorer api


[04/19/2022 6:18 PM] MrStahlfelge#0000
submitting tx is also done with explorer?
I also thought about doing it that way, but it is the opposite of what we actually want to achieve (decentralisation)


[04/19/2022 8:10 PM] kushti#0000
How hard to just switch to another node?


[04/19/2022 8:10 PM] kushti#0000
By default


[04/19/2022 9:08 PM] MrStahlfelge#0000
switching the default one is not hard, but do we have another node that is managed by us and reliable? I don't know who the other 9 public nodes is controlled by


[04/19/2022 9:11 PM] MrStahlfelge#0000
would be dope is the node that is behind explorer would be exposed via https


[04/19/2022 9:15 PM] MrStahlfelge#0000
and it will take its time before it is rolled out to users


[04/19/2022 9:15 PM] MrStahlfelge#0000
node is out of sync again btw


[04/19/2022 9:49 PM] kushti#0000
> kushti re @MrStahlfelge: switching the default one is not hard, but do ... 
 
 159.65.11.55:9053 , 159.89.116.15:11088 , 165.227.26.175:16042  are under my control


[04/19/2022 9:50 PM] kushti#0000
213 has this problem with being stuck


[04/19/2022 9:50 PM] kushti#0000
idk why


[04/19/2022 9:50 PM] kushti#0000
investigating


[04/19/2022 9:52 PM] MrStahlfelge#0000
can switch to 159 one but until next release and roll out to users we will have two weeks. only necessary if you think problems persist.


[04/19/2022 9:56 PM] kushti#0000
It depends on morphic mostly at this point


[04/19/2022 9:57 PM] kushti#0000
So idk


[04/19/2022 10:07 PM] MrStahlfelge#0000
> MrStahlfelge re @oskin: Updated


[04/19/2022 10:07 PM] MrStahlfelge#0000
Fix works, thanks again

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/966082547949920287/image_2022-04-19_23-07-07.png


[04/19/2022 10:24 PM] kushti#0000
> kushti re @MrStahlfelge: can switch to 159 one but until next release a... 
 
 After some investigation, it seems the issue is related to block candidate generation maybe


[04/19/2022 10:25 PM] kushti#0000
So going to switch mining off on 213


[04/19/2022 10:25 PM] kushti#0000
and switch on on another machine


[04/19/2022 10:27 PM] MrStahlfelge#0000
Thanks. That explains why other nodes are not concerned


[04/19/2022 10:27 PM] kushti#0000
yeah, some concurrency issues likely


[04/19/2022 10:27 PM] kushti#0000
checkign


[04/20/2022 2:18 PM] MrStahlfelge#0000
@kushti_ru the mining api test fails again, guess because it is deactivated now. is one of your other servers now mining and can be used for the test? otherwise I would deactivate it if morphic has no objections


[04/20/2022 2:34 PM] MrStahlfelge#0042
@morphic are you okay with this? it is just a test for the mining rest api and was the reason for most failing tests the last weeks


[04/20/2022 2:35 PM] kushti#0000
Mining is deactivated there before the bug will be fixed by morphic. Will launch mining on another node


[04/20/2022 2:35 PM] kushti#0000
Dunno which one yet


[04/20/2022 2:41 PM] morphic#4133
@kushti How is mining related to the bug?


[04/20/2022 2:42 PM] kushti#0000
It adds another thread, in addition to mempool threads


[04/20/2022 2:43 PM] kushti#0000
From logs, errors mostly happen in the mempool, but maybe global state corrupted in another thread


[04/20/2022 2:43 PM] kushti#0000
Nodes with mining switched off are ok


[04/20/2022 2:43 PM] kushti#0000
With mining switched on problems happened like twice a day recently


[04/20/2022 3:49 PM] morphic#4133
Ah, the last error you added to the issue looks like race condition indeed. Looking for the possible fix.


[04/20/2022 3:56 PM] morphic#4133
I definitely like the first approach more then the second one.


[04/20/2022 3:58 PM] MrStahlfelge#0042
I also do, but it needs the change to be merged into the node and I don't know the time frame here. the last weeks wallet app was unreliable for users and if the change to the node api is not going to happen soon we should implement the API request. it is centralized, but on an optional level - exactly like it is at the moment


[04/20/2022 4:00 PM] morphic#4133
ok, I don't have objections against the second approach


[04/20/2022 4:01 PM] MrStahlfelge#0042
good. we can remove it as soon as there is a better way


[04/20/2022 5:06 PM] morphic#4133
@kushti looks like persistentProver.synchronized { } in Scala doesn't work as expected. 
For the applyModifier method in Ergo the generated code is this
   public Try applyModifier(final ErgoPersistentModifier mod, final Function1 generate) {
      BoxedUnit var10000;
      Object var3;
      if (mod instanceof ErgoFullBlock) {
         ErgoFullBlock var5 = (ErgoFullBlock)mod;
         synchronized(this.persistentProver()){}

         Try var7;
         try {
            int height = var5.header().height();

Doesn't look like expected, the code is not inside syncronized block.


[04/20/2022 5:07 PM] morphic#4133
I tried  in sigma, the same result.


[04/20/2022 5:38 PM] kushti#0978
Need to check, that is not related to the null pointer bug though.


[04/20/2022 5:41 PM] morphic#4133
Yes, but it relates to how I did the fix https://github.com/ScorexFoundation/sigmastate-interpreter/pull/793


[04/20/2022 5:45 PM] kushti#0978
You mean using reentrant lock instead of syncronized?


[04/20/2022 5:46 PM] morphic#4133
yes, my implementation has additional advantage of having the lock method on stack trace in case of exception


[04/20/2022 5:47 PM] kushti#0978
Generated code shown has syncronized wrapping persistentprover


[04/20/2022 5:48 PM] morphic#4133
Yes, but it should wrap the actual code which need syncronization


[04/20/2022 5:49 PM] morphic#4133
I think this `synchronized(this.persistentProver()){}` works like memory fence, and not protecting the actual code


[04/20/2022 5:50 PM] morphic#4133
will also look into byte code


[04/20/2022 5:50 PM] kushti#0978
Please show generated code fully. In the snippet persistentprover is not used in other lines than one with synchronized


[04/20/2022 5:53 PM] morphic#4133


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/966381004950474802/message.txt


[04/20/2022 5:55 PM] kushti#0978
Can switch to your helper method and reentrant lock after updating sigma dep


[04/20/2022 11:16 PM] kushti#0000
Still the issue still there with mining switched off. I guess the problematic node just have more cores than others, so more threads in its threadpool


[04/20/2022 11:40 PM] MrStahlfelge#0000
If that's not the problem, can you switch it on again for our tests to succeed?


[04/20/2022 11:51 PM] kushti#0000
Ok maybe tomorrow


[04/20/2022 11:51 PM] kushti#0000
How do you set creationheight?


[04/21/2022 1:47 AM] glasgowm#9381
hmm, same address shows completely different tx histories

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/966500350775410768/unknown.png
https://cdn.discordapp.com/attachments/668912878992228353/966500351010299926/unknown.png


[04/21/2022 1:47 AM] glasgowm#9381
BW upto something funky (Just noticed it was April **2021** - user thinks they're down 2.3k erg though, and that proxy looks like BW managed to jump in at the same time and refund to his address?)

https://explorer.ergoplatform.com/en/addresses/AXCkonKeLbcrxGQ8V1yj3Efm1DFGz1qujQB9C9CHPtenSyMZ3pvzziGp7zKxJwZT17tsyqSqYyjvQRR7wfUJWzpPXTTMJ6Aaop2LJ5XL2QRenFQa7the2Qq28zSsB4SUwnpgfuoUNqi1iRSv4zPToht1RtfNNVxoyEpYDY9eaVUo9Agwnz2ZWNMhj6bacB77VXLXmEESU2yLH7XyDqGKRrpfhmji6xHED8o6uhyX2KqQfUeYb4q8Jm6fbVq4hG3NxSPWVrcsdAkxJTtZm4n6CixZnvpmRnPseBCsshgGgnVLp27kQn6dJuUJvWjkwuGS96XwZVbLrAXtp4TwfmHtQfLEHM9hCNtVMRBqCzra11txaN8nwZMwSgkg3FYb5kV19e9YWbTVmTgZavwj6xmYAjd5i7GPsSnitBgiAL3uJBQ7ytYP38w


[04/21/2022 2:23 AM] CW#0000
Sandwich attack?


[04/21/2022 6:45 AM] kushti#0000
Tried few times got first result only


[04/21/2022 7:25 AM] MrStahlfelge#0042
Appkit sets it from the preheader if I remember correctly. Might be better to lower the number or use the current height but @morphic will know better


[04/21/2022 9:10 AM] morphic#4133
which issue? Do you have new exception stack trace?


[04/21/2022 9:11 AM] morphic#4133
What is the question exactly?


[04/21/2022 9:14 AM] MrStahlfelge#0042
first question is if I am right with my thought that appkit uses preheader height from node to set the height of newly created tx.
I think this is causing the problems submitting transactions to the node at the moment. it might be a bit more safe to use the node's current block height or subtract 1 from the preheader height to work around problems, but it is not as correct and I am not sure if we should change it this way (that's the second question)


[04/21/2022 9:17 AM] morphic#4133
"causing the problems submitting transactions" which problems?


[04/21/2022 9:21 AM] MrStahlfelge#0042
400: {
  "error" : 400,
  "reason" : "bad.request",
  "detail" : "Malformed transaction: Transaction outputs should have creationHeight not exceeding block height.  731399 <= 727346 is not true

search for this message here in discord, you'll see a lot of users are affected


[04/21/2022 12:51 PM] glasgowm#9381
I got it when clicking through vs the URL so maybe just a UI glitch showing the wrong address.


[04/21/2022 12:51 PM] glasgowm#9381
Not sure, since it was so long ago I feel like we would've had more complaints if this was possible. But not sure what's going on in that proxy address


[04/21/2022 1:21 PM] kushti#0978
Yeah it is the same


[04/21/2022 1:43 PM] kushti#0000
@MrStahlfelge mining is now on @ http://159.65.11.55:9053/info


[04/21/2022 1:44 PM] kushti#0000
Testing 4.0.26 candidate there


[04/21/2022 1:44 PM] MrStahlfelge#0042
thanks will use this one for appkit tests üëç


[04/21/2022 1:44 PM] kushti#0000
For 213. I think to stick to stable releases and no mining

{Reactions}
üëç 

[04/21/2022 1:45 PM] kushti#0000
Also tried custom threadpool config there, for now running well


[04/21/2022 3:36 PM] morphic#4133
same issue and exactly the same exception? Can you post here the stack trace?


[04/21/2022 3:53 PM] morphic#4133
this line is assigning creationHeight to each OutBox  https://github.com/ergoplatform/ergo-appkit/blob/9e19c13d82966eaee59433d16c4fb987bea363a7/lib-impl/src/main/java/org/ergoplatform/appkit/impl/OutBoxBuilderImpl.scala#L71
This means, if the value is not explicitly specified, then it is taken from ctx.getHeight, which is implemented as `_headers.get(0).getHeight()`


[04/21/2022 3:55 PM] morphic#4133
However, the creationHeight is not required to be exact number, it can be less, so I think we can change the default formula to 
`creationHeight = _creationHeightOpt.getOrElse(_txB.getCtx.getHeight - n)` for some reasonable n > 0


[04/21/2022 4:15 PM] MrStahlfelge#0042
okay, my fault, I had something else in memory. when it works like that, the error message from the node is even more weird. it means that it does not accept a creation height that equals to the last block it reports. Or am I overseeing something?


[04/21/2022 5:23 PM] kushti#0000
It seems height is taken from best header, but best fullblock height used during validation


[04/21/2022 5:24 PM] kushti#0000
Thus tx is being rejected as it has creation height from future


[04/21/2022 5:24 PM] kushti#0000
When the node is stuck


[04/21/2022 6:02 PM] MrStahlfelge#0000
Can this get changed on the node? Or is there a way to get the height that is expected beforehand?


[04/21/2022 6:06 PM] kushti#0000
What kind of change are you talking about?


[04/21/2022 6:07 PM] kushti#0000
The node can not use other height than after best full block during the validation


[04/21/2022 6:08 PM] kushti#0000
And it is reporting both heights


[04/21/2022 6:08 PM] kushti#0000
So it is appkit which is using headers height I guess


[04/21/2022 6:09 PM] MrStahlfelge#0000
Yes. Which API can Appkit use that reports the height that it should use to be safe?


[04/21/2022 6:16 PM] kushti#0000
I guess appkit is using /info, and both heights are there


[04/21/2022 6:31 PM] MrStahlfelge#0000
> MrStahlfelge re @kushti_ru: I guess appkit is using /info, and both height... 
 
 at the moment it is using blocks/lastHeaders/ so completely different source but probably equals to info.headersHeight
so just to be sure I understand correct: using info.fullHeight is the safe option?


[04/21/2022 6:44 PM] MrStahlfelge#0000
also @kushti_ru can you think about in which version this will be merged? https://github.com/ergoplatform/ergo/pull/1662
if it is not anytime soon I will spend the efforts to use a server-side api to suggest nodes to the wallet app, but if it is soon it is better to implement it in the right way from the beginning

{Embed}
https://github.com/ergoplatform/ergo/pull/1662
I1652 peers rest api address by pragmaxim ¬∑ Pull Request #1662 ¬∑ er...
See #1652
I gave a lot of thought into backward compatibility, PeerSpec is using hand-written writer/reader and new restApiUrl optional field is at the end, with a little hack that allows for readi...
https://images-ext-2.discordapp.net/external/BMAuHe92kfR6mBpS4e6dbUg3d9uC77XlrJ_FDbnk094/https/opengraph.githubassets.com/6f3a723ee267bbf920a0180c99364c41c8524d7fef9e4f4bbe6745d570bb1c9a/ergoplatform/ergo/pull/1662


[04/21/2022 6:55 PM] kushti#0000
Can target for 4. 0.27


[04/21/2022 6:55 PM] kushti#0000
4.0.26 fixed


[04/21/2022 6:59 PM] MrStahlfelge#0000
that sounds great, when is 4.0.27 to be released?


[04/21/2022 7:01 PM] kushti#0000
> kushti re @MrStahlfelge: that sounds great, when is 4.0.27 to be releas... 
 
 Idk, 4.0.26 under testing still


[04/21/2022 7:09 PM] MrStahlfelge#0000
I see. well setting version 4.0.27 is a first step. :)
can you say something about my question regarding info.fullHeight? If this is to be used, I will propose a change to appkit to improve the situation for the users.


[04/21/2022 7:19 PM] kushti#0000
> kushti re @ErgoBridgeBot: <morphic> same issue and exactly the same exce... 
 
 java.lang.NullPointerException: null
  at scalan.Base.createDefinition(Base.scala:795)
  at sigmastate.eval.RuntimeIRContext.sigmastate$eval$RuntimeCosting$$super$createDefinition(IRContext.scala:145)
  at sigmastate.eval.RuntimeCosting.createDefinition(RuntimeCosting.scala:1046)
  at sigmastate.eval.RuntimeCosting.createDefinition$(RuntimeCosting.scala:1045)
  at sigmastate.eval.RuntimeIRContext.createDefinition(IRContext.scala:145)
  at scalan.Base.findOrCreateDefinition(Base.scala:782)
  at scalan.Base.toExp(Base.scala:814)
  at scalan.Base.reifyObject(Base.scala:585)
  at scalan.Library.$anonfun$_specialPredef$1(Library.scala:41)
  at scalan.MutableLazy.value(MutableLazy.scala:13)
  at scalan.Library.specialPredef(Library.scala:42)
  at scalan.Library.specialPredef$(Library.scala:42)
  at sigmastate.eval.RuntimeIRContext.specialPredef(IRContext.scala:145)
  at sigmastate.eval.Evaluation.getDataEnv(Evaluation.scala:333)


[04/21/2022 7:26 PM] kushti#0000
> kushti re @MrStahlfelge: I see. well setting version 4.0.27 is a first ... 
 
 yes, it could be safer to use info.fullHeight


[04/21/2022 7:27 PM] MrStahlfelge#0042
ok, great. @morphic I will do a PR for a change tomorrow. if you see any problems with the change let me know before if possible


[04/21/2022 7:43 PM] morphic#4133
Hard to tell, depends on the changes you propose. fullHeight is not directly available in OutBoxBuilderImpl and also is not present in BlockchainContext


[04/21/2022 7:44 PM] MrStahlfelge#0042
that is no problem, the information is prepared when the context is built. no problem to change from current use of lastHeaders to infoapi there


[04/21/2022 7:45 PM] morphic#4133
You are not using the fixed version from https://github.com/ScorexFoundation/sigmastate-interpreter/pull/793, right?


[04/21/2022 7:46 PM] morphic#4133
BTW, snapshot has been published https://oss.sonatype.org/content/repositories/snapshots/org/scorexfoundation/sigma-state_2.12/4.0.5-5-038d066e-SNAPSHOT/


[04/25/2022 6:51 PM] MrStahlfelge#0000
node is out of sync


[04/25/2022 6:51 PM] MrStahlfelge#0000
seems to be pretty fresh


[04/25/2022 7:12 PM] kushti#0000
Yes


[04/25/2022 7:12 PM] kushti#0000
Fixing


[04/25/2022 7:16 PM] kushti#0000
Synced


[04/25/2022 7:17 PM] kushti#0000
Will update to proposed fix soon


[04/25/2022 7:17 PM] kushti#0000
Tried threadpool settings


[04/25/2022 7:17 PM] kushti#0000
Worked for about 36 hours


[04/25/2022 7:19 PM] MrStahlfelge#0000
which is more than before!


[05/01/2022 11:00 PM] kushti#0000
> kushti re @ErgoBridgeBot: <morphic> BTW, snapshot has been published htt... 
 
 Ok, running Ergo node with it on 213. server now


[05/02/2022 5:46 PM] MrStahlfelge#0000
Aneta minting causes Explorer issues. Would be interesting to know what exactly is giving the explorer to much pressure. Do we have any logs to know?


[05/02/2022 5:51 PM] oskin#0000
> oskin re @MrStahlfelge: Aneta minting causes Explorer issues. Would be... 
 
 Sure


[05/02/2022 5:54 PM] MrStahlfelge#0000
would be great if you check what exactly is causing the outage right now so that we know if it is something we can improve in the future


[05/02/2022 6:23 PM] oskin#0000
> oskin re @MrStahlfelge: would be great if you check what exactly is ca... 
 
 No errors in logs, all services are working. Looks like explorer is overloaded.


[05/02/2022 6:24 PM] MrStahlfelge#0000
what calls cause the overload? is there any endpoint called too much?


[05/02/2022 6:25 PM] oskin#0000


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/970737845939625984/file_14482.jpg


[05/02/2022 6:25 PM] oskin#0000
Idk, looks like a ddos


[05/02/2022 6:27 PM] kushti#0000
Some minting event


[05/02/2022 6:27 PM] oskin#0000
API is working, but even simplest requests take 10-20 secs


[05/02/2022 6:27 PM] kushti#0000
And maybe an app is making too many requests


[05/02/2022 6:28 PM] kushti#0000
Any patterns so a chance to cache?


[05/02/2022 6:30 PM] oskin#0000
> oskin re @kushti_ru: Any patterns so a chance to cache? 
 
 We've implemented custom request caching sheme for ErgoDEX analytics where invalidation is triggered when a new block is discovered


[05/02/2022 6:30 PM] oskin#0000
We can use it in explorer API (except for mempool API)


[05/02/2022 6:31 PM] kushti#0000
Yeah


[05/02/2022 6:35 PM] anon_br#0000
> anon_br re @oskin: We've implemented custom request caching sheme... 
 
 Great, this could really help


[05/02/2022 6:36 PM] anon_br#0000
I'd imagine the main bottleneck is the database, right?


[05/02/2022 6:36 PM] oskin#0000
> oskin re @anon_br: I'd imagine the main bottleneck is the databas... 
 
 Of course


[05/02/2022 6:38 PM] MrStahlfelge#0000
> MrStahlfelge re @kushti_ru: And maybe an app is making too many requests 
 
 yeah that's exactly why I've asked, maybe to find the cause to improve


[05/02/2022 6:40 PM] oskin#0000
@kushti_ru

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/970741464793497650/file_14494.jpg


[05/02/2022 6:40 PM] oskin#0000
This could help to find out which requests affect the backend more


[05/02/2022 6:41 PM] oskin#0000
Maybe
Has anyone used this feature on CF?


[05/02/2022 6:45 PM] kushti#0000
Nope


[05/02/2022 6:45 PM] kushti#0000
From logs not enough info?


[05/02/2022 6:50 PM] oskin#0000
There are tons of logs. With the current rotation settings I guess I have access to the logs for the past ~10 mins


[05/02/2022 7:00 PM] kushti#0000
Ok tell me what to do


[05/04/2022 5:06 PM] kushti#0000
Forwarded from ErgoBridgeBot: <AggerGakker> Just wanted to post here.
The 13th of may will probably see a large influx for hashrate as a lot of miners will be testing in prep for the merge. We can probably experience a LARGE variance in blocktimes while it goes on ( 2-3 days ). Just wanted to give a heads up


[05/04/2022 5:06 PM] kushti#0000
Will watch over


[05/05/2022 5:59 PM] glasgowm#0000
anyone know who runs this?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/971818488660389948/file_15546.jpg


[05/05/2022 5:59 PM] glasgowm#0000
Forwarded from unknown: do we know who runs the public node ?


[05/05/2022 5:59 PM] glasgowm#0000
Forwarded from unknown: http://paidincrypto.io/swagger


[05/05/2022 5:59 PM] glasgowm#0000
Forwarded from unknown: he needs to update the ssl certificate because we can't use the node lol


[05/05/2022 6:02 PM] kushti#0000
Hmm no idea


[05/07/2022 9:49 AM] glasgowm#9381
Can someone with access change the git logo to the current one or give me perms to do it.

https://github.com/ergoplatform/awesome-ergo/tree/master/graphics/Logo

This was made before I joined I think so fairly out of date. @Dmitry Usov can you change it on explorer too

https://github.com/ergoplatform/explorer-frontend/issues/171


[05/07/2022 4:55 PM] Dmitry Usov#0134
Yep


[05/10/2022 11:45 AM] MrStahlfelge#0000
explorer is really fast today


[05/10/2022 12:06 PM] CW#0000
Ergnome mint at 10pm UTC. 450 nfts will be available, might cause a little congestion

{Reactions}
üëÄ 

[05/10/2022 6:53 PM] glasgowm#0000
Forwarded from herominerss: It's like the network is split. Nodes does not appear in the same block.


[05/10/2022 6:53 PM] glasgowm#0000
Forwarded from herominerss:


[05/10/2022 6:53 PM] glasgowm#0000


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/973643927888486460/file_17248.jpg


[05/10/2022 7:02 PM] glasgowm#0000
Forwarded from Arohbe: Not sure why.....Everything is ok on our end and nodes are at right height


[05/13/2022 7:32 PM] MrStahlfelge#0000
for the last 48 hours, I get timeouts (after 30 seconds) mixed with very fast responses for the same explorer requests. wanted to raise this here as this might be a problem with one of the instances while the others are running well?


[05/13/2022 7:33 PM] kushti#0000
Same feeling @oskin


[05/13/2022 7:51 PM] oskin#0000
Let me check


[05/13/2022 8:12 PM] oskin#0000
All instances respond in relatively small time


[05/13/2022 8:12 PM] oskin#0000
Any particular requests?


[05/13/2022 8:37 PM] MrStahlfelge#0000
no, just usual balance checks from the wallet


[05/13/2022 8:39 PM] MrStahlfelge#0000
right now it looks good, but throughout the day I had the timeout often


[05/16/2022 12:39 AM] CW#0000
https://www.coindesk.com/markets/2022/05/15/first-mover-asia-singapores-regulators-will-be-eyeing-local-crypto-companies-after-terra-collapse-bitcoin-rebounds/

{Embed}
https://www.coindesk.com/markets/2022/05/15/first-mover-asia-singapores-regulators-will-be-eyeing-local-crypto-companies-after-terra-collapse-bitcoin-rebounds/
First Mover Asia: Singapore‚Äôs Regulators Will Be Eyeing Local Crypt...
Terraform Labs, the Singapore-registered company behind the Terra protocol, doesn‚Äôt have a permanent office in the city-state; most major cryptos spent Sunday in the green.
https://images-ext-1.discordapp.net/external/TGjTw2zvuq9Re9aShmrChsBHpKJNKkNUIQ0XnY5vFgI/https/www.coindesk.com/resizer/HdDsRsTn209V_iHXmxQU9KflZDg%3D/1200x628/center/middle/cloudfront-us-east-1.images.arcpublishing.com/coindesk/Y33EFS6PKFAXDKXTEWYTYRI46Y.jpeg


[05/16/2022 12:40 AM] Armeanio#0000
(re @seedubya : *https://www.coindesk.com/markets/2022/05/15/first-mover-asia-singapores-regulators-will-be-eyeing-local-crypto-companies-after-terra-collapse-bitcoin-rebounds/*) 
 
 Fun fun


[05/16/2022 12:40 AM] CW#0000
Doesn't say too much, just something to keep an eye on


[05/16/2022 12:40 AM] Armeanio#0000
(re @seedubya : *Doesn't say too much, just something to keep an eye on*) 
 
 Yup good thing to watch.


[05/16/2022 9:42 AM] kushti#0000
Talking with Emurgo folks


[05/16/2022 9:42 AM] kushti#0000
On what are they doing in regards with restoring Ergo wallet


[05/16/2022 10:21 AM] MrStahlfelge#0000
People should have at least a way to show their seed to get out


[05/16/2022 10:35 AM] glasgowm#0000
(re @MrStahlfelge : *People should have at least a way to show their seed to get out*) 
 
 Didn‚Äôt think of that actually - if they push an update then no need to know their seed.


[05/16/2022 10:36 AM] glasgowm#0000
From the looks of their response - they want us to restructure the entire backend, but seems @anon_br struggled to get changes merged/accepted and was met with pushback when trying to fix


[05/16/2022 10:37 AM] glasgowm#0000
Forwarded from Bekoey21: Yes, we are awaiting for ERGO devs to fix their backends
Nothing further we can do until that gets resolved, but I will definitely let you guys know when it has. 
Team YOROI


[05/16/2022 11:09 AM] oskin#0000
(re @glasgowm : *Yes, we are awaiting for ERGO devs to fix their backends
Nothing further we can do until that gets resolved, but I will definitely let you guys know when it has. 
Team YOROI*) 
 
 A liitle hard to talk with Emurgo. I'm trying to explain that those backends are actually thier infrastructure and Ergo devs have nothing to do with them. Thought, no result so far


[05/19/2022 10:08 AM] glasgowm#0000
Forwarded from 8th: I'm having issues with balance syncing correctly for Yoroi wallet. Support team said "Yoroi is having an issue with Ergo infrastructure, which is causing sync issues and balance discrepancies between the network and the local Yoroi wallet. Our engineers are constantly working on fixing this issue, however, we required input from Ergo team which made the process delayed. 
 As soon as the issue is addressed, we will notify our users on our official channel i.e Twitter. "


[05/19/2022 11:02 AM] MrStahlfelge#0000
Good old blame game


[05/21/2022 6:31 PM] anon_br#0000
Hello, I'm replicating a message I sent in the Ledger workgroup, so those not present in that group can opine


[05/21/2022 6:32 PM] anon_br#0000
Currently, the only app limitation is 10 tokens per transactions, however there is no way to check the recipient addresses on device's screen. Due to  device's severe memory limitations (3.5kb), adding this might impose a limit of something like 5 output boxes, excluding fee and change boxes.
Theoretically it can be done as described below:
- P2PK: addresses can be displayed encoded in 7+7 chars format (example: 9gjLgqj‚Ä¶uncN3uY);
- P2S: due to undefined size of P2S ErgoTree, it should be displayed as a hex string, and since the beginning of various ErgoTrees string can be very similar, the last 14 chars can be displayed (example: ‚Ä¶01a390c1a7730f). Personally I see this as problem for regular users, since there is no easy way to verify ErgoTree <> encoded address equivalence.
Regarding the 5-output limit, I don't see this as a problem for P2PK, but I'm not sure about P2S.


[05/21/2022 6:32 PM] anon_br#0000
Please share your thoughts


[05/24/2022 2:45 PM] glasgowm#9381
Is it only outputs that's the issue? (change would be fine if the user has >10 tokens in the box?)


[05/24/2022 2:48 PM] anon_br#0000
No, it is 10 tokens for the whole transaction, change box included


[05/24/2022 2:49 PM] glasgowm#9381
So what happens if the person has accumulated 12 tokens and attempts to send 1 somewhere


[05/24/2022 2:51 PM] anon_br#0000
He will get a ‚ÄúToo many tokens‚Äù error from ledger device, the only way to unlock these tokens will be to restore the wallet from device mnemonics and create new boxes with max 10 tokens each


[05/24/2022 2:53 PM] glasgowm#9381
Not as bad then, I'd maybe add a bit into the error message as on first impression 'stuck' sounds permanent


[05/24/2022 2:53 PM] anon_br#0000
A good practice should be create these boxes with a minimum erg amount required, this way we prevent these boxes to be used for fee paying, for example


[05/24/2022 2:53 PM] glasgowm#9381
Does ADA face the same limitation?


[05/24/2022 2:55 PM] anon_br#0000
Idk, will try to find out. Almost all ledger app has this kind of limitations. That‚Äôs why some blockchains does not recommend to mine directly to a ledger paired wallet


[05/24/2022 2:56 PM] anon_br#0000
Due to ridiculous memory amount


[05/24/2022 2:56 PM] anon_br#0000
(re  : *<Glasgow> Not as bad then, I'd maybe add a bit into the error message as on first impression 'stuck' sounds permanent*) 
 
 You are right, will think something better


[05/24/2022 3:18 PM] MrStahlfelge#0000
(re  : *<Glasgow> Not as bad then, I'd maybe add a bit into the error message as on first impression 'stuck' sounds permanent*) 
 
 not as bad as really stuck, but on the other hand really annoying. ledger uses the same mnemonic for all wallets so using it will make you need to reset the whole device, if I am right


[06/05/2022 8:40 PM] MrStahlfelge#0000
@kushti_ru node is 10 blocks behind at the moment, wanted to let you know if you want to check if something is wrong


[06/05/2022 8:44 PM] MrStahlfelge#0000
ah now it is back synced


[06/05/2022 8:46 PM] kushti#0000
Hmm weird


[06/05/2022 8:47 PM] kushti#0000
213 node?


[06/05/2022 8:53 PM] MrStahlfelge#0000
yes


[06/05/2022 8:53 PM] MrStahlfelge#0000
but recovered by itself


[06/07/2022 6:33 PM] kushti#0000
@oskin please check explorer discord channel , some guy broke explorers (testnet,mainnet, getblok's, likely others)


[06/07/2022 7:41 PM] oskin#0000
(re @kushti_ru : *@oskin please check explorer discord channel , some guy broke explorers (testnet,mainnet, getblok's, likely others)*) 
 
 The fix is delpoyed on production


[06/07/2022 7:41 PM] oskin#0000
https://github.com/ergoplatform/explorer-backend/pull/220

{Embed}
https://github.com/ergoplatform/explorer-backend/pull/220
UTF-8 string validation in EIP-4 by oskin1 ¬∑ Pull Request #220 ¬∑ er...
https://images-ext-1.discordapp.net/external/FVJOyUgrA0NaOPKp4hDG2pUwFeEV81AddLLhtc5-i3E/https/opengraph.githubassets.com/04edd1b458a278dce450df00efddb77ef7d2728d514c7919c3283ba2640909c1/ergoplatform/explorer-backend/pull/220


[06/07/2022 7:44 PM] oskin#0000
Please update your ErgoExplorer backend instances to 9.16.4


[06/07/2022 9:25 PM] kushti#0000
(re @MrStahlfelge : *but recovered by itself*) 
 
 witnessed another delay, likely caused by threadpool settings (made during null-pointer bug days)


[06/08/2022 7:59 PM] glasgowm#0000
Vulnerability Type: Unauthorised Access, Leads to sending legitimate emails

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/984169824986996826/file_24691.jpg


[06/08/2022 7:59 PM] glasgowm#0000
Someone reported 

> I can send legitimate emails to anyone in inbox by using @ergoplatform.org


[06/08/2022 8:05 PM] MrStahlfelge#0000
is explore api down?


[06/08/2022 8:05 PM] MrStahlfelge#0000
ah not completely but slow and giving 503 errors


[06/08/2022 8:10 PM] kushti#0000
Yeah @oskin Explorer is terribly slow


[06/08/2022 11:31 PM] kushti#0000
@MrStahlfelge 213 server got into problems for some time again, and it could be the case that the whole server is compromised


[06/08/2022 11:31 PM] kushti#0000
How hard to switch to another one in the wallet by default now?


[06/08/2022 11:42 PM] oskin#0000
Is the problem still persists?


[06/08/2022 11:43 PM] kushti#0000
syncing now


[06/08/2022 11:43 PM] oskin#0000
Seems to work normally now


[06/08/2022 11:43 PM] kushti#0000
But I've found a shell on the server


[06/08/2022 11:43 PM] kushti#0000
Injected back in April


[06/08/2022 11:43 PM] kushti#0000
So we can expect anything to happen there


[06/08/2022 11:44 PM] oskin#0000
(re @kushti_ru : *But I've found a shell on the server*) 
 
 Shell?


[06/08/2022 11:44 PM] oskin#0000
On 213?


[06/08/2022 11:44 PM] kushti#0000
yeah


[06/08/2022 11:44 PM] kushti#0000
Hacker's shell


[06/08/2022 11:45 PM] kushti#0000
means the server somehow got hacked


[06/08/2022 11:45 PM] kushti#0000
maybe via website which is also there


[06/09/2022 6:40 AM] MrStahlfelge#0000
(re @kushti_ru : *How hard to switch to another one in the wallet by default now?*) 
 
 Not hard but will need time for roll out.
Better alternative is to use node from tokenjay API, I just did not implement this because I hoped that the addition that will help to detect nodes in decentralized way will be merged into node soon


[06/09/2022 12:38 PM] MrStahlfelge#0000
When do you think this one is merged and released @kushti_ru 
https://github.com/ergoplatform/ergo/pull/1662

{Embed}
https://github.com/ergoplatform/ergo/pull/1662
I1652 peers rest api address by pragmaxim ¬∑ Pull Request #1662 ¬∑ er...
See #1652
I gave a lot of thought into backward compatibility, PeerSpec is using hand-written writer/reader and new restApiUrl optional field is at the end, with a little hack that allows for readi...
https://images-ext-1.discordapp.net/external/qqaOL9GX2dBYFOq6EBWjP56AiyARCsYr3Gd6fywcpZg/https/opengraph.githubassets.com/1074f142c417d75fe39869bc022ddeb771502ac05107c7ae8a59bfea00d2d921/ergoplatform/ergo/pull/1662


[06/09/2022 3:15 PM] kushti#0000
Going to review it


[06/12/2022 10:25 PM] MrStahlfelge#0000
Explorer API seems down


[06/12/2022 10:27 PM] kushti#0000
Down or randomly responding?


[06/12/2022 10:28 PM] kushti#0000
@oskin


[06/12/2022 10:40 PM] MrStahlfelge#0000
Responds sometimes but seems less than 50% of cases.


[06/12/2022 10:41 PM] MrStahlfelge#0000
Very unreliable last days


[06/13/2022 11:27 AM] oskin#0000
Looks like workload has increased. Postgres servers are mostly overloaded with selects


[06/13/2022 11:28 AM] oskin#0000
Luckily we can scale explorers linearly without any problem


[06/13/2022 11:31 AM] oskin#0000
This may be the cause of those spikes


[06/13/2022 9:32 PM] glasgowm#0000
(re @oskin : *Luckily we can scale explorers linearly without any problem*) 
 
 Can we just add a bunch to fix these issues short term then? Lots of complaints. Server costs negligible in comparison to public perception / friction for users


[06/13/2022 9:36 PM] oskin#0000
(re @glasgowm : *Can we just add a bunch to fix these issues short term then? Lots of complaints. Server costs negligible in comparison to public perception / friction for users*) 
 
 Sure
@kushti_ru let‚Äôs order 2 more servers


[06/13/2022 9:56 PM] kushti#0000
(re @oskin : *Sure
@kushti_ru let‚Äôs order 2 more servers*) 
 
 are you using the last one ordered btw ?


[06/13/2022 9:56 PM] kushti#0000
3 servers now ?


[06/14/2022 7:00 AM] oskin#0000
Yes


[06/14/2022 7:03 AM] kushti#0000
(re @oskin : *Yes*) 
 
 Ok the same configuration


[06/14/2022 7:03 AM] kushti#0000
?


[06/14/2022 7:03 AM] oskin#0000
Yes, should be enough


[06/14/2022 9:04 AM] kushti#0000
credentials DMed


[06/14/2022 9:05 AM] kushti#0000
also, response time sometimes ok, sometimes not, maybe we should switch weak server off when normal one is synced ?


[06/14/2022 7:53 PM] Armeanio#0000
(re @glasgowm : *Can we just add a bunch to fix these issues short term then? Lots of complaints. Server costs negligible in comparison to public perception / friction for users*) 
 
 Needed getting complaints.


[06/14/2022 8:02 PM] oskin#0000
@glasgowm can we find the latest snapshot of Explorer db in our community?


[06/14/2022 8:02 PM] oskin#0000
We can‚Äôt take snapshots from production instances


[06/14/2022 8:03 PM] anon_br#0000
Here: https://drive.google.com/drive/folders/1xHY5BljLayVEik8HfyG4A25WJzNY9oJa?usp=sharing


[06/14/2022 8:41 PM] oskin#0000
(re @anon_br : *Here: https://drive.google.com/drive/folders/1xHY5BljLayVEik8HfyG4A25WJzNY9oJa?usp=sharing*) 
 
 Thanks


[06/15/2022 10:43 AM] MrStahlfelge#0000
probably it would help to get a lot load off from wallet app's side if the concise param would be implemented.


[06/16/2022 11:23 AM] glasgowm#0000
(re @glasgowm : *Vulnerability Type: Unauthorised Access, Leads to sending legitimate emails*) 
 
 Fix:

There is a dmarc record to monitor and successfully block such type of emails. Set the dmarc policy to quarantine or reject. By updating the dmarc policy to quarantine/reject, mail servers will automatically qauarntine/reject the emails that will fail the authentication tests.
Set dmarc record like this:

v=DMARC1; p=reject; rua=mailto:ergoplatform@protonmail.com


[06/21/2022 8:31 AM] kushti#0000
Forwarded from kushti_ru: Cloudflare Status https://www.cloudflarestatus.com/

{Embed}
https://www.cloudflarestatus.com/
Cloudflare Status
Welcome to Cloudflare's home for real-time and historical data on system performance.


[06/21/2022 8:31 AM] kushti#0000
CF issue likely


[06/21/2022 8:37 AM] oskin#0000
(re @kushti_ru : *Is new server working?*) 
 
 It‚Äôs syncing


[06/21/2022 8:38 AM] oskin#0000
But we‚Äôve tuned settings of old instances and the performance improved


[06/21/2022 8:38 AM] oskin#0000
With the new instance plugged in should be even better


[06/21/2022 8:39 AM] kushti#0000
Any sync ETA?


[06/21/2022 8:42 AM] MrStahlfelge#0000
Performance is good last days, nearly all requests succeed


[06/21/2022 1:37 PM] oskin#0000
(re @kushti_ru : *Any sync ETA?*) 
 
 Should be ready tomorrow


[06/21/2022 1:50 PM] anon_br#0000
(re @oskin : *Should be ready tomorrow*) 
 
 Is it possible to attach ergo-graphql to current instances? v0.1.0 is done )


[06/26/2022 3:47 PM] oskin#0000
(re @anon_br : *Is it possible to attach ergo-graphql to current instances? v0.1.0 is done )*) 
 
 Can you create a pr to explorer-backend?


[06/26/2022 4:48 PM] anon_br#0000
(re @oskin : *Can you create a pr to explorer-backend?*) 
 
 Sure, what do you have in mind? Should I add the server in the `modules` path?


[06/26/2022 9:12 PM] oskin#0000
(re @anon_br : *Sure, what do you have in mind? Should I add the server in the modules path?*) 
 
 What‚Äôs required in order to support graphql? Does it require a separate server , or we can add it to the existing one?


[06/26/2022 9:12 PM] oskin#0000
Sorry, I started with a wrong question


[06/26/2022 9:13 PM] oskin#0000
(re @oskin : *Can you create a pr to explorer-backend?*) 
 
 Sorry, I started with a wrong question


[06/27/2022 2:16 PM] anon_br#0000
(re @oskin : *What‚Äôs required in order to support graphql? Does it require a separate server , or we can add it to the existing one?*) 
 
 Since it is dockerized, I think it can be added to exiting one, it‚Äôs a very light build, just requires a node address for transaction relaying, redis and explorer db access

You can see the `.env` file here: https://github.com/capt-nemo429/ergo-graphql#environment-file-pattern

{Embed}
https://github.com/capt-nemo429/ergo-graphql
GitHub - capt-nemo429/ergo-graphql: Ergo Platform GraphQL server
Ergo Platform GraphQL server. Contribute to capt-nemo429/ergo-graphql development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/SzhPh8vKlEBbZ3mOODxYFi78KsVoXCaFWV5p_226KC8/https/opengraph.githubassets.com/c020f2a61f62d165641d0ef9b5083cb650528931e00b6635ee9f163491641ec4/capt-nemo429/ergo-graphql


[06/27/2022 2:20 PM] anon_br#0000
Maybe it can be mapped as `/graphql/`


[06/27/2022 3:28 PM] oskin#0000
Ok, got it


[06/28/2022 10:47 PM] kushti#0978
@morphic @MrStahlfelge the node is getting error
Failed to sign boxes due to Don't know how to compute Sized for type PrimitiveType(Unit,[Lscala.runtime.BoxedUnit;@15de0bc): Vector(ErgoBo...


[06/28/2022 10:47 PM] kushti#0000
```
{
  "requests": [{
  "address": "9fearGvV3scZPeW11habtvyhAUwp4rgKqAWmUtQLKTANu5LMXru",
  "value": 883038000000,
  "assets": []
}],
  "fee": 2000000,
  "inputsRaw": ["8083c2c5d919101304020e240008cd0294c72da23d961940c57dbf6238386faabc6132cfc66e7f227fa81df1e5a10201040004000e20003bd19d0187117f130b62e1bcab0939929ff5c7709f843c5c4dd158949285d0040005c08db7010594a6b085b26004000e20b17b86a2a940acd0a183c36a006746f9b97bfe2930ea1080337f4f451ba004f604040e240008cd03685e5b930df266e9f84ee860c2dac45960014638baa32ad51ac160d335377c18040804040e207d672d1def471720ca5782fd6473e47e796d9ac0c138d9911346f118b2f6d9d905000580be920108cd025747b644cbfbcec40696f4ef1a28796211b649b7b18e4c1b639076a546612bbd0404d803d601b2a5730000d6027301d603b2a5730200eb02d1edededededed93c272017202938cb2db63087201730300017304938cb2db630872017305000273068f7ea305730793c5b2db6501fe7308007309ed93c2b2a5730a00730b93b1a5730c938cb2db63087203730d0001730eea02ea02d1ed92c1720399b0a4730fd9010441639a8c720401c18c720402731093c2720372027311d193b1a57312dfbe2f000662626262623c0e400e03505250041850757263686173652031353030303030205369672052535652f7e745ed475ab5602cc8e9e503de7563841436022dfb2205c2857b4d4c53e600","80ade204101304020e240008cd0294c72da23d961940c57dbf6238386faabc6132cfc66e7f227fa81df1e5a10201040004000e20003bd19d0187117f130b62e1bcab0939929ff5c7709f843c5c4dd158949285d0040005c08db7010594a6b085b26004000e20b17b86a2a940acd0a183c36a006746f9b97bfe2930ea1080337f4f451ba004f604040e240008cd03685e5b930df266e9f84ee860c2dac45960014638baa32ad51ac160d335377c18040804040e207d672d1def471720ca5782fd6473e47e796d9ac0c138d9911346f118b2f6d9d905000580be920108cd025747b644cbfbcec40696f4ef1a28796211b649b7b18e4c1b639076a546612bbd0404d803d601b2a5730000d6027301d603b2a5730200eb02d1edededededed93c272017202938cb2db63087201730300017304938cb2db630872017305000273068f7ea305730793c5b2db6501fe7308007309ed93c2b2a5730a00730b93b1a5730c938cb2db63087203730d0001730eea02ea02d1ed92c1720399b0a4730fd9010441639a8c7 <clipped message>


[06/28/2022 10:48 PM] kushti#0978
request


[06/28/2022 10:48 PM] kushti#0978
(full version in TG)


[06/28/2022 10:48 PM] kushti#0978
the problem is cause of dummy registers ?


[06/28/2022 10:56 PM] MrStahlfelge#0000
This is when signed by node itself? Just tested when signed by app the dummy registers can be sent via 213 node


[06/29/2022 8:45 AM] kushti#0000
Appkit?


[06/29/2022 8:46 AM] kushti#0000
What error you are getting there?


[06/29/2022 10:01 AM] MrStahlfelge#0000
no error when signing a box containing only a unit. we use this for the attachments (purpose message)


[06/29/2022 11:44 AM] kushti#0000
But you tested this contract ?


[06/29/2022 12:13 PM] MrStahlfelge#0000
No, just tested signing a transaction with a box with unit registers and submitting it


[06/29/2022 12:23 PM] kushti#0000
But here we have a contract for which costing fails


[06/29/2022 12:23 PM] kushti#0000
Without registers passed


[06/29/2022 12:24 PM] kushti#0000
Why registers added ?


[06/29/2022 12:24 PM] kushti#0000
SigUSD now switched ErgoWallet off


[06/29/2022 12:30 PM] kushti#0000
Ok lets discuss during today's devs chat


[06/29/2022 12:30 PM] MrStahlfelge#0000
can you rephrase? what means wallet is switched off?
maybe morphic can answer these questions


[06/29/2022 12:30 PM] kushti#0000
This is probably wrong place for such discussions


[06/29/2022 12:31 PM] kushti#0000
Should be public


[06/29/2022 12:33 PM] kushti#0000
As other wallets could be affected also


[06/29/2022 12:41 PM] MrStahlfelge#0000
true. okay glasgow sent me the link with the transaction. the user set a transaction purpose message when sending to the intermediate contract. that's why the units are there


[06/29/2022 12:41 PM] glasgowm#0000
Would making it public not open other proxy contracts for attack?


[06/29/2022 12:45 PM] MrStahlfelge#0000
when I understand correctly, this is not really an attack but a signing problem. probably appkit could sign it


[06/29/2022 12:46 PM] glasgowm#0000
Cool just wondering incase someone could scan mempool and submit at the same time or something


[06/29/2022 12:52 PM] MrStahlfelge#0000
stack trace of the node problem would be interesting.
I just rechecked, signing a box with the units is no problem with appkit. waiting for the tx confirmation


[06/29/2022 12:53 PM] MrStahlfelge#0000
confirmed. this is the tx creating box with units and the box is spent https://explorer.ergoplatform.com/en/transactions/0fd3894b5996a31f161553964511e3859d7d650a9d7c695a26b4ede40503af0b


[06/29/2022 12:54 PM] kushti#0000
I see no registers dependent contract there


[06/29/2022 12:55 PM] kushti#0000
In original issue, the problem is about INPUTS usage, which is causing costing issue during box size estimation likely


[06/29/2022 12:57 PM] MrStahlfelge#0000
ah got it. is the contract accessing the box registers at all or ignoring it?


[06/29/2022 12:58 PM] kushti#0000
it is not using registers, box costing fails


[06/29/2022 12:58 PM] kushti#0000
but in general, attachment should not be allowed for any script


[06/29/2022 12:58 PM] kushti#0000
As you can't analyze it probably


[06/29/2022 1:00 PM] kushti#0000
Even more, wallet should not add registers when there's no idea what is in the contract (not just attachments)


[06/29/2022 1:01 PM] MrStahlfelge#0000
I thought about forbidding setting the purpose message for p2s. but in general, my take was that when a script expects users sending something, it should ignore the boxes.
anyway, yeah I got the error on appkit unit tests as well.


[06/29/2022 1:01 PM] kushti#0000
The error comes from interpreter


[06/29/2022 1:01 PM] MrStahlfelge#0000
I will push a branch for morphic to analyze


[06/29/2022 1:08 PM] MrStahlfelge#0000
https://github.com/ergoplatform/ergo-appkit/pull/174

{Embed}
https://github.com/ergoplatform/ergo-appkit/pull/174
DEMO: Costing fails for unit boxes by MrStahlfelge ¬∑ Pull Request #...
This is a demo showing that reducing transactions with boxes with units fail for contracts.
https://images-ext-1.discordapp.net/external/YbvgM1tdAQGLiz5tiSwUTVhMfO_UNMxLbyah_IzDKHo/https/opengraph.githubassets.com/652c4e4c4e9ba99e10d75be018a173462f23f9fe27d408d45da7582e7b1b52fd/ergoplatform/ergo-appkit/pull/174


[06/30/2022 10:11 AM] oskin#0000
I've configured graphql server on one of explorer nodes
https://gql.ergoplatform.com/
If it does well for a week or two, I'll set it up on other replicas
cc @anon_br


[06/30/2022 12:17 PM] MrStahlfelge#0000
(re @kushti_ru : *The error comes from interpreter*) 
 
 Did you hear anything from morphic? Would be good to have some information if this can get fixed in the interpreter soon. If not, eip-29 should get changed to not use the unit type.


[06/30/2022 12:20 PM] kushti#0000
(re @MrStahlfelge : *Did you hear anything from morphic? Would be good to have some information if this can get fixed in the interpreter soon. If not, eip-29 should get changed to not use the unit type.*) 
 
 Asked in the public channel, still not answer as you can see. Please use that channel, I see no any sensitive info here


[06/30/2022 12:22 PM] MrStahlfelge#0000
Asked here in case you had any info about illness/holidays or so which is not interesting for the public. Hope he is well


[06/30/2022 12:23 PM] kushti#0000
No info I have


[06/30/2022 4:25 PM] anon_br#0000
(re @oskin : *I've configured graphql server on one of explorer nodes
https://gql.ergoplatform.com/
If it does well for a week or two, I'll set it up on other replicas
cc @anon_br*) 
 
 Oh, nice! Thank you üôèüèº


[07/01/2022 8:23 AM] kushti#0000
@MrStahlfelge have you switched from 213 to another server(s) ?


[07/01/2022 8:26 AM] MrStahlfelge#0000
(re @kushti_ru : *@MrStahlfelge have you switched from 213 to another server(s) ?*) 
 
 Still waiting for this to be released
https://github.com/ergoplatform/ergo/pull/1662

Unfortunately got moved out of all the releases it was planned for

{Embed}
https://github.com/ergoplatform/ergo/pull/1662
I1652 peers rest api address by pragmaxim ¬∑ Pull Request #1662 ¬∑ er...
See #1652
I gave a lot of thought into backward compatibility, PeerSpec is using hand-written writer/reader and new restApiUrl optional field is at the end, with a little hack that allows for readi...
https://images-ext-1.discordapp.net/external/crRVELvgiwLymDVXPxk7iaGVPDfaypxob22Gv3Rz2qg/https/opengraph.githubassets.com/0face4953aaa0912522516e0c9491647c862a6c694f6fa7b6e213135af28c2ba/ergoplatform/ergo/pull/1662


[07/01/2022 8:26 AM] kushti#0000
@MrStahlfelge As I said before, 213 is unstable


[07/01/2022 8:26 AM] kushti#0000
Specifically


[07/01/2022 8:26 AM] kushti#0000
Seems to be dead now


[07/01/2022 8:28 AM] MrStahlfelge#0000
Yeah I asked when the PR above gets merged when we discussed it and it was set to 4.0.25 back then. Now 4.0.32 and still not merged :-/
As long as it don't get merged I can only set another fix ip. Suggestions for another one?


[07/01/2022 8:31 AM] kushti#0000
(re @MrStahlfelge : *Yeah I asked when the PR above gets merged when we discussed it and it was set to 4.0.25 back then. Now 4.0.32 and still not merged :-/
As long as it don't get merged I can only set another fix ip. Suggestions for another one?*) 
 
 e.g. http://159.65.11.55:9053/info , you have few ips


[07/01/2022 8:41 AM] kushti#0000
@MrStahlfelge also, switch attachments off and fix EIP-29. Otherwise, we'll have to remove the wallet from recommended ones and issue a warning on its insecurity. Users already lost money there.


[07/01/2022 8:50 AM] MrStahlfelge#0000
will do. any chance to have #1652 merged? #1636 is a pretty important one as well


[07/01/2022 8:54 AM] kushti#0000
(re @MrStahlfelge : *will do. any chance to have #1652 merged? #1636 is a pretty important one as well*) 
 
 1652 passed first round, so can merge it and release 4.0.33 ASAP if needed. 

Not sure about 1636, we need to check how  usePre1627KeyDerivation works with usePreEIP3Derivation, mining addresses, and so on


[07/01/2022 8:55 AM] MrStahlfelge#0000
1652 would be great so we can get the problem with the fixed IP solved at last.


[07/01/2022 8:55 AM] kushti#0000
A lot of compatibility issues we have without it (preEIP3 / postEIP3 addresses, mining rewards address change in 4.0.13-15 etc)


[07/01/2022 8:56 AM] kushti#0000
With another layer on top of all the previous issues, could be out of control


[07/01/2022 8:59 AM] MrStahlfelge#0000
I see. for fixing the problem in appkit, only the part in ergo-wallet module is relevant. if it reduces complexity the pr could be split into two parts, the addition of the parameter in ergo-wallet and just not using it in node (so old behaviour is kept), and using it in node as a second step.


[07/01/2022 9:00 AM] kushti#0000
Makes sense


[07/01/2022 9:01 AM] MrStahlfelge#0000
would that help to get it merged?


[07/01/2022 9:02 AM] kushti#0000
Into ergo-wallet, yes


[07/01/2022 9:02 AM] kushti#0000
Ergo part needs for a lot of testing


[07/01/2022 9:07 AM] MrStahlfelge#0000
ok good I will ask greenhat to split it


[07/01/2022 9:07 AM] MrStahlfelge#0000
seems not to be here


[07/01/2022 9:09 AM] MrStahlfelge#0000
pinged him on discord


[07/01/2022 9:12 AM] greenhat#6562
I'll look into splitting.


[07/01/2022 9:12 AM] MrStahlfelge#0000
great, thanks!


[07/01/2022 9:56 AM] kushti#0000
Trying to get 213 server back to life


[07/01/2022 9:56 AM] kushti#0000
Maybe within few hours it will be online


[07/01/2022 10:25 AM] MrStahlfelge#0000
https://github.com/ergoplatform/ergo-wallet-app/pull/131 PR for the next release. I have assigned morphic to review but we have very few changes so if you want you can check as well

{Embed}
https://github.com/ergoplatform/ergo-wallet-app/pull/131
Version 1.10.2213 by MrStahlfelge ¬∑ Pull Request #131 ¬∑ ergoplatfor...
Russian translation
Default mainnet node changed
EIP-29 purpose messages removed due to problems with smart contracts, will return when fixed
Wallet details screen: Don't show token id when pri...
https://images-ext-2.discordapp.net/external/TmInCpgr27yaCVKstw8Y4ydpUlYYC1IbSz53_2PWka4/https/opengraph.githubassets.com/43d9ca096941e4c47a3bd56a815174a6e67453daf6f8420cc1d248c77e7539a1/ergoplatform/ergo-wallet-app/pull/131


[07/01/2022 12:59 PM] MrStahlfelge#0000
https://github.com/ergoplatform/eips/pull/73

{Embed}
https://github.com/ergoplatform/eips/pull/73
Update EIP-29 rergarding unit registers by MrStahlfelge ¬∑ Pull Requ...
https://images-ext-2.discordapp.net/external/U9m1m8Te5rY9s9pew2QEOuM7sv4UCXJAzIo7QBo_iJ4/https/opengraph.githubassets.com/2c8bbf79b55815eef9bfc36dfee831aed641fedfcb1a0d0cd60ae9903a441009/ergoplatform/eips/pull/73


[07/01/2022 3:36 PM] kushti#0000
213 restored


[07/01/2022 3:37 PM] kushti#0000
(re @MrStahlfelge : *https://github.com/ergoplatform/ergo-wallet-app/pull/131 PR for the next release. I have assigned morphic to review but we have very few changes so if you want you can check as well*) 
 
 Thanks, will check soon

{Embed}
https://github.com/ergoplatform/ergo-wallet-app/pull/131
Version 1.10.2213 by MrStahlfelge ¬∑ Pull Request #131 ¬∑ ergoplatfor...
Russian translation
Default mainnet node changed
EIP-29 purpose messages removed due to problems with smart contracts, will return when fixed
Wallet details screen: Don't show token id when pri...
https://images-ext-2.discordapp.net/external/TmInCpgr27yaCVKstw8Y4ydpUlYYC1IbSz53_2PWka4/https/opengraph.githubassets.com/43d9ca096941e4c47a3bd56a815174a6e67453daf6f8420cc1d248c77e7539a1/ergoplatform/ergo-wallet-app/pull/131


[07/04/2022 12:55 PM] glasgowm#0000
explorer and docs down - someone changed something in cloudflare?


[07/04/2022 12:58 PM] kushti#0000
Both work on my side


[07/04/2022 12:58 PM] glasgowm#0000
cache?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/993485976754204692/file_32818.jpg


[07/04/2022 12:58 PM] glasgowm#0000
explorer working for me again now


[07/04/2022 12:59 PM] glasgowm#0000
docs back too now


[07/04/2022 1:07 PM] MrStahlfelge#0000
Luivatra also stated Explorer is down, was up for me all the time. Seems to be a local problem somehow


[07/04/2022 1:16 PM] anon_br#0000
It's working fine for me too


[07/06/2022 6:04 PM] MrStahlfelge#0000
explorer is super fast the last days, was something changed?


[07/11/2022 8:40 AM] oskin#0000
https://github.com/MystenLabs/ed25519-unsafe-libs

{Embed}
https://github.com/MystenLabs/ed25519-unsafe-libs
GitHub - MystenLabs/ed25519-unsafe-libs: List of unsafe ed25519 sig...
List of unsafe ed25519 signature libs. Contribute to MystenLabs/ed25519-unsafe-libs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/W3d0kGGmHbuBSOtxjJj0GhxFrXYFXHG-b0f9AHqIbZY/https/opengraph.githubassets.com/920835e21271a0ee7c8730f23eb280bc7cfd851024ed18e58bd3c447ba24488a/MystenLabs/ed25519-unsafe-libs


[07/11/2022 8:44 AM] kushti#0000
Ergo is on secp256k1


[07/22/2022 10:29 AM] pragmaxim#0778
üëã I added https://www.ergominers.com/ to the mining guide https://github.com/ergoplatform/ergo/issues/1775, it seems legit


[07/26/2022 6:01 PM] anon_br#0000
@oskin testnet explorer seems to be stuck at 442385 height, can you please check?


[07/29/2022 3:07 AM] glasgowm#0000
Seems to be an issue with the latest release


[07/29/2022 3:07 AM] glasgowm#0000
Forwarded from herominerss: Nodes do not sync with the network. Something is causing the node to freeze. I'm restoring failed nodes from backup. It needs to be checked.


[07/29/2022 2:48 PM] pragmaxim#0778
@kushti are you on it? Probably the refactoring ... I can check in an hour or so


[07/29/2022 2:54 PM] kushti#0978
From logs, there were like 2 or 3 issues happened altogether, one for all the versions, one for 4.0.35 due to old maxDeliveryChecks value left in the config


[07/29/2022 2:56 PM] kushti#0978
Can assign you on one task which could help a bit, in regards with the issue for all versions, before 5.0 will be activated


[07/29/2022 3:01 PM] kushti#0000
Also please review https://github.com/ergoplatform/ergo/pull/1777

{Embed}
https://github.com/ergoplatform/ergo/pull/1777
Candidate for 4.0.36 release by kushti ¬∑ Pull Request #1777 ¬∑ ergop...
#1769 - after enough time passed we clear status for potentially stalled peer. Helps when the peer is still recognized as connected (but in fact could be disconnected), but the node can query it st...
https://images-ext-1.discordapp.net/external/OzOH0YB2trCt7YyL9jEXmSSX3KK0WufzsmOyyChZ5yQ/https/opengraph.githubassets.com/930796e31b7534a9a6509fdb0e966c6ad3ca3d792451b986e9da8a94a4b0c8ed/ergoplatform/ergo/pull/1777


[07/29/2022 3:05 PM] kushti#0000
This would help a bit with orphaned blocks due to 4.0 interpreter instability (for which morphic is not doing anything) https://github.com/ergoplatform/ergo/issues/1784

{Embed}
https://github.com/ergoplatform/ergo/issues/1784
Remove invalid transaction in a block from the mempool and invalida...
If a transaction in a block turns out to be invalid (see UtxoState.applyTransactions ), pass transaction id (via custom exception?) and then invalidate this transaction in memory pool and delivery ...
https://images-ext-2.discordapp.net/external/k0VDaUs0j4ajmQJw_uLb3t-lDkyErAKaGZ0Wf2yEBi4/https/opengraph.githubassets.com/2fb0d4274dc289ac666ec2d6fe185fee53c017e4857e9696f95f062ca23e3a17/ergoplatform/ergo/issues/1784


[07/29/2022 3:22 PM] pragmaxim#0778
on it üëç


[08/02/2022 8:07 PM] MrStahlfelge#0000
is the graphql layer ready to use for production and a testnet version available?

Made some work with the api and can say that this way I can work around all the unresolved issues/shortcomings we have with the explorer api, so it would be good  when we can proceed here


[08/02/2022 9:10 PM] anon_br#0000
v0.3.0 is out with various optimizations and new validations. I think it's ready for production


[08/09/2022 5:51 PM] MrStahlfelge#0000
@kushti_ru currently 159.65.11.55 is the default node in wallet app. I am integrating the restApiUrl feature, but that node is too old and does not provide the new information. do you plan to upgrade that node, or should we switch to another one when the feature is rolled out?


[08/09/2022 5:52 PM] kushti#0000
Seems 4.0.35 there


[08/09/2022 6:04 PM] MrStahlfelge#0000
http://159.65.11.55:9053/info saying 4.0.24?


[08/09/2022 6:05 PM] MrStahlfelge#0000
ah i see appversion is different. but http://159.65.11.55:9053/peers/connected does not give a single item with restApiUrl


[08/09/2022 7:27 PM] kushti#0000
Maybe not final commit there


[08/09/2022 7:27 PM] kushti#0000
So between 4.0.34 and 35


[08/09/2022 7:27 PM] kushti#0000
Can update


[08/09/2022 7:38 PM] MrStahlfelge#0000
would be interesting if that helps. I checked other nodes, ergo.watch node also does not provide any restApiUrl of other nodes despite being on .36 snapshot


[08/09/2022 7:39 PM] MrStahlfelge#0000
no hurry, since morpic seems to be unavailable releases are delayed for me


[08/09/2022 7:45 PM] kushti#0000
@pragmaxim any idea why restapiurl not seen? Do you see history?


[08/09/2022 7:47 PM] pragmaxim#0000
@kushti_ru you mean that your node with it defined is not showing later in http://213.239.193.208:9053/peers/connected ?


[08/09/2022 7:50 PM] pragmaxim#0000
HelixEvo added this one "https://ergonode.blocpow.io" last week


[08/09/2022 7:50 PM] MrStahlfelge#0000
213... shows all, but 159 linked above shows none. https://node.ergo.watch/peers/connected also not showing any peer's restApiUrl, while it has the setting set itself (https://node.ergo.watch/info)


[08/09/2022 8:10 PM] pragmaxim#0000
let me check the syncing process, I always checked at 213


[08/09/2022 8:34 PM] pragmaxim#0000
how come there is such a difference in # of connected peers between these 2 nodes ?


[08/09/2022 8:36 PM] kushti#0000
165 vs 183 ?


[08/09/2022 8:36 PM] kushti#0000
213... node which has less peers was restarted recently


[08/09/2022 8:36 PM] kushti#0000
that's it


[08/09/2022 8:37 PM] kushti#0000
http://159.65.11.55:9053/info


[08/09/2022 8:37 PM] kushti#0000
I see 198


[08/09/2022 8:37 PM] kushti#0000
http://213.239.193.208:9053/info


[08/09/2022 8:38 PM] kushti#0000
168


[08/09/2022 8:38 PM] kushti#0000
183 was old data


[08/09/2022 8:39 PM] pragmaxim#0000
yeah but check the /peers/connected endpoint, it lists `NetworkController.connections` directly


[08/09/2022 8:40 PM] kushti#0000
http://159.65.11.55:9053/peers/connected


[08/09/2022 8:40 PM] kushti#0000
I see them all


[08/09/2022 8:40 PM] kushti#0000
198


[08/09/2022 8:40 PM] pragmaxim#0000
I see, I meant https://node.ergo.watch/peers/connected


[08/09/2022 8:41 PM] kushti#0000
ah maybe default setting there


[08/09/2022 8:41 PM] kushti#0000
so 30 connections


[08/09/2022 8:41 PM] kushti#0000
my nodes have non-default connections limit


[08/09/2022 8:53 PM] pragmaxim#0000
I will have to debug log the handshake messages, if this feature gets serialized/deserialized properly and propagated among the peers


[08/09/2022 9:00 PM] pragmaxim#0000
there is also the PeerDatabase which persists the peerInfo with the peerSpec(features) ... if the node started first without `publicUrl` then it is not updated


[08/09/2022 9:00 PM] pragmaxim#0000
because Node only checks Address and not the content of PeerInfo.peerSpec and its features 
https://github.com/ergoplatform/ergo/blob/8066c8427d7e079b1736d072c190613c897696d6/src/main/scala/scorex/core/network/peer/PeerDatabase.scala#L76

{Embed}
https://github.com/ergoplatform/ergo/blob/8066c8427d7e079b1736d072c190613c897696d6/src/main/scala/scorex/core/network/peer/PeerDatabase.scala
ergo/PeerDatabase.scala at 8066c8427d7e079b1736d072c190613c897696d6...
Ergo protocol description & reference client implementation - ergo/PeerDatabase.scala at 8066c8427d7e079b1736d072c190613c897696d6 ¬∑ ergoplatform/ergo
https://images-ext-1.discordapp.net/external/5K3RZ9yCRxHsjptjjZ-mavPj-164X0ovqKEXivP31EI/https/opengraph.githubassets.com/e2b36b89c88e6b7516d9537223add16bf679ea794b16432a8ff28c2d3575248d/ergoplatform/ergo


[08/09/2022 9:01 PM] pragmaxim#0000
I guess the fix is at this line, we should consider the Features besides just Address


[08/09/2022 9:02 PM] pragmaxim#0000
I will make an issue and jump on it tomorrow, it's night at my zone


[08/09/2022 9:05 PM] pragmaxim#0000
https://github.com/ergoplatform/ergo/issues/1799

{Embed}
https://github.com/ergoplatform/ergo/issues/1799
PeerDatabase disregards Peer features, only checks peer address ¬∑ I...
Regarding #1652 ... connected peers don&#39;t show restApiUrl in /peers/connected endpoint. The solution is that PeerDatabase considers peer features besides just address, see : ergo/src/main/s...
https://images-ext-2.discordapp.net/external/dC-j2HXPy1y1V3_xjIozhBVT4K8HExXI3eDN8jH6u4w/https/opengraph.githubassets.com/ae5306af6eab978b10cc6d895a6764539a88992eb12c3f413fd8c8a99b31ed4a/ergoplatform/ergo/issues/1799


[08/09/2022 9:09 PM] pragmaxim#0000
uff, this is not it ü§¶‚Äç‚ôÇÔ∏è it is updated correctly


[08/09/2022 9:14 PM] pragmaxim#0000
anyway, the PeerDatabase PeerInfo serializer uses less features than NetworkController ... it will be it perhaps


[08/09/2022 9:20 PM] pragmaxim#0000
my apologies, I completely forgot that there is double serialization/deserialization of the PeerInfo


[08/09/2022 9:43 PM] pragmaxim#0000
Fixed https://github.com/ergoplatform/ergo/pull/1800 but we should later talk about unifying the PeerInfo serialization at network and peerDB level as it is different

{Embed}
https://github.com/ergoplatform/ergo/pull/1800
I1799 peer database disregards rest api url feature by pragmaxim ¬∑ ...
Fixes #1799
https://images-ext-2.discordapp.net/external/2f5ObA7-hb-66t_P3uzj_luEHhgVYTPx4WhQvdZIdH8/https/opengraph.githubassets.com/a2ea43efeb5654ac8652e322ebc3498ba72b6154841f83eeee8af8fc830d5e85/ergoplatform/ergo/pull/1800


[08/09/2022 9:46 PM] MrStahlfelge#0000
thanks for the fast fix!


[08/10/2022 1:00 PM] glasgowm#0000
(re @glasgowm : *There‚Äôs a handy button to import all repo‚Äôs to GitLab - but needs someone with admin access*) 
 
 Can someone with org access do this? Just one button to click and means we have a backup (which we don‚Äôt currently AFAIK?).


[08/10/2022 1:08 PM] MrStahlfelge#0000
most of our repos are backed up on our local machines


[08/10/2022 1:10 PM] glasgowm#0000
true, they could take those too though üôÇ for the effort required think it‚Äôs worthwhile taking a copy (and maybe eventually migrating there)


[08/10/2022 1:18 PM] MrStahlfelge#0000
yeah not opposed, just wanted to say it is probably not urgent. but how could they take our local copies?


[08/10/2022 2:09 PM] glasgowm#9381
was only kidding mostly, but govt's getting more aggressive towards privacy - wouldn't put it past them raiding everything connected and taking the machines in some dystopian future. Still, local copies break - people vanish, etc.


[08/10/2022 2:35 PM] greenhat#6562
I don't see that much of a difference between hosted github and gitlab censorship-wise. I'd look into a p2p solution like https://radicle.xyz/ or self-hosting. I'm pretty sure though such a switch would severely decrease the chances of new collaborators discovering ergo.

{Embed}
https://radicle.xyz/
Radicle - Peer-to-peer code collaboration
Radicle is a peer-to-peer stack for building software together.
https://images-ext-1.discordapp.net/external/IjONykAucpoOrP4x9ynLIyvM_E3YoO-224z5W7kzzEw/https/radicle.xyz/img/social-share.jpg


[08/10/2022 2:40 PM] MrStahlfelge#0000
(re  : *<greenhat> I don't see that much of a difference between hosted github and gitlab censorship-wise. I'd look into a p2p solution like https://radicle.xyz/ or self-hosting. I'm pretty sure though such a switch would severely decrease the chances of new collaborators discovering ergo.*) 
 
 that (decreasing chances of collaboration) is what I meant with "wrong signal" when it was brought up to switch completely last time. I still think we should not do that. but glasgow suggested only to have a backup elsewhere.

{Embed}
https://radicle.xyz/
Radicle - Peer-to-peer code collaboration
Radicle is a peer-to-peer stack for building software together.
https://images-ext-1.discordapp.net/external/IjONykAucpoOrP4x9ynLIyvM_E3YoO-224z5W7kzzEw/https/radicle.xyz/img/social-share.jpg

{Reactions}
üëç 

[08/10/2022 8:52 PM] kushti#0000
Forwarded from kushti_ru: "Actually, I'm testing the extra indexing I made for the node
a full sync takes up +10GB, but would enable getBoxById, getTxById for all boxes and txes
also query all transactions by address"


[08/10/2022 8:53 PM] kushti#0000
@MrStahlfelge could be enough for a wallet?


[08/10/2022 8:54 PM] kushti#0000
(re  : *<greenhat> I don't see that much of a difference between hosted github and gitlab censorship-wise. I'd look into a p2p solution like https://radicle.xyz/ or self-hosting. I'm pretty sure though such a switch would severely decrease the chances of new collaborators discovering ergo.*) 
 
 Is it ready? Last time I checked was WIP really

{Embed}
https://radicle.xyz/
Radicle - Peer-to-peer code collaboration
Radicle is a peer-to-peer stack for building software together.
https://images-ext-1.discordapp.net/external/IjONykAucpoOrP4x9ynLIyvM_E3YoO-224z5W7kzzEw/https/radicle.xyz/img/social-share.jpg


[08/10/2022 8:55 PM] MrStahlfelge#0000
(re @kushti_ru : *@MrStahlfelge could be enough for a wallet?*) 
 
 Unspent boxes by address is needed as well. Then it is sufficient for basic functionality. Would be great.
Tx by address not needed.


[08/10/2022 8:57 PM] kushti#0000
Unspent by address not so big index I guess


[08/10/2022 8:57 PM] kushti#0000
In comparison with all txs


[08/10/2022 8:57 PM] kushti#0000
Maybe we can make put indexes into config


[08/10/2022 8:59 PM] kushti#0000
So you can choose which ones to enable


[08/10/2022 8:59 PM] kushti#0000
Oh @anon_br also here


[08/10/2022 9:03 PM] kushti#0000
@anon_br your needs are the same?


[08/10/2022 9:03 PM] anon_br#0000
I think unspent boxes is all we need for now, helps on keeping the index concise and allows wallets to do basic stuff


[08/10/2022 9:06 PM] kushti#0000
Unspent per address


[08/10/2022 9:07 PM] kushti#0000
?


[08/10/2022 9:07 PM] anon_br#0000
(re @kushti_ru : *Maybe we can make put indexes into config*) 
 
 That's an elegant solution, I think that a good addition is to provide a way to know what indexes are active on a given node, maybe by using /info/ endpoint?


[08/10/2022 9:08 PM] kushti#0000
Can do some api yes


[08/10/2022 9:09 PM] anon_br#0000
(re @kushti_ru : *Unspent per address*) 
 
 Yeah, will encoded addresses be stored on indexes, or converted back to an ergoTree on-demand? Maybe just unspent boxes per ergoTree, if it helps with index conciseness


[08/10/2022 9:10 PM] MrStahlfelge#0000
When it is configurable it is hard to predict what a node can do


[08/10/2022 9:10 PM] anon_br#0000
(re @MrStahlfelge : *When it is configurable it is hard to predict what a node can do*) 
 
 But the node can expose what indexes are active on /info endpoint


[08/10/2022 9:13 PM] kushti#0000
(re @anon_br : *Yeah, will encoded addresses be stored on indexes, or converted back to an ergoTree on-demand? Maybe just unspent boxes per ergoTree, if it helps with index conciseness*) 
 
 Lemme check


[08/10/2022 9:13 PM] kushti#0000
Done by external contributor


[08/10/2022 9:13 PM] kushti#0000
I did not think it would be about +10gb just


[08/10/2022 9:15 PM] anon_br#0000
Me too


[08/10/2022 9:16 PM] anon_br#0000
Explorer db is about 130gb now, but tons of indexes and parsed stuff


[08/10/2022 9:22 PM] kushti#0000
Also sql


[08/10/2022 9:22 PM] kushti#0000
Those indexes are in kv db


[08/10/2022 9:23 PM] MrStahlfelge#0000
What would be important is to (optionally) also include boxes in mempool for unspent boxes by address api. Needed for chained transactions


[08/11/2022 9:03 AM] pragmaxim#0000
I indexed all Explorer's data including all Indexes into ScyllaDB which had 150GB in 2 hours on 16vCPU & 8vCPU machines, both machines fully utilized CPU/IO wise ... running all : indexer + node-to-index-from + scyllaDB-to-index-to on a single 16vCPU machine and it is loading whole day and crashing all the time. It only works if I download data from all remote ergo-peers available so I can only run indexer+scyllaDB without ergo-node


[08/11/2022 9:05 AM] kushti#0000
Node was synced?


[08/11/2022 9:05 AM] pragmaxim#0000
but downloading data from remote-peers has issues like firewalls, timeouts, etc. - this needs a lot of tuning


[08/11/2022 9:06 AM] pragmaxim#0000
(re @kushti_ru : *Node was synced?*) 
 
 yeah, but had 24vCPUs available in total + 2 SSDs to Read and Write to separately, which is important


[08/11/2022 9:08 AM] pragmaxim#0000
on this machinery I was limited mainly by SSD write throughput


[08/11/2022 9:09 AM] pragmaxim#0000
on a single machine, 8/16 threads + just single drive is quite a few for such a job


[08/11/2022 9:11 AM] pragmaxim#0000
now I'm trying to find a way to fully sync reasonably quickly on just a single node ... so it can be just downloaded and deployed with docker-compose and work


[08/13/2022 12:53 PM] MrStahlfelge#0000
(re @MrStahlfelge : *What would be important is to (optionally) also include boxes in mempool for unspent boxes by address api. Needed for chained transactions*) 
 
 Also, sorting by creationHeight would be needed to spent oldest boxes first. Does it make sense to open an issue outlining the needs for appkit/wallets?


[08/14/2022 3:40 PM] anon_br#2282
@Ilya | Spectrum hey! It looks like FLUX guys will need a testnet instance of GraphQL server and it's also needed for Nautilus testnet version.

Any change we can get a testnet instance?

Btw, GraphQL is already implemented on Nautilus just waiting for multi instance deployment to be released.


[08/14/2022 3:45 PM] kushti#0000
Btw @pragmaxim now has reportedly much more lightweight Explorer, on top of scyliadb, maybe graphql could be built on top of it?


[08/14/2022 3:55 PM] pragmaxim#0000
(re @kushti_ru : *Btw @pragmaxim now has reportedly much more lightweight Explorer, on top of scyliadb, maybe graphql could be built on top of it?*) 
 
 wide-columnar DBs are extremely efficient as to data volume and throughput but it is so at the expense of query flexibility ... for instance for a single relational SQL query you often have to make 7 queries and glue it together by code ... just a very limited subset of Graphql could be used I think


[08/14/2022 4:07 PM] anon_br#2282
I think it's feasible, I would be happy to look into it )


[08/14/2022 4:11 PM] anon_br#2282
Yeah, you have a good point. I think that some query limitations will be tolerated given the focus of the tool.

Does we already have a public GH repo?


[08/14/2022 5:46 PM] pragmaxim#0000
still working on the indexing part so it can persist entire blockchain on common hardware in a few hours... this is essential as this way one does not have to write migrating scripts and such ... I haven't done a bit of any querying yet


[08/14/2022 5:53 PM] Ilya | Spectrum#0494
Hey
Ok, I‚Äôll setup new instances in the coming week


[08/14/2022 6:05 PM] anon_br#0000
(re  : *<Ilya | ErgoDEX> Hey
Ok, I‚Äôll setup new instances in the coming week*) 
 
 Great! Thanks


[08/14/2022 6:15 PM] anon_br#0000
(re @pragmaxim : *still working on the indexing part so it can persist entire blockchain on common hardware in a few hours... this is essential as this way one does not have to write migrating scripts and such ... I haven't done a bit of any querying yet*) 
 
 Awesome! I'm eager to look into your db structure and see what's possible to do with GraphQL, so if you don't mind and if it's possible, of course, please share a readonly access so I can start digging into it )


[08/14/2022 6:18 PM] anon_br#0000
And if you have it on an external server ofc


[08/15/2022 8:04 AM] pragmaxim#0000
I learned 2 weeks ago that something like this is needed ... it is not "explorer", I'm currently in a spiking stage ... certainly not anything to share yet


[08/15/2022 12:34 PM] anon_br#0000
Sure, no problem )


[08/15/2022 2:50 PM] pragmaxim#0000
:) we can definitely jump on it when it is not just a playground, I will keep you informed


[08/16/2022 12:50 PM] anon_br#0000
(re @pragmaxim : *:) we can definitely jump on it when it is not just a playground, I will keep you informed*) 
 
 Oh, great, thanks! I got it wrong and thought you was close to finish it üòÖ


[08/18/2022 9:28 AM] MrStahlfelge#0000
(re @MrStahlfelge : *ah i see appversion is different. but http://159.65.11.55:9053/peers/connected does not give a single item with restApiUrl*) 
 
 is the 39-snapshot on the 159... server including the fix? asking because it still does not show any restApiUrl


[08/18/2022 9:36 AM] kushti#0000
(re @MrStahlfelge : *is the 39-snapshot on the 159... server including the fix? asking because it still does not show any restApiUrl*) 
 
 Yeah. it is on 4.0.40 now


[08/20/2022 1:25 PM] MrStahlfelge#0000
Opened https://github.com/ergoplatform/ergo/issues/1813 with greenhat's hints what is needed in the core project to implement nipopows in appkit. @kushti_ru would be great if you can assign someone or put this into the important things to do list as nipopows are some of our selling points and we should support them in the wallet applications. especially if we are going away from explorer, it is more important to have a way to verify the data sent by the node connected to.

{Embed}
https://github.com/ergoplatform/ergo/issues/1813
Expose NiPoPoW relevant implementations as a dependency ¬∑ Issue #18...
From ergoplatform/ergo-appkit#187 this is needed to have exposed to Appkit for client applications to adopt Nipopows: move NipopowProof, NipopowVerifier, and all dependent types from node code into...


[08/20/2022 2:17 PM] kushti#0000
Thanks, forwarded to ergo developers, will answer there


[08/20/2022 9:04 PM] glasgowm#0000


{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/1010640588032442408/file_47430.jpg


[08/20/2022 9:07 PM] kushti#0000
???


[08/20/2022 9:08 PM] glasgowm#0000
discord could be blocked soon in russia ‚Äòthe site violates the law of the Russian Federation‚Äô


[08/20/2022 9:08 PM] glasgowm#0000
https://www.reddit.com/r/discordapp/comments/wt975y/i_guess_discord_will_be_blocked_in_russia_soon/

{Embed}
https://www.reddit.com/r/discordapp/comments/wt975y/i_guess_discord_will_be_blocked_in_russia_soon/
r/discordapp - I guess Discord will be blocked in Russia soon...
800 votes and 99 comments so far on Reddit
https://images-ext-1.discordapp.net/external/g78XhaFiNPipjVSIXSjX7D31ISB_q5JArcEhYdjlQeA/%3Fauto%3Dwebp%26s%3D4d000d997d8e2b4405e601079343627feea92e3c/https/preview.redd.it/4989u7j7vvi91.jpg


[08/20/2022 9:12 PM] kushti#0000
Why do you inform Russians about what is going on in their country? That is so weird. And why in this channel? Definitely offtopic


[08/20/2022 9:13 PM] glasgowm#0000
Just a heads-up in case we need to move our comms elsewhere, or have redundancies in place.


[08/20/2022 9:14 PM] kushti#0000
No need


[08/20/2022 9:20 PM] kushti#0000
Is this channel abt sensitive dev related issues or I missed something?


[08/20/2022 9:21 PM] glasgowm#0000
It‚Äôs ‚Äòcore‚Äô so just the core team / those most involved in the ecosystem. Mostly used for dev stuff, Ergonauts chat has too many randoms


[08/20/2022 9:30 PM] kushti#0000
Lets stick to sensitive dev issues then. And any issue should be brought to a widest circle possible imho.


[08/20/2022 9:33 PM] kushti#0000
I am not capable to catch up even with 1/3rd chats and conversations atm


[08/21/2022 12:16 AM] kushti#0000
@glasgowm @pragmaxim honestly I do not understand purpose of this group. I am leaving it.


[08/21/2022 6:13 AM] MrStahlfelge#0000
Well I guess when there is no agreement that there are topics not to be discussed in public we can close the group. ü§∑‚Äç‚ôÇÔ∏è


[08/21/2022 10:03 AM] glasgowm#0000
Of course there is lol


[08/21/2022 11:10 AM] oskin#0000
What‚Äôs the problem with the topics discussed here?


[08/21/2022 11:11 AM] oskin#0000
Also, were should we discuss core dev topics in TG then?


[08/21/2022 12:48 PM] glasgowm#0000
Here is still most appropriate for anything that needs to be discussed between core only imo (partnerships, exchange-dev work, security, etc) critical things we can always take to ergonauts or just tag kushti on discord/dms


[08/23/2022 12:10 PM] anon_br#2282
https://gql.ergoplatform.com/ seems to be down


[08/23/2022 12:10 PM] anon_br#2282
Returning 522


[08/23/2022 12:48 PM] anon_br#2282
@Ilya | Spectrum


[08/23/2022 12:59 PM] oskin#0000
(re  : *<anon_br> @sapranidi | Spectrum*) 
 
 Looking into it
Physical server where gql backend is hosted doesnt respond


[08/25/2022 6:09 PM] anon_br#0000
(re @oskin : *Looking into it
Physical server where gql backend is hosted doesnt respond*) 
 
 Any update on that?


[08/26/2022 8:27 AM] MrStahlfelge#0000
the explorer is really slow the last weeks, both on the web as on the api. we should really get some improvements here otherwise we might have problems when users come in next month


[08/26/2022 8:33 AM] oskin#0000
(re @MrStahlfelge : *the explorer is really slow the last weeks, both on the web as on the api. we should really get some improvements here otherwise we might have problems when users come in next month*) 
 
 I‚Äôll add one more instance


[08/26/2022 12:17 PM] anon_br#0000
@oskin any chance we can get multi instance deployment of graphql server? Nautilus port is done, just waiting for trustable graphql instances to be released


[08/26/2022 12:18 PM] oskin#0000
(re @anon_br : *@oskin any chance we can get multi instance deployment of graphql server? Nautilus port is done, just waiting for trustable graphql instances to be released*) 
 
 Will do


[08/26/2022 12:20 PM] anon_br#0000
Thanks


[08/26/2022 12:26 PM] MrStahlfelge#0000
Will we have testnet, too?


[08/26/2022 2:20 PM] oskin#0000
(re @MrStahlfelge : *Will we have testnet, too?*) 
 
 Ok


[08/26/2022 2:33 PM] anon_br#0000
(re @oskin : *Will do*) 
 
 When you do that, would be great if update to v0.3.4 and set `ERGO_NODE_HOST` env


[08/26/2022 2:34 PM] oskin#0000
(re @anon_br : *When you do that, would be great if update to v0.3.4 and set ERGO_NODE_HOST env*) 
 
 Ok


[08/26/2022 2:34 PM] oskin#0000
Lets keep discussion in a particular chat


[08/26/2022 2:34 PM] oskin#0000
Where most ergo devs are present


[08/26/2022 2:34 PM] anon_br#0000
Sure, I haven't saw that, sorry


[08/26/2022 2:34 PM] oskin#0000
Seems not all devs are in this chat, so Ergo Developers seems the best option


[08/26/2022 2:35 PM] anon_br#0000
Indeed


[09/06/2022 3:37 PM] anon_br#2282
@Ilya | Spectrum gql is returning 502 most of times, can you please check?


[09/06/2022 4:23 PM] oskin#0000
(re  : *<anon_br> @Ilya | Spectrum gql is returning 502 most of times, can you please check?*) 
 
 Restarted all instances


[09/06/2022 5:18 PM] Ilya | Spectrum#0494
How to query ContextExtension from ErgoScript?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/1016744251167613070/unknown.png


[09/07/2022 4:59 AM] greenhat#6562
`getVar[Type](id)` will return an `Option[Type]`.


[09/07/2022 9:48 AM] oskin#0000
(re  : *<greenhat> `getVar[Type](id)` will return an `Option[Type]`.*) 
 
 Thanks!


[09/08/2022 11:42 AM] glasgowm#9381
From #‚ùì‚îÇask-anything 

> After the ETH merge ERG will likely be the most profitable coins specifically because of it's difficulty adjustment algorithm.  The nethash on Ergo can easily go up by a factor of 10-20 (not a steady growth), bringing block times down to just 6-12 seconds maybe even less.  Following a few epochs of ERG difficulty adjustments, ERG nethash will drop off a cliff as a huge number of miners chase profitability (other difficulty algorithms adjust much quicker) causing an unstable spiral of miners choosing other projects bringing ERG block times to potentially more than 40 minutes... this is an extremely bad scenario for Ergo and unfortunately the odds of it happening aren't negligible.  Please do not ignore and have a plan in case this happens.  Hope for the best and plan for the worst.

I know @morphic raised a similar scenario happening a while back. Not sure if that's still a concern or if there is anything we can do to prepare here. 

We had to supplement miners with extra block-rewards after the last HF,  not sure if that'd be helpful here or infeasible due to the scale.


[09/08/2022 5:26 PM] morphic#4133
hope there will not be the big wave of miners everyone expects

{Reactions}
üò¢ 

[09/08/2022 5:32 PM] Armeanio#0000
(re  : *<morphic> hope there will not be the big wave of miners everyone expects*) 
 
 Ive asked in the past about reducing the epoch length down to like 128 or 256 blocks to get faster adjustments. Without changing anything else. 

What would be required if that becomes necessary?


[09/08/2022 5:36 PM] glasgowm#0000
Probably a proposal for a hard-fork, but not sure how that would be passed. 

Maybe keeping confirmations high isnt such a bad idea for the merge at least, who knows what‚Äôll happen.


[09/08/2022 6:46 PM] morphic#4133
We at least need to implement a new and more dynamic algorithm for difficulty adjustment. And then of cause the question is how to roll it out.


[09/20/2022 1:48 PM] anon_br#2282
Flux team is reporting that when they try to broadcast a transaction and mempool is full the following message is returned, but after some time, and without further retries, it gets mined. Any ideas?

```
Pool can not accept transaction 94dc859548c023ff490d842699beb763dbd4c7a6f28ad7c8198210b4ce287fbe, it is invalidated earlier or the pool is full
```


[09/21/2022 12:02 PM] anon_br#2282
cc @Ecosystem Core


[09/21/2022 1:49 PM] mhs_sam#1471
nothing important, probably mempool is full or node out of sync for a moment.


[09/21/2022 1:53 PM] anon_br#2282
Yeah, the point here is that even returning that error message, transactions eventually get accepted without further retries. Their automation ended sending some duplicated transactions due this


[09/21/2022 2:35 PM] MrStahlfelge#0000
Which is normally not an issue because the same transaction can't get executed twice


[09/21/2022 2:38 PM] anon_br#2282
Not same transaction


[09/29/2022 4:12 PM] glasgowm#0000
Has anyone been in touch with the oracle operators to make sure they‚Äôre all on the latest node?


[09/29/2022 4:28 PM] CW#0000
It was mentioned in the ETH/USD group. Noah was going to mention ERG/USD in Ergonauts channel. Not sure who is running those oracles


[10/06/2022 11:45 AM] glasgowm#0000
@oskin can you check this out on cloudflare ?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/1027532069070454844/file_72948.jpg


[10/06/2022 12:16 PM] oskin#0000
(re @glasgowm : *@oskin can you check this out on cloudflare ?*)


[10/06/2022 12:16 PM] oskin#0000
What should I change?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/1027539952277409802/file_72956.jpg


[10/06/2022 12:17 PM] oskin#0000
What should I change?

{Attachments}
https://cdn.discordapp.com/attachments/668912878992228353/1027540107827355698/file_72957.jpg


[10/06/2022 12:18 PM] oskin#0000
Oh, got it


[10/06/2022 12:18 PM] oskin#0000
Fixed


[10/06/2022 12:18 PM] glasgowm#0000
Ta


[10/06/2022 12:18 PM] glasgowm#0000
He is also asking for $500 (lol)

> Hello, kindly let me know if you have any questions or concerns. I am expecting a fair reward from your end. I sent you the SPF record vulnerability. As a good will gesture you can announce a small amount 500$. I am looking forward to hearing from you. Thank you

> Regards,

> M Noman


[10/06/2022 12:20 PM] glasgowm#0000
We voted for these

high severity: $10k
medium severity: $5k
low severity: $2k"

But don‚Äôt think running a scanner is even $500 worth of work tbh. Maybe 50


[10/06/2022 12:50 PM] anon_br#2282
Maybe something like $100 is enough, I guess


[10/09/2022 1:17 PM] MrStahlfelge#0000
mgpai runs the testnet now afaik? I know he is still in school. probably his parents paying the bill, but his efforts might be worth a reward?


[10/11/2022 9:50 AM] MrStahlfelge#0000
can we have added to the wallet list that ergo wallet app has a desktop version? currently saying mobile only.


[11/06/2022 11:45 PM] CW#0000
Forwarded from seedubya: Hey guys, had a couple of reports explorer is stuck, nodes are producing blocks but not reflected on explorer


==============================================================
Exported 1,172 message(s)
==============================================================
