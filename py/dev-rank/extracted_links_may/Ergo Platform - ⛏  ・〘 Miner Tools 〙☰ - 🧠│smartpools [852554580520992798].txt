==============================================================
Guild: Ergo Platform
Channel: ‚õè  „Éª„Äò Miner Tools „Äô‚ò∞ / üß†‚îÇsmartpools
Topic: https://github.com/WilfordGrimley/ErgoSmartPools
==============================================================

[06/10/2021 3:54 PM] WilfordGrimley#0124
The most important background piece to read is likely this. A lot of the work is done for us. I will try to formalize into practical terms the solutions that I have for the problems presented and how to reduce the burden of collateral in ErgoScript. https://eprint.iacr.org/2020/044.pdf


[06/10/2021 3:55 PM] Gazza_SP#5835
Great, I'll have a good read of this before we start off, thanks for this!


[06/10/2021 3:56 PM] glasgowm#9381
Figure this might help if you've not seen it:

https://www.ergoforum.org/t/collateral-script-for-pool-mining/200

{Embed}
https://www.ergoforum.org/t/collateral-script-for-pool-mining/200
Collateral script for pool mining
As some of you know, I‚Äôve been working on my own collateral-based mining pool.  This will just be another option along with @mhs_sam‚Äôs pool.  I thought I would post my collateral box script here for public review, in case I‚Äôve missed any obvious issues:  {   val poolReward = 67500000000L   {     // Case 1: block was mined by alice.     // Either...


[06/10/2021 3:56 PM] WilfordGrimley#0124
@Gazza_SP, @danandbeard welcome to the team!

{Reactions}
üôå (2) 

[06/10/2021 3:59 PM] danandbeard#3509
just read the abstract- so effectively you'd have some representation of work that was aggregated by a smart contract and you'd all mine to an escrow wallet owned by the contract which would divvy out rewards based on work?


[06/10/2021 4:00 PM] danandbeard#3509
is that the high level idea?


[06/10/2021 4:00 PM] WilfordGrimley#0124
@glasgowm Thank you! This is an excellent practical basis for what I want to create.

The goal if this project is to build a series of smart contracts that use Ergo's fundraising function to gather their collateral, with an Oracle Pool, (or some such) determining the hashing weight of the pools to each other and the network, and redistributing a defined excess of rewards to the fundraising contracts of similar pools.

{Reactions}
ü§© 

[06/10/2021 4:23 PM] WilfordGrimley#0124
We'll need several top level smart contracts that serve various functions:

Saturation Oracle, and Enforcer:
-defining the desired saturation level of hashing power the pool (and its daughters)  to the network. 

Authorization:
some level of authorization is still required to avoid abuse. I propose a fluid collateral: Any worker can donate any amount to the mother fundraiser, or any of the daughter fundraisers. That worker can only be paid out in rewards equal to THAT collateral.

Secondarily, a blacklist should be created that bars miners from contributing to any of the pools managed by the system if they steal block rewards.

The Pools:
The pools will each have their own fundraiser. If a pool's total hashing power exceeds the bounds of the Saturation Enforcer, a percentage of block rewards proportional to that  overage are donated to a fundraiser for a sister pool (it may be more efficient for this to go to the mother fundraiser).

 I think it is best if the daughter pools pay miners in a PROP fashion, with the Saturation Enforcer rewarding bonuses for contributing to pools below the saturation goals.


[06/10/2021 4:25 PM] WilfordGrimley#0124
I have been tweaking these ideas for the last couple of weeks, and I am not the smarted person, so please please critique them, there is surely a better way to achieve this vision, and it is possible that the whole idea is moot for reasons that I am unaware of.


[06/10/2021 4:28 PM] WilfordGrimley#0124
Ideally, this could work at L3 as defined in "Bypassing Non-Outsourceable Proof-of-WorkSchemes Using Collateralized Smart Contracts"

I want this to be economical enough for miners and functional, and trustworthy enough to invalidate the need for 'legacy' pools to exist, and hopefully allow Ergo to refork in non-outsourcability.


[06/10/2021 4:35 PM] WilfordGrimley#0124
A very handy resource, it includes examples of crowdfunding as well as gives a basic understanding of ErgoScript https://ergoplatform.org/docs/ErgoScript.pdf


[06/10/2021 4:41 PM] glasgowm#9381
Crowdfunding contracts/notes: https://ergonaut.space/en/ErgoFund

{Embed}
https://ergonaut.space/en/ErgoFund
ErgoFund

{Reactions}
‚ù§Ô∏è 

[06/10/2021 4:44 PM] danandbeard#3509
very cool, reading up on it and so far it makes sense


[06/10/2021 5:43 PM] Gazza_SP#5835
With this type of pool, are we not creating the same issue that caused non-outsourcability to be removed in a hard-fork? How will non-outsourcability be brought back in if this project is a success as this would allow people to pool together hashing power and effectively ruin any chance a solo miner has of mining a block. I hope this doesnt come accross bad I just want to make sure I'm up to speed for tomorrow and have a clear idea what we are doing!


[06/10/2021 5:47 PM] WilfordGrimley#0124
no no, it's a perfect question. Doesn't come across bad at all.

 Let me explain my reasoning.


[06/10/2021 5:52 PM] Gazza_SP#5835
Ok after reading on in the document, I see the option of Level 3 Decentralized pool. I will finish the document before I ask any more questions!


[06/10/2021 5:53 PM] WilfordGrimley#0124
Firstly, non outsourability does not 'need' to be brought back in. If this works as intended however, it should be possible to reenable it for added security. 

Unless I am misunderstanding the capabilities of Ergo, these smart contracts should be able to take block rewards even if miners are 'solo' mining, in fact that would be ideal. The global saturation metric would be the method by which this system encourages 'solo' mining: if the global saturation goal is set low enough, this system would economically DISCOURAGE traditional pooled mining.


[06/10/2021 5:53 PM] WilfordGrimley#0124
Yeah you get it üòâ


[06/10/2021 6:00 PM] WilfordGrimley#0124
if the global saturation target were set low enough, there would be less financial incentive to build machines with a lot of hashing power.

I make a contrary conclusion on what collateralized smart contract pools mean for Ergo. 

That mining pools can still be constructed via escrow smart contracts is a strength not a weakness IF smart contract pools can prove lucrative enough for miners with small hashrates.


[06/10/2021 6:04 PM] Gazza_SP#5835
I get you now, that makes sense, it all boils down to pools themselves not being the issue, the issue is the unlimited amount of computing power one pool can obtain and thereby creating censorship and opening up the possibility of attacks on a PoW system. Great idea, very interesting!


[06/10/2021 6:04 PM] WilfordGrimley#0124
bingo! Thanks! üôÇ


[06/10/2021 6:06 PM] WilfordGrimley#0124
It's an egalitarian approach to encouraging decentralization, and disincentivizing greed mining.


[06/10/2021 6:07 PM] WilfordGrimley#0124
It's more like a miner's union than a traditional pool, as there is no need to actually pool hashrates together and create risk. This is not possible at L1 or L2 afaik.


[06/10/2021 6:08 PM] Gazza_SP#5835
I have one small issue, I am possibly working for parts of tomorrow, I quit my job 2 weeks ago so just need to help the person taking over with any questions and problems he runs into. I may need to duck away for 10 minutes here and there, and if he doesn't need help I'm free for the day! I am also on call for the weekend, couldn't get out of it as I only have 2 weeks left in the company, but its very irregular to actually get a call so shouldn't be an issue!


[06/10/2021 6:09 PM] WilfordGrimley#0124
The other nice thing is that there will naturally develop a saturation equilibrium, were creating more pools actually costs more than it provides in hashpower/security.


[06/10/2021 6:11 PM] WilfordGrimley#0124
I work full time at a grocery store. This is my day off,I am only available evening for the rest of the hackathon. Don't sweat it, we'll hodgepodge together what we can, please feel no obligation to contribute if you don't have the time. üôÇ


[06/10/2021 6:12 PM] Gazza_SP#5835
What times suit you? That's even better for me, I usually get called out during the day if I will be at the weekend and means i wont disrupt anything tomorrow during the day!


[06/10/2021 6:18 PM] WilfordGrimley#0124
I can be around on and off all day today, between 4pm-10pm EST (on/and off) tomorrow and after 9pm EST Sunday.

As I said, I work 8 hours a day at a grocery store, and I have to pick up my wife, make dinner etc. As much time as I can, I will be here though. üôÇ

The very idea here is about decentralization, so in my view, the more poeple involved in this the better. I honestly don't care about splitting any potential rewards up with lots of folks if we actually manage to build the project. üôÇ


[06/10/2021 6:19 PM] WilfordGrimley#0124
welcome @Reed! Please read through our discussion so far!


[06/10/2021 6:20 PM] Reed#7093
üëå


[06/10/2021 6:20 PM] danandbeard#3509
I'm just looking to learn too, so reward payout isn't a concern on my end

{Reactions}
‚ù§Ô∏è (3) 

[06/10/2021 6:21 PM] WilfordGrimley#0124
I'll reread the Hackathon rules, but if people can still join today, I will write some call to actions on the Ergo Forums and on reddit to try to get more eyes on this.

{Reactions}
üëç 

[06/10/2021 6:21 PM] Gazza_SP#5835
Ya i have no interest in the reward to be honest, this is purely a learning experience!


[06/10/2021 6:21 PM] danandbeard#3509
I have a lot of distributed computing experience - trustless systems are always super fun to think about


[06/10/2021 6:21 PM] Reed#7093
Yea, I don't want to be rewarded either... üòÖ  haha


[06/10/2021 6:22 PM] danandbeard#3509
first we should create a smart contract and oracle pool based on commits to determine payout LOL

{Reactions}
üòÜ (3) 

[06/10/2021 6:22 PM] Gazza_SP#5835
I recently sold some ERG and quit my job, I want to give ergo-script a proper shot for 6 months or so, so this is a perfect time for the hackathon! üòÇ


[06/10/2021 6:22 PM] danandbeard#3509
(only kidding of course)


[06/10/2021 6:22 PM] WilfordGrimley#0124
I think we all get $100 for participation, but yeah honestly, I am here for the vision. Decentralization is hype.


[06/10/2021 6:22 PM] Gazza_SP#5835
0 commits so 0 sigUSD, sounds good!! üòÇ

{Reactions}
üí∞ 

[06/10/2021 6:27 PM] WilfordGrimley#0124
@glasgowm I don't think I formally submitted this before the 8th. Are we still eligible for judging?


[06/10/2021 6:31 PM] WilfordGrimley#0124
I'm putting together a GitHub repository, a forum post, and a reddit post in the next hour here.


[06/10/2021 6:55 PM] WilfordGrimley#0124
https://github.com/WilfordGrimley/ErgoSmartPools

I am unaware how to add people to this, or if I even need to. 

I will do some quick research to see which license I can attach to the project or if it even required one as a smart contract. Ideally it would be some type of agpl that encourages people to re-contribute their modifications..

{Embed}
https://github.com/WilfordGrimley/ErgoSmartPools
WilfordGrimley/ErgoSmartPools
Contribute to WilfordGrimley/ErgoSmartPools development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/JCWu7n4W3ObyhrOhX2pSbBGhV00E91nCmhpsuvtJAtU/https/opengraph.githubassets.com/0ae0eae137a8d8da787ed2ba5a89aa416031ff7b0f5ad3eb773dfc0fdfeda0eb/WilfordGrimley/ErgoSmartPools


[06/10/2021 6:56 PM] glasgowm#9381
Yeh should be fine


[06/10/2021 8:18 PM] WilfordGrimley#0124
I added a readme to the Github page that better explains the overview of the smart contracts required to create the smart pool.

{Reactions}
üëç (2) 

[06/10/2021 8:30 PM] Gazza_SP#5835
Thats great, very clear and informative!


[06/10/2021 8:31 PM] WilfordGrimley#0124
Cheers. I'll keep plugging away and then get my feet wet trying to build something functional.

{Reactions}
üëç 

[06/10/2021 8:39 PM] Gazza_SP#5835
If you could, it would be good to give us an insight on what you are doing with the building, might help us hopefully contribute!


[06/10/2021 8:44 PM] WilfordGrimley#0124
Honestly, I am not confident enough yet with my knowledge of ErgoScript to feel comfortable writing any code. But I get what you are saying, better to have something than nothing.

My worry is that if the design goals won't function in system, that effort to build the actual contracts would be wasted. 

Currently I am trying to learn more about Ergo Script and existing smart contracts in the hopes that I may get more insight for actually building something.

{Reactions}
üòÜ 

[06/10/2021 8:46 PM] WilfordGrimley#0124
I'll probably start with trying to build the Saturation Oracle. I wonder if the website that provides pool hashrates has anything publicly available, or of there is no need for an oracle as I have described it.


[06/10/2021 8:48 PM] Gazza_SP#5835
Thats no problem at all, we are all here to learn anyway! üòÑ


[06/10/2021 8:49 PM] Gazza_SP#5835
You have way more of an idea than I ever had anyway!!


[06/10/2021 8:50 PM] WilfordGrimley#0124
like I cut fish for a living, I have never written code from scratch. xD

I audit the code for open source projects I use and I understand things!


[06/10/2021 8:52 PM] Gazza_SP#5835
That's no worries at all, I have only just begun learning ergo script myself and you definitely need time to adjust to the functional style of programming rather than object oriented!


[06/10/2021 8:52 PM] WilfordGrimley#0124
cheers


[06/10/2021 10:54 PM] danandbeard#3509
I'm still trying to wrap my head around all of this, so take any commentary with a grain of salt here


[06/10/2021 10:56 PM] danandbeard#3509
> Staturation Oracle
I don't think this concept would be useful or strictly necessary - if individual contributors all contribute to the same pool that should be fine with this implementation of a pool - the reason I say this is that there's no central authority here that can aggregate and choose transactions or influence the block creation in any way

instead we would want every single miner to contribute to this single notion of a pool (potentially, might have multiple pools that expose different options, but you'd be fine with any of them having 100% of the mining)


[06/10/2021 10:57 PM] danandbeard#3509
the pool in this case is just a smart contract in charge of divvying out rewards, fairly and without a centralized entity - if everyone mines and contributes to this notion of a pool, there's no risk involved with everyone being on the same "pool"


[06/10/2021 10:58 PM] danandbeard#3509
> Crowdfunding
I don't think I understand the necessity of this either - crowdfunding is a way to centralize resources to achieve a goal...as I understand it this smart contract aims to decentralize the entire mining process by allowing funds to be fairly distributed while everyone "solo" mines


[06/10/2021 11:00 PM] danandbeard#3509
many of these concepts go away if we can define a smart contract such that all miners seek to create blocks via their own methods - however if the miner chooses to participate in the "pool" they're effectively saying they'll direct their block rewards to a shared pool of funds which the smart contract will be responsible for distributing those funds out in a fair way


[06/10/2021 11:24 PM] WilfordGrimley#0124
Right: The idea is egalitarian at it's core. 

The reason for crowd funding and something that functions as a saturation oracle and enforcer are integral to this idea is that the overarching pool places some form of diminishing returns on mining with a lot of hashing power.

If you are solo mining with a greater than average hashing power, and the smart pool aggregate determines that it wants further decentralization than you can provide (it rewards more to pools with less hash power than you) then the network become more secure, and mining hardware become more accessible.

The crowd funding function is a means these of those with arguably too much hashing power 'paying their fair share' to smaller pools, it would scale linearly, creating as many daughter pools as necessary to achieve an equilibrium of hash power across the network. 

The idea as I have it laid out sees treats those with massive hashing power as adversarial inherently, it encourages them to split their resources among different nodes, sell their hardware, or strictly solo mine, proving their adversarial nature. It financially incentivizes decentralization.


[06/10/2021 11:26 PM] danandbeard#3509
that can be done without external data though


[06/10/2021 11:26 PM] danandbeard#3509
oracles exist to bring in external data


[06/10/2021 11:26 PM] WilfordGrimley#0124
yeah, that is just due to my misunderstanding of what is available in system


[06/10/2021 11:27 PM] WilfordGrimley#0124
I am happy to know that now, one less thing to build.


[06/10/2021 11:27 PM] danandbeard#3509
hmm, actually the more I think about it the more I think it's impossible to stop a single entity from contributing too much hashing power


[06/10/2021 11:27 PM] WilfordGrimley#0124
I knew they were for external data, just not that shares submitted could be  gathered on chain. It stands too reason.


[06/10/2021 11:28 PM] danandbeard#3509
even with oracles there's no way to tie an identity to a payment or to a share (a portion of mining power)


[06/10/2021 11:28 PM] danandbeard#3509
if I want to bypass thatt I simply create multiple identities to submit my shares


[06/10/2021 11:28 PM] danandbeard#3509
an oracle can't prove that I'm a single person rather than multiple identities


[06/10/2021 11:29 PM] WilfordGrimley#0124
Right, and working actively against that 'entity' forming is the core idea behid decentralization.


[06/10/2021 11:29 PM] WilfordGrimley#0124
Right but you pay more in fees, rewarding the other miners indirectly.


[06/10/2021 11:30 PM] danandbeard#3509
sure, but it's still impossible to prevent fake identities - so effectively penalizing people for hashing too much under a single identity means you're unintentionally incentivizing people to lie about their alternate identities


[06/10/2021 11:30 PM] danandbeard#3509
you have to pay to participate?


[06/10/2021 11:30 PM] danandbeard#3509
how do you get anyone to join your pool if you have to pay to be a part of the pool?


[06/10/2021 11:31 PM] WilfordGrimley#0124
crowdfunding collateral initially.

Over time the pools support themselves by creating crowdfunding saturation targets and daughter pools when those targets are met.


[06/10/2021 11:33 PM] danandbeard#3509
right, but why would you pay to join this pool when you can join a different pool for free, crowdfunded or otherwise


[06/10/2021 11:39 PM] WilfordGrimley#0124
YOU might not have  to pay personally. 

Here's how it plays out in the real world. An honest participant with a lot of hashpower is solo mining. They want to network to be more secure, to protect their holdings, even if that means other people are mining also. It is less risk for them, as there node is therefore less likely to be targeted. If their node is hijacked they could get double spent. They need a way to encourage the peasant class of miners to mine to decrease their hashing power relative to the network. By participating in this pool either by contributing their hashpower, (indirectly creating crowdfunding targets) or by doing an initial crowdfund, they are increasing the security of the network, and therefore the value of their holdings.

A whale doesn't even need to  be a miner for crowdfunding this pool to be a worthwhile investment to protect their holdings.


[06/10/2021 11:41 PM] WilfordGrimley#0124
Only one traditional crowdfund would be necessary to bootstrap such a network. further crowdfunding would be an automated function of the pool itself, taxing those who over contribute hash power who would otherwise be making the network less secure.


[06/10/2021 11:45 PM] WilfordGrimley#0124
Participating in such a pool would also rewards psudoanonymity to those with too much hashing power that choose to operate many nodes. Getting lost in a sea if equally distributed hashes is a wonderful privacy layer.


[06/10/2021 11:46 PM] danandbeard#3509
I don't think the incentives align here...a whale miner will always trust themselves so why would they pay to allow other people to mine just to secure the network from themselves?


[06/10/2021 11:47 PM] danandbeard#3509
in this scenario we're presuming there's a whale miner at >50% of hash - the only way to mitigate this risk is for either that miner to limit themselves (or be limited somehow) or for everyone else to increase their hash power so that they push the whale back below 50% - correct?


[06/10/2021 11:48 PM] danandbeard#3509
so smaller whales can push whaleA's hash down by mining more themselves, or helping other people mine more - I think your scenario is implying they will help other people mine more, but why wouldn't they just mine more themselves?


[06/10/2021 11:50 PM] WilfordGrimley#0124
The goal is financially  incentivizing increasing the nakamoto coefficeint, therefore the security of the network therefore increasing its usefulness. greed mining always makes the network less secure.

let me find the page about nakamoto coefficeint.


[06/10/2021 11:52 PM] WilfordGrimley#0124
You can't mine more yourself if you have limited resources. We are aiming for decentralization here. Just add more hashpower is fine in a vaccum but impractical in the real world where there exists an apparent global chip shortage.


[06/10/2021 11:52 PM] WilfordGrimley#0124
https://news.earn.com/quantifying-decentralization-e39db233c28e?gi=60c7b4434829

{Embed}
https://news.earn.com/quantifying-decentralization-e39db233c28e?gi=60c7b4434829
Quantifying Decentralization
We must be able to measure blockchain decentralization before we can improve it.
https://images-ext-1.discordapp.net/external/TgExX_9ANUKvhh_rEznY4Lx7M3fYV8ksB6_mBylSVnM/https/miro.medium.com/max/1200/1%2AbimlkHOYwAu1Sddykp3t1A.png


[06/10/2021 11:53 PM] danandbeard#3509
hmm, let me ask questions then and maybe you can clear up some possible confusion


[06/10/2021 11:53 PM] WilfordGrimley#0124
sure brb


[06/10/2021 11:54 PM] danandbeard#3509
let's say I'm currently mining 51% - you create some system for penalizing me for mining too much, right?  what's stopping me from pretending to be two people, my real identity mines 25% and my fake identity mines 26%?


[06/10/2021 11:55 PM] WilfordGrimley#0124
It's not a system that penalizes you, you don't have to partiicipate.

It's a system that rewards people who are not you more greatly than it rewards you.


[06/10/2021 11:56 PM] danandbeard#3509
gotcha, okay so people who participate in this new pool get more rewards?  who provides the extra rewards?


[06/10/2021 11:57 PM] WilfordGrimley#0124
Also if you split this identity, you decrease the block diffiiculty, making it easier for those with less hashpower to compete in the long run. You give up a lot of power doing that.


[06/10/2021 11:58 PM] WilfordGrimley#0124
People who want to protect their holding, either by over contributing hashpower, or starting a crowdfund for another pool.


[06/10/2021 11:58 PM] danandbeard#3509
I'm not following that point - why would mining from two different computers, and pretending they are being ran by two people instead of one, decrease my hashrate?


[06/11/2021 12:01 AM] WilfordGrimley#0124
Because as far as this system is concerned, you are two separate people, you would be running two separate nodes each with their own puzzle to complete. Sure you could still double spend with 25, 26 but at least the block reward isn't unachievable for people with minimum hashpower, and at least it requires double the commitment of bandwidth and storage space for you (which is increasingly becoming an important resource also)


[06/11/2021 12:03 AM] WilfordGrimley#0124
This system calls a spade a spade. It makes it very clear who the adversaries to decentralization are, and it calls for them to split their resources to reward those with less hash power than them.


[06/11/2021 12:03 AM] danandbeard#3509
and what is stopping someone from pretending to be a smaller miner so they can take the added rewards in this pool made to incentivize smaller miners?


[06/11/2021 12:04 AM] danandbeard#3509
so instead of my 51% I break down into a bunch of 1% mining operations and join this pool - wouldn't I get the extra rewards that way while still mining with as much hash/rewards as I was previously, just now with the extra on top?


[06/11/2021 12:06 AM] WilfordGrimley#0124
they wouldn't be pretending in this case, they would literally have to be a smaller miner if your saturation incentive is high enough.

The system could be tuned such that someone with a 3090 gets the same reward as someone with a 1080. I don't believe that it is possible with existing software to split half of a cards resources into a virtual machine.


[06/11/2021 12:06 AM] danandbeard#3509
it is possible, yes


[06/11/2021 12:07 AM] danandbeard#3509
these puzzles that are being attempted are very very small


[06/11/2021 12:07 AM] danandbeard#3509
when someone says they are mining at 1MH/s means they are solving 1 million puzzles


[06/11/2021 12:07 AM] WilfordGrimley#0124
Technically yes, but your overhead is way higher as you need the hard drive space and bandwidth for 100 individual nodes. You would also in this case need 100 wallets attached to the 100 nodes and would pay more to other miners in fees to spend or store your holdings.


[06/11/2021 12:08 AM] danandbeard#3509
miners fee is % based, so you wouldn't pay more


[06/11/2021 12:08 AM] WilfordGrimley#0124
gotcha gotcha.

hardware overhead may be the only real challenge for an adversary then.


[06/11/2021 12:09 AM] WilfordGrimley#0124
I thought it was flat in ergo


[06/11/2021 12:09 AM] danandbeard#3509
sorry pool fee is %


[06/11/2021 12:09 AM] danandbeard#3509
transaction fee is flat, but there's always just one transaction fee no matter how many miners you have


[06/11/2021 12:10 AM] danandbeard#3509
miners race to solve puzzles and get the right solution


[06/11/2021 12:10 AM] danandbeard#3509
so whether you have 1 person contributing 1 million puzzle solutions or 1 million people contributing 1 solution....the winning solution gets the reward


[06/11/2021 12:11 AM] danandbeard#3509
it's very very likely I misunderstand your solution and maybe even misunderstand the problem


[06/11/2021 12:12 AM] WilfordGrimley#0124
If the transaction fee is flat and you have your money in 100 wallets instead of 1 you pay  x100 markup to the network to spend your coins. You also ppay to not spend them after 4 years.


[06/11/2021 12:12 AM] danandbeard#3509
but I think about smart contract based pools like this

step 1. validate how much each person does
step 2. ensure all rewards go to a locked wallet
step 3. under some condition distribute the rewards based on work done

step 2 is difficult, and the whitepaper linked way up talks about ways to handle that


[06/11/2021 12:13 AM] danandbeard#3509
you wouldn't have 100 wallets with fees


[06/11/2021 12:13 AM] danandbeard#3509
when you win a block there is one reward that goes to one wallet


[06/11/2021 12:14 AM] danandbeard#3509
you have 100 wallets trying to get that reward, but only 1 of them gets it


[06/11/2021 12:14 AM] WilfordGrimley#0124
Right, that would be easier and simpler than what I am proposing, which is that it is in the best interest to more people to participate in a pool with the caveats I have described than it is for them to participate in one that does not.


[06/11/2021 12:16 AM] WilfordGrimley#0124
Ah gotcha, right I haven't explained this part here. Other smart contract pools designed for ergo give the block reward to the pool. This would be no different, with an additional caveat being that if a miner does not relinquish their block reward, they are marked by the authorization contract and blacklisted.


[06/11/2021 12:16 AM] WilfordGrimley#0124
I gotta make and eat dinner. I'll be back soon.


[06/11/2021 12:58 AM] WilfordGrimley#0124
Another benefit to the system with regards to 100 wallets vs 1 wallet is that if you have 51% control of the network, and are an honest actor having 100 nodes even in vms  makes it more challenging for an adversary to control and double spend the network because each small wallet/node/miner combo can have different security configurations. This system literally financially incentivizes protecting the security of the network, as well as figuratively; as a network that appears more secure is more valuable to a potential investor.


[06/11/2021 1:01 AM] WilfordGrimley#0124
step 3 as I have defined it is to simply distribute based on  work done, as well as decentralization. It recognizes the value of decentralization.

 If ergo were ever to be forked, the longest chain that encourages decentralization would be called ergo, the one with the adversary would need to choose a new name.


[06/11/2021 1:04 AM] WilfordGrimley#0124
a smart contract pool such as this one reduces the risk of a sybil attack more greatly than a simple smart contract pool, and obviously more greatly than a traditional level2 puzzle based smart contract pool.


[06/11/2021 1:07 AM] WilfordGrimley#0124
@mhs_sam I think you have designed a smart contract pool in the past, from reading on the ergo forum. Am I far off base here? In your opinion am I creating more work for myself by attempting to financially incentivize decentralization as I've defined it?


[06/11/2021 2:11 AM] WilfordGrimley#0124
@danandbeard What I am trying to design is a pool of pools with a trickle down feature. 

The  daughter pools can function much the same way that pools function currently, but they are created by the rules as defined by the Saturation Enforcer.

If the desired decentralization ever reached a point whereby it become more lucrative to simply solo mine, then more solo miners would exist. Daughter pools could be designed both for solo mining and for traditional pooled mining and share rewards within the system.


[06/11/2021 2:28 AM] danandbeard#3509
I think there might be unsolvable issues with your design.  There's no economic incentive for enforcers to behave - if anything that's a centralization point for attack as anyone who controls the enforcers will be able to suppress hashing to make it easier for thme to 51%


[06/11/2021 2:29 AM] danandbeard#3509
I don't think that there's much financial incentive for enforcers other than "securing the network" which isn't incentive at all if there exists attackers who explicitly want to harm the networks


[06/11/2021 2:29 AM] WilfordGrimley#0124
Help me understand how enforcers and smart contracts can function as I defined them.

Can they not be a generated by and owned by another smart contract?


[06/11/2021 2:30 AM] WilfordGrimley#0124
That's a failure of consensus protocol.


[06/11/2021 2:30 AM] danandbeard#3509
I'm not even sure it's possible to enforce lower hashrate


[06/11/2021 2:31 AM] WilfordGrimley#0124
I'll try to clear up that definition on the readme. An enforcer is not designed to be a controllable entity, it is designed to be a programmed function of a smart contract.


[06/11/2021 2:31 AM] danandbeard#3509
I don't think it's possible either way


[06/11/2021 2:31 AM] danandbeard#3509
to control someones hash you have to know who that is, that requires trust


[06/11/2021 2:32 AM] danandbeard#3509
anyone can lie about who they are and you claim it's expensive to pretend to be multiple people, but I don't think that's true


[06/11/2021 2:32 AM] WilfordGrimley#0124
An enforcer doesn't need to be able to 'control' hashrates, it just needs to have control of the rewards that it awards the daughter contracts that it manages.


[06/11/2021 2:32 AM] danandbeard#3509
sure, that's just control via rewards


[06/11/2021 2:32 AM] WilfordGrimley#0124
that's the goal.


[06/11/2021 2:32 AM] danandbeard#3509
and if I want the most rewards I'll lie to the enforcers however I need to


[06/11/2021 2:33 AM] danandbeard#3509
and the only thing that will happen is liars will get more rewards


[06/11/2021 2:34 AM] danandbeard#3509
I hope I'm wrong, fwiw - I'm no expert I just don't see a way to bridge the gap of how to incentivize people to mine less


[06/11/2021 2:40 AM] WilfordGrimley#0124
It's not a system intended to discourage people for mining. It's a system designed to encourage people with small hashrates to mine, and to encourage decentralization. Someone with a majority control of the network still benefits the netowrk more by creating many miners than by creating one.

The problem that I see with it is managing hopping between daughter pools. That could be solved with collateral, but I thin it would be preferable to be solved with authorization. This could be accomplished by generating a token for a miner when they connect to a daughter pool that prevents them from connecting to other daughter pools. Essentially registering to the master system for each miner which pool they will contribute to with a minimum # of blocks before they can switch so some such.


[06/11/2021 2:42 AM] danandbeard#3509
> This could be accomplished by generating a token for a miner when they connect to a daughter pool that prevents them from connecting to other daughter pools.
and how do you prevent someone from generating multiple tokens?


[06/11/2021 2:43 AM] WilfordGrimley#0124
The smart contract that conducts authorization issues the tokens. It would not issue a token to an account that already has a token.


[06/11/2021 2:43 AM] danandbeard#3509
how do you prevent someone from making multiple accounts to get multiple tokens?


[06/11/2021 2:45 AM] WilfordGrimley#0124
You don't. I am still not seeing how that is a problem.


[06/11/2021 2:46 AM] WilfordGrimley#0124
there would be a transaction fee charged to the miner for requesting token registration.


[06/11/2021 2:49 AM] WilfordGrimley#0124
There could also be a collateral cost, and several tiers of tokens that enable a miner to earn only up to the collateral that they have provided. This would be a more ideal system (if it functions from a tokenomics standpoint) than the existing collateralized smart contract pools that have been designed for Ergo which require each miner too have collateral enough for an entire block reward.


[06/11/2021 2:52 AM] WilfordGrimley#0124
The tokens only serve to allow a miner to connect to a particular pool. Someone with multiple machines or splitting their hashing power would need to purchases tokens for each of their seperate miner accounts.


[06/11/2021 2:55 AM] danandbeard#3509
so it costs money to join this pool, both a transaction fee, which I assume it the network transaction fee? and collateral, which is fine as presumably you can withdraw collateral later


[06/11/2021 2:56 AM] danandbeard#3509
if you're using collateral already, why not mimic the design here? https://www.ergoforum.org/t/collateral-script-for-pool-mining/200

{Embed}
https://www.ergoforum.org/t/collateral-script-for-pool-mining/200
Collateral script for pool mining
As some of you know, I‚Äôve been working on my own collateral-based mining pool.  This will just be another option along with @mhs_sam‚Äôs pool.  I thought I would post my collateral box script here for public review, in case I‚Äôve missed any obvious issues:  {   val poolReward = 67500000000L   {     // Case 1: block was mined by alice.     // Either...


[06/11/2021 2:58 AM] WilfordGrimley#0124
I am mimicing the design there, with the exception that the collateral is covered by crowdfunding rather than by each individual miner.


[06/11/2021 2:59 AM] WilfordGrimley#0124
If a miner does not pay an earned block reward to the pool, they are blacklisted from the network.


[06/11/2021 2:59 AM] danandbeard#3509
that design doesn't have enforcers and penaltys for people who mine too much


[06/11/2021 3:00 AM] WilfordGrimley#0124
Right, which makes it a more centralized system.


[06/11/2021 3:00 AM] danandbeard#3509
I would argue the exact opposite


[06/11/2021 3:01 AM] danandbeard#3509
presuming it was even possible to penalize miners in a voluntary pool, I would argue that's a point of centralization - who controls the penalty parameters?


[06/11/2021 3:04 AM] WilfordGrimley#0124
It is not a reverse penalization, it is a top down penalization. The penalty parameter as you call it, or the saturation goal as I call it is controlled by all willing participants.

 By choosing to participate one is consenting the saturation goal. It is open source and runs on chain, anyone can create a different system. If that system is better for them they will join it.


[06/11/2021 3:05 AM] WilfordGrimley#0124
the penalization is a pure market force.


[06/11/2021 3:07 AM] danandbeard#3509
so you make a bunch of pools with different parameters and market participants choose which pool to go to...the problem there is big miners will go to the lowest penalties (assuming they go to one of these pools at all) and smaller miners will follow them in order to get more consistent reward payouts


[06/11/2021 3:07 AM] danandbeard#3509
large miners will never go to a pool that doesn't allow them to mine with all of their potential


[06/11/2021 3:11 AM] WilfordGrimley#0124
I have no interest in designing a system to benefit the biggest miners as they are the greatest risk to decentralization. I have interest in designing a system that benefits the 99% of miners with the smallest individual hashing power.

Big miners are the adversary. They can go elsewhere. If this system encompasses 51% of the network and the miners vote by virtue of reenabling it, non outsourabilty would return and then the big miners would have to play ball.


[06/11/2021 3:12 AM] danandbeard#3509
and all of this rides on people not making fake identifies to begin with, which I still contend isn't a solved problem


[06/11/2021 3:12 AM] danandbeard#3509
transaction fees are a rounding error to big miners - collateral isn't a cost as big miners are likely holding ERG as an asset regaurdless


[06/11/2021 3:15 AM] WilfordGrimley#0124
I still don't see how that is a problem. transaction fees are a rounding error sure, but if the saturation metric is turned up enough it can grow to actually eat profits.

requiring full nodes is a threat to big miners in this system though This system gives the market a mean to re-enabling non-outsourability  forcing big miners to have many many full node miners increasing their overhead significantly.


[06/11/2021 3:16 AM] danandbeard#3509
if there's no cost to getting and account that has a token, anyone can create multiple accounts


[06/11/2021 3:16 AM] danandbeard#3509
collateral isn't a cost because investers in ERG are already holding ERG - this would just change which wallet they hold it in and make it illiquid


[06/11/2021 3:17 AM] WilfordGrimley#0124
Yeah, I'm still not seeing the proof in the pudding here.


[06/11/2021 3:18 AM] WilfordGrimley#0124
Traditional mining pools are a threat to decentralization. Can you yield that?


[06/11/2021 3:18 AM] danandbeard#3509
that question makes me think that you believe me to be an adversary to your end goal


[06/11/2021 3:18 AM] danandbeard#3509
we want the same thing - I'm simply saying your methodology of achieving that end state is flawed


[06/11/2021 3:20 AM] danandbeard#3509
if it becomes profitable to mine as a smaller miner and there's nothing to prevent people from faking their identity (via multiple tokens/accounts, this detail doesn't matter) then big miners will fake multiple identities


[06/11/2021 3:20 AM] WilfordGrimley#0124
I get ya.


[06/11/2021 3:21 AM] danandbeard#3509
I do think we maybe disagree on some things though - I think anyone mining <50% is good for ERG


[06/11/2021 3:21 AM] WilfordGrimley#0124
But if the system changes such that big miners have to pretend to be small miners, instead of small miners have to pretend to be big miners (traditional mining pools) then you have designed a system the servers more people and is therefore more decentralized.


[06/11/2021 3:21 AM] danandbeard#3509
the more hash power in the system, the harder it is to flash attack


[06/11/2021 3:22 AM] WilfordGrimley#0124
I totally agree. This system does not prevent large miners from mining; it discourages small miners from mining in pools that benefit large miners.


[06/11/2021 3:22 AM] danandbeard#3509
hmm, I disagree that is more decentralized - the centralization flaw with PoW has never been how many identities or servers are mining, but rather how many people control a slice of the hash power


[06/11/2021 3:23 AM] danandbeard#3509
a person owning 51% of the hash power is just as bad with one mining rig as with 1000 mining rigs


[06/11/2021 3:24 AM] danandbeard#3509
the end result is identical - that person has the capacity to double spend


[06/11/2021 3:34 AM] WilfordGrimley#0124
Okay right. Totally agreed. Here's why I like my solution: It creates many more barriers to someone controlling 51%  than existing systems. 

Right not on Ergo, the nanopool maintainers could double spend. They don't directly control all of the mining hardware, but they and their system are corruptible. They are a potential central point of failure. To mine on Ergo right now, to do any transaction is to trust them not to manipulate the network.

Collateral smart contract pools shift the burden of trust from pool operators onto the honesty of the system itself. The issue with them is that that they have a very high barrier to entry that is beyond the scope of the smallest miners. This makes them inherently adversarial by design.


[06/11/2021 3:35 AM] danandbeard#3509
for sure, we agree that nanopool has to be taken down to 49%


[06/11/2021 3:35 AM] WilfordGrimley#0124
I mean, it could still be flash attacked, but yes absolutely.


[06/11/2021 3:36 AM] danandbeard#3509
right, the beauty of a flash attack is that it would immediately crash the price of ERG and disrupt people even acceptign it as payment in short time


[06/11/2021 3:36 AM] danandbeard#3509
so even with relatively low hashrate it's very unlikely to be profitable


[06/11/2021 3:36 AM] danandbeard#3509
so it'd have to be a malicious incentive outside of profit - but that's a tangent :p


[06/11/2021 3:40 AM] WilfordGrimley#0124
The system that I am calling for would make flash attacks nearly impossible. An adversary would need almost a full 50% if not greater control of the network as the individual points of failure carry less weight.

The same could not be said for traditional mining pools or collaterized pools if they do not include an automated sharding/ crowdfunding feature.


[06/11/2021 3:42 AM] WilfordGrimley#0124
The system I am talking describing could encompass 100% of the hashing power and still be secure from all but a 51% attack, and a 51% attack would require a higher hardware overhead if non-outsourcabilty were turned back on.


[06/11/2021 3:46 AM] WilfordGrimley#0124
Someone with significant hash power who 'lies' to this system would be no better off than if they had just solo mined. Those that do lie have many many more barriers and hoops to job through to achieve their deception than in other systems. AND this system benefits honest participants with small individual hash power to a greater degree than any other system.


[06/11/2021 3:47 AM] WilfordGrimley#0124
If a system has flaws but those flaws are existent in all competing systems, then it is very likely that the flaw is inherent and therefor irrelevant. I don't see this creating more problems than it solves.


[06/11/2021 3:50 AM] danandbeard#3509
what are the benefits for small miners?


[06/11/2021 3:50 AM] danandbeard#3509
because if those exist then there are even more benefits for big miners who lie about being many small miners


[06/11/2021 4:00 AM] WilfordGrimley#0124
It's a good point.  I still don't see that as being a problem for the system.

Big miners pretending to be small miners suffer a greater % of overhead in this system than they would otherwise, even more so if non outsourcabilty is turned on again, which this system favors.

The fact that the system requires more barriers to entry for big miners compared to small miners is worth something. Long term miners can set and forget these pools without having to worry about coming back to stop a 51% attack.

I should also note that inherently this system will not be averse to big miners, just that market forces that are further enabled by this system could make their lives harder.


[06/11/2021 8:43 AM] Gazza_SP#5835
I guess I'll weigh in after reading all of the above, I don't know anything past the basics of how the proof of work system works though but if there was a way to limit the mining power of a single node say at something reasonable like 2 GH/s, then if a mining farm wanted to join in, and they needed to setup a full node for every instance it needed for say a 100 GH/s farm, then they would need to setup 50 full nodes. This isn't massively straight forward to setup or maintain with 50 seperate instances. They would probably just defer to the most profitable coin which for now is ethereum, and if ergo is top, the added difficulty of no pools and much higher level of setup might force them to go to the second most profitable whatever that may be. It's not bulletproof by any means but if there are more profitable/easier options it sounds like a win for decentralization.


[06/11/2021 8:46 AM] Gazza_SP#5835
But this all boils down to the issue of will a smart contract enable us to limit the max hash rate allowed before causing the miner to setup a new node and miner instance. I'll have to do a bit of googling to see if I can find anything relevant! Good discussion though above guys, these questions need to be asked and the design challenged. It's best way to lead to a better system!


[06/11/2021 11:23 AM] WilfordGrimley#0124
I don't thihnk the system needs to hard cap hashrate or prevent those with more hashrate from joining. A simpler solution would be essentially PPLNS favoring those who first connect and stay connected. Hashpower beyond the saturation target (defined as a % of total hashpower of network, not in H/s) would receive either less, or no rewards.


[06/11/2021 11:52 AM] Gazza_SP#5835
Cardano pools work a similar way if i remember correctly, they can only allow so many ADA tokens per pool before it gets saturated. I wonder are the cardano pool smart contracts open source to have a look at how they reach saturation.


[06/11/2021 11:55 AM] WilfordGrimley#0124
Bingo. This was totally inspired by Cardano Stake Pools. They have a diminishing return on oversaturation over there that is better suited to dPoS than PoW in my view. Diminishing returns are not off the table though. 

Cardano Stake Pools are totally open source by design from my memory. When I‚Äôm off work today, I‚Äôll do some digging through their notes.


[06/11/2021 12:15 PM] jozinek#0918
Hey guys, glad to work with you on smartpools project. Do you have some notes to prepare the dev environment? Or maybe I shall read the whole channel, but I am lazy to do so üòÑ


[06/11/2021 12:28 PM] Gazza_SP#5835
Hey @jozinek, I think your best bet is to read the chat! There is a document at the beginning with a good outline of what the project is!

{Reactions}
üëç 

[06/11/2021 1:46 PM] Gazza_SP#5835
https://www.youtube.com/watch?v=LxdCdyEPGZI Just a video explaining the Cardano pool saturation.

{Embed}
SkyLight Pool
https://www.youtube.com/watch?v=LxdCdyEPGZI
Cardano+Pool+Saturation
This video covers the purpose of saturation point in Cardano and gives the viewers a couple of examples of how it can affect their staking returns.

Please subscribe for more videos like this. You can find us on:
Twitter: @RealSaidov
Telegram: @SkyLightPoolChat

OUR POOL TICKERS: SKY and SKY2

Sound effects obtained from https://www.zapsplat.com
https://images-ext-2.discordapp.net/external/tG_29Y5XVZ-PNAgO7ZHUWqQ-M5w5z71tY0vE1QImVqQ/https/i.ytimg.com/vi/LxdCdyEPGZI/sddefault.jpg


[06/11/2021 1:48 PM] danandbeard#3509
I'm still learning about autolykos but I believe there are characteristics about PoS that make that possible which aren't in PoW


[06/11/2021 1:50 PM] danandbeard#3509
specifically PoS has funds that can exist in only one place at the beginning of an epoch - that calculation is done at the beginning of an epoch so it doesn't matter if you move your stake elsewhere after that calculation - with mining you're continually looking for a solution and there's nothing "locking" you to anything while you mine


[06/11/2021 1:50 PM] Gazza_SP#5835
Watching this, it seems like we need to use a variable parameter for pool saturation (K), then our total pool hash rate (HR) and if we divide HR by K, we get a value that can be used as the max allowed hash rate of a certain pool. Anything over this will not reap any more rewards. The K value being variable will allow us to modify the max hash rate a pool can get to, once the hash rate exceeds this, it will not accept any more shares I guess.

{Reactions}
‚ù§Ô∏è 

[06/11/2021 1:52 PM] Gazza_SP#5835
I get ya, we would need to incentivise the miners to stay in the pool continuosly not just during the snapshots. Could we do as @WilfordGrimley suggested add a blacklist to miners who try abuse the pool by hopping in and out. This would allow legitamite miners to get involved.


[06/11/2021 1:53 PM] danandbeard#3509
the problem with hashrate limiting is there is no way to determine hashrate to begin with.  There's no public data on how many attempts a miner has made before finding a solution.  A malicious actor would simply lie about how many attempts they made and thus would appear to stay under the saturation limit


[06/11/2021 1:54 PM] Gazza_SP#5835
How does a pool like nanopool determine hashrate of connected devices, there must be someway to capture this in the software. Might need to do some more research! üòÜ


[06/11/2021 1:54 PM] danandbeard#3509
nanopool isn't decentralized


[06/11/2021 1:55 PM] Gazza_SP#5835
Shares completed per minute would give you a good idea of hashrate right, hasrate and shares should have a pretty linear relationship.

{Reactions}
üëç 

[06/11/2021 1:56 PM] danandbeard#3509
they determine hashrate because they ask their participants to solve easier problems which they can use to mine blocks themselves, in return they pay out the pool when they mine a block using your work


[06/11/2021 1:56 PM] danandbeard#3509
the concept of a "share" is a centralized concept


[06/11/2021 1:56 PM] danandbeard#3509
a central authority would need to collect those shares


[06/11/2021 1:56 PM] Gazza_SP#5835
Ya i get that, but the software that calculates shares completed and hashrate could probably be incorporated into a decentralized application. Lets say a L3 application, as close to decentralized as seems possible.

{Reactions}
üëç 

[06/11/2021 1:56 PM] danandbeard#3509
then that authority could determine hashrate, but again that's a centralized solution


[06/11/2021 1:59 PM] Gazza_SP#5835
I guess there's no way of doing this without having some metrics that are taken from the centralized program. Even before the non-outsourceable puzzles were removed from ERGO, there must have been some decentralized way to calculate shares. Might need to ask @mhs_sam on the technical aspect of it though!


[06/11/2021 2:00 PM] danandbeard#3509
the most decentralized solution is where every participant mines by themselves - this can be achieved with collateralized pools where effectively to join you put up collateral...I'm still learning about autolykos, but if there were a way to prove that block was mined by the same identity doing the puzzle solving then effectively you could keep track of pool participants in a contract....that contract would then watch mined blocks and if a pool participant mines a block it would require that participant to send the rewards to a pool wallet - if the miner doesn't send the funds to a pool wallet then they lose their collateral and are blocked from the pool


[06/11/2021 2:02 PM] Gazza_SP#5835
I guess the only issue here is that it doesn't stop bigger solo miners from mining 99% of the blocks, and the vast majority of users are probably below 500 MH/s. If someone had 10GH/s in a little farm, they will dominate the mining rewards.


[06/11/2021 2:02 PM] Gazza_SP#5835
Without limiting the big solo miners, I can't see a way around the problem! ü§®


[06/11/2021 2:02 PM] danandbeard#3509
if you can prove the puzzle solving was done using the same identifying information as the actual block generation then this would work and you could still send shares to a centralized source to prove your work is being done, but that work would be discarded and only used to determining payout


[06/11/2021 2:03 PM] danandbeard#3509
limiting miners from hitting 51% would be great, but it's also impossible as far as I can tell


[06/11/2021 2:03 PM] danandbeard#3509
decentralized solutions do not have control over individual actors


[06/11/2021 2:04 PM] Gazza_SP#5835
Could you somehow sign the puzzles solved with your public key hash, as the newly mined block will also have the miner public key hashed in the block somewhere right?


[06/11/2021 2:05 PM] danandbeard#3509
sure, but that doesn't prove the mined block was solved by the identity signing that block...I could, as a malicious actor, solve puzzles with identity A until I found the solution and then send the solution to be signed by my fake identity B


[06/11/2021 2:06 PM] danandbeard#3509
identity B would get all the block rewards, while identity A would get pool rewards for pretending to participate


[06/11/2021 2:07 PM] danandbeard#3509
in the white paper here: https://eprint.iacr.org/2020/044.pdf I believe they talk about a puzzle that must be solved with a private key, so each attempt you make ties your identity to the attempt, thus when you mine a block your identity is already tied to the solution


[06/11/2021 2:08 PM] Gazza_SP#5835
But in that scenario, the blockrewards are still only given out once to one person, what are the benifits or sending the solution to another actor?


[06/11/2021 2:08 PM] danandbeard#3509
what do you mean?  you get rewarded by the pool even if you mine zero blocks


[06/11/2021 2:09 PM] danandbeard#3509
so identity A participates in the pool, but when they mine a block, they don't share that with the pool, they send the solution to identity B which then mines the block as id-B reap all the block rewards while still pretending to help the pool and thus getting pool rewards


[06/11/2021 2:10 PM] danandbeard#3509
this is solved in traditional pools by centralization with "shares"


[06/11/2021 2:10 PM] danandbeard#3509
shares aren't solutions, just partial solutions so a participant never knows if they helped mine a block


[06/11/2021 2:11 PM] Gazza_SP#5835
Yes but the person who solved the problem gets 0 block rewards. Is this not the same as A solving the block, mining it then sending the block rewards to B? Sorry if I am just misunderstanding


[06/11/2021 2:12 PM] danandbeard#3509
no it's not the same because transactions from A to B are public ledger and can be verified publicly


[06/11/2021 2:13 PM] danandbeard#3509
even before that happens I'm hoping you can prove A both did all the work and mined the block


[06/11/2021 2:14 PM] danandbeard#3509
if you can only prove someone mined a block but can't prove they did previous work then id-A can do the work until they solve the puzzle, send only the solution to id-B who can then mine the block....this is maximal rewards for the malicious pool participant who gets funds from the pool but will never contribute to the pool


[06/11/2021 2:34 PM] danandbeard#3509
I wonder how traditional pools solve this problem - how do they ensure participants aren't contributing only "shares" and keeping the block solutions for themseves?


[06/11/2021 2:39 PM] Gazza_SP#5835
When you are mining shares, you have to publicly give your wallet address to the pool, this is a hash of your public key, so it is probably reverse engineered from that to ensure the correct rewards went to same place the shares came from and block rewards ended up, but I'm just guessing here, I have no idea how it actually works. Seems like the most logical way in my eyes! How does ergo provide multiple addresses to one public key, does it use a unique key as like in SQL to hash with to ensure it will be traceable if you have the secret key but still unique to the outside world?


[06/11/2021 2:41 PM] danandbeard#3509
at a glance that might make sense, but the issue there is that you can have multiple wallets so I could still contribute "shares" any time my work doesn't solve the puzzle, but any time my work does solve the puzzle, instead of sending a share, I would simply send the solution over to my other miner which would mine the block and reap the rewards


[06/11/2021 2:42 PM] danandbeard#3509
typically you have one address and multiple public keys, not the other way around, although both are possilbe - this is a property of asymmetric cryptography, which is a very dense subject I'm not qualified to explain :p


[06/11/2021 2:43 PM] danandbeard#3509
actually, I'm wrong there I think


[06/11/2021 2:44 PM] danandbeard#3509
assymetric cryptography has 2 keys, one public one private


[06/11/2021 2:45 PM] danandbeard#3509
I need to brush up on how multi-sig works lol


[06/11/2021 2:46 PM] Gazza_SP#5835
You had me worried there with the multiple public keys to 1 private key, mind blown!! üòÑ üòÇ


[06/11/2021 2:46 PM] danandbeard#3509
cryptography is over my head - I try to memorize the properties (and fail) and that's about it


[06/11/2021 2:47 PM] Gazza_SP#5835
Such an interesting but extremely difficult subject! This is the best way to learn, talking about it with an end goal in mind!


[06/11/2021 3:02 PM] WilfordGrimley#0124
Right. My understanding is that private keys are the solution here. I described them as tokens earlier, distributed by an authoritative contract that manages all connected daughter pools and blacklists miners who attempt to circumvent. The contract would require the block rewards be relinquished to the pool immediately.


[06/11/2021 3:03 PM] danandbeard#3509
a key or token is the same w.r.t. that scenario - I can generate multiple private keys, tokens, accounts, w.e.


[06/11/2021 3:05 PM] WilfordGrimley#0124
Right but there is evidence of who actually mined a block publicly available on the ledger.


[06/11/2021 3:05 PM] WilfordGrimley#0124
break over be back in a couple hours.


[06/11/2021 3:07 PM] danandbeard#3509
the one point you've made that I agree with is that forcing miner to pretend like a bunch of smaller miners is a point of resistance and operates similarly to stake pools in cardano...there's nothing (afaik) in cardano stake pools that can prevent a big staker from creating multiple pools, it just puts a slight burden on someone to break things up

I think maybe the biggest difference there is stake rewards are pre-computed at the beginning of an epoch, while mining is an ongoing puzzle - this means you have a set state at the beginning of each epoch in cardano that would mean it doesn't matter if someone moves their funds around - their chance to mint a block in cardano is set at the beginning of an epoch

this is different than PoW where the work is ongoing and you can increase your chances of mining a block at any point in time just by increasing your hashrate


[06/11/2021 3:09 PM] danandbeard#3509
also, this works in cardano because it's built into ouroboros - if stakers in cardano had the option to bypass those limitations and have a single stake pool - they likely would


[06/11/2021 3:09 PM] danandbeard#3509
there's no such mechanism built into autolykos


[06/11/2021 3:09 PM] danandbeard#3509
(afaik)


[06/11/2021 3:12 PM] Gazza_SP#5835
What's to stop a cardano owner, from being in the pool for the snapshot but the rest of the 5 days, being in say a liquidity pool earning rewards. How does the system stay secure if people can just leave at any time and as long as they are back for the start of the epoch it's all fine?


[06/11/2021 3:14 PM] danandbeard#3509
nothing, afaik - they just need to be in a staked wallet at the beginning of an epoch


[06/11/2021 3:14 PM] danandbeard#3509
PoS attempts to prove you're invested in the ecosystem by owning a lot of the asset - it doesn't need that asset to become locked, necessarily


[06/11/2021 3:16 PM] Gazza_SP#5835
So during the epoch, is there any checks done to see if there is ADA available to stake against. I am so confused how ourebourous even works now üòÇ or even PoS


[06/11/2021 3:16 PM] danandbeard#3509
so, for example, if you could find someone dumb enough to loan you ADA at lets say 2% apy, then you could get a loan, stake it right before the epoch, sell it and pay off the loan and get "free" ADA


[06/11/2021 3:16 PM] danandbeard#3509
the thing is no one is going to loan you ADA at 2%apy if they can simply stake it for 4-7% apy


[06/11/2021 3:29 PM] Gazza_SP#5835
Ya that situation isn't really viable, but liquidity pools can give extremely high apy, I tried the Coinex one with erg and USDT and the returns were huge, I think it was up around 300% apy, I only did it for a few days to test with $30k total value and I made like $500, I was lucky the price of ERG didn't move much so I wasn't caught out with impermanent loss!


[06/11/2021 3:31 PM] Gazza_SP#5835
Just talking to nitram147 and he gave me an answer to how the public private keys are generated in ergo and also Bitcoin! 

https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki

Pretty tough read to be honest, I think I'll need to do some external research to fully understand elliptic curve cryptography.

{Embed}
https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki
bitcoin/bips
Bitcoin Improvement Proposals. Contribute to bitcoin/bips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/3QI-AwhTL0FDHwOZwaYE6ZY48lJXIEvgQk3DP_3SP3g/https/opengraph.githubassets.com/f2cb6ce352b536fdbc08f710e3d35f0fd9f3fa6dacd7f7cec3e8875ac8fac0b9/bitcoin/bips


[06/11/2021 3:33 PM] danandbeard#3509
I imagine transferring to and from liquidity pools costs more than you'd made in 5 days of staking though, right?


[06/11/2021 3:34 PM] danandbeard#3509
cardano acknowledges the risks involved when defi products give more rewards than staking


[06/11/2021 3:34 PM] danandbeard#3509
I don't think it's a solved problem just yet? I'm sure they have good ideas there


[06/11/2021 3:35 PM] danandbeard#3509
personally I see defi as high risk and staking is guaranteed rewards, so I imagine retirees will always take the guaranteed returns


[06/11/2021 3:46 PM] Gazza_SP#5835
Not at all, the fees to do this are only the transaction fees, 0.17 ADA each way, so if you had say 100k worth of cardano, and also the same amount of USDT, you could definitely make more! With a lot less even, liquidity pools are extremely high paying from my experience! Ya Charles has mentioned that where PoW will hopefully come into play as far as I know. I can't see a way that there will be enough cardano left to provide adequate protection, it needs at least 33% of ADA staked to be secure as far as I remember? This could be higher though. The staking reward of 5.4% is very low compared to some other safe options though. I wonder is this value variable in the future if the networks gets lots of use, will they be able to increase it or will that require a hardfork.


[06/11/2021 4:24 PM] danandbeard#3509
they're puttign a governance model into place to allow voting on inflation among other things


[06/11/2021 4:44 PM] Gazza_SP#5835
I guess we have a big decision to make among all of us, none of us can program in ergo script right now, which will be the biggest bottleneck in our project. What's the best option to move forward, I could put something in the hachathon chat saying we need an ergo script dev to help us out with an idea. Can't see any other way to go forward! What do people think?


[06/11/2021 4:46 PM] danandbeard#3509
I can program in any language, just some not quite as well as others LOL


[06/11/2021 4:46 PM] danandbeard#3509
I'll be spending most of this evening learning the implementation details of autolykos this evening though...probably read through some mining code for reference


[06/11/2021 4:47 PM] danandbeard#3509
without knowing impl details I don't think it's possible to even come up with a reasonable idea


[06/11/2021 4:51 PM] danandbeard#3509
what I don't understand is - what prevents me, a miner, from mining "shares" to get money from the pool, but never giving the pool my full solutions and instead sending those full solutions to the network myself to get full rewards?


[06/11/2021 5:00 PM] Gazza_SP#5835
Ya I get you. I see you asked a question in autolykos, I'd advise you to put it in the hackathon chat channel, all the devs are active there and you will get an answer a lot easier! After that we may get some answers to your concerns and we can hopefully move on from there! ‚ò∫Ô∏è


[06/11/2021 5:01 PM] Gazza_SP#5835
Have you programmed in a functional language like ergo script? I'm finding it hard to wrap my head around the syntax at the moment. I think I need to try and recreate the 2 full problems and solutions in the ergo playground by myself to try and follow the syntax.


[06/11/2021 5:10 PM] WilfordGrimley#0124
It kind of does function in measurable actionable way in the form of difficulty in PoW. Even though the puzzle is ongoing, only at set intervals is the difficulty adjusted. Recalculation for average blocks submitted and saturation could be calculated at the same time for this system.


[06/11/2021 5:11 PM] danandbeard#3509
I write functional code professionally, although smart contracts are a whole different ballgame


[06/11/2021 5:12 PM] Gazza_SP#5835
Good start at least!


[06/11/2021 5:12 PM] WilfordGrimley#0124
There was originally. It was called non outsourceability. It was removed because it created a barrier for small miners. The thing we are trying to build would remove that barrier and allow a fork to reenable nonoutsourcability.


[06/11/2021 5:14 PM] WilfordGrimley#0124
This is exciting! I‚Äôll read this when I get home tonight!


[06/11/2021 5:14 PM] danandbeard#3509
non-outsourcability is a means to prevent pooling, it isn't a means to penalize "overmining"


[06/11/2021 5:16 PM] Gazza_SP#5835
The penalizing could be a means to an end I guess, the way it was done was bypassable with smart contracts so there aren't many options left.


[06/11/2021 5:16 PM] Gazza_SP#5835
Hopefully you get through more of it than me! üòÇ


[06/11/2021 5:16 PM] danandbeard#3509
I think it's important to note that pooling isn't an issue


[06/11/2021 5:17 PM] danandbeard#3509
it's 51% attacks and decentralization of things like choosing which tx's get included in blocks


[06/11/2021 5:17 PM] WilfordGrimley#0124
It prevents the scenario where miner A gives their block to miner b to reap higher rewards though.


[06/11/2021 5:18 PM] danandbeard#3509
exactly, that property would be so awesome to have with contract "pooling"


[06/11/2021 5:19 PM] quokka#1273
Hello everyone! Just realized I'm on this team lol. I won't lie this project seems too hard for me to do back-end, but I'd love to do some front-end work. Unfortunately I'll be gone most of the day tomorrow but I think I can build all of the front end today as long as its not too much stuff


[06/11/2021 5:19 PM] quokka#1273
If there's front-end work at all in the first place


[06/11/2021 5:20 PM] WilfordGrimley#0124
The best way to build this with existing tech (in the mean time) and without a fork to reenable nonoutsourcability would be to have the daughter pools function as tradition pools with an authoritative function the ensure the miner is providing shares correctly. While this is ‚Äòcentralization‚Äô it is still more decentralized than any practical alternative besides solo mining.


[06/11/2021 5:23 PM] WilfordGrimley#0124
There will be need for front end work! Even if not explicitly beneficial to this system, a front end for the crowdfunding tech would be an excellent benefit to this project. 

There is a lot of documentation on the crowdfunding tech posted in this discord‚Äôs hackathon channels, and many other places.

{Reactions}
üôå 

[06/11/2021 5:25 PM] WilfordGrimley#0124
For reference, deadalus‚Äôs staking pool functionality and UI would be an ideal miner portal for connecting to and creating crowdfunding targets for smartpools. 

It could all function within swagger from an Ergo node.


[06/11/2021 5:29 PM] quokka#1273
Got it. Working on that now


[06/11/2021 5:55 PM] danandbeard#3509
I'm researching stratum connections - potentially that's what prevents miners from simply keeping full solutions for themselves and only sending shares


[06/11/2021 5:55 PM] danandbeard#3509
but I've only heard that from 1 source, so not sure at all what the mechanism tehre would be


[06/11/2021 5:59 PM] danandbeard#3509
this might be the answer https://bitcoin.stackexchange.com/a/10692

{Embed}
https://bitcoin.stackexchange.com/a/10692
What prevents a pool miner from stealing an entire block?
As I understand it,when mining BTC, and calculating a block, the goal is to find a SHA-256 hash below a certain value (with the previous block, a nonce, and other things as the input).  Are pool mi...
https://images-ext-1.discordapp.net/external/8Jdsd-HKzR2wAWKkfuQ3np5n0FK8ATfC2JzV1O8C7c8/%3Fv%3D462e8b9b382b/https/cdn.sstatic.net/Sites/bitcoin/Img/apple-touch-icon%402.png


[06/11/2021 6:14 PM] Gazza_SP#5835
So we would need a decentralised payment address that will match up with our pool address. If we try change the payment address to our own address, this will cause a conflicting hash meaning we don't get the rewards anyway. That would mean we could use the original idea of a collateral address. A miner pays some form of collateral into the payment address and is allowed mine. If they act in any malicious sort of way, they lose any potential rewards and also their collateral. If the miner acts expectantly, they will receive block rewards relating to the hash rate they gave to the pool, I guess we will also need to allow miners to pull out and withdraw their collateral too if needed. The same question arises that @danandbeard has raised. How do we calculate shares completed by each miner in a decentralized pool. Can we still use the share protocol somehow.


[06/11/2021 6:17 PM] danandbeard#3509
well this doesn't sound like it would be a decentralized pool, it would just be a centralized pool with penalties for mining too much, right?


[06/11/2021 6:20 PM] Gazza_SP#5835
If the payment address and pool address are both controlled by a decentralized smart contract and has multiple miners giving work to it, that seems as decentralised as possible, I suppose we still have the issue of a solo miner with a farm being able to produce 90% of the shares which then ruins the decentralization.

{Reactions}
üëç 

[06/11/2021 6:21 PM] Gazza_SP#5835
Do you have any ideas on how we could improve the decentralization?


[06/11/2021 6:21 PM] danandbeard#3509
I still believe it's impossible to penalize a solo miner to mine less


[06/11/2021 6:22 PM] danandbeard#3509
but solo miners have yet to be an issue, so that's not a problem I care to solve


[06/11/2021 6:22 PM] danandbeard#3509
Pools are the issue and I would suggest the only way to beat pool centralization is to create a way to mine with better returns


[06/11/2021 6:23 PM] danandbeard#3509
A smart contract pooling solution could require zero mining fees

{Reactions}
üëç 

[06/11/2021 6:24 PM] Gazza_SP#5835
I might throw the idea into the hackathon chat see if anyone has any ideas about solo mining and shares added to the pool with a decentralized smart contract! Ya that's true, nanopool take a few % in fees dont they?


[06/11/2021 6:24 PM] danandbeard#3509
Further if we introduced contract based pooling then non-outsourcable PoW could be turned back on and effectively kill centralized pools entirely


[06/11/2021 6:25 PM] danandbeard#3509
They take 1% iirc


[06/11/2021 6:26 PM] Gazza_SP#5835
So even if we say that we allowed whoever to mine no problem, the main issue we have is that we have no way to calculate what work each miner has done per block to allocate rewards once the block is mined, am I correct here?


[06/11/2021 6:30 PM] danandbeard#3509
I still need to understand how current pools work - I'll read on that tonight, but maybe oracles could come in handy here


[06/11/2021 6:32 PM] danandbeard#3509
hmm, yeah I have too many questions about my own suggestion with oracles - I think I'll stop brainstorming until I understand current ERG pools and mining properties


[06/11/2021 7:49 PM] WilfordGrimley#0124
If the system is a decentralized smart contract system that generates (centralized) pools based on collateral, the collateral need not come from the miner necessarily, the collateral could still come from crowdfunding, with the incentive being that crowdfunding increases decentralization by allowing more miners to be able to connect, and covering their collateral. 

In such a system the miner would be provided a key that they use when connecting to the pool with their mining software. That key would allow them to submit shares to only one daughter pool, it would be required to spend the box that contains their reward, and could be revoked permanently if they reveal themselves to be a bad actor. 

This way, the daughter pools act as the centralized miners, and other smart contracts create them as needed to reduce centralization. 

It allows anyone to produce a bounty for greater decentralization, which rewards more heavily those daughter pools that have less total shares submitted.


[06/11/2021 7:51 PM] WilfordGrimley#0124
The solution here is a small collateral for the key generation, each daughter pool could require its own key to discourage hopping.


[06/11/2021 7:53 PM] WilfordGrimley#0124
Again the goal is not to penalize, it is to attempt to provide the market the option to make greed mining less lucrative. 

This system should be less lucrative for big miners than traditional pools given enough time to mature in the market.


[06/11/2021 7:54 PM] WilfordGrimley#0124
Bingo!!!!


[06/11/2021 7:55 PM] danandbeard#3509
> This system should be less lucrative for big miners than traditional pools
I'm not understanding you here - are you saying solo big miners should benefit less than pool miners?


[06/11/2021 9:04 PM] WilfordGrimley#0124
sorry, no not my meaning. I'm suggesting that an extreme effort of decentralization would include dismatling anything that has the potential to become adversarial. Miners with a very large hashpower are a greater threat to decentralization than 100 miners with equal hash power.

I am not suggesting that pools should hold more power than solo miners. The goal here is to reduce the risk of pools having greater hashing power.

If the desired saturation level of the daughter pools is 1% of the total hash and a solo big miner can provide 1.2% of the total hash power, then the pool would not benefit them. They would be better off mining solo or joining an adversarial pool.

The saturation is meant to be fluid, as the network demands more decentralization, the system provides it.


[06/11/2021 9:14 PM] Enhacker#5176
Know I'm late for the party, but I'm finally reading up on the discussion so far üôÇ On vacation with friends but have all day tomorrow and a majority of Sunday free. Looking at the hackathon as the kick-off to learn Ergo-Script. After the event I'm free until end of June and was hoping to continue learning and doing more üôÇ


[06/11/2021 9:25 PM] WilfordGrimley#0124
Awesome! Thank you for being involved. I will not be available as much as I would like to over the course of the literal Hackathon, but I will continue researching and trying to learn myself whenever I find time!

I do play to try to consolidate the information in these discussions in a more organized manner for git or elsewhere. I did a tiny bit of hyping for this project on reddit and the ergo foum. People seem excited for it. I know I am, I would much rather point my hashes at a system such as this one over most alternatives.

{Reactions}
üëç 

[06/11/2021 9:47 PM] Enhacker#5176
Can't promise I'll join in on the theoretical discussions as much since my primary goal is to get to coding ErgoScript ASAP. With that being said I would like to stay in this group because being with people is better than being alone üôÇ

{Reactions}
‚ù§Ô∏è (2) 

[06/11/2021 9:49 PM] Enhacker#5176
Also, good night üôÇ


[06/11/2021 9:49 PM] WilfordGrimley#0124
Good night!

{Reactions}
‚ù§Ô∏è 

[06/11/2021 10:11 PM] Gazza_SP#5835
I'm the same, need to try pick up some ergo script aswel! This is an interesting project to learn on also!

{Reactions}
üëç 

[06/11/2021 10:12 PM] Gazza_SP#5835
I will also stick with this past the hackathon if you want some assistance! Seems like a good opportunity to learn!


[06/11/2021 11:07 PM] WilfordGrimley#0124
I'm rereading non outsourcability, ergo whitepaper, autolykos, and ergo script 1+ 2 tonight.

My understanding of Ergo with nonoutsourcabilty turned off is that it is a L2 puzzles as defined in the outsourcability paper correct?

I will copy this question to a more public channel in this discord.


[06/11/2021 11:18 PM] Gazza_SP#5835
Ya I think that's right, and with the non outsourceability turned on it would be a L3. Bitcoin is only L1 as it has no full scripting language from what I remember?

{Reactions}
üëç 

[06/11/2021 11:30 PM] mhs_sam#1471
Hey! great team and lots of amazing conversations! Unfortunately I was out of work in the last two days. It takes some time to read the conversations. Give me some time to read the chats and catch up with you.

{Reactions}
üëç (2) üíØ (3) 

[06/11/2021 11:34 PM] WilfordGrimley#0124
Thank you!


[06/11/2021 11:42 PM] WilfordGrimley#0124
@kushti provided some great info just now in hackathon chat. I am sure they have been linked here recently, but he mentioned P2Pool and Smartpool for ETH. I'll grab some links. 

To my understanding they attempted (or perhaps already do) the same goal on Bitcoin and Ethereum. We thankfully have to benefit of the robust features of Ergo and Autolykos!


[06/11/2021 11:45 PM] WilfordGrimley#0124
https://en.bitcoin.it/wiki/P2Pool

{Embed}
https://en.bitcoin.it/wiki/P2Pool
P2Pool


[06/11/2021 11:46 PM] WilfordGrimley#0124
Eth smartpools https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-luu.pdf


[06/11/2021 11:47 PM] WilfordGrimley#0124
wow P2Pool is genius


[06/11/2021 11:47 PM] Gazza_SP#5835
Just reading it aswel, really interesting!


[06/11/2021 11:54 PM] WilfordGrimley#0124
Thankfully Ergo is robust enough that a lot of of the functionality of P2Pool can be run on chain with small smart contracts. I'd bet that there is no need for a side chain if a full node miner is configured to correctly connect to a daughter pool.


[06/12/2021 1:39 AM] danandbeard#3509
yeah this ethereum smartpool looks like exactly what I want to implement - the whitepaper goes into pretty good details

{Reactions}
üòç (2) 

[06/12/2021 1:39 AM] danandbeard#3509
/s/details/detail


[06/12/2021 3:15 AM] WilfordGrimley#0124
wonderful. I am just finishing reading the Eth SmartPools paper. I wish we had read it earlier, it answerd a lot of the questins we were asking ourselves. 

I think my favorite part of open source is the ability to iterate: two people with differing ideas can still benefit from each other's work if it is similar enough üôÇ


[06/12/2021 3:26 AM] WilfordGrimley#0124
It seems we should be able to verify shares submitted with Ergo's NiPoPoW functionality to increase efficiency.

 If our authentication could accurately identify bad actors, while maintaining the privacy of block rewards using the zero knowledge tech we would be able to enable most if not everything to function on chain. ü§î


[06/12/2021 3:38 AM] WilfordGrimley#0124
https://nipopows.com/


[06/12/2021 3:46 AM] WilfordGrimley#0124
In reading the EthSmartPools paper one issue I see so far is one that we already know that we have to overcome but it seems easier in Eth than in Ergo (by design). Ethereum has a coinbase function that allows a miner to identify where their block reward will go. I don't think Ergo has the same functionality so we will have to work harder to prevent miners from stealing rewards. I am totally confident that is is possible to overcome in Ergo, we have already discussed some potential solutions.


[06/12/2021 3:53 AM] WilfordGrimley#0124
From the above EthSmartPool paper: 

"Probabilistic verification.For efficiency, SMARTPOOLuses a simple but powerful observation: if weprobabilis-tically verifythe claims of a miner,  and pay only if nocheating is detected,  then expected payoffs of cheatingminers are the same or less than those of honest miners.In effect, this observation reduces the effort of verifyingmillions of shares down to verifying one or two!We provide a way to sample shares to verify, outlinea detailed procedure for checking validity in Section 3.5,and a full proof in Section 4.  Here, we explain this ob-servation with an example, since it may appear counter-intuitive at first.  Let us consider a case where cheatingminer finds 500 valid shares but claims that he has found1000 valid shares to SMARTPOOL. If SMARTPOOLwereable  to  randomly  sample  one  share  from  the  miner‚Äôscommitted set,  and verify its validity,  then the odds ofhaving detected the cheating is 500/1000 (or 1/2). If theminer is caught cheating, he is paid nothing;  if he getslucky without being detected, he gets rewarded for 1000shares. Note that the expected payoff for such a miner isstill 500, computed as(0.5¬∑1000+0.5¬∑0) =500, whichis the same as that of an honest miner that claimed theright amount of valid shares. The argument extends eas-ily to varying amounts of cheating; if the cheater wishesto claim 1,500 shares, he is detected with with probabil-ity 2/3 and stands to get nothing.  The higher his claimaway from the true value of found shares, the lower is thechance of a successful payout. By samplingk‚â•1 times,SMARTPOOLcan reduce the probability of a cheater re-maining undetected exponentially small ink, as we showin Section 4."


While I think direct verification would be preferable if it is possible to do efficeintly, this is a great baseline.


[06/12/2021 3:57 AM] WilfordGrimley#0124
A potential solution for share submission verification is a part of my original pitch: Oracle Pools. If miners were required to register, and then to operate a full node with an oracle pool verifying their own, as well as other shares submitted on the network we could achieve close to 100% if not 100% verification. 

It is entirely possible as you suggest @danandbeard that this is redundant. If so, great!


[06/12/2021 3:58 AM] WilfordGrimley#0124
The data from the aggregate of those pools could be used to give real time or close to real time metrics on network hashrate.


[06/12/2021 4:00 AM] danandbeard#3509
the important part of their verification functionality is it's very easy to change how many branches you verify


[06/12/2021 4:00 AM] danandbeard#3509
with just 3 checks per submission you ensure that over a very short period that cheaters lose


[06/12/2021 4:01 AM] danandbeard#3509
it's so genius in its simplicity


[06/12/2021 4:01 AM] danandbeard#3509
I'm reading up on their adjusted merkle tree data structure and then I'll probably start reading up on ergo-script


[06/12/2021 4:02 AM] danandbeard#3509
I'm gonna ask what a good way to test contracts is - there's probably material that covers that


[06/12/2021 4:02 AM] WilfordGrimley#0124
ErgoScriptPlayground I think. I'll try to find a link.


[06/12/2021 4:04 AM] WilfordGrimley#0124
Some resources here.


[06/12/2021 4:04 AM] WilfordGrimley#0124
https://github.com/ergoplatform/ergoscript-by-example#Extra-Resources-To-Get-Started

{Embed}
https://github.com/ergoplatform/ergoscript-by-example
ergoplatform/ergoscript-by-example
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - ergoplatform/ergoscript-by-example
https://images-ext-1.discordapp.net/external/PG1xx4twiJzH_Zc9h4YzhPDC_zqwWwyGOYTVMbh8XIQ/https/opengraph.githubassets.com/da01c7cbc7913d5aeaec9824fe178a376bccf9b15cf6f58d74673049abd2eb40/ergoplatform/ergoscript-by-example


[06/12/2021 4:07 AM] WilfordGrimley#0124
This is the playground I think. Should be able to test with this link. https://scastie.scala-lang.org/

{Embed}
https://scastie.scala-lang.org/
Scastie - An interactive playground for Scala.
Scastie can run any Scala program with any library in your browser. You don‚Äôt need to download or install anything.
https://images-ext-2.discordapp.net/external/KrYReWZj2NuY8SonLKj1Vz1h-7mqORfiqtVgiCaZ0XQ/https/scastie.scala-lang.org/public/sharing-image.png


[06/12/2021 4:07 AM] danandbeard#3509
thanks, looking at that now


[06/12/2021 4:14 AM] WilfordGrimley#0124
"Checking  Validity  of  Shares.SMARTPOOL checkst hat miners have followed the prescribed mining proce-dure by randomly sampling a share from each submittedClaimalong with aShareProof(as described in Sec-tion 3.3). SMARTPOOLvalidates the following:(i)  the hash of the share meets the difficulty criterion;(ii)  the  share  is  constructed  correctly,  i.e.,  uses  theSMARTPOOL‚Äôs  address  as  the  beneficiary  addressof the block reward.(iii)  the   share   correctly   satisfies   the   proof-of-work (PoW) solution constraints (e.g.  the use of prede-termined  1GB  dataset  mandated  by  the  EthereumPoW scheme)The  checks  for  (i)  and  (ii)  are  straightforward.   Thecheck for (iii) is to guarantee that miners actually haveand  use  the  data  cache  when  they  generate  the  shares.This  1GB  of  data  cache  is  introduced  in  Ethereum  tomake its PoW ASIC-resistant.  Thus, skipping checking(iii) would allow rational miners to easily mine a lot ofinvalid shares and still get paid from  SMARTPOOL.   Itis  not  straightforward  to  efficiently  check  (iii)  inside  asmart contract.  Indeed a na Ãàƒ±ve solution would require amassive amount of gas and hence invoke enormous trans-action fees. We discuss implementation tricks on how tocheck (iii) in Section 6.1.1." From EthSmartPool paper again.

Ergo does not have the same gas fee limitation of Ethereum, so we should be able to vastly improve the efficiency of (iii) in our design.


[06/12/2021 4:42 AM] danandbeard#3509
yep, they claimed something like 0.6% smartpool fees, which in ergo could potentially be like 0.1% I suspect

{Reactions}
üòç 

[06/12/2021 5:24 AM] WilfordGrimley#0124
If crowdfunding and saturation were implemented as I have outlined them, the fees could be closer to zero still (assuming people were willing to crowdfund it, and mine on such a system.


[06/12/2021 8:02 AM] Gazza_SP#5835
Just caught up now, good stuff, seems like the smartpool paper gives lots of good insight. I'll be out for a few hours but I'll get back involved properly then.


[06/12/2021 2:19 PM] Gazza_SP#5835
The below found in the advanced ergo script tutorial would be useful for the pool reward address. If a malicious miner steals funds with a security flaw, the transaction can be reversed if found in time.


[06/12/2021 2:19 PM] Gazza_SP#5835
2.2 Hot-Wallet Contracts: Reversible Addresses
We create a useful primitives called reversible addresses, designed for storing funds in a hot-wallet.
Any funds sent to a reversible address can only be spent in way that allows payments to be
reversed for a certain time.


[06/12/2021 2:21 PM] Gazza_SP#5835
The code example

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/853262791591198720/unknown.png

{Reactions}
üòç 

[06/12/2021 2:25 PM] danandbeard#3509
Who would determine when funds are stolen and how, though?


[06/12/2021 2:26 PM] Gazza_SP#5835
It will have to be checked manually depending on how far away the block height is set, the example in the ergo whitepaper gives an example of 24 hours.


[06/12/2021 2:26 PM] Gazza_SP#5835
We create a useful primitives called reversible addresses, designed for storing funds in a hot-wallet.
Any funds sent to a reversible address can only be spent in way that allows payments to be
reversed for a certain time. The idea was proposed for Bitcoin [5] (using the moniker R-addresses)
and requires a hardfork. In ErgoScript, however, this can be done natively.
To motivate this feature, consider managing the hot-wallet of a mining pool or an exchange.
Funds withdrawn by customers originate from this hot-wallet. Being a hot-wallet, its private key
is succeptible to compromise. One day you discover several unauthorized transactions from the
hot-wallet, indicating a breach. You wish there was a way to reverse the transactions and cancel
the withdraws but alas this is not the case. In general there is no way to recover the lost funds
once the transaction is mined, even if the breach was discovered within minutes.
We would like that in the event of such a compromise, we are able to save all funds stored
in this wallet and move them to another address, provided that the breach is discovered within a
specified time (such as 24 hours) of the first unauthorized withdraw.


[06/12/2021 2:27 PM] danandbeard#3509
The authority to reverse tx is itself a potential vulnerability

{Reactions}
üëç 

[06/12/2021 2:28 PM] Gazza_SP#5835
So it would take manual intervention unless we could devise a way to alert when funds were moved from an address. Maybe by scanning the explorer and looking for the pool address being used as an output from a UTXO


[06/12/2021 2:28 PM] danandbeard#3509
Let's say I have all the authority to reverse tx....now someone can just steal my key


[06/12/2021 2:29 PM] Gazza_SP#5835
This is covered in the example.


[06/12/2021 2:29 PM] Gazza_SP#5835
pecified time (such as 24 hours) of the first unauthorized withdraw.
To achieve this, we require that all coins sent from the hot-wallet (both legitimate and by the
attacker) have a 24 hour cooling-off period, during which the created boxes can only be spent by
a trusted private key that is was selected before the compromise occurred. This trusted key must
be different from the hot-wallet private key and should ideally be in cold storage. After 24 hours,
these boxes become ‚Äònormal‚Äô and can only be spent by the receiver.
This is done by storing the hot-wallet funds in a special type of address denoted as reversible.
Assume that alice is the public key of the hot-wallet and carol is the public key of the trusted
party. Note that the trusted party must be decided at the time of address generation and cannot be
changed later. To use a different trusted party, a new address has to be generated. Let blocksIn24h
be the estimated number of blocks in a 24 hour period. A reversible address is a P2SH address
whose script encodes the following conditions:


[06/12/2021 2:30 PM] Gazza_SP#5835
1. This input box can only be spent by alice.
2. Any output box created by spending this input box must have in its register R5 a number at
least blocksIn24h more than the current height.
2
3. Any output box created by spending this input box must be protected by a script requring
the following:
(a) Its register R4 must have an arbitrary public key called bob.
(b) Its register R5 must have an arbitrary integer called bobDeadline.
(c) It can only be spent spent by carol if HEIGHT ‚â§ bobDeadline.
(d) It can only be spent by bob if HEIGHT > bobDeadline.
Thus, all funds sent from such addresses have a temporary lock of blocksIn24h blocks. This
can be replaced by any other desired value but it must be decided at the time of address generation.
Let bob be the public key of a customer who is withdrawing. The sender (alice) must ensure that
register R4 of the created box contains bob. In the normal scenario, bob will be able to spend the
box after roughly blocksIn24h blocks (with the exact number depending on bobDeadline).
If an unauthorized transaction from alice is detected, an ‚Äúabort procedure‚Äù is triggered via
carol: all funds sent from alice and in the locked state are suspect and need to diverted elsewhere.
To create a reversible address, first create a script, withdrawScript, with the following code:


[06/12/2021 2:30 PM] danandbeard#3509
I think the way to secure smartpool would just be to accept losses and update vulns with new contract versions


[06/12/2021 2:30 PM] WilfordGrimley#0124
A verification as to who created a share either as outlined in the Eth Smart Pool, or using some of the excellent tech available on Ergo

The Eth Smart Pool solution probabilistically checks for share validity.


[06/12/2021 2:31 PM] Gazza_SP#5835
You cant determine who stole them, you dont need to, you can just reverse the transaction within 24 hours meaning it isnt viable to do the transaction at all. You use a seperate key to lock the block.


[06/12/2021 2:31 PM] danandbeard#3509
Right, but if the contract finds invalid shares it already solves the problem by never handing out funds


[06/12/2021 2:32 PM] danandbeard#3509
So there'd be no need for reversing a tx


[06/12/2021 2:33 PM] Gazza_SP#5835
I guess it would be more of a redundancy security feature, I cant see any harm in incorporating it, giving us another level of protection. Even if your private key was found, the funds are locked and can be reversed into the original address. It allows you time to decide on what to do next.


[06/12/2021 2:34 PM] danandbeard#3509
Personally I would not trust a smart contract that let someone else reverse my earnings


[06/12/2021 2:35 PM] Gazza_SP#5835
Actually the funds get moved into a different address if the secret key is stolen as the trusted party initializes the smart contract.


[06/12/2021 2:35 PM] danandbeard#3509
I'd rather lose an entire block reward, tell everyone to use another pool for a few days and update the script to remove the vulnerability


[06/12/2021 2:35 PM] WilfordGrimley#0124
I agree with this in principle. But it‚Äôs not someone else, it‚Äôs a smart contract. In this case they aren‚Äôt your earning either, you stole them.


[06/12/2021 2:36 PM] danandbeard#3509
If the smart contract can detect something there's nothing to reverse, you just never give them funds


[06/12/2021 2:36 PM] Gazza_SP#5835
I dont follow here, the full system is based on the trust of smart contracts?


[06/12/2021 2:36 PM] danandbeard#3509
Reversal here will always mean human involvement


[06/12/2021 2:37 PM] danandbeard#3509
Why would there be a tx to even reverse if you can programmatically detect fraud?


[06/12/2021 2:38 PM] Gazza_SP#5835
But as I said, this is a redundancy feature, it should never be triggered if everything else goes according to plan. You cant detect someone gaining the private key to the pool wallet address though.


[06/12/2021 2:38 PM] danandbeard#3509
Right, reversal would be a redundant human process


[06/12/2021 2:38 PM] danandbeard#3509
If it can be done in code then you'd never send a tx


[06/12/2021 2:39 PM] WilfordGrimley#0124
It may prove to be more efficient to have reversal as an inherent deferent to fraud. 

You are making the assumption that other forms of fraud detection are more efficient as a deterrent than a guaranteed automated reversal mechanism.


[06/12/2021 2:40 PM] danandbeard#3509
If you can automate something you do so to prevent tx, not reverse it


[06/12/2021 2:41 PM] WilfordGrimley#0124
Yeah good point. Reverse is against a lot of what I believe in in immutable systems anyway.


[06/12/2021 2:45 PM] Gazza_SP#5835
I guess the issue is that we need the pool to have legitimate transactions when it is paying out block rewards. How does the smart contract differentiate between legitimate transactions and malicious transactions.


[06/12/2021 2:45 PM] danandbeard#3509
Can you define a malicious tx here?


[06/12/2021 2:46 PM] Gazza_SP#5835
The private key of the pool is stolen by some means, and the actor behind it, sends all funds to an external wallet, without the reversible tx, the funds can then be mixed and lost completely.


[06/12/2021 2:47 PM] danandbeard#3509
I imagine you can create an address without anyone knowing the pk


[06/12/2021 2:48 PM] danandbeard#3509
And either way, reversal keys can be stolen too so no added security there


[06/12/2021 2:48 PM] WilfordGrimley#0124
Yeah this should be possible. Especially if the pool addresses are created by an different smart contract.


[06/12/2021 2:49 PM] Gazza_SP#5835
But the secret key has to be part of a hot wallet, the trusted key can be in cold storage, completely airgapped from the network.


[06/12/2021 2:49 PM] Gazza_SP#5835
To achieve this, we require that all coins sent from the hot-wallet (both legitimate and by the
attacker) have a 24 hour cooling-off period, during which the created boxes can only be spent by
a trusted private key that is was selected before the compromise occurred. This trusted key must
be different from the hot-wallet private key and should ideally be in cold storage. After 24 hours,
these boxes become ‚Äònormal‚Äô and can only be spent by the receiver.


[06/12/2021 2:50 PM] danandbeard#3509
Cold storage is less secure than no storage


[06/12/2021 2:50 PM] WilfordGrimley#0124
No human would have to know the private keys for the smart contract that holds block rewards that are intended for miners on pool.


[06/12/2021 2:51 PM] danandbeard#3509
The pool address will have its keys destroyed and never known

{Reactions}
üëç üíØ 

[06/12/2021 2:51 PM] WilfordGrimley#0124
Bingo, and then after 4 years if the rewards are unclaimed they will go back to miners slowly.


[06/12/2021 2:52 PM] danandbeard#3509
and breaking the pool is easy to fix with an update....risk is almost zero and reward is maybe a few block rewards


[06/12/2021 2:52 PM] Gazza_SP#5835
Ok if this is possible then the issue should never arise.

{Reactions}
üíØ 

[06/12/2021 2:53 PM] WilfordGrimley#0124
On the issue of honest shares being submitted, Ergo can do this more efficiently than Ethereum by orders of magnitude, so we can design the verification of shares to be stronger.


[06/12/2021 3:07 PM] danandbeard#3509
this seems likely to be true (maybe not the orders of magnitude, but I'm hopeful as well)


[06/12/2021 3:07 PM] danandbeard#3509
that said - to make this work we'll need a smart contract as well as a miner that adheres to the contract


[06/12/2021 3:09 PM] danandbeard#3509
there's also some interesting caveats e.g.

minerA bundles up a bunch of shares
minerB discovers a full solution and submits the full solution
minerA commits those shares after the block is mined - do we count minerA's work towards the next block w.r.t. fair payout?


[06/12/2021 3:10 PM] danandbeard#3509
I would think so, that way we don't encourage people bombarding the contract with their shares and incentivize lower frequency


[06/12/2021 3:10 PM] danandbeard#3509
I'll be working on the contract today - do either of y'all have programming experience?


[06/12/2021 3:11 PM] danandbeard#3509
I'll probably start off with a really naive solution to share verification just to get a mock solution in place


[06/12/2021 3:13 PM] WilfordGrimley#0124
Awesome!


[06/12/2021 3:13 PM] Gazza_SP#5835
Just something that isnt clear to me from the Smartpool paper.


[06/12/2021 3:13 PM] Gazza_SP#5835
3.3 Claim Submissions
Miners can submit a large batch of shares in a single
claim. To permit this, SMARTPOOL defines a Claim
structure which consists of a few pieces of data. First,
the miner cryptographically commits to the set of shares
he is claiming.


[06/12/2021 3:14 PM] Gazza_SP#5835
How does a miner know before he starts mining how many shares he will be able to contribute?


[06/12/2021 3:15 PM] Gazza_SP#5835
In a centralized pool I can see how this works, but I cant see how it will work in a decentralized. I guess we will have to as @danandbeard said let the shares roll onto the next block.


[06/12/2021 3:16 PM] Gazza_SP#5835
Not in this type of language. I did a small bit of Object oriented a few years back but I basically work in assembly. Was hoping to learn ergo script during this.


[06/12/2021 3:17 PM] danandbeard#3509
the miner doesn't know how many it will be able to contribute, it's just given a problem space to try and solve to not overlap work


[06/12/2021 3:17 PM] WilfordGrimley#0124
There is another approach to share submission we could take that Ergo gives us the unique ability to build: each miner has an oracle pointed at their mining software operating on their node.


[06/12/2021 3:18 PM] danandbeard#3509
the miner will do some analysis on hashrate and automatically pull down appropriate commitments


[06/12/2021 3:18 PM] danandbeard#3509
but before then it'll just be a small commitment


[06/12/2021 3:21 PM] danandbeard#3509
we could optimize later with things that aren't necessarily oracles - for instance with this contract there will be a lot of commitments in parallel


[06/12/2021 3:21 PM] danandbeard#3509
that means there will be overlap


[06/12/2021 3:21 PM] danandbeard#3509
I don't think this is something that can be prevented without making miners wait for a bunch of confirmations


[06/12/2021 3:22 PM] danandbeard#3509
a centralized service to hand out commitment space would be more efficient and I think not have any risk?


[06/12/2021 3:23 PM] danandbeard#3509
would have to fund such a service of course, which is a drawback - but it could be a good redundancy measure to ensure our pool mines more efficiently and finds more rewards


[06/12/2021 3:23 PM] danandbeard#3509
so overall could be a net gain


[06/12/2021 3:24 PM] danandbeard#3509
and if that service fails, just fallback to uncoordinated contract commitments


[06/12/2021 3:24 PM] danandbeard#3509
the paper may have already solved that though, so I'll check


[06/12/2021 3:25 PM] danandbeard#3509
I recall soemthing about unique nonce data such that the iteration space doesn't need to be coordinated actually


[06/12/2021 3:25 PM] Gazza_SP#5835
To enable probabilistic verification, SMARTPOOL prescribes a procedure for mining
shares. Each SMARTPOOL miner is expected to search
for shares in a monotonic order, starting from a distinct
value that it commits to. Specifically, when a miner
claims shares S = {s1,s2,...,sn}, SMARTPOOL extracts
a unique counter from each share, e.g., taking the first k
(say 20) bits, and requires that the counters of all si ‚àà S
to be strictly increasing. Each time a miner finds a valid
nonce that yields a valid share, he increases the counter
by at least 1 and searches for the next share. When the
miner claims for the set S, its submitted elements must be
lexicographically ordered by counter values. The miner
commits the latest counter in his Claim to this set S,
which has at most one share for each counter value. This
eliminates any repeats in claimed shares in one claim,
and across claims by one miner. In SMARTPOOL implementation as an Ethereum contract, as discussed in
Section 3.5, we use the share‚Äôs timestamp and the used
nonce to act as the counter value of a share


[06/12/2021 3:26 PM] danandbeard#3509
> This
> eliminates any repeats in claimed shares in one claim,
> and across claims by *one miner*.


[06/12/2021 3:27 PM] danandbeard#3509
this is the part I think maybe could be optimized by a centralized service


[06/12/2021 3:27 PM] danandbeard#3509
to make sure participants aren't stepping on each others toes, but that may already be handled


[06/12/2021 3:28 PM] danandbeard#3509
I imagine we can assign some UUID to each miner that they user as part of their nonce, which would take care of that


[06/12/2021 3:29 PM] danandbeard#3509
so UUID + counter == nonce alleviating the need for a coordinated effort to make sure nonce space is fully explored


[06/12/2021 3:40 PM] WilfordGrimley#0124
Is the initial pool implementation you are building @danandbeard a centralized pool in a traditional sense? Will it exist as one smart contract, or delegate different functions to different smart contracts?


[06/12/2021 3:41 PM] danandbeard#3509
smart contracts by definition are decentralized, they will be running on all full nodes as far as I understand it

{Reactions}
üíØ 

[06/12/2021 3:41 PM] danandbeard#3509
delegation to other contracts isn't something I can think of a good use case for, but I'm also pretty new to all this


[06/12/2021 3:42 PM] WilfordGrimley#0124
Right, sorry what I am asking is: are you building a single (decentralized) pool to run on a single smart contract?


[06/12/2021 3:43 PM] danandbeard#3509
right, the only need for multiple contracts in my mind will be to upgrade the contract


[06/12/2021 3:43 PM] WilfordGrimley#0124
A god among men.


[06/12/2021 3:43 PM] danandbeard#3509
hardly xD


[06/12/2021 3:43 PM] danandbeard#3509
wait until the code works - then we can discuss if I know wtf I'm doing LOL

{Reactions}
üëç 

[06/12/2021 3:44 PM] WilfordGrimley#0124
We‚Äôre all trying our best at least! xD


[06/12/2021 3:44 PM] danandbeard#3509
I've already learned so much honestly


[06/12/2021 3:44 PM] WilfordGrimley#0124
Me too!

Thanks to everyone involved with this!!

{Reactions}
üëç 

[06/12/2021 3:44 PM] Gazza_SP#5835
Ya the whole reason I joined in was to learn, and that I have, my brain is fried!


[06/12/2021 3:46 PM] WilfordGrimley#0124
Don‚Äôt forget the existing collateralized smart pools that exist for Ergo when building, they can probably take out a lot of guess work. (Although the goals we have are much more complex than what is provided in those contracts)


[06/12/2021 3:48 PM] Gazza_SP#5835
https://www.ergoforum.org/t/collateral-script-for-pool-mining/200

{Embed}
https://www.ergoforum.org/t/collateral-script-for-pool-mining/200
Collateral script for pool mining
As some of you know, I‚Äôve been working on my own collateral-based mining pool.  This will just be another option along with @mhs_sam‚Äôs pool.  I thought I would post my collateral box script here for public review, in case I‚Äôve missed any obvious issues:  {   val poolReward = 67500000000L   {     // Case 1: block was mined by alice.     // Either...


[06/12/2021 3:49 PM] Gazza_SP#5835
Just to keep it near the discussion if its going to come in useful.


[06/12/2021 3:59 PM] Gazza_SP#5835
https://github.com/mhssamadani/Autolykos-GPU-miner

{Embed}
https://github.com/mhssamadani/Autolykos-GPU-miner
mhssamadani/Autolykos-GPU-miner
CUDA-based GPU miner for Ergo (Autolykos algorithm) - mhssamadani/Autolykos-GPU-miner
https://images-ext-2.discordapp.net/external/_Gu0i11629iH4BOTzbu9FYxLURwCSpvixgE1zxIBFAA/https/opengraph.githubassets.com/60ade022454506705e877f0b394bf5c01697c8802edf7af31a6b30c0246233ae/mhssamadani/Autolykos-GPU-miner

{Reactions}
‚ù§Ô∏è 

[06/12/2021 3:59 PM] WilfordGrimley#0124
The other reason to have multiple contracts, or at least multiple stages to a single contract, is to make this scalable and compatible with sister pools. 

While yes, any mining pool running on smart contracts is decentralized, the pool ITSELF is a centralizing force if it has no inbuilt deterrent to become too powerful.

Making the various functions of the pool modular (in various cooperating smart contracts) allows for greater decentralization, trust in the system, and iteration/ improvement in the future.


[06/12/2021 3:59 PM] Gazza_SP#5835
The original autokylos code that had non-outsourceability turned on.


[06/12/2021 4:00 PM] Gazza_SP#5835
https://github.com/ergopool-io

{Embed}
https://github.com/ergopool-io
ergopool-io
ergopool-io has 5 repositories available. Follow their code on GitHub.
https://images-ext-1.discordapp.net/external/c3bMnRchPLoVuNZ358uXoZunWN8S3Cu2r0ZPXOZMMK4/%3Fs%3D280%26v%3D4/https/avatars.githubusercontent.com/u/60923965


[06/12/2021 4:00 PM] Gazza_SP#5835
Also the first semi-decentralized mining pool based on collateralized smart contracts for Ergo.


[06/12/2021 4:01 PM] Gazza_SP#5835
Should be able to get some good info from these guys.


[06/12/2021 4:01 PM] WilfordGrimley#0124
We should look into it‚Äôs verification process for share submitting.


[06/12/2021 4:01 PM] Gazza_SP#5835
I'm on it!


[06/12/2021 4:11 PM] WilfordGrimley#0124
I have to go to work. I will continue researching and popping in chat throughout the day when I can. 

I need to reread oracle pools to see if there is a way they can be implemented on a miner‚Äôs node to efficiently and with as much accuracy corroborate share submission. If anyone else has time today, please go for it also!

This is basically revisiting the original idea of a centralized saturation oracle that we originally dismissed because be wrongly assumed that Ergo inherentlyallowed us a way to accurately determine shares submitted. We have since learned that it does not so looking into the viability of this is worthwhile. 

It could function such that a full node miner with an share reporting oracle registers to an authentication contract. The authentication contract collects data from all of the connected oracles and looks for consensus. It could be done at a small sample size or infrequently. 

This mixes the solutions for P2Pool, EthSmartPool and the technology available in Ergo nicely in my view. 


I think mid to long term, we should be presenting two versions of each of our potential solutions: one with nonoutsourcability turned on, and one with it turned off. I could see pools being constructed very differently in each instance. If we had both solutions, there could be a mechanism that allowed the pools to migrate if nonoutsourcability were ever turned on again.


[06/12/2021 4:14 PM] danandbeard#3509
the contract will be open source - there will be no need for sibling contracts if it behaves as the entirety of miners want - if 100% of hashpower contributes to this pool there is nothing centralized as it's open source and con be modified/reviewed by anyone


[06/12/2021 4:15 PM] danandbeard#3509
centralization is not about what people choose to do, it's about delegation of authority...if every miner is acting autonomously and freely chooses this contract it's completely decentralized


[06/12/2021 4:16 PM] Gazza_SP#5835
Ive attached s bit of code from the ergopool.io proxy that seems to create a share in ergo block format.

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/853291563978981388/message.txt

{Reactions}
üòç 

[06/12/2021 4:16 PM] danandbeard#3509
this is different from choosing a traditional pool as you're no longer acting autonomously, to put this in contrast


[06/12/2021 4:16 PM] Gazza_SP#5835
https://github.com/ergopool-io/proxy/blob/516440c3dedbf58bdd2868250f5e3ee643bb9a9e/test/node/ShareTest.scala

{Embed}
https://github.com/ergopool-io/proxy/blob/516440c3dedbf58bdd2868250f5e3ee643bb9a9e/test/node/ShareTest.scala
ergopool-io/proxy
A Proxy to mine Ergo with ergopool. Contribute to ergopool-io/proxy development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Dt8vx6xf_xoHMRNZJULIxfHkx-jZrn1leUHttepBSHc/https/opengraph.githubassets.com/4d3b0b9a680b5f948db95149f465aa3896b5f863319c8793234b1fa1032dbd04/ergopool-io/proxy


[06/12/2021 4:16 PM] danandbeard#3509
thanks, those will be good references


[06/12/2021 4:17 PM] Gazza_SP#5835
Sorry I cant help writing the code, all I can do is plow through the existing contracts and find relevant references.


[06/12/2021 4:19 PM] danandbeard#3509
see if you can find a reference miner - that isn't optimized but just aims to be clearly documented in how a miner attempts to find solutions and submits valid solutions


[06/12/2021 4:22 PM] WilfordGrimley#0124
The autolykos paper v1 and v2 I think.


[06/12/2021 4:23 PM] mhs_sam#1471
May I know your main questions? I briefly read the chats, seems lots of questions are solved already.
anyway, I think for Autolykos v2 the best immediate solution would be similar to P2Pool.
you need a sidechain with lower diff and less block time.


[06/12/2021 4:23 PM] danandbeard#3509
we're attempting to replicate https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-luu.pdf


[06/12/2021 4:24 PM] danandbeard#3509
effectively the miner will submit batches of shares, the contract will validate some subset of those shares to determine eligibility of payout once the pool mines a block


[06/12/2021 4:25 PM] danandbeard#3509
p2pool sidechains seem unneccesary in my very inexperienced opinion


[06/12/2021 4:25 PM] mhs_sam#1471
there is a smart contract based pool (ergopool) which is done for Auto v1, the pool resistant version of Autolykos.
It needs some collateral, shares are validated by pool (centralized validation), accounting is done by pool.


[06/12/2021 4:25 PM] mhs_sam#1471
you can find the source codes in ergopool repo


[06/12/2021 4:26 PM] mhs_sam#1471
https://github.com/ergopool-io

{Embed}
https://github.com/ergopool-io
ergopool-io
ergopool-io has 5 repositories available. Follow their code on GitHub.
https://images-ext-1.discordapp.net/external/c3bMnRchPLoVuNZ358uXoZunWN8S3Cu2r0ZPXOZMMK4/%3Fs%3D280%26v%3D4/https/avatars.githubusercontent.com/u/60923965


[06/12/2021 4:26 PM] danandbeard#3509
what is the need for collateral if share validation is being done?


[06/12/2021 4:26 PM] mhs_sam#1471
for miner, I guess it is still in my repository; I should check


[06/12/2021 4:27 PM] danandbeard#3509
right, I understand the miner puts up collateral to participate, but if the contract is validating shares that should cover any scenario where the miner could cheat, correct?


[06/12/2021 4:27 PM] mhs_sam#1471
I should check this one


[06/12/2021 4:28 PM] danandbeard#3509
it's a very beautiful and simple solution to this problem I think


[06/12/2021 4:28 PM] mhs_sam#1471
I was talking about v1. the situation is very different in v2.

{Reactions}
üëç (2) 

[06/12/2021 4:28 PM] danandbeard#3509
I think this smartpool contract could work just as well with non-outsourcable puzzles just as easily


[06/12/2021 4:29 PM] danandbeard#3509
(but I'm also very new to all of this)


[06/12/2021 4:30 PM] mhs_sam#1471
in v1, the collateral was necessary since the reward goes to miner's address. So the miner had some collateral, which a tx sending that collateral to pool must be included in the same block.
as soon as fining a valid solution by miner, the collateral is sent to pool and mining reward collected by the miner.

{Reactions}
üëç 

[06/12/2021 4:30 PM] danandbeard#3509
oh that makes a lot of sense


[06/12/2021 4:32 PM] danandbeard#3509
slight tangent: is there a way to do share validation in a public contract with non-outsourceable puzzles such that you can validate without leaking private data from the miner?


[06/12/2021 4:32 PM] mhs_sam#1471
I had read this paper a long time ago, takes some time to read it again. do you have any high level design for the pool based on it?


[06/12/2021 4:33 PM] mhs_sam#1471
validating the shares does not require private data.
anyway, in v2 we do not have any private data in the mining algo

{Reactions}
ü§î 

[06/12/2021 4:34 PM] Gazza_SP#5835
Could you incorpotrate sigma protocols. They have zero knowledge proofs which protect the identity.


[06/12/2021 4:34 PM] Gazza_SP#5835
Built-in Œ£-protocols Our new language incorporates proving and verifying as first-class primitives, giving developers access to a subclass of cryptographic proof systems known as non-interactive
Œ£-protocols (pronounced ‚Äúsigma-protocols‚Äù). Thus, a script protecting a transaction output can
contain statements (Œ£-statements) that need to proven (by producing Œ£-proofs) in order to spend
the output.
Conceptually, Œ£-proofs [Cra96] are generalizations [CL06] of digital signatures. In fact, Schnorr
signature scheme [Sch91] (whose more recent version is popularly known as EdDSA [BDL+12,
JL17]) is the canonical example of a Œ£-proof: it proves that the recipient knows the discrete logarithm of the public key (the proof is attached to a specific message, such as a particular transaction,
and thus becomes a signature on the message; all Œ£-proofs described here are attached to specific
messages). Œ£-protocols exist for proving a variety of properties and, importantly for ErgoScript, elementary Œ£-protocols can be combined into more sophisticated ones using the techniques of [CDS94].
For an introduction to Œ£-protocols, we refer the reader to [Dam10] and [HL10, Chapter 6].
ErgoScript provides two elementary Œ£-protocols over a group of prime order (such as an elliptic
curve), written here in multiplicative notation:
‚Ä¢ A proof of knowledge of discrete logarithm with respect to a fixed group generator: given a
group element h, the proof convinces a verifier that the prover knows w such that h = g
w,
where g is the group generator (also known as base point), without revealing w. This is the
same as a Schnorr signature with public key h.
‚Ä¢ A proof that of equality of discrete logarithms (i.e., a proof of a Diffie-Hellman tuple): given
group elements g1, g2, u1, u2, the proof convinc


[06/12/2021 4:34 PM] mhs_sam#1471
in v2, the puzzles are outsourceable


[06/12/2021 4:36 PM] danandbeard#3509
no code yet, but I do have a design in mind, I need to fully understand the validation process described in the paper better but my current understanding is this

1. miner commits to some keyspace for doing work
  1a contract stores this commitment
2. miner solves puzzles in that keyspace
3. miner submits batched up shares
 3a contract validates some subset of these shares such that over time cheaters will get fewer rewards than honest workers
4. miner finds full solution and submits that to the network
 4a network pays to the pool address
 4b pool contract does accounting and sends rewards to participants based on valid shares contributed

{Reactions}
üëç 

[06/12/2021 4:37 PM] WilfordGrimley#0124
We‚Äôve got a divergence in goals among us here. 

The question that was originally proposed is essentially: can aggregate pool be designed that allows nonoutsourcability to be switched back on. 

A possible solution is a system that crowdfunds and launches pools with diminishing returns on pools that exceed an equilibrium of hash power across the daughter pools. This would favour more heavily miners with smaller hash power. As miners that overcontribute shares would see less rewards I. This system compared to one such as ErgoPool.

{Reactions}
üíØ 

[06/12/2021 4:37 PM] WilfordGrimley#0124
Good to know I‚Äôll try to understand this better when ai get home today.


[06/12/2021 4:38 PM] mhs_sam#1471
Oh, so you want to work on v1 with non-outsourcable puzzles?


[06/12/2021 4:39 PM] danandbeard#3509
provided a contract can validate shares of non-outsourceable puzzles without leaking private information I think this current design works in v1


[06/12/2021 4:39 PM] danandbeard#3509
I'm completely unsure how possible that is though :p


[06/12/2021 4:40 PM] Gazza_SP#5835
I suppose for a start we should probably concentrate on V2 as to test we need to use what is currently running.

{Reactions}
üëç 

[06/12/2021 4:40 PM] Gazza_SP#5835
We will not be able to test on V1 without another hardfork.


[06/12/2021 4:41 PM] danandbeard#3509
this is my goal as well


[06/12/2021 4:43 PM] mhs_sam#1471
test is possible with deploying a testnet, same for v2


[06/12/2021 4:44 PM] mhs_sam#1471
Okay, I think we are not in the same page. Let's clarify the bases and the goals first.
Do you want to design smart contract pool for v1 or v2? there is a huge difference.


[06/12/2021 4:44 PM] Gazza_SP#5835
How realistic is it that non-outsourceability will be switched back on though, would we be putting alot of time into a seperate fork as our basis of work.


[06/12/2021 4:45 PM] Gazza_SP#5835
I think V2, we can still create everything we want on V2, it will give people an option between centralized and decentralized. I believe a lot here will choose the decentralized option, especially if we can reduce fees.


[06/12/2021 4:47 PM] mhs_sam#1471
We can argue this, but, one question of mine here. why should we punish big miners? anyway, big miner can be mine in smaller groups of miner. So, there is no way to limit a miner who is overcontributing


[06/12/2021 4:50 PM] Gazza_SP#5835
I suppose our idea was that a few big miners can control a big % of the hashrate, which eventually means centralization. But if it is not possible to prevent this, we can still go forward with creating a decentralized pool contract.


[06/12/2021 4:50 PM] WilfordGrimley#0124
The reason that nonoutsourcability was turned of is that collateralized mining pools would stop them from being able to compete. ‚ÄòIncentivizing‚Äô miners to appear small and act as small miners give a higher chance that they can earn fair rewards in a autolykos v1 type system.


[06/12/2021 4:50 PM] mhs_sam#1471
However the idea of having dec pools is great, I guess it is not possible to be done or even to be designed in the hackathon. excuse my french, but I recommend to do a smaller step right now. May I proposed to build an open source mining pool for hackathon?
actually, integrate NOMP with our Stratum server. It can be done quickly.
both are open source.


[06/12/2021 4:50 PM] WilfordGrimley#0124
@danandbeard is working on that step for us right now!!! üôÇ


[06/12/2021 4:50 PM] Gazza_SP#5835
Ya we are optimistic with the timeline! üòÜ


[06/12/2021 4:50 PM] danandbeard#3509
this is my understanding as well


[06/12/2021 4:51 PM] mhs_sam#1471
a bit more than 0 percent, I suppose


[06/12/2021 4:52 PM] Gazza_SP#5835
My concern is that when ethereum goes to PoS, the biggest GPU farm miners would take over the ergo network completely.


[06/12/2021 4:52 PM] danandbeard#3509
the initial design goal could be this

```
1. miner commits to some keyspace for doing work
  1a contract stores this commitment
2. miner solves puzzles in that keyspace
3. miner submits batched up shares
 3a contract validates some subset of these shares such that over time cheaters will get fewer rewards than honest workers
4. miner finds full solution and submits that to the network
 4a network pays to the pool address
 4b pool contract does accounting and sends rewards to participants based on valid shares contributed
```

this is a contract that is somewhat simple - it would need a miner that could adhere to this contract, but that can be a future goal


[06/12/2021 4:53 PM] danandbeard#3509
step 1 is a bit I'm trying to understand better


[06/12/2021 4:53 PM] danandbeard#3509
it may not be necessary at all


[06/12/2021 4:54 PM] mhs_sam#1471
It was actually more complicated situation. There was a trick to break the non-outsourceability, the open miners was slow in comparison, community was not willing to use ergopool, ...
The decision was hard and a lot of argument; one way was to simply fix the puzzle (it was very easy) and keep NO; however, the community decided to switch if off.


[06/12/2021 4:55 PM] mhs_sam#1471
it is very good üòÄ


[06/12/2021 4:55 PM] WilfordGrimley#0124
They could be limited by a registration fee that is orders of magnitude lower than a whole block reward. In this way a large miner needs to provide more collateral to operate many small miners than a small miner needs to operate a single miner.


[06/12/2021 4:55 PM] Gazza_SP#5835
I'm being selfish with my 2 GPU setup üòÜüòÇ


[06/12/2021 4:58 PM] danandbeard#3509
section 3.3 and 3.4 detail share claiming/submission https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-luu.pdf


[06/12/2021 4:58 PM] mhs_sam#1471
still works for big miners, however a burden for small miners. Big miners are big, they can provide thousands of dollars, while small miners may avoid this if mining requires even very small fee.
again, this is arguable and I do not insist on my opinion here.


[06/12/2021 5:00 PM] mhs_sam#1471
assuming going back to NO is not possible, what would be your goals?
Do you want to work on v2 pools?
or, do you want to build open source pool based on NOMP? or???


[06/12/2021 5:00 PM] danandbeard#3509
my goals work on v2


[06/12/2021 5:00 PM] danandbeard#3509
what is NOMP?


[06/12/2021 5:01 PM] mhs_sam#1471
https://github.com/zone117x/node-open-mining-portal

{Embed}
https://github.com/zone117x/node-open-mining-portal
zone117x/node-open-mining-portal
A scalable all-in-one easy to setup cryptocurrency mining pool and portal written entirely in Node.js. - zone117x/node-open-mining-portal
https://images-ext-2.discordapp.net/external/rEeZvo3_tRB5iYqeQkEXVp4JMzjK0vxFQpTYOexzOag/https/opengraph.githubassets.com/45acc3798730f52c9d4dd6d5fdf8d12bc2b012fb6d5c405e326bc58c11531432/zone117x/node-open-mining-portal


[06/12/2021 5:01 PM] mhs_sam#1471
there are other implementations too


[06/12/2021 5:02 PM] mhs_sam#1471
the integration can be done quickly (with stratum server)
https://github.com/mhssamadani/ErgoStratumServer

{Embed}
https://github.com/mhssamadani/ErgoStratumServer
mhssamadani/ErgoStratumServer
Stratum pool server for ERGO in Node.js. Contribute to mhssamadani/ErgoStratumServer development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/UuB_3bDQ1NY6-_HtPWWxkxpOjrWZgUjVeGVI-NDjaLw/https/opengraph.githubassets.com/c2cc16c59deb5f0f70030e947a4239679b9625e2eaa3a2869dc9cd793eef9142/mhssamadani/ErgoStratumServer


[06/12/2021 5:02 PM] danandbeard#3509
gotcha, no I plan on working towards smart contract "pools" with no off-chain software needed


[06/12/2021 5:02 PM] danandbeard#3509
at least for the first iteration


[06/12/2021 5:03 PM] danandbeard#3509
there may be off-chain optimizations that can be made later, but the paper I linked works completely on-chain and is very efficient


[06/12/2021 5:06 PM] mhs_sam#1471
I'm afraid not. 
Due to eUTXO model, you need some offchain code as well. If you want to go with smart pool, it is not a one-to-one mapping approach. You need to design from scratch.
One main concern to think of, is how you want to keep the share list? there is no list here. I'm not saying that it is not possible to do lists; yes you can. but some simple 1-to-1 map is not possible here. AND you need offchain code anyway.


[06/12/2021 5:07 PM] danandbeard#3509
eUTXO contracts can not hold state?


[06/12/2021 5:08 PM] mhs_sam#1471
UTXO set IS THE STATE.


[06/12/2021 5:08 PM] danandbeard#3509
right


[06/12/2021 5:08 PM] danandbeard#3509
and you can hold metadata in the UTXO, correct?


[06/12/2021 5:08 PM] WilfordGrimley#0124
@mhs_sam @danandbeard you guys are 100% correct that an autolykos v2 implemention of a decentralized pool is better than no decentralized pool. It seems like a good focus for now.


[06/12/2021 5:09 PM] danandbeard#3509
miners will be spending transactions, which costs ERG, but the ERG spent will be minimal compared to traditional pool fees


[06/12/2021 5:09 PM] mhs_sam#1471
each box can store some data. when a (some) box is spend a (some) new box is created. then the new state is the new utxo set


[06/12/2021 5:09 PM] Gazza_SP#5835
Can we leverage the extra registers that eUTXO has to create a share list? What's the memory size per register?


[06/12/2021 5:09 PM] danandbeard#3509
right, this is where the contract will store that state of participants and how many valid shares they have


[06/12/2021 5:10 PM] danandbeard#3509
each miner will spend a UTXO in order to submit valid shares


[06/12/2021 5:11 PM] mhs_sam#1471
@glasgowm would you please add @zargarzadehmoein to this chat?


[06/12/2021 5:12 PM] danandbeard#3509
is it possible to give every participant access to spending these UTXO to add their valid shares without also giving them access to corrupt the private state that holds other participants valid shares?


[06/12/2021 5:13 PM] mhs_sam#1471
I did not say that it is not possible to have list, you can. I was saying that it is not straightforward as account based model. we actually did implement the linked list for Gravity project.


[06/12/2021 5:13 PM] danandbeard#3509
that makes sense


[06/12/2021 5:13 PM] mhs_sam#1471
depends on your contract, you can do anything I can say


[06/12/2021 5:14 PM] danandbeard#3509
so as far as implementation, can I think of the "state" as a UTXO that occasionally needs to be spent in order to execute the accounting logic and every participant can submit their own UTXO state, from which the "pool" UTXO will have read access to the UTXO's created by participants?


[06/12/2021 5:15 PM] danandbeard#3509
hmm, I guess participants would still need access to spend the pool UTXO in order to move state forward


[06/12/2021 5:16 PM] danandbeard#3509
this is possible though, right?  to give everyone access to spending the UTXO without giving them the ability to corrupt the state inside of that UTXO?


[06/12/2021 5:16 PM] Gazza_SP#5835
I added him.


[06/12/2021 5:18 PM] mhs_sam#1471
UTXO set is a set of all unspent boxes. everyone can see the UTXO set. anyone who can satisfy the requirement of a box is able to spend it.
So, giving someone the ability to spend a box must be included in the contract of that box.


[06/12/2021 5:19 PM] mhs_sam#1471
I mean, in your sentences, replace UTXO with box. This makes more sense

{Reactions}
üëç 

[06/12/2021 5:19 PM] danandbeard#3509
gotcha, seems I need to learn a bit more about the UTXO model and how I would make sure no one can corrupt other participant shares


[06/12/2021 5:33 PM] Gazza_SP#5835
For now, is it a fair assumption that with the time we have left, we should follows @mhs_sam advice and start by setting up a new pool using:
 https://github.com/mhssamadani/ErgoStratumServer

Realistically, anything else will not be achievable by tomorrow. At least with this, the heavy lifting is done.

{Embed}
https://github.com/mhssamadani/ErgoStratumServer
mhssamadani/ErgoStratumServer
Stratum pool server for ERGO in Node.js. Contribute to mhssamadani/ErgoStratumServer development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/UuB_3bDQ1NY6-_HtPWWxkxpOjrWZgUjVeGVI-NDjaLw/https/opengraph.githubassets.com/c2cc16c59deb5f0f70030e947a4239679b9625e2eaa3a2869dc9cd793eef9142/mhssamadani/ErgoStratumServer


[06/12/2021 5:35 PM] Gazza_SP#5835
If you do want to dig into the boxes needed for the smart contract miner I can have a look into this @danandbeard, I don't know JavaScript so i have no idea how I'll get on, but I'll give it a shot anyway!


[06/12/2021 5:35 PM] danandbeard#3509
Personally I'm not interested in winning the hackathon and setting up an offchain pool wouldn't appear to move forward the goal I outlined


[06/12/2021 5:36 PM] danandbeard#3509
I'm focused on contract capabilities for the time being


[06/12/2021 5:37 PM] Gazza_SP#5835
I agree about not winning. I just think it would be good to have something tangible ready for tomorrow. I might look into this anyway. I only entered the hackathon to learn so this seems like something I can actually do right now.


[06/12/2021 5:37 PM] danandbeard#3509
Sounds good to me


[06/12/2021 5:38 PM] danandbeard#3509
I likely won't have anything to present tomorrow and that's fine with me


[06/12/2021 5:38 PM] Gazza_SP#5835
Same here, I've learn a lot in the last few days, that's all I wanted to gain from this weekend! Learning how the pool works seems like it will be extremely beneficial going forward so it won't be wasted time for me anyway.


[06/12/2021 5:43 PM] mhs_sam#1471
fair enough. I recommend however to go with P2Pool at this stage. It would be a good start and makes you familiar with lots of Ergo stuff. Later, you can leverage your knowledge to do smart pool like. 
P2Pool is for bitcoin; bitcoin's contract are much limited in comparison with Ergo. So any thing doable in btc and be easily ported to ergo.
on the other hand, porting eth contracts to ergo requires a deep understanding of both account based and eUTXO based models, and the contracts are going to be very complex.
It is your decision however.

{Reactions}
üëç (2) 

[06/12/2021 5:47 PM] Gazza_SP#5835
For now @mhs_sam what do you see as being doable by tomorrow. As I have never setup a pool, I have no idea the time or work involved. Is it a reasonable task? Would it be better to stick with the ergo stratum server for now as it applies to ergo?


[06/12/2021 6:49 PM] WilfordGrimley#0124
We could present our various conceptual solutions even without anything tangible.


[06/12/2021 6:56 PM] Gazza_SP#5835
Ya I think this is probably the way forward! I'm just trying to get a pool configured locally as I haven't used much JavaScript and wanted to try and learn. I'm spinning my wheels a little but making small bits of progress üòÇ

{Reactions}
‚ù§Ô∏è 

[06/12/2021 7:01 PM] Gazza_SP#5835
Another thing is, how do we submit something? Is the GitHub repository all that's needed? For us I guess, we will just be filling the readme for now!


[06/12/2021 7:41 PM] Reed#7093
I wont be able to participate. Something urgent came up sorry.


[06/12/2021 7:51 PM] Gazza_SP#5835
No problem! üòÉ


[06/12/2021 9:09 PM] WilfordGrimley#0124
I hope things work out, Reed!

Thanks for your interest!


[06/12/2021 9:10 PM] WilfordGrimley#0124
It‚Äôs all super informal right now. You are welcome to add to, or edit that GitHub repo as you see fit. 

You can distribute OpenSource code and ideas on napkins if you want to. GitHub is very accessible though.


[06/12/2021 9:13 PM] WilfordGrimley#0124
If you want to upload anything concrete and functional I‚Äôd recommend versioning it so that we can more easily keep track of changes. 

@Gazza_SP are you building an implementation for autolykos 1 or 2?


[06/12/2021 9:15 PM] Gazza_SP#5835
I was trying to build the most recent stratum server pool from mhs_sams GitHub so I guess probably V2. Ran into issues though trying to get it up and running. Need to step away for awhile now, I've been at the monitor for around 12 hours today! üòÇ Need some outside world üòÇ even if I get it running, I'm not sure how I will be able to put it on GitHub as I am just using the source code from mhs_sam!


[06/12/2021 9:16 PM] WilfordGrimley#0124
Holy moly! Get some fresh air!


[06/12/2021 9:18 PM] Gazza_SP#5835
I'm doing that exactly! üòÇ It's 9pm here now though so sun is fading quick! Are both of you in the states? We have very different time zones from what I see when I wake up everyday! üòÇ


[06/12/2021 9:19 PM] WilfordGrimley#0124
@mhs_sam‚Äôs Stratum server is using the GPL 2.0 licence. You are allowed to change it however you like as long as you share the changes you make under the same lisence. 

You can fork it on GitHub and then make changes as you see fit.

{Reactions}
‚ù§Ô∏è 

[06/12/2021 9:21 PM] Gazza_SP#5835
Ah ok, I need to do some reading on GitHub in general, this is my first time properly using it, not just getting executables. I've never had to fork code before. This hackathon has been an extreme learning experience üòÖ


[06/12/2021 10:52 PM] WilfordGrimley#0124
Mission accomplished! All of us newcomers are learning so much!


[06/13/2021 3:42 AM] WilfordGrimley#0124
Canada, EST


[06/13/2021 10:47 AM] Gazza_SP#5835
Just incase you guys miss it!

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/853571331672768522/unknown.png


[06/13/2021 2:29 PM] WilfordGrimley#0124
Time permitting today, I‚Äôll try to summarize our findings. A lot of them are obviously redundant to people in the space, but trying to make it digestible for the public would be worthwhile. 

I‚Äôll try to write about the problems we are trying to solve, describe the various solutions we have found for both the short term and potential long term (autolykos 2 P2Pool based being the most attainable, followed by EthSmartPool Auto 2 inspired, and then ideally auto 1 with saturation functions to make mining in auto1 appealing to small miners)


[06/13/2021 2:29 PM] WilfordGrimley#0124
@danandbeard @Gazza_SP did you guys have any luck yesterday on the technical side of things?


[06/13/2021 2:31 PM] WilfordGrimley#0124
I‚Äôll try to correctly link and reference all of our relevant research.


[06/13/2021 2:46 PM] danandbeard#3509
Nope, zero code written, still researching state machines in eUTXO, definitely more complex than ETH

{Reactions}
üëç 

[06/13/2021 3:54 PM] Gazza_SP#5835
Not much either, having issues getting the stratum server going. I'm not familiar with JavaScript or the node.js environment so I've just been messing around really. Ah well we have a good base of which to work off if nothing else!

{Reactions}
üëç 

[06/13/2021 3:57 PM] WilfordGrimley#0124
eUTXO is such an amazing technology.


[06/13/2021 5:08 PM] Gazza_SP#5835
I tried to jump right into it a week or 2 back and had to stop as I couldn't understand half of what was happening in the script. I had to learn a lot about Bitcoin before I was comfortable with the UTXO model. Definitely a high understanding curve to begin at.


[06/14/2021 1:30 AM] WilfordGrimley#0124
I submitted something that is missing some citations and has some spelling errors but met the deadline. I will correct those things tomorrow before posting more publicly.


[06/14/2021 2:41 AM] danandbeard#3509
nice! I still don't care too much about the hackathon so no attribution needed on my part - thanks for the co-op learning experience though

{Reactions}
‚ù§Ô∏è (2) 

[06/14/2021 3:56 AM] WilfordGrimley#0124
Likewise!! I am super super excited that we all were able to learn so much this weekend, and am looking forward to learning enough to actually write some functional code for Ergo and beyond!


[06/14/2021 3:59 AM] WilfordGrimley#0124
This is the as of yet unedited pdf. It needs citation spelling correction and anyone who wants attribution in this teams name on it! Please send me your edits before we make this more public. 

Please refrain from making this copy public, as proper citation and credit is important. :)

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/853830922835197986/Ergo_Smart_Pools-_Hackathon_Entry_WilfordGrimley_please_do_not_publicize_this_version_it_is_not_full.pdf


[06/14/2021 4:01 AM] WilfordGrimley#0124
I‚Äôll note again that this was the version submitted for judging to meet the hackathon timeframe. I‚Äôd like to give proper credit and citation for something public facing.


[06/14/2021 4:06 AM] WilfordGrimley#0124
Here it is in open document format for easier editing.

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/853832721997365268/Ergo_Smart_Pools-_Hackathon_Entry_v0.1_please_do_not_publicize_this_version_it_is_not_fully_cited..odt


[06/14/2021 12:26 PM] kushti#0978
@WilfordGrimley thanks! we're going to review it!

{Reactions}
‚ù§Ô∏è (3) 

[06/15/2021 10:06 PM] WilfordGrimley#0124
Again, please do not redistribute. This is a version of the previous document, touched up a bit and with better sources. A few more tweaks will likely be made before posting to eprint and the rest of the Ergo community.

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/854466896983621642/Ergo_Hackathon_Crowdfunded_Smart_Contract_Pools_Research_and_Conceptualization._V1.pdf


[06/16/2021 12:17 AM] WilfordGrimley#0124
Would anyone in this group object to it being made public after the hackathon is finished? I think the discussions we had here would be of benefit to the community at large.

{Reactions}
ü§© 

[06/16/2021 12:27 AM] danandbeard#3509
no objections here


[06/16/2021 7:01 PM] WilfordGrimley#0124
wooo! waiting for editor approval. If anyone here wants to see the most up to date version in the mean time, let me know. üôÇ

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/854782830290010112/unknown.png

{Reactions}
‚ù§Ô∏è 

[06/16/2021 7:42 PM] Gazza_SP#5835
Looks great!! Thanks for all the hard work!! üòÅ


[06/16/2021 10:44 PM] WilfordGrimley#0124
Jotting this down for later research: if saturation in Cardano is calculated to be k, then in this case:


 let k be a variable relation between  the minimum cost required to operate a collateral smart contract system on top of Ergo and the available crowdfunded ERG as previously defined.


[06/16/2021 11:05 PM] WilfordGrimley#0124
ah wonderful!

There was proof I overlooked in one of the articles that I cited!

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/854844150280224809/unknown.png


[06/17/2021 10:33 AM] glasgowm#9381
not sure if you've seen this : https://iohk.io/en/research/library/papers/conclavea-collective-stake-pool-protocol/

{Embed}
https://iohk.io/en/research/library/papers/conclavea-collective-stake-pool-protocol/
Conclave: A Collective Stake Pool Protocol - IOHK Research
Conclave: A Collective Stake Pool Protocol, ePrint Archive, June/2021
https://images-ext-1.discordapp.net/external/8mVxJyncPBbwTJsfT1RMBplNGyp9wyvQjrtNa9ckZbI/https/ucarecdn.com/898961f7-4113-42f7-b96d-1adedae97c1a/

{Reactions}
‚ù§Ô∏è (2) 

[06/17/2021 4:36 PM] WilfordGrimley#0124
Awesome! I'm glad there's new stuff. The paper I had seen was https://arxiv.org/ftp/arxiv/papers/1807/1807.11218.pdf

I ended up referencing the latter in the most recent version of my paper. 

I'll give that a read over. I expect it's done all of the heavy lifting, and it appears much more consices that the paper I linked.


[06/17/2021 5:09 PM] WilfordGrimley#0124
@glasgowm This paper is a perfect solution. 

Thanks IOHK!!!!


[06/17/2021 11:02 PM] WilfordGrimley#0124
Between P2Pool, EthereumSmartPool, ErgoPool and Conclave, a lot of the research work has already been done thankfully.

Trying to carve out something definable for this system will be challenging (for me) but I am undeterred!


[06/17/2021 11:06 PM] WilfordGrimley#0124
There is potential for crowdfunded donations to act as a form of stake delegation, and payout donators a % of excess rewards should their decentralization goal be met. This would serve to further financially reinforce the decentralization.


[06/18/2021 2:45 AM] WilfordGrimley#0124
It looks like most of the proofs can be derived from that conclave paper.


[06/18/2021 2:58 AM] WilfordGrimley#0124
Translating from the language in the conclave paper, we can define our crowdfunding contracts as our stakepool operators, such that (if called for by the created contracts) those that donated to the crowdfunds get some percentage (>=< 100%) of their donation back from the block rewards from the created contracts.


[06/18/2021 3:02 AM] WilfordGrimley#0124
"The stake pools game and utility function."as defined in conclave to derive the nash equilibrium is going to be hard for me to translate into Ergo. I'll keep at it. There is an answer.


[06/19/2021 6:36 PM] WilfordGrimley#0124
Drumming up a bit of hype on reddit again.  https://www.reddit.com/r/ergonauts/comments/o3lblv/ergohack_team_smartpools_public_paper_teaser/

{Embed}
https://www.reddit.com/r/ergonauts/comments/o3lblv/ergohack_team_smartpools_public_paper_teaser/
r/ergonauts - ERGOHACK - Team SmartPools: Public Paper Teaser
0 votes and 0 comments so far on Reddit
https://images-ext-1.discordapp.net/external/_om56f7HrvEjqtTxUt4W7sRtTtpuUCOrs6kEZ1ocvQs/%3Fauto%3Dwebp%26s%3D3829bb6918d2ad2561688e8b06a30f761fd167f4/https/preview.redd.it/qwa99ce5d9671.png

{Reactions}
‚ù§Ô∏è (2) 

[06/19/2021 6:38 PM] WilfordGrimley#0124
Most up to date and edited version of the paper; has been submitted to eprint. Further versions will likely require proofs derived from Conclave.

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/855864183274733598/Ergo_Hackathon_Crowdfunded_Smart_Contract_Pools_Research_and_Conceptualization.pdf


[06/20/2021 9:34 AM] glasgowm#9381
Now open to the public @WilfordGrimley

{Reactions}
‚ù§Ô∏è 

[06/21/2021 8:04 PM] WilfordGrimley#0124
eprint required us to resubmit with our real names.

SHA256: 48ed55ac3aa2be1989a24726483eb6405f54572149cd663d1b0e5fb8bf4461f0

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/856610482025791508/Ergo_Hackathon_Crowdfunded_Smart_Contract_Pools_Research_and_Conceptualization.pdf

{Reactions}
‚ù§Ô∏è 

[06/21/2021 8:50 PM] Gazza_SP#5835
Goodbye Gazza üò≠üòÇ


[06/24/2021 3:59 AM] WilfordGrimley#0124
I really want to look into using @anon_real 's ErgoTeams as a front end/ as part of the authentication for this project.


[06/24/2021 7:37 PM] WilfordGrimley#0124
I‚Äôm going to put together a formal grant proposal and send it to ergoplatform@protonmail.com

I am committed to seeing this project created. Having funding could give the project a more solid research basis and realistic implementation.


[06/24/2021 7:53 PM] timoh#9775
what is smartpool?


[06/24/2021 7:58 PM] WilfordGrimley#0124
A few comments above there is a PDF with an outline for the concept as it applies to ergo.


[06/24/2021 7:59 PM] WilfordGrimley#0124
The basic idea is to use crowdfunded smart contracts to stand in for traditional mining pools such that the pools naturally decentralize and reward more heavily for decentralization.


[06/24/2021 8:47 PM] WilfordGrimley#0124
4th place! Congrats guys!

{Reactions}
üëè (2) 

[06/24/2021 10:00 PM] MikeyMike87#9350
High five team!!!!!

{Reactions}
üëè (2) 

[06/25/2021 7:19 PM] BrodaxOficial#1921
Can anyone explain me what is a "Smartpool" please?


[06/26/2021 4:10 PM] arokace#8057
Scroll up a tiny bit, Wilford has a PDF link/whitepaper/whatever you want to call it for going over it.  But in very basic terms, its suppose to be a way to make a mining pool decentralized through the use of smart contracts.


[06/27/2021 1:59 AM] WilfordGrimley#0124 (pinned)
Woo! We‚Äôre live on eprint! https://eprint.iacr.org/2021/846

{Reactions}
ü•≥ (5) 

[07/01/2021 10:28 PM] WilfordGrimley#0124
Genius! This will be a big help to make the miner sidechain very efficient. https://www.youtube.com/watch?v=s05ypkSC7gk

{Embed}
Ergo Platform
https://www.youtube.com/watch?v=s05ypkSC7gk
Ergoversary 20201 - Logarithmic Mining Update from Dionysis
In celebration of Ergo's 2nd birthday, Dionysis Zindros from The University of Athens gives us an update on the progress they have made in the field of logarithmic mining.
https://images-ext-1.discordapp.net/external/kJCSij-Vjnbeet5StUkDp1H7LjunEeVj8RO3M60Zi4k/https/i.ytimg.com/vi/s05ypkSC7gk/maxresdefault.jpg


[07/01/2021 10:37 PM] Gazza_SP#5835
Ya I watched this aswel, great research!


[07/04/2021 5:18 AM] Howler#1913
Wilford - I am "datwolvsnatchdoh" on reddit, I am serious about providing some funds for you to do this work, especially if you can vocal (and, better, financial) support from the dev team


[07/04/2021 5:18 AM] Howler#1913
can get*


[07/04/2021 5:19 AM] Howler#1913
I am not technical whatsoever, so I have to rely on the others for their input on whether or not your idea is credible (which it seems to be) and doable

{Reactions}
‚ù§Ô∏è 

[07/05/2021 8:14 PM] WilfordGrimley#0124
The amount of Conclave that can be nearly directly adapted is uncanny and wonderful.


[07/07/2021 6:12 AM] WilfordGrimley#0124
Shoutout to @CryptoMinerOS of leafpool.com for funding greater decentralization!!!

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/862199332852596746/image0.png

{Reactions}
üôè 

[07/07/2021 7:03 PM] DenAce#1197
anyone an idea how to reach people from nanopool to promote decentralization issues?


[07/07/2021 8:10 PM] danandbeard#2312
if I was at nanopool I wouldn't change a thing - if miners are willing to centralize I would rather them do it at a known good acting pool than a potential malicious pool


[07/07/2021 8:10 PM] danandbeard#2312
but to answer your question, I don't, sorry


[07/07/2021 9:50 PM] WilfordGrimley#0124
I asked them about decentralization this via email a little over a month ago. No response.


[07/07/2021 9:52 PM] DenAce#1197
Ok, maybe my wording was not clear enough. üòÇ 
I want to reach out to miners @ nanopool and make them aware of the issues. Wanted to initiate some brainstorming on how to do it.

{Reactions}
‚ù§Ô∏è 

[07/07/2021 9:53 PM] danandbeard#2312
yeah I mean the idea is in the right place, but if you think about it there's nothing nanopool can do safely


[07/07/2021 9:53 PM] DenAce#1197
Until your smartpool idea can be implemented ofcourse üòÑ


[07/07/2021 9:53 PM] danandbeard#2312
imagine if they kick off everyone so they are at 49% and those miners who got kicked off go to herominer or something...what if herominer turns out to be less secure or malicious?  The problem is the miners, not the pool

{Reactions}
üëç 

[07/07/2021 9:54 PM] WilfordGrimley#0124
Poke around in #üõ†‚îÇhost-a-pool the more pools the better. üôÇ


[07/07/2021 9:54 PM] DenAce#1197
My target are the miners, not nanopool üòâ


[07/07/2021 9:54 PM] danandbeard#2312
marketing other pools is probably the best thing we can do in the short term I suspect


[07/07/2021 9:55 PM] DenAce#1197
My best bet would be to make some new guides/videos


[07/07/2021 9:55 PM] danandbeard#2312
interesting - so you're contacting nanopool to see if they'll help promote other pools?


[07/07/2021 9:56 PM] WilfordGrimley#0124
Anyone feel like creating any videos on how to switch pools and explaining a bit out decentralization?

I‚Äôm half tempted to install a windows VM and make a windows tutorial. xD.  Would be worthwhile in the short term.


[07/07/2021 9:56 PM] danandbeard#2312
I mean I could envision a world where nanopool wants ERG to succeed long-term which makes them money...and ERG will have more trust with better mining distribution


[07/07/2021 9:57 PM] danandbeard#2312
however they're probably really busy doing other things that make them more profit like adding more coins and securing their own infrastructure

{Reactions}
üëç 

[07/07/2021 9:59 PM] DenAce#1197
I'll try my best. I have windows installed x). Not sure how long it will take me

{Reactions}
‚ù§Ô∏è 

[07/07/2021 10:04 PM] WilfordGrimley#0124
Would be worthwhile to talk about the benefits of decentralization. 

Does anyone have a PeerTube instance setup for Ergo yet?


[07/07/2021 10:04 PM] DenAce#1197
What's a PeerTube?


[07/07/2021 10:24 PM] WilfordGrimley#0124
Federated OpenSource P2P YouTube alternative. https://joinpeertube.org/

{Embed}
https://joinpeertube.org/
JoinPeerTube
PeerTube is a decentralized video hosting network, based on free/libre software. Join the federation and take back control of your videos!
https://images-ext-2.discordapp.net/external/nbcht5fYRX5eoI37w6iO87tuePZ31eS0mn9HSZwgV3Y/https/joinpeertube.org/img/card-opengraph.jpg


[07/10/2021 8:44 AM] Leif Erickson#8939
@mhs_sam I saw nomp chatter above in this thread. I've made progress getting nomp to run against ergo node, and getting familiar with code. I saw you mention a couple times to consider combining nomp and ergo stratum server.  I also got the stratum server and proxy to a place I could mine, and was hoping if anyone already had some ideas could share here or DM me before I start messing with code since I'm not as familiar as many folk here. Thanks for any help offered!


[07/14/2021 1:34 AM] WilfordGrimley#0124
I‚Äôm going to copy and paste an answer to a question someone had about how the original SmartPools proposition would function with regards to those with more or less hashrate.


[07/14/2021 1:35 AM] WilfordGrimley#0124
Reasons SmartPools wouldn‚Äôt be competitive: if the cost to miners (required fees and/or authentication tokens) isn‚Äôt lower than what centralized pools offer. It is predicated on the assumption that the market would pay for its operation. This is one of the reasons why further research is important. 

Ideally at first it would coexist with centralized pools, and only replace them if it can prove via market demand that it is a superior system. There would be potential for the market to decide that nonoutsourcability is preferable and eject centralized pools by reanabling it  in the future but it is by no means necessary, and with velvet forks the likelihood that centralized pools continue to exist is nearly a certainty. 

Hashrate hard or soft caps would be best defined as percentages in relation to the network‚Äôs total rather than fixed rate allowing for the highest level of fluidity as miners join and leave, thus automatically open up higher allotment to larger pools as more miners connect to smaller pools. 

The availability of crowdfunding/ the market would be ultimately responsible for deciding indirectly if those with more hashpower are likely to earn more solo or connected. 



e.g. Someone with 500 GPUs connects and earns on the pool. Let‚Äôs say they represent 1% of the pool that are connected to. Over time, the market demands more decentralization and they grow to take up more than 100% of the hashpower of their pool. Their returns are diminished. 

They have a few options to continue to be in profit: 

1. Solo mine

2. Slowly give away or sell their GPUs that do not add to their profitability. They could sell to their friend who has 5 until they both have 50 and are both in profit.

3. Teach/ encourage/ otherwise incentivize others to mine in the system adding to the networks total hashrate and relieving the soft/hard cap. 

4. Some combination of the above

SmartPools is the lever to make options 1-4 available to more people.


[07/14/2021 1:51 AM] WilfordGrimley#0124
Here's the link to the eprint paper that Dionysis is describing in the above video.  https://eprint.iacr.org/2021/623


[07/14/2021 2:05 AM] arokace#8057
Would it be fair to say that even if they were more expensive initially that supply and demand would/could drive its costs down?


[07/14/2021 2:21 AM] danandbeard#2312
supply and demand of what?


[07/14/2021 2:24 AM] danandbeard#2312
the "supply" of availability to mine has no upper limit  (unless this concept proposes we limit how much mining is allowed to happen, which I don't think I've seen that suggested)


[07/14/2021 2:28 AM] danandbeard#2312
@WilfordGrimley you seem committed to this idea so I'd really like to make sure you've addressed what I see as impossible obstacles - if I have these doubts I imagine others will too

>2. Slowly give away or sell their GPUs that do not add to their profitability. They could sell to their friend who has 5 until they both have 50 and are both in profit.

how do you keep miner A from pretending to be miner A *and* miner A's friend?  I realize there are costs associated with joining this pool, but if the costs are worth it for minerA's friend then they would also be worth it for minerA who is just pretending to be two people


[07/14/2021 2:31 AM] danandbeard#2312
I think ultimately this solution doesn't work because it relies on authentication - which is inherently centralized and if you don't authenticate the miners then they can readily pretend to be multiple miners to avoid any caps.  This single person could pretend to be many people and make up 100% of any smart pool(s)


[07/14/2021 2:50 AM] WilfordGrimley#0124
Indeed. 

Optimizing to reduce costs within the systems to their maximum would make the supply/demand relationship more efficient.


[07/14/2021 2:50 AM] WilfordGrimley#0124
Supply and demand of decentralization.


[07/14/2021 2:52 AM] WilfordGrimley#0124
That‚Äôs called a Sybil attack. The proposed system is vulnerable to Sybil just as it‚Äôs underlying system is.


[07/14/2021 2:58 AM] WilfordGrimley#0124
The proposed mitigation strategy is addressed (albeit poorly at the moment) in the Hackathon Paper. 

A linear cost for authentication tokens makes Sybil attacks and bot nets on a system such as this less economical for the attacker. 

To my understanding, decentralized authentication on a per pool basis is achievable with existing technology.


[07/14/2021 2:59 AM] danandbeard#2312
>as it‚Äôs underlying system is.

which underlying system do you speak of?  ergo's PoW isn't vulnerable to sybil attacks as there's no reputation - it's a trustless system


[07/14/2021 3:00 AM] danandbeard#2312
> A linear cost for authentication tokens makes Sybil attacks and bot nets on a system such as this less economical for the attacker. 
this doesn't address my problem - if you're saying minerA's friend would join then that means it is profitable for the friend to join.  If it is profitable for the friend to join it is equally profitable for minerA to pretend to be two people


[07/14/2021 3:01 AM] WilfordGrimley#0124
I would be happy to be wrong about this, but I don‚Äôt think that‚Äôs true. 

There is no way to prove that any number of entities on Ergo are not the same. Nanopool and Herominers could be the same entity, or could be manipulated by the same entity in the future.


[07/14/2021 3:02 AM] danandbeard#2312
there is no reputation in ergo - there's nothing to exploit by being 1 identity vs many because ergo has no reputation


[07/14/2021 3:02 AM] danandbeard#2312
that is a prerequisite for a sybil attack


[07/14/2021 3:03 AM] WilfordGrimley#0124
There would be diminishing returns on miner A, the more tokens they have to pay for. 

Miner B would earn more relative profit.


[07/14/2021 3:03 AM] danandbeard#2312
nanopool and herominer aren't ergo, of course - ergo is trustless those entities are centralized


[07/14/2021 3:04 AM] arokace#8057
I was just referring to the cost of joining/running a smart pool.


[07/14/2021 3:04 AM] danandbeard#2312
the returns would be exactly the same for minerA pretending to be a friend and the friend themselves - the incentives and penalties are the exact same - therefore if it's profitable for the friend to join it is also profitable to minerA to pretend to be two people


[07/14/2021 3:05 AM] danandbeard#2312
so either it's not profitable and nobody joins or it is profitable and thus it rewards 'dishonest' participants


[07/14/2021 3:08 AM] danandbeard#2312
right, I understood what you meant as price - I just don't understand what the underlying supply/demand is for - presumably joining the pool isn't a commodity that can be traded, but rather just a flat fee to participate - you can trade GPUs, for example - therefore GPUs are subject to supply/demand laws, but memberships typically can't be traded and thus aren't subject to the law of supply/demand


[07/14/2021 3:09 AM] WilfordGrimley#0124
@danandbeard let me be clear here. I seriously value you and your criticism, I have from the start. 

For what it is worth, I think that a system more similar to EthSmartPools is very likely to be the best decentralization solution for Ergo. Both can exist, and my research will explore every option with the goal being to discover what the best solution is.

{Reactions}
‚ù§Ô∏è (2) 

[07/14/2021 3:10 AM] danandbeard#2312
for sure, you seem way more committed to your solution than I am to mine - I don't see us as in competition I just want to challenge you in hopes that it makes your solution better

{Reactions}
üíú (2) 

[07/14/2021 3:10 AM] arokace#8057
How do smart contracts work though.  Are all of them the same cost no matter what, does the price change if they're used more often.  That's why I was thinking supply and demand might apply to it


[07/14/2021 3:11 AM] danandbeard#2312
a smart contract is a script ran when you spend a box on the blockchain - there are all kinds of ways to do things off-chain and use the smart contract simply as verification so the cost of moving the smart contract forward varies very much between different problems being solved


[07/14/2021 3:11 AM] WilfordGrimley#0124
If the authentication fee were percentage based, that would be the case. 

I am proposing a flat fee per authentication. Which diminishes returns on Sybil users. The more accounts they control the less profit they will earn proportional to honest participants.


[07/14/2021 3:12 AM] danandbeard#2312
that isn't true though, as they would only need to create a fake identity once they reach the mining caps imposed by the pool


[07/14/2021 3:12 AM] danandbeard#2312
which means whoever uses those extra mining resources (e.g. GPUs) is starting from a new account no matter what


[07/14/2021 3:13 AM] danandbeard#2312
that means the friend or the fake identity are equally profitable in this new account


[07/14/2021 3:13 AM] WilfordGrimley#0124
Right right UNTIL the demand for decentralization increases cutting into their profitability.


[07/14/2021 3:15 AM] danandbeard#2312
let's imagine miner A has 110 work capacity - the pool says 100 is the max...minerA takes his first identity and mines until they hit 100, right?
minerA has 10 leftover capacity
if that 10 capacity is profitable why would minerA sell that to their friend? If it isn't profitable then noone with 10 capacity will join


[07/14/2021 3:15 AM] danandbeard#2312
so either minerA fakes an identity to increase profits or 10 capacity that _could_ be contributing to ergo will not be contributed


[07/14/2021 3:18 AM] WilfordGrimley#0124
The supply demand issue that I want to fix is decentralization. This system should enable the market to be as decentralized as possible: people can donate to pool formation. The more pools that exist, the lower the percentage of the total network hashpower each pool can represent. If enough donation (ERG or hashpower) were made to pool formation, and a single entity grew to encompass all of a pool their profitability would be diminished on several fronts: a hard or soft cap on rewards that automatically get donated to other pools, and then the fixed fee for splitting into a new pool.


[07/14/2021 3:19 AM] danandbeard#2312
in the scenario above no one goes over any caps


[07/14/2021 3:21 AM] WilfordGrimley#0124
That depends on the specific numbers that are used as caps.


[07/14/2021 3:21 AM] arokace#8057
Ok but what Dan is trying to get at is why is it that if I have 2 rigs in 2 competely different locations, like let's say I set one at my house and my parents.  How would the pool know that I'm one entity if I set it up in a way that I'm 2 entities.


[07/14/2021 3:22 AM] danandbeard#2312
it couldn't know anything other than 2 rigs are mining to two different addresses - now the person who owns those two rigs may have to pay the entry fee twice, but if paying the entree fee for 1 rig is profitable, it will also be profitable for rig2 to pay the fee and mine


[07/14/2021 3:23 AM] WilfordGrimley#0124
It isn‚Äôt AS profitable for them is the point I‚Äôm trying to make.


[07/14/2021 3:23 AM] WilfordGrimley#0124
Right right! Scale that up 100 times though.


[07/14/2021 3:24 AM] danandbeard#2312
it's all the same.

imagine you could pay 10 dollars to make 11 - how many times would do that?


[07/14/2021 3:24 AM] danandbeard#2312
I would do it as many times as I could.


[07/14/2021 3:24 AM] danandbeard#2312
it's either profitable to do it once and thus profitable to do it as much as possible or it's not profitable at all


[07/14/2021 3:25 AM] WilfordGrimley#0124
Right! right!

When the demand for decentralization is high enough however you‚Äôd make more solo mining than in the system.


[07/14/2021 3:26 AM] WilfordGrimley#0124
In a vacuum sure, but this is not a singular system. There are other places that would be a better investment.


[07/14/2021 3:26 AM] danandbeard#2312
so this system is designed to cap out max mining to increase dececntralization, but you're saying that in reality solo miners will just avoid this system and thus no extra decentralization will occur?


[07/14/2021 3:27 AM] WilfordGrimley#0124
It creates diminishing returns on singular entities mining to the system.


[07/14/2021 3:27 AM] WilfordGrimley#0124
The more solo miners, the more decentralized the system is.


[07/14/2021 3:27 AM] arokace#8057
Big hash miners might but not a small fry like me

{Reactions}
üíØ 

[07/14/2021 3:27 AM] danandbeard#2312
they aren't diminishing returns - the entry fee does not increase the more often you pay it, it's a flat fee


[07/14/2021 3:29 AM] WilfordGrimley#0124
Your relative earning compared to your investment would be less than if your solo mined or split up your hashpower at a certain point.


[07/14/2021 3:29 AM] danandbeard#2312
why would small miners pay an entree fee just to mine with other small miners? I thought the whole point of this system was to create something to nonoutsourcability could be turned back on?


[07/14/2021 3:29 AM] WilfordGrimley#0124
We value decentralization.


[07/14/2021 3:30 AM] danandbeard#2312
if I'm a small miner who values decentralization I'd just join the smallest pool with zero entry fees, no?


[07/14/2021 3:30 AM] danandbeard#2312
like coinfoundry, or leafpool or anything else that pops up


[07/14/2021 3:30 AM] WilfordGrimley#0124
This would enable that. It could function with nonoutsourcability.


[07/14/2021 3:31 AM] WilfordGrimley#0124
That‚Äôs what we‚Äôve been doing.


[07/14/2021 3:31 AM] arokace#8057
Well, it really depends on the entry fee.  Pools already have a fee.


[07/14/2021 3:31 AM] WilfordGrimley#0124
Very true.


[07/14/2021 3:32 AM] WilfordGrimley#0124
Joining the smallest centralized pool is a bandaid.


[07/14/2021 3:32 AM] danandbeard#2312
I think I'm starting to understand your vision now, actually...I think initially the goal was to prevent large solo miners, but if you accept big solo miners are impossible to stop then this starts making sense

{Reactions}
üíØ 

[07/14/2021 3:33 AM] WilfordGrimley#0124
Big solo miners are essential.


[07/14/2021 3:33 AM] danandbeard#2312
so this concept exists as only a step to transition from a small miner into a big solo miner


[07/14/2021 3:33 AM] danandbeard#2312
(with the ability to always stay small, of course)


[07/14/2021 3:34 AM] WilfordGrimley#0124
Now you‚Äôre getting it.


[07/14/2021 3:34 AM] danandbeard#2312
so now my question is this - how is that different than what already exists?  big solo miners already make more by solo mining


[07/14/2021 3:34 AM] arokace#8057
Sooo to sum up.  Make it profitable for small folk that makes no sense to solo mine (ie what pools do) and big folk like normally already get the most from solo mining because you have no fee at all.


[07/14/2021 3:34 AM] danandbeard#2312
big miners don't use pools


[07/14/2021 3:35 AM] danandbeard#2312
(where big == someone who can mine a block or more a day)


[07/14/2021 3:36 AM] arokace#8057
Big miners do use pools is actually what I was gonna say next.  Because during up your own node to mine off of is annoying AF.  But also its just more consistent (wooly has a few 30+ gh folk on the pool, not the solo part of it)


[07/14/2021 3:36 AM] WilfordGrimley#0124
The difference is that this would enables small miners the ability to form ‚Äòpools‚Äô that are most profitable for them. It could work with nonoutsourcability enabled also, to guarantee the greatest level of decentralization.


[07/14/2021 3:37 AM] danandbeard#2312
makes sense - okay I think you've convinced me now

{Reactions}
‚ù§Ô∏è 

[07/14/2021 3:37 AM] arokace#8057
Lol


[07/14/2021 3:37 AM] WilfordGrimley#0124
Only took two months! Lol


[07/14/2021 3:37 AM] danandbeard#2312
üòÇ  I mean initially the goal was to limit big solo miners to be fair


[07/14/2021 3:38 AM] WilfordGrimley#0124
Yeah I have been getting better at articulating my intention thanks to you. ‚ù§Ô∏è


[07/14/2021 3:38 AM] danandbeard#2312
but that's why I challenged the idea - the impl stays the same but the goals are focused now and they make sense...this isn't to stop big solo miners this is to give small miners a chance to pool up with non-outsourcability turned on


[07/14/2021 3:38 AM] danandbeard#2312
which is very valuable


[07/14/2021 3:39 AM] arokace#8057
üçø I'm just sitting here excited seeing ergo grow in front of me üçø


[07/14/2021 3:40 AM] danandbeard#2312
you know, this actually gives me the idea that "solo miners" are using pools because it's annoying to setup a solo miner setup - I think that problem can be very well solved by the new research that allows mining nodes to not be full nodes


[07/14/2021 3:40 AM] danandbeard#2312
if solo miners made more money and had the same convenience staying away from pools - they would do so

{Reactions}
üíØ 

[07/14/2021 3:40 AM] WilfordGrimley#0124
The thing is that if there were enough dumped into the crowdfunds, this system COULD make large solo mining operation less profitable. 

That is not really in anyone‚Äôs best interest as those large operations have a much higher energy efficiency. 

By providing the market a lever optimal decentralization can be reached.


[07/14/2021 3:41 AM] danandbeard#2312
you've lost me again xD


[07/14/2021 3:41 AM] danandbeard#2312
you see if you incentivize small miners such that they become more profitable per capacity then big miners will just pretend to be many small miners


[07/14/2021 3:42 AM] danandbeard#2312
crowdfunding would be intended to help small miners get off the ground, but in reality without authentication you'd just have big miners pretending to be many people to eat up the crowdfunds


[07/14/2021 3:43 AM] arokace#8057
I agree with you on that.  Like the hash rate of some people in pools is crazy to me.  They clearly can mine a block a day but don't care/know how to setup a nice to earn 1% more.


[07/14/2021 3:44 AM] danandbeard#2312
speaking towards solo miners going thru pools - I wonder if I could build an easily deployed image and a guide so that solo miners could setup their own mining node cheaply/easily and avoid nanopool ü§î


[07/14/2021 3:45 AM] danandbeard#2312
honestly I suspect miners of that size are probably more than willing to pay 1% to have less to host


[07/14/2021 3:47 AM] arokace#8057
Well I guess when you have multiple rig it becomes a real challenge because now you're effectively setting up your own pool... And oh man, that channel is a doozy.  Props to coin and leaf for figuring it out


[07/14/2021 3:48 AM] WilfordGrimley#0124
I think we are doubling back here, there is a configurable diminishing return. 

What I was trying to address is a potential double spend threat that could be introduced by this system. A solution is possible to find, probably a max ratio of some kind.


[07/14/2021 3:48 AM] WilfordGrimley#0124
That‚Äôs called HiveOS üòÖ


[07/14/2021 3:49 AM] WilfordGrimley#0124
An open source alternative to that would be killer.


[07/14/2021 3:52 AM] WilfordGrimley#0124
I seriously need to invest in a couple whiteboards.


[07/14/2021 3:52 AM] WilfordGrimley#0124
https://tenor.com/view/charlie-day-gif-18564553

{Embed}
https://tenor.com/view/charlie-day-gif-18564553
https://images-ext-1.discordapp.net/external/ZiAnkADRZoZPzDmWwN1e-wkGCEaVTGnUKnIiN9m72kc/https/media.tenor.co/images/2a3589fcf74b3034af16fed0b68bc7cd/tenor.png


[07/14/2021 4:13 AM] WilfordGrimley#0124
I want to read over Algorand‚Äôs white paper at some point. I remember that there was something interesting in the way they decentralize, I wonder if anything may be applicable.


[07/14/2021 4:21 AM] danandbeard#2312
hiveos doesn't host operations to mine to anything other than pools


[07/14/2021 4:21 AM] danandbeard#2312
algogrand is PoS, but you may still be able to glean some ideas from there


[07/14/2021 4:21 AM] danandbeard#2312
PoW and PoS centralization problems are typically very different though


[07/14/2021 4:21 AM] WilfordGrimley#0124
Ah, that‚Äôs sad. 

A stripped distro as your suggest would be awesome.


[07/14/2021 4:22 AM] danandbeard#2312
yeah, the issue would be hosting something always comes with a cost - nothing ever stays up forever and for 1% it's probably worth it to pay someone else to make sure there's high availability


[07/14/2021 4:22 AM] danandbeard#2312
really this problem will be solved with "light" mining nodes once that is implemented


[07/14/2021 4:22 AM] danandbeard#2312
then the rig itself can easily be a node and a miner


[07/14/2021 4:23 AM] WilfordGrimley#0124
The basic idea that I am presenting as a solution for Ergo came from Cardano‚Äôs Conclave. There are enough similarities that some macro solutions can be translated.


[07/14/2021 4:23 AM] danandbeard#2312
since miners are already responsible for keeping their mining rigs online it's no added cost to run a light node (at least not much of a cost)


[07/14/2021 4:24 AM] danandbeard#2312
yeah, I think cardanos system system works for PoS because it's one-click to re-delegate funds...with mining it's not so simple


[07/14/2021 4:25 AM] danandbeard#2312
if you keep pools small in cardano and cap stakes you force people to be aware of approaching deminishing returns and they can easily move their funds to another pool - with mining you can't hard cap because the PoW mechanism simply doesn't know what hashrate even is, much less tracks it


[07/14/2021 4:27 AM] WilfordGrimley#0124
NiPoPoWs are going to make ASIC development much easier for that reason. 

Make us a distro that uses every part of a PC for its optimal use case: Ergo/AI for GPU, Monero CPU, Filecoin or Arweave or somesuch for drive space.  Cardano for RAM.


[07/14/2021 4:27 AM] danandbeard#2312
in essense PoS will always know how much is staked and where - then it can act accordingly...the equivalent in PoW is hashrate - which the algorithm can't know


[07/14/2021 4:28 AM] WilfordGrimley#0124
The algorithm itself, maybe not, but a NiPoPoW Oracle driven sidechain could.


[07/14/2021 4:29 AM] danandbeard#2312
well you could rewrite autolykos for something like that maybe


[07/14/2021 4:29 AM] WilfordGrimley#0124
One thing at a time üòâ


[07/14/2021 4:29 AM] danandbeard#2312
I think the reason ergo chose PoW is because the consensus is so simple though


[07/14/2021 4:30 AM] danandbeard#2312
PoS consensus is not simple among other properties


[07/14/2021 4:30 AM] WilfordGrimley#0124
I‚Äôm not advocating for PoW vs PoS, just pointing out that some decentralization solutions can see translation between the two.


[07/14/2021 4:31 AM] danandbeard#2312
oh for sure, not suggesting you'd have to move to PoS to get some of those properties, just saying the autolykos behaves very differently than cardano


[07/14/2021 4:31 AM] danandbeard#2312
cardano predetermines which nodes can mint coins at the beginning of each epoch, for example


[07/14/2021 4:32 AM] danandbeard#2312
that's why you have liquid ADA even when delegating


[07/14/2021 4:32 AM] danandbeard#2312
you can't really predetermine how much hashrate s pool has at the beginning of each epoch - well not easily or without issues


[07/14/2021 4:34 AM] danandbeard#2312
and if you moved to those semantics you may as well go PoS at that point - but to the original point I think autolykos would have to be deeply involved to have cardano style pool limitations and I suspect the core team would never want that as you'd lose some properties that are currently desirable


[07/14/2021 4:57 AM] WilfordGrimley#0124
I am fairly confident it can be achieved with a NiPoPoW sidechain as previously proposed. Hoping to really buckle down for research in the coming months.


[07/14/2021 11:42 AM] danandbeard#2312
You can definitely do an opt-in hashrate cap, but cardano is forced staking pool soft caps.  That's something you wouldn't be able to achieve even with nonoutsourcability turned back on


[07/15/2021 7:50 PM] Leif Erickson#8939
Not sure this is what you are saying, Dan, but it would be interesting to incentivize smaller pools with larger payouts who opt in to hashrate caps... Might encourage decentralization


[07/15/2021 8:35 PM] andee#4722
then they would do the same thing big SPO's do on cardano, make a new one


[07/15/2021 8:55 PM] danandbeard#2312
exactly if people are paying in to incentivize "smaller pools" then nanopool will just run nanopool1, nanopool2, nanopool3, nanopool4 - the centralization problem isn't solved because you can't ensure that 5 smaller pools aren't just 1 big pool operating under different names


[07/15/2021 8:59 PM] danandbeard#2312
the only benefit I can make from the smartpool as discussed above is that you can turn on non-outsourceable puzzles again and small miners will still be able to mine via a pool

that's a big benefit for decentralization to be sure - I think there might be more effective means of achieving decentralized pooling that are even easier to implement but I haven't been able to prove that jsut yet - some of the technical pieces aren't fitting together just right in my head, but I do think it's possible to have a smart contract completely decentralized pool as described https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-luu.pdf <-- here


[07/15/2021 9:00 PM] danandbeard#2312
honestly I think the biggest benefit to decentralized mining of ergo will happen when we get "light" mining nodes...the research is there that suggests it's possible for mining nodes to not be full/heavy nodes - that way solo miners will be able to easily/cheaply run a node from their rigs to mine solo rather than "solo" mining via pools (which is a centralization force)


[07/15/2021 9:01 PM] danandbeard#2312
if a mining node takes on a few minutes to bootstrap and a few gigs of storage needed(spitballing these numbers as I don't know the impl details) there will be no more real incentive to "solo" mine via these large pools like nanopool


[07/15/2021 9:02 PM] danandbeard#2312
if "solo" miners moved their hashrate off of nanopool and were truly solo miners we wouldn't have anythign approaching 51% on nanopool I believe


[07/15/2021 9:03 PM] danandbeard#2312
the issue is that it's worth 1% for big miners to pay a pool to host all the mining nodes so they have one less thing to worry about


[07/15/2021 9:03 PM] danandbeard#2312
but if you can cheaply run a mining node on your rig, well you already have to make sure the rigs have high uptime so there's no added work there - which means the 1% fee to some pool (e.g. nanopool) stops making sense


[07/15/2021 9:07 PM] danandbeard#2312
the light mining nodes are described here https://www.youtube.com/watch?v=s05ypkSC7gk

{Embed}
Ergo Platform
https://www.youtube.com/watch?v=s05ypkSC7gk
Ergoversary 20201 - Logarithmic Mining Update from Dionysis
In celebration of Ergo's 2nd birthday, Dionysis Zindros from The University of Athens gives us an update on the progress they have made in the field of logarithmic mining.
https://images-ext-1.discordapp.net/external/kJCSij-Vjnbeet5StUkDp1H7LjunEeVj8RO3M60Zi4k/https/i.ytimg.com/vi/s05ypkSC7gk/maxresdefault.jpg


[07/15/2021 9:08 PM] danandbeard#2312
paper here: https://eprint.iacr.org/2021/623.pdf


[07/15/2021 9:15 PM] Leif Erickson#8939
interesting...and makes sense using tech to solve that problem I guess


[07/15/2021 11:56 PM] WilfordGrimley#0124
People don‚Äôt mine to pool only to avoid consuming hard drive space, they mine to pools to normalize their payouts. Especially smaller miners.


[07/15/2021 11:59 PM] danandbeard#2312
solo miners do not normalize payouts by using pools


[07/15/2021 11:59 PM] WilfordGrimley#0124 (pinned)
This is part of the subject of the Ergo SmartPools research. 

A decent amount of the information is compiled here. 

https://reddit.com/r/ergonauts/comments/od6ldf/ergo_smart_pools_looking_to_the_future/

I would encourage you to read the eprint paper.

{Embed}
https://reddit.com/r/ergonauts/comments/od6ldf/ergo_smart_pools_looking_to_the_future/
r/ergonauts - Ergo Smart Pools - Looking to the Future
85 votes and 11 comments so far on Reddit


[07/15/2021 11:59 PM] WilfordGrimley#0124
Payouts over time


[07/16/2021 12:00 AM] danandbeard#2312
?


[07/16/2021 12:00 AM] danandbeard#2312
solo mining through a pool doesn't normalize payouts and I'm not sure what you mean by "payout over time"


[07/16/2021 12:02 AM] danandbeard#2312
there is a concept of "solo mining" where you do not participate in a group - you keep and block rewards you mine (minus the fee) - "solo miners" do this for convenience


[07/16/2021 12:02 AM] WilfordGrimley#0124
Small miners mine to pools not only to avoid using hard drive space, but to get payouts in smaller more frequent increments. 

If they solo mined they may not see a block reward for months. 

If they join a pool they may see a payout more frequently. 

It normalizes the frequency with which they get paid.


[07/16/2021 12:02 AM] danandbeard#2312
we're not talking about small miners, we're talking about solo miners


[07/16/2021 12:03 AM] danandbeard#2312
both "solo" and small miners mine to "pools" - solo miners do it for convenience, small miners do it for convenience and regular smaller payouts


[07/16/2021 12:04 AM] WilfordGrimley#0124
Solo miners do not need to mine to pools.


[07/16/2021 12:04 AM] danandbeard#2312
in the above scenario I was talking about - there are big solo miners...their hashrate still goes through a pool like nanopool (I think nanopool allows solo mining?) so it's counted towards nanopools hash control


[07/16/2021 12:04 AM] danandbeard#2312
well the solo miners who mine to pools would disagree with you since they do it :p


[07/16/2021 12:05 AM] WilfordGrimley#0124
They do not NEED to.


[07/16/2021 12:05 AM] danandbeard#2312
no one _needs_ to


[07/16/2021 12:05 AM] danandbeard#2312
I promise you big solo miners aren't mining to pools because they don't know how to mine to their own local node


[07/16/2021 12:05 AM] danandbeard#2312
they do it because the cost is worth it


[07/16/2021 12:05 AM] WilfordGrimley#0124
I understand your point and so agree with it.


[07/16/2021 12:10 AM] WilfordGrimley#0124
Your point is that NiPoPoW mining would remove the incentive for solo miners to join a pool. No one is disputing that. 

I don‚Äôt think that is is relevant to the what @Leif Erickson mentioned above about pool decentralization.

NiPoPoW mining benefits everyone, including those that join pools to normalized the frequency that they are paid. They don‚Äôt solve the problem of encouraging decentralization for those that join pools for that reason. 

I agree that they are great.


[07/16/2021 12:13 AM] WilfordGrimley#0124
I also agree that they will encourage some level of decentralization as less miners will be required to run a full node and may be incentivized to truly solo mine.


[07/16/2021 12:13 AM] WilfordGrimley#0124
They don‚Äôt remove the need for a decentralized pool solution.


[07/16/2021 12:14 AM] danandbeard#2312
you agree that people will be more likely to move off pools but then you say it's not relevant to decentralization?  These statements are mutually exclusive


[07/16/2021 12:16 AM] danandbeard#2312
and the "need" for a decentralized pool solution is subjective - e.g. I'm currently mining ergo just fine without one so for my objectives I don't need a decentralized pool solution - I think it would be an improvement, but a theoretical improvement by reducing attack surface of a theoretical attack.

if an attack never happens there will never be a need to prevent it


[07/16/2021 12:18 AM] WilfordGrimley#0124
Not relevant to @Leif Erickson ‚Äòs specific comment above about hashrate caps encouraging decentralizing. Please review the chat.


[07/16/2021 12:19 AM] danandbeard#2312
I'm not sure either of us are qualified to say whether my comments are relevant to someone else


[07/16/2021 12:20 AM] danandbeard#2312
is there a point you disagree with?  that might be more productive for me to think about


[07/16/2021 12:22 AM] WilfordGrimley#0124
I originally said I  ‚Äúdon‚Äôt‚Äù think. You can review the comments. I appreciate challenge on technological claims, but semantic arguments ignoring context are not worth either of our time.


[07/16/2021 12:23 AM] danandbeard#2312
agreed on the pointless semantics so which point of mine do you disagree with or was there something you disagreed with?


[07/16/2021 12:23 AM] WilfordGrimley#0124
It‚Äôs written above. 

I‚Äôll go on about the need for decentralized pools.


[07/16/2021 12:24 AM] danandbeard#2312
I never disagreed with the desire (not need, but I'm fine if you want to call it that for your own goals) to decentralize pools.  Surely you weren't highlighting me just to let me know you think that someone else would think my comments weren't relevant?


[07/16/2021 12:27 AM] WilfordGrimley#0124
Again, I won‚Äôt waste either of our time with that semantic argument. My answer to that is written above.


[07/16/2021 12:28 AM] danandbeard#2312
you've already wasted my time if you don't plan on trying to discuss an issue


[07/16/2021 12:29 AM] danandbeard#2312
so far you've highlighted me just to illustrate that you didn't understand that solo miners mine to pools and to let me know my comments weren't relevant to some point that for whatever reason you won't elaborate on, instead you insist that your writing is perfect and there no need to restate your points /shrug


[07/16/2021 12:29 AM] WilfordGrimley#0124
I keep typing my address to the issue, and then being interrupted to defend semantics for a previously perceived slight. I meant no personal offence.


[07/16/2021 12:30 AM] WilfordGrimley#0124
It‚Äôs writing. The words mean the same thing no matter how many times I repeat them to you.


[07/16/2021 12:33 AM] WilfordGrimley#0124
Regarding why I think decentralized pools are a requirement: These principles are a foundational part of what makes Ergo, Ergo. They are from its Manifesto...

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/865375449495371796/image0.png


[07/16/2021 12:34 AM] danandbeard#2312
by some definition pools are already distributed - which is why I see smartpools as an improvement, not a need


[07/16/2021 12:35 AM] danandbeard#2312
there is no central authority that presides over ergo pools


[07/16/2021 12:36 AM] danandbeard#2312
if logarithmic mining gets implemented I wouldn't be surprised to see nanopools 51%+ dominance go away (although I'm not entirely sure there are "solo" miners on nanopool, I just assume there are, but I don't even see an API for that so I'm probably wrong)


[07/16/2021 12:37 AM] danandbeard#2312
and if no pool has 51%+ dominance then the current setup is more than adequate for decentralization as has been proven with bitcoin for over a decade


[07/16/2021 12:37 AM] danandbeard#2312
which is why I see smart contract mining as an improvement and not a need - bitcoin has proven this level of decentralization can be highly sustainable


[07/16/2021 12:41 AM] WilfordGrimley#0124
This argument has already been presented in the eprint but to summarize again: 

Ergo initially did not allow pool formation in an effort to be more decentralized. 

Ergo disabled that feature because small miners could not earn a block in a reasonable time, which hurt decentralization. 

Pools as they currently exist are central authorities. They are a threat to decentralization. 

The Manifesto states that action should be taken to mitigate their effects and that if the platform fails to be decentralized, it should not be considered Ergo. 

We currently have a single pool with a greater than 50% share of the network  hashrate. 

If a fork happens in the future, the one with nanopool attached won‚Äôt be Ergo, as per the manifesto.

Decentralization pools compatible with nonoutsourcability removed the risk and are true to the Manifesto.


[07/16/2021 12:42 AM] WilfordGrimley#0124
It is only because of the existential commitment to decentralization first that decentralized pools are a need.


[07/16/2021 12:43 AM] WilfordGrimley#0124
For a fork of the Ergo protocol that didn‚Äôt have the same commitment, I‚Äôd agree with you 100%. 

It‚Äôs codified into langue. It‚Äôs like a constitution or a social contract.


[07/16/2021 1:32 AM] danandbeard#2312
> In case of intentional violation of any of these principles, the resulting protocol should not be called Ergo.  
this is what the manifesto says - if someone believes nanopools majority already violates the manifesto, then that person already believes ergo doesn't exist as of right now, no?


[07/16/2021 1:39 AM] danandbeard#2312
do you believe ergo exists as represented by the manifesto?  because I do


[07/16/2021 1:40 AM] danandbeard#2312
if you don't, I don't think that's an unreasonable position, to be honest - but I don't see ergo as a manifesto - I see it as an open source project with the power to help people.  I don't honestly much care about what people say they want ergo to be - I care about what people actually make it


[07/16/2021 3:15 PM] WilfordGrimley#0124
Only so long as a better alternative does not exist.


[07/16/2021 4:00 PM] danandbeard#2312
so it would appear we both don't read that manifesto as strict law


[07/16/2021 4:01 PM] danandbeard#2312
my point is that there will always be a "good enough" - just because something can be more decentralized doesn't mean it should be an immediate priority


[07/16/2021 4:03 PM] danandbeard#2312
> Pools as they currently exist are central authorities. They are a threat to decentralization.
I disagree with this - I think pools add value and increase decentralization by giving small miners more incentive to join the network, thus increasing decentralization


[07/16/2021 4:04 PM] danandbeard#2312
decentralization is a very large category of things.  hashrate decentralization is better because of pools - now transaction choosing is more centralized because of pools for now, but that problem goes away if miners choose to get off nanopool


[07/16/2021 4:13 PM] danandbeard#2312
to maybe wrap this up for me, though, I agree smart pools as you envision them are a value add so long as you remove anything requiring authentication (as your paper outlines) otherwise the solution stated in the paper is either impossible or will rely heavily on a central authority.


[07/17/2021 8:38 PM] WilfordGrimley#0124
The authentication can be modular on a per pool basis. The central authority in this case would be the sidechain that reports hashrate data, that particpants in these pools contribute to. The authenticators would revoke access to their pools (1:1 ratio of authenticators to pools) if they determined that a member that they authorized had cheated the system. We trust any blockchain as a central authority, so long as that blockchain is decentralized.


[07/17/2021 8:38 PM] danandbeard#2312
authentication can't be decentralized - it's impossible


[07/17/2021 8:39 PM] danandbeard#2312
you can decentralize authorization, but authorization would not meet the properties described in your paper


[07/17/2021 8:39 PM] WilfordGrimley#0124
For most systems, I agree. For Ergo, which is designed to be as decentralized as possible, I am less willing to concede that.


[07/17/2021 8:40 PM] WilfordGrimley#0124
The paper is pretty rough man, you are totally right. I would welcome editing and correction, I can provide the file if you like.


[07/17/2021 8:41 PM] WilfordGrimley#0124
The eprint can be edited, and will be. I sincerely appreciate you consistently  helping me to find the holes.


[07/17/2021 8:42 PM] danandbeard#2312
I'm more interested in helping you understand why it's impossible to limit peoples hashrate in hopes that you'll focus on building what is possible with a decentralized pool that serves as an "on-ramp" to mining ergo so non-outsourcability can be turned on without hurting small miners


[07/17/2021 8:43 PM] danandbeard#2312
the solution we arrived at the other day is possible where your smart contract pool would serve to be a solution for small miners but once a miner is "big enough" they would do better mining solo


[07/17/2021 8:43 PM] WilfordGrimley#0124
I have conceded that limiting hashrate is not worthwhile. You are right. I think the last time I advocated for that was the first weekend we spoke. You are arguing with a ghost.


[07/17/2021 8:44 PM] danandbeard#2312
the solution we agree that will work requires no authentication


[07/17/2021 8:44 PM] danandbeard#2312
which is good, because that would be impossible


[07/17/2021 8:45 PM] WilfordGrimley#0124
This is what we agreed on yeah? That is what was proposed in the paper (although the paper hasn't explained it well enough.)


[07/17/2021 8:46 PM] danandbeard#2312
right, as I understand it the solutoin you're working towards today requires no authentication - after we agreed on that you mentioned something that made me think maybe we didn't entirely arrive at that conclusion though


[07/17/2021 8:46 PM] WilfordGrimley#0124
We didn't come to a new conclusion the other day, you helped me to articulate the idea in clearer terms.


[07/17/2021 8:47 PM] WilfordGrimley#0124
What is your understanding of what I am working towards?


[07/17/2021 8:48 PM] danandbeard#2312
ah then we don't agree then - you were talking about providing incentives to mine in a smart contract pool


[07/17/2021 8:49 PM] WilfordGrimley#0124
That is incentive enough, there is more to my idea than that.


[07/17/2021 8:51 PM] WilfordGrimley#0124
I am talking about incentivizing mining to smaller pools only so long as the miner is providing less than 100% of that pools hashpower RELATIVE to the network.


[07/17/2021 8:53 PM] WilfordGrimley#0124
If that were true, smart contracts could not function.


[07/19/2021 3:56 PM] danandbeard#2312
maybe you're confusing authentication with authorization?  authorization is having keys to a door, maybe you let your neighbor borrow the keys - doesn't matter who has the keys - authentication is verifying a user is who they say they are

smart contracts rely on authorization with keys, nothing in ergo relies on authentication because it's a trustless system - authentication is a means of centralization where someone proves to some authority they are who they say they are

the distinction is important here because to limit a users mining power you have to identify a user - otherwise you're asking them to self-impose limits (which is against their economic incentive to do so, so they likely won't)


[07/19/2021 4:01 PM] danandbeard#2312
in more practical terms - a user might own many houses and have many keys...without authentication there's no way to know who owns each house...governments, being a central authority, authenticate people who are purchasing houses - though....that's the difference...authentication requires a central authority and is more intensive than just having a key to something


[07/19/2021 11:07 PM] WilfordGrimley#0124
@danandbeard firstly, I just saw this article which is a really nice write up on NiPoPoW mining. A video and paper were previously posted in this chat but this is simpler the understand. https://ergoplatform.org/en/blog/2021-07-19-mining-in-logarithmic-space-nipopow-power-and-ergo/

{Embed}
https://ergoplatform.org/en/blog/2021-07-19-mining-in-logarithmic-space-nipopow-power-and-ergo/
Mining in Logarithmic Space: NIPoPoW Power and Ergo
This article is based on a ‚Ä¶
https://images-ext-1.discordapp.net/external/3DXS_3yiAMP8fHFhd8r5v5nX8ztz_ltGBug9oxDIC4s/https/ergoplatform.org/img/uploads/img_20210719_190901_375.jpg


[07/19/2021 11:08 PM] WilfordGrimley#0124
One way to fix this is with smart contracts that mint NFT keys. I suspect that is an overly complex solution and ring signatures may just cover this inherently.


[07/19/2021 11:10 PM] WilfordGrimley#0124
You could have any number of authentication contracts that mint keys. The only central authority need be the replicable script that the x number of contracts use to function.


[07/19/2021 11:12 PM] WilfordGrimley#0124
I am totally willing for that to be a redundant solution, it would be ideal. As I learn more about ErgoScript I‚Äôm sure a simpler solution will present itself.


[07/19/2021 11:15 PM] danandbeard#2312
yeah logrithmic mining is really cool


[07/19/2021 11:19 PM] danandbeard#2312
so the reason smart contracts can't solve authentication is because to spend a contract all you ever need is a key - as such whoever has that key can operate on whatever resource is locked with that key - that means identity doesn't matter and any human can posses as many keys as they want

now a central authority could solve this by not handing out keys until someone authenticates themselves with a central service - and the central service could identify the user by using something like a phone number and mailing address, but those are just examples of how you can have strong authentication, I don't think smartpool intends on having an authentication service as a point of centralization


[07/19/2021 11:43 PM] WilfordGrimley#0124
If you can yield that centralized authentication can function in a smart contract for the purpose of spending, what do you see as the barrier preventing that from working across any number of smart contracts, or for a reason other than spending?


[07/19/2021 11:58 PM] WilfordGrimley#0124
If every miner were assigned their own authentication contract that locked their own collateral, the allowed spenders could be each miner and the pool they are assigned to. ( I am not presenting this as a perfect solution, I welcome any to explore how this may or may not work) I believe that existing collateralized mining contracts on Ergo do this using only ring signatures without the need for further authentication. I am sure there is a way around this without tokenization. Perhaps as @kushti et al suggest in the Bypassing Nonoutsourcability Paper by having a collateral threshold that is a finite amount let‚Äôs say 0.1 ERG (arbitrarily) If miners had said collateral in their collateral box (authentication box) they, and their assigned decentralized pool could draw from that box. If they cheated they would need to pay the authentication fee again (0.1 ERG arbitrarily) to reauthenticate. 
Decentralized Pools may decide to blacklist based on cheating, but it would ultimately be fruitless without a proven mathematical deterrent. 


EthSmartPool found an efficient deterrent method that you and I long ago agreed was excellent and could be adapted to fit Ergo with much higher efficiency. Once we find the ideal efficiency, that number could be tweaked for any number of decentralized pools that desire higher or low assurance. (Higher would be essentially the original Bypassing...etc. pool, lower would come with a higher risk of theft for participants with a lower ‚Äòauthentication‚Äô cost.)


[07/20/2021 12:39 AM] ASCiiDiTY#3647
Are centralised pools seen as bad or a threat?


[07/20/2021 12:58 AM] WilfordGrimley#0124
Depends on who you ask and how seriously they regard the Ergo Manifesto.

Initially, centralized pool formation was not possible on Ergo's Autolykos. A lophole was found in https://eprint.iacr.org/2020/044 that would enable cabals with large hashpower to form decentralized collateralized smart contract pools and leave small miners without means to compete. What was desgined to be mean of increasing decentralization lead to greater cetralization, as less small miners were contributing as they couold not earn timely rewards without pools. Nonoutsourceabilty was disabled to allow miners to outsource their workload, and enable small miners to benefit from centralized pools. As a result of this, Ergo has been plauged for most of the year by Nanopool which has the power to sybil Ergo at any moment and has had that power for months. (This is argueable healthy for Ergoo, as it protects it from flash attacks)

In my view, the existence of centralized pools is a threat to decentralization, and is an existential threat to Ergo, whose manifesto calls for reducing the impact of centralization whenever possible. When looking at the history, it can be observed that centralized pools only exist beacuse a solution to allow for decentralized pools that benefit small miners had not been presented.

This channel is for research on that topic of decentralized pool solutions to mitigate the effects of outsourcabilty, and hopefully eventually reenable it. I wrote a paper with the help of @danandbeard @Gazza_SP and support from some of thecore devs during the Hackathon. It can be found here: https://eprint.iacr.org/2021/846

I have financial support to continue research from a community member conditionally on the ErgoCore devs being in support of the research.


[07/20/2021 12:58 AM] ASCiiDiTY#3647
Holy batman's wife wilford.


[07/20/2021 12:58 AM] ASCiiDiTY#3647
I'm drunk, give me an hour to read this.


[07/20/2021 12:59 AM] ASCiiDiTY#3647
I've skimmed it and agree in principle.


[07/20/2021 1:00 AM] ASCiiDiTY#3647
But I run a pool.


[07/20/2021 1:00 AM] WilfordGrimley#0124
Have you read the Ergo Manifesto?


[07/20/2021 1:00 AM] WilfordGrimley#0124
Thank you for running a pool.


[07/20/2021 1:00 AM] ASCiiDiTY#3647
To be 100% honest, no.


[07/20/2021 1:01 AM] ASCiiDiTY#3647
Not an ERG pool (yet, coming)


[07/20/2021 1:01 AM] ASCiiDiTY#3647
I mined ERG for profit.


[07/20/2021 1:01 AM] ASCiiDiTY#3647
I stuck around as I liked the grown up attitude in here.


[07/20/2021 1:01 AM] ASCiiDiTY#3647
Will be adding ERG soon.


[07/20/2021 1:04 AM] ASCiiDiTY#3647
It's like a game though TBH.. who can keep the server up the longest without issues. O'm childish, but I'll keep the server up.


[07/20/2021 1:06 AM] WilfordGrimley#0124
Please do not take this personally: Pools are a means to an end. If an alternaive existed that invalidated the need for centralized pools, and enabled Ergo to return to nonoutsourcabilty, it would be true to it's decentralzied first ethos. NiPoPoW mining and crowdfunded collateralized smart contract pools invalidate the need for running pool servers. It can be managed on chain, at least in theory.


[07/20/2021 1:07 AM] WilfordGrimley#0124
@danandbeard doesn't think it can work, and I value his constant input.


[07/20/2021 1:07 AM] ASCiiDiTY#3647
I won't take things badly, I 100% see your point, but I want my cut for running the service.


[07/20/2021 1:07 AM] ASCiiDiTY#3647
Both of you have great input TBH. I lurk.

{Reactions}
üòé 

[07/20/2021 1:10 AM] ASCiiDiTY#3647
It's not even about the money, just the principle.


[07/20/2021 1:10 AM] danandbeard#2312
*authentication* with smart contracts is impossible without an accompanying centralized service - it's a very subtle but very important distinction - *authorization* is possible.  The reason this distinction is important is that some of your proposed ideas require limiting individuals - this requires proving identities.  Authorization cannot prove identity


[07/20/2021 1:10 AM] danandbeard#2312
authorization: you have keys to some resource
authentication: you've proven you are who you say you are

subtle, but very important difference


[07/20/2021 1:11 AM] ASCiiDiTY#3647
You two are deep, I love it.


[07/20/2021 1:11 AM] danandbeard#2312
lol, glad you enjoy the back and forth - civil argumentation is always good for learning


[07/20/2021 1:12 AM] ASCiiDiTY#3647
I'm always learning, please carry on.


[07/20/2021 1:13 AM] danandbeard#2312
I do think part of what you propose can work and I think the part that would work would be very beneficial to ergo and allow turning N.O. back on


[07/20/2021 1:13 AM] WilfordGrimley#0124
Right! I beleive that with a NiPoPoW sidechain of miner hashrate, and/or NFTs authentication is possible.


[07/20/2021 1:13 AM] ASCiiDiTY#3647
https://youtu.be/lv9owSY015w

{Embed}
Boris Khaykin
https://www.youtube.com/watch?v=lv9owSY015w
2 Hours of Johnny 5 Reading
https://images-ext-1.discordapp.net/external/VzPDpP8sCp9WA8EQTfkzcnmrmNIU87vUt05MlKyrCGM/https/i.ytimg.com/vi/lv9owSY015w/maxresdefault.jpg


[07/20/2021 1:13 AM] ASCiiDiTY#3647
I appreciate all of this.


[07/20/2021 1:15 AM] ASCiiDiTY#3647
I think the complication comes from people having different ideas about the end goal of crypto.


[07/20/2021 1:16 AM] danandbeard#2312
can you explain to me how you think a trustless decentralized system could verify that I am who I say I am *and*  (this is the hard part) implement it in such a way so that I can't easily pretend to be two people?  Not even facebook can easily do that.


[07/20/2021 1:16 AM] ASCiiDiTY#3647
I have strong but mostly silent views.


[07/20/2021 1:18 AM] danandbeard#2312
the type of authentication you're proposing is an authentication where the authorizer (the person holding the keys) wants to break authentication.  Even outside of decentralized problems this is a very hard problem to solve


[07/20/2021 1:22 AM] WilfordGrimley#0124
Yeah. it'll use economics much in the same was the EthSmartPool does. You and I talked about this at length many times before. The system does not need to prove that any two entities are not the same entity, as the underlying system or any alternavtes lack that fuction as well. It just needs to deter financially any such actor from taking control, and that can be done with a fixed authorization fee.

It would be less economical for a Sybil attacker to mine in the pool as it would be for them to mine solo.


Unless I am misunderstanding how smart contracts can function in Ergo, the authorization contracts (plural is important here) would each hold the keys.


[07/20/2021 1:23 AM] danandbeard#2312
> The system does not need to prove that any two entities are not the same entity
then you aren't authenticating the end user and we agree your system shouldn't attempt to authenticate


[07/20/2021 1:24 AM] danandbeard#2312
we agree on the aspects of your solution that only require authorization


[07/20/2021 1:24 AM] WilfordGrimley#0124
Section 4 in Bypassing... articulates better what I am trying to say.


[07/20/2021 1:25 AM] WilfordGrimley#0124
Ahhhhhh I understand your point now


[07/20/2021 1:25 AM] danandbeard#2312
section 4 of what?  your paper doesn't have sections


[07/20/2021 1:26 AM] danandbeard#2312 (pinned)
this paper? https://eprint.iacr.org/2020/044.pdf


[07/20/2021 1:27 AM] WilfordGrimley#0124
Yeah, I thik you are correct, and that solution would be superior as it would be truer to ethos. I am still not convinced that a method including authorization is impossible, perhaps just redundant.


[07/20/2021 1:27 AM] WilfordGrimley#0124
Yeah that one.


[07/20/2021 1:27 AM] danandbeard#2312
if you solve the problem of trustless authentication you'll be solving way more important problems than just smartpooling üòõ


[07/20/2021 1:27 AM] WilfordGrimley#0124
AUTHENTICATION, thank you


[07/20/2021 1:29 AM] WilfordGrimley#0124
I am still pretty sure NTFs solve this, so long as there is a cost to minting.


[07/20/2021 1:30 AM] danandbeard#2312
right, so if there's a cost to enter these smartpools and N.O. is turned on people will by default want to _not_ use the pools, but if they're a small miner they'll effectively be forced to pay the up front costs to join the pool


[07/20/2021 1:30 AM] danandbeard#2312
this cost can even be very small as the system as I see it wants solo miners to move out of pools as soon as possible

{Reactions}
üíØ 

[07/20/2021 1:31 AM] danandbeard#2312
so small miners begrudgingly pay the entry fee to mine in a pool - this pool has a hashrate cap before no one else is allowed to join the pool (I don't think you can limit hashrate here as you'd have another authentication problem)


[07/20/2021 1:33 AM] danandbeard#2312
ultimately the goal would be to have everyone use these smartpools as an on-ramp to build up their mining farm until they can mine with enough power to justify being a solo miner....which allows turning N.O. back on, which means the hashrate is very likely to be more distributed than with the current centralized pools as we have them today

{Reactions}
üíØ 

[07/20/2021 1:36 AM] WilfordGrimley#0124
If the pools are incentivized to decentralize with crowdfunding as I have proposed then there are two reasons for a miner to join the pool IF their hashrate does not exceed the bounds of the pool they join. : 
1. They get paid out more often. This is valuable to most miners as proven by the amount of miners contributing to pools on Ergo that are not 'solo' mining to the pool.
2. If the crowdfunds grow large enough, there will be financial incentive to mine in these pools rather than solo mine. 

It shouold be mentioned that with nonoutsourcabiilty turned on, these pools could exist in a purely figurative sense. No actual hashpower need be consolidated, just the miners be willing to relinquish either their block reward, or their collateral.


[07/20/2021 1:38 AM] danandbeard#2312
the crowdfunding incentives is technically possibly, but economically unfeasible - if I'm a large solo miner I will pretend to be many miners in order to collect as many benefits as possible from the crowdfunding pool


[07/20/2021 1:38 AM] danandbeard#2312
if N.O. is turned back on - the pools will be a large value add to small miners and they will be willing to pay a small fee to join


[07/20/2021 1:39 AM] danandbeard#2312
no crowdfunding would be strictly necessary then, economically speaking, that is


[07/20/2021 1:40 AM] WilfordGrimley#0124
Yes you will, but you will be earning less PROPRTIALLY than a miner with less hashrate availabilty. When the network finds an ideal decentralization, you will be earning less than if you were solo mining.


[07/20/2021 1:41 AM] WilfordGrimley#0124
The cost of authorization could be deterministic and related to difficulty, total crowdfund etc.


[07/20/2021 1:41 AM] danandbeard#2312
give an example of what joining a pool costs and what crowdfunding would do to enable joining that pool - there may be a misunderstanding there


[07/20/2021 1:52 AM] WilfordGrimley#0124
Also for what it is worth, If I had the means I would personally front miners smaller than me to help contribute to true decentralization. I am sure there are others like me. The crowdfund is a way for people to make those donations in an anonymous way. When the crowdfund market pressure grows in size, More miners will (begrungenly) join the pools, as more pools are formed. 

As more miners connect, the relative hashrate of each pool /may/ decrease. This will squeeze out larger miners who will find a more profitable time mining solo.

An example: Joining a pool costs x ERG. Crowdfunding leads to an increased reward for mining to the pools, so long as the pools represent a non controlling % of the network's total hashpower. If not enough exists in crowdfunds, new pools are not created, and the rewards stagnate until the relative hashrate of the pools to the network is within peramaters. This may drive miners to alternative decentralized pool soluitions until crowdfunding/ the market demands greater decentralization.


[07/20/2021 2:00 AM] WilfordGrimley#0124
Donors could potentially donate to specific levels of decentralzaiton and have their donation returned if that level is not acheived within parameters. (Like thresholded rewards in an MMO)

It could also enable a staking mechanism, but I think that may be better off as a seperate contract. The intended modularilty of this system would make interations with or without any mentioned features feasible and marketable. 

Crowdfunding could be used as a way of gaining market exposure, "Come to Buy'N'Large SmartPool for big returns!"


[07/20/2021 2:01 AM] WilfordGrimley#0124
I see the percevied downside of nonoutsourcabilty as a potential strength if we desgin systems around it.


[07/20/2021 2:04 AM] danandbeard#2312
so if it costs 5 ERG to join a pool, but over the timespan of 1 month, you estimate you'll get 6 ERG extra rewards from the crowdfund - you'll just have everybody fighting for a spot in the pool - the big issue I see with these pools is that you can't cap their hashrate, only disallow new joiners once some hashrate is achieved


[07/20/2021 2:05 AM] WilfordGrimley#0124
You are still seeing the hashrate as a static cap.


[07/20/2021 2:05 AM] danandbeard#2312
there can't be any cap period


[07/20/2021 2:06 AM] WilfordGrimley#0124
There is no sense in that, you are right.

A relative saturation goal is a more accurate way of putting it than a hashrate cap.


[07/20/2021 2:06 AM] WilfordGrimley#0124
There is no reason for the pools to disallow new people from joining that is not the goal.


[07/20/2021 2:06 AM] danandbeard#2312
if you implement a cap it can't be a cap for a user, it can only be a cap for a pool and if you cap the pool you'll leave an attack vulnerability where malicious actors could denial of service the pools by joining a quarter of the pools solely to push them past their limit and hurt the other pool participants


[07/20/2021 2:07 AM] WilfordGrimley#0124
That is a problem with pools, not with this potential decentralized solution.


[07/20/2021 2:09 AM] danandbeard#2312
so I can see a solution where can judge hashrate, associate it with a pool and beyond some hashrate (static or dynamic, doesn't matter) you don't mint new tokens for new participants to that pool...this doesn't cap hashrate, but it does at least make it so entirely new users can't join that pool and will have to join a newer/lower hashrate pool


[07/20/2021 2:09 AM] WilfordGrimley#0124
And you are correct it will never be a cap on a single miner UNLESS the miner's total hashrate represents a greater percentage of the network's total hashrate than the pools relative limit.


[07/20/2021 2:10 AM] WilfordGrimley#0124
Forget about hashrate caps being static numbers for a sec.


[07/20/2021 2:11 AM] WilfordGrimley#0124
Think of them only in relation to the network's total hashrate. A ratio.


[07/20/2021 2:11 AM] danandbeard#2312
there's no point in caps of any kind because they can't be enforced


[07/20/2021 2:12 AM] danandbeard#2312
ratio/static/dynamic - doesn't matter


[07/20/2021 2:13 AM] WilfordGrimley#0124
You do not think a NiPoPoW sidechain of willing miner hashrates can be implimented?


[07/20/2021 2:13 AM] danandbeard#2312
if crowdfunding makes it profitable to join these pools (e.g. 5 ERG to join, with 6 ERG to be won from crowdfunds) then people will create mutliple miner identities


[07/20/2021 2:14 AM] danandbeard#2312
now if joining these pools is _only_ a cost with no rewards then it makes sense....because small miners will be "forced" to use these pools and you don't have to worry about big miners as they'll naturally not want to join the pools


[07/20/2021 2:16 AM] WilfordGrimley#0124
I don't think this is an issue, becasue as I have pointed out before, those without the means, stand to gain more relative to their investment. Those gaming the system will be contributing even if it is very slowly to thos ewith less hashrate. It forces them to reveal themselves as solo miners, or have their investment earn them less relative to the earning of small miners.


[07/20/2021 2:22 AM] WilfordGrimley#0124
That is essentially what I am proposing. The extra reward is only for those on the forfront contributing to the new pools.

Once a pool is at it's saturation, it spills over to create collateral availabiltiy for a new pool. (with diminishing returns, w/e)

The 'reward' can easily be global as you are suggesting here.


[07/20/2021 2:23 AM] WilfordGrimley#0124
We don't want the pools to ever be in a situation were they are locking out honest participants as you brought up as an issue earlier.


[07/20/2021 2:25 AM] WilfordGrimley#0124
By allowing anyone who pays the fee to contribute to any pool, even one that is saturated, there is never a disincentive to contribute unless the market offers to pay for a sybil reveal.


[07/20/2021 2:26 AM] WilfordGrimley#0124
And this disincentive at that point is just contributing to this pool system. They are free to go to an alternative decentralized pool solution, or solo mine.


[07/20/2021 3:18 AM] WilfordGrimley#0124
I am quite sure that Ergo Oracles solve the authorization issue by virtue of their design.


[07/20/2021 3:20 AM] danandbeard#2312
~~not without an external centralizing authority, no~~


[07/20/2021 3:20 AM] danandbeard#2312
sorry, I read authentication there, ignore that


[07/20/2021 3:21 AM] danandbeard#2312
authorization can be solved without oracles, oracles don't serve to authorize so I'm not sure what you mean there


[07/20/2021 3:21 AM] danandbeard#2312
oracles introduce external data to be consumed and used in contracts - they don't provided keys for authorization


[07/20/2021 3:26 AM] WilfordGrimley#0124
I keep fatally using authorization in place of authentication. Forgive me. 

I do actually mean authentication may be solved by Ergo Oracles. I read somewhere in my research that they have some way of disauthorizing dishonest oracles.


[07/20/2021 3:39 AM] danandbeard#2312
yeah, at this point I think you'll just need to learn it isn't possible yourself - I did try to warn you though xD


[07/20/2021 6:43 PM] andee#4722
I have been trying to read up on this, but I must say I have a really hard time of seeing how this could work. I think @danandbeard has mentioned most of the challenges


[07/20/2021 11:08 PM] WilfordGrimley#0124
I will continue learning and try to find evidence for my speculation. As @danandbeard and other‚Äôs have mentioned a simpler solution can work. Proving that and building from there would be more productive.


[07/20/2021 11:15 PM] WilfordGrimley#0124
@Gazza_SP How has your research been going? Haven‚Äôt checked in with you in a while.


[07/20/2021 11:49 PM] WilfordGrimley#0124
@mhs_sam to better answer one of the questions you pitched me during the Hackathon, I am still determined to find a decentralized solution to benefit small miners that functions in Autolykos 2, and enables NO to be reenabled.


[07/21/2021 12:22 AM] WilfordGrimley#0124
When we do find actual solutions, I am looking forward to summarizing all of the assumptions I made, and what proved them to be wrong to save others from the same pitfalls in the future.


[07/21/2021 1:55 AM] WilfordGrimley#0124
I‚Äôm finally trying to map this out visually. 

I‚Äôll try to explain how I think authentication can work here. It can probably be extrapolated.


[07/21/2021 3:16 AM] WilfordGrimley#0124
I missed this message before. That is great news! ü§©ü§©

Are you willing to share what you did to get this to work? It could help us get more pools online more quickly if the community had instructions on how to set up a nomp. 

Being able to replicate your build from source would be awesome to aid decentralization with nonoutsourcability enabled.


[07/21/2021 3:44 AM] WilfordGrimley#0124
https://github.com/Emurgo/Emurgo-Research/blob/master/oracles/Oracle-Pools.md Looks possible to me.

{Embed}
https://github.com/Emurgo/Emurgo-Research/blob/master/oracles/Oracle-Pools.md
Emurgo-Research/Oracle-Pools.md at master ¬∑ Emurgo/Emurgo-Research
Emurgo research made publicly available for the betterment of the open source and blockchain ecosystems. - Emurgo-Research/Oracle-Pools.md at master ¬∑ Emurgo/Emurgo-Research
https://images-ext-1.discordapp.net/external/GJN-rtLeKbwuMNZ4lz-fardgxgUmjts9pSM_7y0dceQ/https/opengraph.githubassets.com/e3db07eadcdda37c32101f35a0d523e1ec8427cf662c461827aea7b7e4495e9e/Emurgo/Emurgo-Research


[07/21/2021 4:04 AM] WilfordGrimley#0124
Our centralized service is the Ergo Protocol. Authentication is inherent to the functioning of any smart contract.

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/867240555872256020/unknown.png


[07/21/2021 4:20 AM] danandbeard#2312
The paper means authorization, but you can try to implement authorization if you think you can.  I have a better part of a decade experience with distributed systems and authentication.  I'm not just making random assertions


[07/21/2021 4:22 AM] danandbeard#2312
Something like cardanos prism could come close, but not close enough for your application


[07/21/2021 5:06 AM] WilfordGrimley#0124
How does Kerberos work? Isn‚Äôt that it‚Äôs entire shtick?


[07/21/2021 5:07 AM] WilfordGrimley#0124
How can anyone‚Äôs seed words protect their coins if distributed authentication is impossible?


[07/21/2021 5:08 AM] WilfordGrimley#0124
How can you authorize without first authenticating?


[07/21/2021 5:11 AM] danandbeard#2312
Authentication for computers is entirely different than authenticating users who wish to not be authenticated


[07/21/2021 5:12 AM] danandbeard#2312
And you have it backwards, authentication requires authorization, not the other way around


[07/21/2021 5:12 AM] danandbeard#2312
Keys open doors, keys don't prove the person holding them own the house


[07/21/2021 5:16 AM] danandbeard#2312
The root of your problem is you can lock away resources but you will never be able to prove that the person unlocking that resource has only one key and owns only one resource


[07/21/2021 2:56 PM] WilfordGrimley#0124
Financial disincentive is enough of a deterrent for this. We don‚Äôt care how many keys they have, just that they have the correct key for the box. 

Solving Sybil attacks is not what I set out to do. Mitigating them, even a little bit is enough. 

I don‚Äôt think it matters if people trade their keys, we don‚Äôt need to prove that they are the same person, nor that they are not several people. That is fruitless, you are right. NFT access keys can serve as a financial disincentive to Sybil attacks. It might not make them impossible, but it offers a higher level of assure that participants are acting honestly. Other mitigation strategies and encouragements to participate honestly over long periods of time will reduce Sybil likelihood. 

For all we know, nanopool is not comprised of many different miners, but rather is one giant bot net.


[07/21/2021 2:58 PM] WilfordGrimley#0124
Can you please explain this to me? It still doesn‚Äôt make sense to me in that order.


[07/21/2021 2:58 PM] danandbeard#2312
financial penalties are what urge users to solo mine when their pool fills up - it does not prevent or identify anyone


[07/21/2021 2:59 PM] danandbeard#2312
if there's a need to cap hashrate that means there's incentive to have a hashrate beyond that cap - incentive to move off pools does not give you identity/authentication


[07/21/2021 3:00 PM] danandbeard#2312
authorization gives you access
authentication proves you're the person who should have access

you can setup authorization without authentication - you cannot setup authentication without authorization


[07/21/2021 3:01 PM] WilfordGrimley#0124
Right so let‚Äôs say I am a big miner with lots of resources. I want more small miners to join. I buy a bunch of authentication tokens and give them away. Now other miners can connect. There will only be a shortage of


[07/21/2021 3:02 PM] danandbeard#2312
lets say you're a malcious ergo attacker and have a lot of hash capacity - you max out every pool and cripple new miners from ever being able to join - now the nethash is smaller because small miners move from ergo and you can more easily 51% attack because the nethash is low


[07/21/2021 3:04 PM] WilfordGrimley#0124
Right! By the logic of your first statement, authorization requires authentication. 

No one can be authorized if they have not first been identified. Authentication is the process of identification. Therefore authorization required authentication. 

I can authenticate an entity without giving it authorization to modifying my system. 
I can not authorize anything without authentication.


[07/21/2021 3:09 PM] WilfordGrimley#0124
Pools wouldn‚Äôt need to get ‚Äúmaxed out‚Äù. They would allow anyone with an access token to connect and earn. There needn‚Äôt be a maximum number of authentication tokens, nor a hard cap on the hashrate of each pool.


[07/21/2021 3:11 PM] danandbeard#2312
> Right! By the logic of your first statement, authorization requires authentication. 
no, consider a box exists that should only be opened by me...if someone steals my keys the box has no way of authenticating who is opening it....it only has authorization, not authentication


[07/21/2021 3:12 PM] WilfordGrimley#0124
I don‚Äôt care if it‚Äôs you, I care that the person opening the box has that key. 

Keep your keys safe.


[07/21/2021 3:20 PM] WilfordGrimley#0124
Authentication only works if participants use it correctly. Granted. 

The goal is not to authenticate individual people, it is to authenticate key holders. A system that uses biometrics or some such as a key could be devised, but it‚Äôs not relevant to the use case.


[07/21/2021 3:23 PM] danandbeard#2312
having a key == authorization it != authentication

{Reactions}
üëç 

[07/21/2021 3:24 PM] danandbeard#2312
so financial penalties would work for your simple example of having an on-ramp for small miners, but it would not ever allow you to limit someones hashrate in one of those pools - it would only offer penalties which hopefully are enough


[07/21/2021 3:24 PM] danandbeard#2312
the crowd funding just adds to the complexity but can be ignored for the base implementation


[07/21/2021 3:25 PM] WilfordGrimley#0124
We don‚Äôt want to limit hashrate.


[07/21/2021 3:25 PM] danandbeard#2312
I mean you say that, but then you say your pools will penalize too much hashrate - which means you need to know individuals hashrate


[07/21/2021 3:28 PM] WilfordGrimley#0124
Penalize and limit are different. 
There is no reason to limit, there is arguably reason to penalize. 

Knowing individual hash rates is fundamental to the functioning of the system, yes, and it can be achieved with Oracle Pools for each miner.


[07/21/2021 3:30 PM] WilfordGrimley#0124
Did you read the Emurgo document on Oracles Pools that I posted above?


[07/21/2021 3:35 PM] WilfordGrimley#0124
Also, it is only in relation from one pool‚Äôs total hashrate to another that we want to consider rationing hashrate. 

An individual miner needn‚Äôt be directly penalized for having a lot of hashpower unless they represent more than 100% of the pool‚Äôs hashrate goal IN RELATION to other pools.


[07/21/2021 3:39 PM] WilfordGrimley#0124
If the authentication keys only authorize users to connect to particular pools, then it could prove costly to pool hop, or maintain access keys to multiple pools. The larger a miner‚Äôs hashrate in relation to other miners in the system, the greater the financial burden to them. Even more so the more pools that exist within the system.


[07/21/2021 3:53 PM] danandbeard#2312
right, but consider the malicious user who would join the pool to put them over a hash cap...who do you limit?  Do you limit all participants equally?  If so you've opened an attack path

I would propose you simply don't let new miners join a pool once some limit has been reached - that is reliable although not very flexible


[07/21/2021 3:55 PM] danandbeard#2312
as for knowing an individuals hash rates you can know an individuals hashrate w.r.t. their wallet address, you can't know an individuals hashrate if they spread it out across many wallets


[07/21/2021 3:56 PM] danandbeard#2312
and I'm familiar with how oracle pools work, yes


[07/21/2021 3:58 PM] danandbeard#2312
oracles wouldn't be strictly needed to handle the concept of shares, and it may even be difficult to use oracles for that concept - oracles work by distributing trust so other members would have to verify other members work in order to verify the shares submitted are accurate...strictly speaking this could work, but would be complex - eth smartpool proposes a much more simple solution by having miners commit to a hashspace and bundling up all their shares into a merkle tree where a contract can verify a few branches in order to accept/reject the batch of shares - this would allow fake shares to be counted occasionally, but given you validate 2 or more branches the script would be fast and also end up making cheaters lose more than they win - thus making the incentive to cheat be basically zero


[07/21/2021 4:00 PM] danandbeard#2312
so oracles could work to validate shares, but the economics there may be difficult to pull off


[07/21/2021 4:02 PM] WilfordGrimley#0124
The reason that I (currently) prefer leaving that attack path open is that crowdfunding can make that uneconomical: 
a malicious actor controls ~100% the hashrate of the only two pools in the system
Crowdfunding produces a third pool and now the attacker‚Äôs static hashrate represents ~150% of pools one and two and they are not making as much. They can either buy a third key and further split their hashpower (uneconomical) or solo mine.


[07/21/2021 4:03 PM] danandbeard#2312
right, but remember this attacker isn't competing against the total nethash - they are only competing against small miners


[07/21/2021 4:03 PM] danandbeard#2312
because it's financially unsustainable to mine in these pools you now have presumably the majority of nethash as solo miners


[07/21/2021 4:04 PM] danandbeard#2312
the operation would basically work as an operation where the attacker pays money to keep new miners away from ERG - it wouldn't operate as a way to make more money


[07/21/2021 4:05 PM] danandbeard#2312
alternatively if these pools have no caps but instead just disallow new miners at some cap then you never have that problem


[07/21/2021 4:12 PM] WilfordGrimley#0124
With NO on and Oracle Pools gathering hashrate data, there is no need to construct merkle trees of shares. Difficult to implement? Yes? Impossible? No

It is only financially unsustainable to ‚Äòmine‚Äô to these pools if your total hashpower exceeds the total hashpower of one of the pools. It will always be profitable for those with less hashpower than an entire pool. The type of attack, where the attacker‚Äôs goal is to keep small miners away is not rational, or sustainable if the pools function as I have described with a public crowdfunding mechanism to allow new pool formation.


[07/21/2021 4:13 PM] WilfordGrimley#0124
That would be more similar to literally limiting hashrate. I am not entirely opposed to it, but I still think the other option is better. I will think about this some more.


[07/21/2021 4:16 PM] danandbeard#2312
capping new joins is not limiting hashrate


[07/21/2021 4:16 PM] WilfordGrimley#0124
Who does it benefit though?


[07/21/2021 4:16 PM] danandbeard#2312
distribution of new miners into new pools


[07/21/2021 4:17 PM] WilfordGrimley#0124
I am proposing using economics to do that rather than permissive hard caps.


[07/21/2021 4:18 PM] danandbeard#2312
anyways, I feel like we're just cycling around a few issues - once you actually start implementing these concepts it'll be easier to have a conversation


[07/21/2021 4:27 PM] WilfordGrimley#0124
This gatekeeping solution will produce points in time where there is no pool for new miners, or those that disconnect, to join. 

It would be easier to implement, but it would be less likely to encourage decentralization.


[07/22/2021 4:01 AM] WilfordGrimley#0124
The proxy Contract in SigmaUSD has a unique NFT in it‚Äôs bank box so that anyone can verify that they are actually dealing with the bank. 

My thinking is that this can be extrapolated to act as authentication, so that ‚Äòpools‚Äô know to which box to payout. The miner would reference the NFT that the pool minted for them. 

If a minting contract can create fungible tokens, like SigUSD or RSV, then it could trivially mint NFTs also. The uniqueness of them will allow us to identify specific entities over time. 

Ergo Teams function in much the same way, I think.  I‚Äôll look into those scripts also. I‚Äôd bet that membership tokens are non fungible. If they are not, creating a version of that script with nonfungibilty would help solve a lot of problems.


[07/22/2021 7:46 AM] WilfordGrimley#0124
I‚Äôm wondering if each ‚Äòpool‚Äô could run as it‚Äôs own velvet fork. NIPoPoW miners could be configured to check only the validity of their own fork. This could potentially improve scalability.


[07/29/2021 6:11 PM] Alien Œ£ Crypto#4489
I'm not sure about technical terms or tech it self but cardano staking pools have a system where ones the capacity of stackers reached the ability to earn goes down. It's my understanding how that works, saturation they call it? The work around is people open new pools. That fixes nothing in my opinion.


[07/29/2021 6:14 PM] Alien Œ£ Crypto#4489
So can a system request a collateral deposit for Harsh rate over certain amount? Say if I come in with 50% hashrate I would 1st need to put a colleteral before mining and if I do some harm my collateral is gone.


[07/29/2021 6:30 PM] WilfordGrimley#0124
Yes! Kushti wrote a paper on that.


[07/29/2021 6:30 PM] WilfordGrimley#0124
I'll get you some links.


[07/29/2021 6:32 PM] WilfordGrimley#0124
https://eprint.iacr.org/2020/044


[07/29/2021 6:32 PM] WilfordGrimley#0124
That is Kushti's paper where he proposes collateral for smart contract pools.


[07/29/2021 6:33 PM] danandbeard#2312
a pool can prevent someone from mining or it can allow someone to mine - since the miners can fake identities it's impossible to limit a logical users hashrate inside of that pool


[07/29/2021 6:33 PM] WilfordGrimley#0124
The system you are asking to exist is exactly what I want to attempt to build with SmartPools.


[07/29/2021 6:34 PM] WilfordGrimley#0124
@danandbeard and I disagree that having to pay for access to pools is an effective sybil resistance.


[07/29/2021 6:34 PM] danandbeard#2312
not necessarily - depends on your end goals


[07/29/2021 6:35 PM] danandbeard#2312
if you want this pool to be an on-ramp for small miners that ultimately become solo miners it's fine


[07/29/2021 6:35 PM] WilfordGrimley#0124
I don't want a single pool.


[07/29/2021 6:35 PM] danandbeard#2312
if you want to limit miners hashrate for the system, then it doesn't work


[07/29/2021 6:35 PM] WilfordGrimley#0124
I've yielded to that point many times. I agree.


[07/29/2021 6:36 PM] danandbeard#2312
and fwiw that paper collateral isn't to join a pool, it's to make sure the funds end up in the pools control


[07/29/2021 6:37 PM] danandbeard#2312
you put money into the pool and then you mine blocks to yourself (effectively paying yourself back the collateral) the pool then uses the collateral to distribute the collateral which is effectively being treated as the block reward


[07/29/2021 6:37 PM] WilfordGrimley#0124
Exactly. I am proposing that the collateral function be crowdfundable.


[07/29/2021 6:38 PM] danandbeard#2312
assuming anyone would crowdfund that to begin with, that defeats the purpose of the pool described in the paper


[07/29/2021 6:40 PM] danandbeard#2312
the collateral effectively becomes the block reward - no one is going to crowdfund anyone to effectively become a donation that increases block rewards - they would be better served just handing people ERGs directly that are mining


[07/29/2021 6:40 PM] WilfordGrimley#0124
We have been witnessing people crowdfund the creation of small pools for the last month and a half in Ergo. There are block rewards for leafpool, coinfoundry and Enigmapool.

I have told you before that I personally would rather support such a system, so to claim that no one would is just incorrect.


[07/29/2021 6:41 PM] danandbeard#2312
crowdfunding the creation of pools is not the same as crowdfunding block rewards


[07/29/2021 6:42 PM] WilfordGrimley#0124
With smart contracts, it can be.


[07/29/2021 6:42 PM] danandbeard#2312
they are fundamentally different


[07/29/2021 6:42 PM] danandbeard#2312
crowdfunding to create a pool ends up with a new pool - block rewards are being emitted regardless of any smart contract


[07/29/2021 6:47 PM] WilfordGrimley#0124
If the emission of those block rewards are tied to a smart contracts that will conditionally create even more cowdfunded pools then there needn't be a difference.


[07/29/2021 6:48 PM] WilfordGrimley#0124
I think that we are still talking about pools may be confusing you. No one need share their hashrate, everyone can solo mine. The 'pools' are smart contracts.


[07/29/2021 6:57 PM] danandbeard#2312
right, if you change what the contract in the paper we're talking about is doing - then yes, changing it does in fact make it different


[07/29/2021 6:58 PM] danandbeard#2312
the contract in the paper that we are talking about does not make pools from crowdfunding or collateral


[07/29/2021 6:58 PM] danandbeard#2312
you may be confusing the paper you linked with some other paper


[07/29/2021 7:08 PM] WilfordGrimley#0124
Talking about my own for a solution . I was just linking Kushti‚Äô paper* to answer part of @Alien Œ£ Crypto‚Äôs question regarding collateral.


[08/01/2021 6:00 AM] WilfordGrimley#0124
Rereading Chia‚Äôs whitepaper. I think the calculations for PoSpace could be useful for determining accurate hashpower for a sidechain, although I am hoping to find that a redundant solution.


[08/13/2021 6:59 AM] WilfordGrimley#0124
https://curiaregiscrypto.medium.com/ergofund-code-released-for-review-feedback-2d7a05ed93d5

Wooo! Thank you @kushti !!

{Embed}
https://curiaregiscrypto.medium.com/ergofund-code-released-for-review-feedback-2d7a05ed93d5
ErgoFund Code Released for Review & Feedback
Kushti released the initial ErgoFund on chain and off chain contracts today. This is something that he has been working on for a few‚Ä¶


[08/24/2021 7:18 AM] WilfordGrimley#0124
Ahah! GravityScore is how ErgoOracle score works presumably. This can be included in calculations to determine miner payouts.


[09/14/2021 5:00 PM] drafty#3608
what is a smartpool?


[09/17/2021 1:58 PM] glasgowm#9381
Pinned a message.


[09/17/2021 1:58 PM] glasgowm#9381
Pinned a message.


[09/17/2021 1:59 PM] glasgowm#9381
Pinned a message.


[09/17/2021 2:00 PM] ziggomatic#9335 (pinned)
pin https://github.com/WilfordGrimley/ErgoSmartPools also

{Embed}
https://github.com/WilfordGrimley/ErgoSmartPools
GitHub - WilfordGrimley/ErgoSmartPools: We aim to further encourage...
We aim to further encourage decentralization in Ergo using smart contract pools with a saturation function. - GitHub - WilfordGrimley/ErgoSmartPools: We aim to further encourage decentralization in...
https://images-ext-2.discordapp.net/external/8tOhRpg_2PCYZjgGhgZCCLEaK6vR8dGmV0BLN1ZI0n0/https/opengraph.githubassets.com/3a8b0abe8241858f2e497f51399454002e270a7eae6e0519be87673ef86427f2/WilfordGrimley/ErgoSmartPools


[09/17/2021 2:00 PM] drafty#3608
awesome


[09/17/2021 2:01 PM] ziggomatic#9335
or make it the topic ^^ might be a good place for it


[09/17/2021 2:03 PM] drafty#3608
this is exactly what I was hoping it would be


[09/17/2021 2:11 PM] vegycslol#1714
So all nodes would only accept blocks from this "father pool"? If yes, does that mean you can't do 51% attacks and you have finality after tx is included in the block?


[09/17/2021 2:11 PM] glasgowm#9381
Pinned a message.


[09/17/2021 2:23 PM] WilfordGrimley#0124
Gah, don‚Äôt pin that, it‚Äôs so disorganized üòÖ


[09/17/2021 2:24 PM] WilfordGrimley#0124
Did you find the paper from the first Hackathon?


[09/17/2021 2:27 PM] WilfordGrimley#0124
Every miner could be solo mining on their own blocks, pools could be used only for miner reward distribution. 

With smart contracts and hashrate oracles, there would be no need for centralization of hashpower into pools

{Reactions}
üëÜüèª 

[09/17/2021 2:59 PM] drafty#3608
reading it now


[09/23/2021 9:01 PM] Cheese Enthusiast#0548
Hey, just wondering is this project part of the hackathon?


[09/23/2021 9:03 PM] Cheese Enthusiast#0548
I was looking into making something similar for the hackathon but now that I know someone has already come up with this idea I would love to contribute to it


[09/24/2021 5:10 PM] danandbeard#2312
it was part of last hackathon


[09/27/2021 8:21 PM] nosynq#1900
Well, how such smartcontact would work schematically? Step by step. Will it send task request to miners and then collect hashes as normal pools do? Or other process?


[09/27/2021 8:43 PM] nosynq#1900
May be the task for the current block can be implemented into previous one. And smartpool will be kind of ergonode functionality. You just setup your gpu with ergonode and start mining using smartpool in decentralised manner. Just thoughts.


[09/27/2021 10:03 PM] glasgowm#9381
See pinned messages


[09/27/2021 11:51 PM] Pyro ‚Ç≥Œ£#7275
how does that pool work?


[09/27/2021 11:51 PM] Pyro ‚Ç≥Œ£#7275
atm I mine on nanopool which I believe is 51% right?


[09/28/2021 10:48 AM] glasgowm#9381
no it's at 35%. See pinned messages


[09/28/2021 4:07 PM] Pyro ‚Ç≥Œ£#7275
is that all you say Glasgow.


[09/28/2021 4:07 PM] Pyro ‚Ç≥Œ£#7275
you dont provide anything else other than that?


[09/28/2021 4:08 PM] Pyro ‚Ç≥Œ£#7275
these comments are the FAQ about behaviors or launches

{Reactions}
üëç 

[09/28/2021 4:08 PM] Pyro ‚Ç≥Œ£#7275
this topic is about smartpools.


[09/28/2021 4:08 PM] Pyro ‚Ç≥Œ£#7275
you might just want to not respond next time

{Reactions}
clownworld 

[09/28/2021 5:31 PM] glasgowm#9381
Huh? There's information in the pinned messages - a lot of people don't check them. If you have any actual questions, let us know.


[10/02/2021 1:30 PM] Vashftw_gg#2932
so mining in these smart pools would be the way to go?


[10/02/2021 1:31 PM] glasgowm#9381
Still a research idea at this stage - but I'm sure mining can be improved with SCs eventually yes


[10/02/2021 1:32 PM] Vashftw_gg#2932
nice.  Im probably very behind the mining game but im making a go of it üôÇ


[10/02/2021 1:32 PM] Vashftw_gg#2932
1 a day... not great i know but i think its worth it for now


[10/18/2021 8:56 PM] Wii#9265
Can somebody explain smart pools to me? I‚Äôm sharp as a marble (aka not sharp at all)


[10/21/2021 2:20 PM] glasgowm#9381
a smart-contract that acts like a mining pool. (Normally have to be run centralised)


[10/21/2021 2:42 PM] Wii#9265
Interesting


[10/22/2021 4:17 PM] SnowPea#7485
I like the smartpool idea, is there a smartpool out there we can join now or still in development?


[10/22/2021 7:24 PM] AllCloudy | GetBlok.io#1273
We are working on bringing one online right now


[10/22/2021 7:25 PM] AllCloudy | GetBlok.io#1273
There are some things that need to improve to make the User Experience easier for everyone


[10/22/2021 8:47 PM] SnowPea#7485
Thanks, please post info, i'll keep my eyes open


[11/14/2021 1:29 AM] Cheese Enthusiast#0548
I have created some baseline contracts to be viewed along with an overview for anyone interested. Will require some more work to get a backend that can tie in with a stratum server, but here is what has been created so far.

{Reactions}
ergo_white (3) 

[11/14/2021 1:29 AM] Cheese Enthusiast#0548
https://github.com/GetBlok-io/ergo-smartpooling-contracts

{Embed}
https://github.com/GetBlok-io/ergo-smartpooling-contracts
GitHub - GetBlok-io/ergo-smartpooling-contracts: Smart Pooling cont...
Smart Pooling contracts built in ErgoScript. Contribute to GetBlok-io/ergo-smartpooling-contracts development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/SijwDmC2BO2FTVVbF7z4cnEmCqjnLvPpaj3T0lNNwng/https/opengraph.githubassets.com/45ee2c8cfa1f86efec9f0808001f2b67a6cb9ec120473e29fddb11076e60d9f5/GetBlok-io/ergo-smartpooling-contracts


[11/15/2021 4:12 AM] √Ör√ñhB√™#8289
GetBlok Discord https://discord.gg/fbjsnjhT


[11/23/2021 7:50 PM] AggerGakker#4449
I was thinking


[11/23/2021 7:51 PM] AggerGakker#4449
With atomic swaps being enabled with BTC


[11/23/2021 7:51 PM] AggerGakker#4449
Would it be possible to have a smartpool that mined ERGO and paid out in BTC?


[11/23/2021 8:01 PM] √Ör√ñhB√™#8289
This is definitely something we have considered as a future option.  Have not dug into it fully yet but seems feasible from a very high level


[11/23/2021 8:03 PM] AggerGakker#4449
For me. I'm in a country where a DEX swap is a tax event


[11/23/2021 8:04 PM] AggerGakker#4449
I've used unmineable and 2 miners to get different coins to my wallet without incurring extra taxes


[11/23/2021 8:04 PM] AggerGakker#4449
I'm currently taking the Ergo Script tutorials and would want to look into this


[11/23/2021 9:13 PM] andee#4722
SE,NO,DK? üôÇ


[11/23/2021 9:13 PM] AggerGakker#4449
Dk


[11/23/2021 9:18 PM] apexpool#3878
don't forget DE


[11/23/2021 9:29 PM] andee#4722
thats right, you got the same :/ (offtopic) but you can still hold 1 year and pay no tax?


[11/23/2021 9:29 PM] apexpool#3878
correct, but without staking


[11/23/2021 9:40 PM] AllCloudy | GetBlok.io#1273
this is interesting.  How is crypto categorized in your country, a property?


[11/23/2021 9:41 PM] AggerGakker#4449
I actually don't know. It's kind of like a stock. But gains are taxed like income 43% and loss can be deducted for like 23%


[11/23/2021 9:42 PM] AggerGakker#4449
There are cases of people having been taxed over 100% because people have traded and swapped and the laws are antiquated


[11/23/2021 9:54 PM] AllCloudy | GetBlok.io#1273
its an interesting thought, including DEX capabilities in mining process.  I wonder how that applies to NiceHash for example


[11/26/2021 9:21 AM] AggerGakker#4449
I Mulled over this idea and that seems much easier to implement than atomic swaps. As i understand it , you would need peer to peer  liquidity for each swap, and how would you find that? Unless you had an agreement with for example a BTC mining pool


[11/26/2021 9:21 AM] AggerGakker#4449
Making a DEX implementation would be much simpler as i see it


[11/26/2021 9:23 AM] AggerGakker#4449
When a payout is ordered, the smart pool has a contract that submits the transaction to ErgoDex with the specified payout currency and then executes your trade directly for your payout


[11/26/2021 9:23 AM] AggerGakker#4449
I think i just found my project to work on

{Reactions}
üëçüèº 

[03/28/2022 5:11 AM] MeHow#3154
how smartpools work?


[03/28/2022 5:11 AM] MeHow#3154
i was told that you can have small smartpool


[03/28/2022 5:11 AM] MeHow#3154
and still get blocks


[03/28/2022 5:11 AM] MeHow#3154
or even join bigger pool as a team


[03/28/2022 5:11 AM] MeHow#3154
is this true?


[03/29/2022 9:23 PM] d0wdeezy#1975
yea. in development tho


[04/04/2022 10:28 PM] MeHow#3154
when is it going to be done? üò¶


[04/05/2022 9:07 PM] √Ör√ñhB√™#8289
https://tenor.com/view/puppet-red-ball-soon-gif-13188418

{Embed}
https://tenor.com/view/puppet-red-ball-soon-gif-13188418
https://images-ext-1.discordapp.net/external/0RQu_fwx47omdaKSxGNGf1zFSWHwTSC76nzvHdTXtH8/%3Fc%3DVjFfZGlzY29yZA/https/media.tenor.com/LqPwUfj3fwMAAAAD/puppet-red.png


[04/14/2022 12:35 AM] MeHow#3154
when is the subpool going to be done?


[04/14/2022 12:35 AM] MeHow#3154
how close are you now?


[04/14/2022 1:10 AM] Cheese Enthusiast#0548
Hey normal pools are functioning properly now. I am working on automating the process and then will work on token pools. We're like 75% of the way there at this point.


[04/14/2022 1:22 AM] MeHow#3154
What is this subpool ergo on GitHub does it work?


[04/14/2022 1:22 AM] MeHow#3154
@Cheese Enthusiast


[04/14/2022 1:24 AM] MeHow#3154
It's this one which is limited to 5 pools


[04/14/2022 1:24 AM] Cheese Enthusiast#0548
Is it called "ergo-subpooling"?


[04/14/2022 1:25 AM] Cheese Enthusiast#0548
I made that months ago. It works but is not very good. Everyone must submit a payment request in order to be paid, and adding more than 5 members will cause issues


[04/14/2022 1:48 AM] MeHow#3154
I think this would be enough since we are not going to have more than 5


[04/14/2022 1:50 AM] MeHow#3154
And later we will update it to the better version


[04/14/2022 4:43 AM] Cheese Enthusiast#0548
Go for it! Try it out and let me know how it goes, I have not looked at that code in months. I will warn you that it can be buggy occasionally, so please test with small amounts of mined ERG first. Once it works well I suggest setting high minimum payouts as it is easier on the contract vs using many small boxes.


[05/17/2022 5:26 AM] sqrt4761#3364
Whic pool should I use?


[05/17/2022 2:24 PM] √Ör√ñhB√™#8289
if you are looking for a SmartPool, then Ergo.GetBlok.io is the way to go  üòâ


[05/28/2022 1:35 AM] SoCool#6419
GetBlok having some problems lately? I've been seeing long periods where my erg balance doesn't seem to go up on the dashboard


[05/28/2022 1:36 AM] SoCool#6419
Like right now, no increase for 3 hours sitting at 0 after a payout 3 hours ago - though hashrate chart reads positive consistent hashrate all day


[05/28/2022 1:38 AM] SoCool#6419
The other day I had 0.225 erg for like 10 hours then it started increasing normally again


[05/28/2022 12:04 PM] SoCool#6419
Still 0, guess it's time to use another pool :( been using GetBlok since it started


[05/28/2022 1:02 PM] glasgowm#9381
#üêü‚îÇgetblok - but your payout should only increase when blocks are found afaik


[05/28/2022 1:38 PM] SoCool#6419
Has difficulty gone way up or something then? I mean, I see constant increase normally as I do about 1.4 erg a day, so to have seen zero increase in balance since yesterday afternoon is not right - not 0.1 or anything, just 0.00


[05/28/2022 1:39 PM] SoCool#6419
Just switched to herominers an hour ago and I'm at 0.02


[05/28/2022 1:46 PM] SoCool#6419
GetBlok hasn't seen reduction in miners so I don't know why they would no longer be getting blocks when I've seen consistent increase in my balance previously


[05/28/2022 2:21 PM] Cheese Enthusiast#0548
Not sure if you‚Äôre in our discord/telegram or not, but we‚Äôve had multiple announcements that we‚Äôre in the process of converting to the subpooling contracts. 

Its a little like doing open surgery on a person thats awake üòÖ

Because of that, we have paused payouts. Shares are still being processed and blocks are being found, but payouts will begin again after we complete the cut over.


[05/28/2022 4:08 PM] SoCool#6419
I guess it's not clear to me about balance, shares, and payouts

I get the idea of pausing payout, but I would still expect to see accounting of what I will get paid when it's turned back on? I'm understanding that the hashrate I sent is actually not going to be paid at all?

And no, not on socials, just here, try to avoid Twitter and Facebook altogether


[05/28/2022 4:12 PM] Cheese Enthusiast#0548
Because of the way the old smartpool works with a localized state, its hard to predict your exact payout beforehand. Because of that, when we turn off payouts any attempts at predicting payouts would likely not be correct. This is fixed in the new subpooling contracts, and there is a whole system in the backend dedicated to predicting payouts for future blocks that have been mined but not yet processed.

The hashrate you sent WILL be paid out, we have been mining blocks they have just not been processed at all. There's currently a queue of blocks waiting to be paid out, once we're done with the transfer, all of those blocks will be processed and paid in the new pool contracts.


[05/28/2022 4:14 PM] SoCool#6419
Ok, cool! So the hashes weren't lost. Did you do the same thing earlier in the week or so? Same thing happened recently


[05/28/2022 4:15 PM] Cheese Enthusiast#0548
Last time we paused payouts was when we integrated the new UI. There might have been an unrelated pause during this week though, that was due to an error in our explorer instance that has now been fixed.


[05/28/2022 4:15 PM] SoCool#6419
Ah! Makes sense. Thanks!


[06/06/2022 2:01 PM] superfuru#4231
what is smartpools ? what makes them different from the regular pools?


[06/06/2022 4:03 PM] √Ör√ñhB√™#8289
Hey @superfuru the main difference is the transparency provided by us integrating Smart Contracts.   You can read more here. https://www.getblok.io/smartpools/

{Embed}
https://www.getblok.io/smartpools/
SmartPools - GetBlok.io
Welcome to the future of mining GetBlok.io is the first SmartPool launched in a Global production status. How does a SmartPool work? A SmartPool leverages the strength of¬†Smart Contracts in a blockchain to enable¬†transparent, on-chain processing of a miner‚Äôs shares and payment distribution.¬†GetBlok.io is in a¬†long term journey to push the bounda...
https://images-ext-1.discordapp.net/external/i-to9bg5Ov_Jr0GWqJyaw2zGLocyLc72ri4lC3AbZvc/https/www.getblok.io/wp-content/uploads/2022/01/pool-424x1024.png


[06/06/2022 4:03 PM] √Ör√ñhB√™#8289
Also allows us to develop things like SubPooling


[06/06/2022 4:03 PM] √Ör√ñhB√™#8289
https://twitter.com/anetabtc/status/1533823114718502912?s=21&t=Gww_YuuWu5g6IG2c5K7lDA

{Embed}
anetaBTC üëº Wrapped BTC on Ergo and Cardano (@anetaBTC)
https://twitter.com/anetabtc/status/1533823114718502912?s=21&t=Gww_YuuWu5g6IG2c5K7lDA
We're excited to announce mining NETA on Ergo will go live Saturday, June 11th, 2022 ü•≥

Details below üéâüëá
https://t.co/NxmIqK1VAG
https://images-ext-1.discordapp.net/external/j5E0zKYTGgvoNgfEMa61GOT-FrTNHsLvD85OOscvygE/https/pbs.twimg.com/media/FUk7nyvUcAA739N.jpg
Twitter


[06/17/2022 12:31 PM] Attila#3944
Hey, looks like the API is down. What is the hashrate on the pool rn, does anyone know? website dead, miningpoolstats shows api error.


[06/17/2022 12:31 PM] Andrius 11G#2333
https://youtu.be/drHZZxZLE4c

{Embed}
Son of a Tech
https://www.youtube.com/watch?v=drHZZxZLE4c
How to Mine NETA on ERGO! Windows & HiveOS
Receive up to $7000 deposit bonus with promo code sonofatech on signup https://go.primexbt.com/click?pid=6812&offer_id=12

Links
https://chrome.google.com/webstore/detail/nautilus-wallet/gjlmehlldlphhljhpnlddaodbjjcchai
https://github.com/Lolliedieb/lolMiner-releases/releases
https://ergo.getblok.io/
https://ergodex.io/

Join Locals for a chance...
https://images-ext-2.discordapp.net/external/QRmTd7tI8R0pZGnp3dK5gN1KwGGilbv5DfJ0aSPHnLw/https/i.ytimg.com/vi/drHZZxZLE4c/maxresdefault.jpg


[06/17/2022 12:31 PM] Andrius 11G#2333
not sure if its correct

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/987318657921220638/unknown.png


[06/17/2022 12:31 PM] Attila#3944
getblok I mean


[06/17/2022 12:32 PM] Attila#3944
looks good, thanks, how did you get this?


[06/17/2022 12:32 PM] Andrius 11G#2333
i use opera with vpn  on america


[06/17/2022 12:32 PM] Attila#3944
got it, thanks üôÇ


[06/17/2022 12:32 PM] Andrius 11G#2333


{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/987318878214426625/unknown.png


[06/17/2022 12:32 PM] Attila#3944


{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/987318893372669972/Kepernyofoto_2022-06-17_-_13.32.44.png


[06/17/2022 12:36 PM] Andrius 11G#2333
they have some issues with API and UI, you can get more updates on getblok discord


[06/17/2022 12:36 PM] Attila#3944
thanks, appreciate it!


[08/20/2022 3:48 PM] Muzi#9079
any idea what it is ?

{Attachments}
https://cdn.discordapp.com/attachments/852554580520992798/1010560973368741998/unknown.png


[08/20/2022 3:49 PM] Muzi#9079
this is from flux PoUW


[08/20/2022 3:50 PM] Muzi#9079
@CW üôÇ do you know something üôÇ


[08/20/2022 4:15 PM] glasgowm#9381
https://ergoplatform.org/en/blog/Flux-Announces-Ergo-Parallel-Asset/


[08/20/2022 4:26 PM] Muzi#9079
ok üôÇ


[08/20/2022 4:26 PM] Muzi#9079
thx


[09/09/2022 5:03 AM] 2ndTL Mining [I will never DM u]#5580
any one tested receipts into Zelcore for Ergopad?


[09/10/2022 8:04 PM] Setvin#2532
is smart pool like p2pool


[09/10/2022 11:37 PM] √Ör√ñhB√™#8289
It‚Äôs a smart contact based mining pool.  Offers additional transparency as well as native token distribution through subpooling.


[09/10/2022 11:37 PM] √Ör√ñhB√™#8289
https://www.getblok.io/smartpools/

{Embed}
https://www.getblok.io/smartpools/
SmartPools - GetBlok.io
Welcome to the future of mining GetBlok.io is the first SmartPool launched in a Global production status. How does a SmartPool work? A SmartPool leverages the strength of¬†Smart Contracts in a blockchain to enable¬†transparent, on-chain processing of a miner‚Äôs shares and payment distribution.¬†GetBlok.io is in a¬†long term journey to push the bounda...
https://images-ext-1.discordapp.net/external/i-to9bg5Ov_Jr0GWqJyaw2zGLocyLc72ri4lC3AbZvc/https/www.getblok.io/wp-content/uploads/2022/01/pool-424x1024.png


[10/17/2022 11:07 PM] jhon_moio#2140
I find u everywhere haha


[10/17/2022 11:41 PM] Setvin#2532
when they said time is money they werent talking about me


[11/14/2022 2:30 AM] WilfordGrimley#0124
Who maintains @ProBot ‚ú® ? 

Small nitpick: https://discord.com/channels/668903786361651200/963967961801052180 In this channel it lists smartpools as originating in Ergohack III when it was from the first Ergohack.


[11/26/2022 1:47 PM] Porridge#8651
watching the SNISP video, what stops a miner in a mining pool from getting their partial payout but then if they land a block winning hash they submit it solo? (in traditional and smart pools)


[11/26/2022 6:18 PM] WilfordGrimley#0124
In a collateralized decentralized setting, this problem is solved by requiring each miner to post collateral. If they do not submit their hash to the smart pool, their collateral is claimed by the smart pool to cover the loss.

@Cheese Enthusiast could answer better however. üôÇ


[11/27/2022 1:14 AM] Porridge#8651
but they could still just communicate the block winning hash to their separate solo miner for example, and get the whole block reward while pretending they didnt get any in the mining pool


[11/27/2022 1:15 AM] Porridge#8651
I don't know how that's prevented in regular mining pools either btw, not just smart pools


[11/27/2022 1:45 AM] Cheese Enthusiast#0548
Not if the winning hash is of a block which contains a transaction that pays the pool (or a pool smart contract). This is a collaterallized mining pool. In that case, no matter who submits the winning hash, the funds are always received by the pool.


[11/27/2022 1:46 AM] Cheese Enthusiast#0548
Removing the transaction from the block is useless btw, because then the hash is changed and may no longer be able to win the PoW lottery.


[11/27/2022 1:48 AM] Porridge#8651
ooh thanks got it now


[11/27/2022 2:02 AM] Porridge#8651
So the inputs to the hash function are (previous header, block content, nonce) ?


[11/27/2022 2:02 AM] Cheese Enthusiast#0548
Correct, also other additional information like votes in Ergo


[11/27/2022 2:20 AM] Porridge#8651
Does it also mean the mining pool decides which transactions are coming into the block the miners mine on?


[11/27/2022 2:23 AM] Cheese Enthusiast#0548
No, miner can choose any transactions they want in the block, as long as the transaction paying the pool is included with it. Cryptographic proof of pool payment can be attached to each share and be verified in the contract easily.


[11/27/2022 2:24 AM] Porridge#8651
Right, so the pool just verifies the pool transaction is in there and if it is and everything is valid it counts towards the payment for the miner

{Reactions}
üëç 

[11/27/2022 2:27 AM] Porridge#8651
Seems like smart poold are really the way to get that clean mining power pie chart we had early on autolykos 1

{Reactions}
üôè 

==============================================================
Exported 1,180 message(s)
==============================================================
