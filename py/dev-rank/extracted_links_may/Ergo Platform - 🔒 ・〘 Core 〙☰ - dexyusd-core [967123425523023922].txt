==============================================================
Guild: Ergo Platform
Channel: üîí „Éª„Äò Core „Äô‚ò∞ / dexyusd-core
Topic: https://t.me/+Mjg9uIc0YkA4Yjdk
==============================================================

[04/22/2022 7:12 PM] kushti#0000
Hello everyone


[04/22/2022 7:18 PM] glasgowm#9381
Hey! Added @scalahub @Armeanio @code_For_Uss - bridged with Telegram (available in the channel description)


[04/23/2022 8:32 AM] scalahub#2618
Great


[04/23/2022 8:51 AM] scalahub#2618
First we should expand the EIP with details. I'm working on it. Feel free to add to it


[04/23/2022 2:23 PM] Armeanio#0321
For nautilus the dapp plan probably will be started with Dexy. 

1. Create a TypeScript protocol library (dexy.js), this will facilitate integration by other dApps and Wallets as well as keep a clean and isolated code base for review purposes;

2. On Nautilus integration, we are planing to add a ‚ÄúdApps‚Äù tab where we‚Äôll hold dApp integrations (token minting/burning, SigmaUSD, ErgoDEX, et cetera), it looks like a good place for dexy UI. 

As a long-term goal, when we have enough dApps integrated, a ‚ÄúSwap‚Äù tab can be added with a mechanism that finds best rates for a given swap.

In the event we have multiple dexy or any other listings on dexes.


[04/23/2022 3:40 PM] Armeanio#0321
Reference libraries help a lot on adoption and standardization.

SigmaUSD for example, is a bit of a mess in this way. Every dev implements it in a different way it seems. 

It lacks documentation and a easy bootstrap process. Trying to formalize implementations would accelerate things I think.

Maybe it should become something we need to push for, clear documentations and decoupled reference implementation when possible.


[04/28/2022 1:19 PM] kushti#0000
Forwarded from unknown: i think there is a typo, one should be lp rate


[04/28/2022 1:19 PM] kushti#0000
Forwarded from unknown: "In particular, redeeming of LP tokens is not allowed when the oracle pool rate is below a certain percent (say 90%) of the oracle pool rate."


[04/28/2022 1:19 PM] kushti#0000
Indeed


[04/28/2022 4:20 PM] ScalaHub#0000
yup.. its fixed


[05/04/2022 2:55 PM] kushti#0978
@code_For_Uss so you have some tests for existing contracts?


[05/11/2022 10:42 PM] kushti#0000
Made reviews for contracts, I guess a rework is needed


[05/11/2022 10:42 PM] kushti#0000
also created repo https://github.com/kushti/dexy-stable

{Embed}
https://github.com/kushti/dexy-stable
GitHub - kushti/dexy-stable: Contracts and offchain part of DEXy st...
Contracts and offchain part of DEXy stablecoin . Contribute to kushti/dexy-stable development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/2Y_MrUYwLFBfs0t9qweQzJ9-LpvXmNndJy_IfhParCE/https/opengraph.githubassets.com/76e056dffaca0fa0baed814f843a5d43782d77427bd931603b21ca16848491d0/kushti/dexy-stable


[05/14/2022 8:42 PM] code_For_Uss#1058
Hi


[05/14/2022 8:44 PM] code_For_Uss#1058
I have a sample code for buying DexyUSD from EmissionBox
but for swapping, I had a problem calculating some values


[05/15/2022 4:06 PM] kushti#0978
Please put tests into the repo

{Reactions}
üëç 

[05/15/2022 4:06 PM] kushti#0978
I am writing a short paper on design


[05/15/2022 4:06 PM] kushti#0978
To finalize it


[05/19/2022 4:11 PM] scalahub#2618
@kushti I've pushed another commit to address your comments in the PR. Please review again


[05/19/2022 4:26 PM] kushti#0000
ok ,thanks!


[05/28/2022 4:58 PM] code_For_Uss#1058
Your latest commit helps me a lot for calculate parameters


[05/28/2022 7:09 PM] code_For_Uss#1058
I sent the first PR as dexy-cli to this project


[05/30/2022 12:51 AM] kushti#0000
Awesome, will check in my morning


[05/30/2022 10:37 AM] kushti#0000
https://github.com/kushti/dexy-stable/pull/1#issuecomment-1140933189

{Embed}
https://github.com/kushti/dexy-stable/pull/1
add dexy-cli by code-for-uss ¬∑ Pull Request #1 ¬∑ kushti/dexy-stable
Contracts have not been updated yet except Emission Contract
https://images-ext-2.discordapp.net/external/cGTk_Va-bTWUfsInWEuMtstF_A0G1dDCKzlZ5vPW5TM/https/opengraph.githubassets.com/43ec1991ae4b72252fce61518764d9364015932a73aa870d93f7dbce3d626b0a/kushti/dexy-stable/pull/1


[05/30/2022 10:37 AM] kushti#0000
also, added a bounty


[05/30/2022 10:37 AM] kushti#0000
I am going to finish writing ASAP


[05/30/2022 10:44 AM] code_for_uss#0000
(re @kushti_ru : *https://github.com/kushti/dexy-stable/pull/1#issuecomment-1140933189*) 
 
 Thanks
I'll issue boxes and tokens on Testnet for a better test and fix this issues this week

{Embed}
https://github.com/kushti/dexy-stable/pull/1
add dexy-cli by code-for-uss ¬∑ Pull Request #1 ¬∑ kushti/dexy-stable
Contracts have not been updated yet except Emission Contract
https://images-ext-2.discordapp.net/external/cGTk_Va-bTWUfsInWEuMtstF_A0G1dDCKzlZ5vPW5TM/https/opengraph.githubassets.com/43ec1991ae4b72252fce61518764d9364015932a73aa870d93f7dbce3d626b0a/kushti/dexy-stable/pull/1


[05/30/2022 4:39 PM] code_For_Uss#1058
@kushti Where is the latest version of Dexy's contracts?
Is it dexy-stable/spec/spec.md or eip-30?


[05/31/2022 3:24 PM] kushti#0000
@scalahub knows better but contracts are outdated in any case. Going to finish whitepaper ASAP and then we need to update contracts


[05/31/2022 4:31 PM] ScalaHub#0000
The eip should have the latest contract as per my knowledge


[05/31/2022 4:32 PM] ScalaHub#0000
We had discussed some extensions but they have not been implemented yet. Specifically removing cross counter and using an alternative approach suggested by @kushti_ru


[05/31/2022 5:45 PM] kushti#0000
Also, minting should be limited, and no burn implemented yet


[06/03/2022 3:16 PM] ScalaHub#0000
I have made an update to EIP based on Kushti's suggestions.


[06/03/2022 3:17 PM] ScalaHub#0000
Need some help p in adding more text to the EIP.. please feel free to add to the PR


[06/03/2022 3:19 PM] ScalaHub#0000
I've updated the contracts as well. I'm using ergo-jde for testing as its most convenient, and keeping an updated copy in the EIP
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/okCCmwSXEaMe9V0QDt_7DgYFo8WBdBRyNVC7dtKeuZA/https/opengraph.githubassets.com/fec09312a85310ea0a29f93c30146c24486e2e6ff203d37e4488b843d0830c3a/ergoplatform/ergo-jde


[06/03/2022 3:20 PM] ScalaHub#0000
@kushti_ru can we use the EIP for the final source of truth for the contracts? Since now they are in three places


[06/03/2022 3:21 PM] ScalaHub#0000
(re @ScalaHub : *I have made an update to EIP based on Kushti's suggestions.*) 
 
 Change was not to use a cross counter but to store the height at which the condition became true and then reset it to Long.MaxValue when condition becomes false


[06/03/2022 9:44 PM] kushti#0000
(re @ScalaHub : *@kushti_ru can we use the EIP for the final source of truth for the contracts? Since now they are in three places*) 
 
 Yes, lets use EIP for reference


[06/06/2022 3:55 PM] code_for_uss#0000
(re @kushti_ru : *https://github.com/kushti/dexy-stable/pull/1#issuecomment-1140933189*) 
 
 Addressed your comments but duo to lack of oracle in testnet, I can't test it on network.

{Embed}
https://github.com/kushti/dexy-stable/pull/1
add dexy-cli by code-for-uss ¬∑ Pull Request #1 ¬∑ kushti/dexy-stable
Contracts have not been updated yet except Emission Contract
https://images-ext-1.discordapp.net/external/xJJQzsjyTkpBsvHxW-Fyy3PQ1qbijj3sz0PrpZw7ql4/https/opengraph.githubassets.com/055bb69f95bcada1c80da0edb409a1130acc325753e2ce22bdd8a39c090d5931/kushti/dexy-stable/pull/1


[06/06/2022 11:17 PM] kushti#0000
(re @code_for_uss : *Addressed your comments but duo to lack of oracle in testnet, I can't test it on network.*) 
 
 can we test on the mainnet ?


[06/06/2022 11:18 PM] kushti#0000
@ScalaHub put bank and pool actions into the WP draft, let's discuss tomorrow


[06/07/2022 2:00 AM] code_for_uss#0000
(re @kushti_ru : *can we test on the mainnet ?*) 
 
 Yes
 I'll issue emission contract and related NFT on mainnet


[06/07/2022 1:30 PM] kushti#0000
@ScalaHub as bank logic becomes quite complex, maybe we can split actions into different boxes (contracts) associated with NFTs, and then bank script is just like 
INPUTS(actionIdx).tokens.contains("arbMintNFT") ||  
INPUTS(actionIdx).tokens.contains("freeMintNFT")


[06/07/2022 10:55 PM] kushti#0000
@ScalaHub updated bank and pool actions text, now nearly finalized


[06/08/2022 3:32 PM] code_for_uss#0000
(re @kushti_ru : *@ScalaHub updated bank and pool actions text, now nearly finalized*) 
 
 So should i wait for complete contracts for test on mainnet?


[06/08/2022 3:36 PM] code_for_uss#0000
I can start implementing js side simultaneously


[06/11/2022 9:05 PM] kushti#0000
(re @code_for_uss : *I can start implementing js side simultaneously*) 
 
 Would be awesome


[06/11/2022 9:05 PM] kushti#0000
What will be there?


[06/11/2022 9:06 PM] kushti#0000
Had a call with Amitabh


[06/11/2022 9:06 PM] kushti#0000
He is working on completing the contracts now


[06/14/2022 9:25 PM] code_for_uss#0000
(re @kushti_ru : *What will be there?*) 
 
 There are two approaches:

- as a backend service with REST API
- as a package for using in frontend


[06/14/2022 9:28 PM] kushti#0000
Js backend talking with the scanner?


[06/15/2022 4:46 PM] code_For_Uss#1058
Yes, it's possible to js backend talking with the scanner, This requires further investigation


[06/15/2022 4:46 PM] code_For_Uss#1058
Also, need a frontend developer for that, I can handle the backend side.


[06/15/2022 4:47 PM] code_For_Uss#1058
before that, we need to finalize contracts and test them


[06/15/2022 4:56 PM] kushti#0000
will add one front end dev soon

{Reactions}
üëç 

[06/20/2022 8:07 AM] ScalaHub#0000
I just pushed another change to dexy draft contract https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
Please use this as the "current" version, and after its reviewed and tested, will merge in EIP. Lets keep EIP with "good" contracts only

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/okCCmwSXEaMe9V0QDt_7DgYFo8WBdBRyNVC7dtKeuZA/https/opengraph.githubassets.com/fec09312a85310ea0a29f93c30146c24486e2e6ff203d37e4488b843d0830c3a/ergoplatform/ergo-jde


[06/20/2022 8:08 AM] ScalaHub#0000
change is to add "free-minting" restrictions as per paper


[06/29/2022 7:12 AM] code_For_Uss#1058
The intervention table in the bank script (in comments) needs INPUTS(2) (intervention box), also I think this script fails in the mint scenario due to don't existing INPUTS(2) in these scenarios


[06/29/2022 9:29 PM] code_For_Uss#1058
@scalahub 
after test I think the absence of INPUTS(2) is not a problem


[06/29/2022 9:34 PM] code_For_Uss#1058
https://github.com/code-for-uss/contract-testing/pull/1
a fake test for freeMint is ready
@kushti I need to your help for check Base values in this test (https://github.com/code-for-uss/contract-testing/blob/34dc611b2be518801ae17b170c185f2dfd294231/src/main/scala/ContractTesting.scala#L38)
I think `simul` in dexy-stable isn't update (maybe we can use this contract test instead of `simul`)

{Embed}
https://github.com/code-for-uss/contract-testing/pull/1
test freeMint scenario by code-for-uss ¬∑ Pull Request #1 ¬∑ code-for...
https://images-ext-2.discordapp.net/external/QXx_TCM1Bn3IkID1FEF_oX9FFlBwqllKTxCx_Fe6EOk/https/opengraph.githubassets.com/c8c8a86ee01d12f441a4c3cdf49d0e73b20ab6931a55e7b7b142ad7d5403cadc/code-for-uss/contract-testing/pull/1

{Embed}
https://github.com/code-for-uss/contract-testing/blob/34dc611b2be518801ae17b170c185f2dfd294231/src/main/scala/ContractTesting.scala
contract-testing/ContractTesting.scala at 34dc611b2be518801ae17b170...
This is a simple tutorial on how to test your Ergo contracts off-chain using appkit to speed up the development. - contract-testing/ContractTesting.scala at 34dc611b2be518801ae17b170c185f2dfd294231...
https://images-ext-2.discordapp.net/external/EVlXHpijp34estICd4JMTEZ7xTyZn93enTrZNBZ8bGk/https/opengraph.githubassets.com/d6cbeec93abe1fa19f6db69c3ec753629a1b7aa32734e4286a8550667bc71118/code-for-uss/contract-testing


[06/29/2022 10:27 PM] kushti#0000
Will check in my morning


[06/30/2022 8:09 AM] code_for_uss#0000
(re @kushti_ru : *Will check in my morning*) 
 
 Thanks, I sent an invitation to you and scalahub for this repo


[06/30/2022 2:36 PM] kushti#0000
(re  : *<code_For_Uss> https://github.com/code-for-uss/contract-testing/pull/1
a fake test for freeMint is ready
@kushti I need to your help for check Base values in this test (https://github.com/code-for-uss/contract-testing/blob/34dc611b2be518801ae17b170c185f2dfd294231/src/main/scala/ContractTesting.scala#L38)
I think `simul` in dexy-stable isn't update (maybe we can use this contract test instead of `simul`)*) 
 
 Looks ok, how dud you get Base_ values though

{Embed}
https://github.com/code-for-uss/contract-testing/pull/1
test freeMint scenario by code-for-uss ¬∑ Pull Request #1 ¬∑ code-for...
https://images-ext-2.discordapp.net/external/QXx_TCM1Bn3IkID1FEF_oX9FFlBwqllKTxCx_Fe6EOk/https/opengraph.githubassets.com/c8c8a86ee01d12f441a4c3cdf49d0e73b20ab6931a55e7b7b142ad7d5403cadc/code-for-uss/contract-testing/pull/1

{Embed}
https://github.com/code-for-uss/contract-testing/blob/34dc611b2be518801ae17b170c185f2dfd294231/src/main/scala/ContractTesting.scala
contract-testing/ContractTesting.scala at 34dc611b2be518801ae17b170...
This is a simple tutorial on how to test your Ergo contracts off-chain using appkit to speed up the development. - contract-testing/ContractTesting.scala at 34dc611b2be518801ae17b170c185f2dfd294231...
https://images-ext-2.discordapp.net/external/EVlXHpijp34estICd4JMTEZ7xTyZn93enTrZNBZ8bGk/https/opengraph.githubassets.com/d6cbeec93abe1fa19f6db69c3ec753629a1b7aa32734e4286a8550667bc71118/code-for-uss/contract-testing


[06/30/2022 3:15 PM] code_For_Uss#1058
I got these base values with help of simul implementation but it took time, I think simul isn't updated according to last changes


[06/30/2022 3:20 PM] code_For_Uss#1058
before completing dexy-cli and backend side, I'll try to test all contracts with `contract-testing`  but need your help to generate fake values for the test


[06/30/2022 3:21 PM] code_For_Uss#1058
before issuing tokens and boxes on mainnet need to add the fee of dexy protocol to Free Mint and  Arbitrage Mint contracts


[06/30/2022 3:29 PM] code_For_Uss#1058
so I'll merge this test and going to prepare a test for ArbitrageMint contract


[07/05/2022 4:22 PM] kushti#0000
@ScalaHub any news?


[07/06/2022 11:53 PM] kushti#0000
Invited Ezio and Ilya from ErgoDEX to this group


[07/07/2022 11:29 AM] kushti#0000
@ScalaHub has discussions with Bruno, he is proposing instead of burning lock funds in boxes from which you can inject back when price is above the peg


[07/07/2022 11:30 AM] kushti#0000
Also, instead of disabled withdrawals we can use progressive fees to exit if price is below the peg


[07/08/2022 12:19 PM] kushti#0000
(re @kushti_ru : *@ScalaHub has discussions with Bruno, he is proposing instead of burning lock funds in boxes from which you can inject back when price is above the peg*) 
 
 Above the peg I meant


[07/08/2022 12:19 PM] kushti#0000
Then the second security gadget is not painful


[07/08/2022 12:41 PM] code_For_Uss#1058
What do you mean by `second security gadget`?


[07/08/2022 2:17 PM] kushti#0000
Oh, stability, sorry

{Reactions}
üëç 

[07/08/2022 2:17 PM] kushti#0000
Bank with its rules is the first


[07/08/2022 2:17 PM] kushti#0000
As a second we have burning or extracting as proposed above


[07/08/2022 9:07 PM] code_For_Uss#1058
I understand that üëç


[07/08/2022 10:12 PM] kushti#0000
So the idea is to have few gadgets, where next one is starting to work towards stabilization when previous gadget fails

{Reactions}
üëç 

[07/08/2022 10:29 PM] kushti#0000
@scalahub any updates?


[07/08/2022 11:50 PM] kushti#0000
@glasgowm can you please provide invite


[07/08/2022 11:52 PM] kushti#0000
Thanks!


[07/11/2022 9:29 AM] scalahub#2618
Added minting fee to both free and arbitrage mint contract. There seems to be typo in paper for free mint.. fee is 0.5 or 1? both are mentioned


[07/11/2022 10:52 AM] Ceilican#0000
Hi!


[07/11/2022 10:57 AM] kushti#0000
(re  : *<scalahub> Added minting fee to both free and arbitrage mint contract. There seems to be typo in paper for free mint.. fee is 0.5 or 1? both are mentioned*) 
 
 Will check, you can use any value for now


[07/11/2022 10:57 AM] kushti#0000
What is next?


[07/11/2022 11:00 AM] Ceilican#0000
?


[07/11/2022 11:01 AM] code_for_uss#0000
(re @Ceilican : *Hi!*) 
 
 ‚úã


[07/11/2022 11:02 AM] kushti#0000
(re @Ceilican : *Hi!*) 
 
 Welcome!


[07/11/2022 11:02 AM] Ceilican#0000
Thanks for inviting me!


[07/11/2022 11:03 AM] code_for_uss#0000
(re  : *<scalahub> Added minting fee to both free and arbitrage mint contract. There seems to be typo in paper for free mint.. fee is 0.5 or 1? both are mentioned*) 
 
 Nice so I can prepare tests and cli


[07/11/2022 11:14 AM] kushti#0000
@scalahub so lets decide are we replacing burning with injecting when above the peg, and also non flat fee on lp withdrawals and maybe minting also


[07/11/2022 1:32 PM] glasgowm#0000
(re @Ceilican : *?*) 
 
 Seems chat history was hidden for new members, I‚Äôve also added you to the channel on Discord - so you should be able to read it there.


[07/11/2022 2:01 PM] Ceilican#0000
Also, Telegram is displaying replies to historical messages that I cannot see as if they were replies to an empty message from me. I think this is a bug in the Telegram UI. This is what confused me. In Discord I can see the replies properly (i.e. referring to the correct message and not to an empty message from me).


[07/11/2022 4:51 PM] ScalaHub#0000
(re @kushti_ru : *@scalahub so lets decide are we replacing burning with injecting when above the peg, and also non flat fee on lp withdrawals and maybe minting also*) 
 
 What are the rules for injecting? And same for non flat fee?


[07/11/2022 4:56 PM] kushti#0000
Lets discuss during the call


[07/11/2022 8:04 PM] ScalaHub#0000
More or less final versions of contracts here https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
contains all actions from the paper except burn and payout

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/okCCmwSXEaMe9V0QDt_7DgYFo8WBdBRyNVC7dtKeuZA/https/opengraph.githubassets.com/fec09312a85310ea0a29f93c30146c24486e2e6ff203d37e4488b843d0830c3a/ergoplatform/ergo-jde


[07/11/2022 8:17 PM] ScalaHub#0000
Also updated the text of EIP https://github.com/ergoplatform/eips/blob/eip30/eip-0030.md

{Embed}
https://github.com/ergoplatform/eips/blob/eip30/eip-0030.md
eips/eip-0030.md at eip30 ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/5NWdLLbZgI2kPKNfOHwbNrmQk4xoSnAz-ZxHrFElFRk/https/opengraph.githubassets.com/c182a065f34d23c48f25fa43fff5fed9b07631c8c102313a7a28f8c0acea18fe/ergoplatform/eips


[07/11/2022 8:24 PM] Ceilican#0000
Kushti, do you remember that we discussed the potential issue that, when the pool's liquidity is low, the pool's price is easily manipulable (by small swap operations)?   The other extreme could also be a problem: when the pool's liquidity is too high, the pool's price will hardly change, despite large swap operations. This means that, as the oracle price changes and the pool's price remains the same, the bank will have to intervene in the pool very frequently, whereas these interventions were supposed to be rare.

I would suggest investing more carefully what happens in these extreme circumstances and whether such circumstances could be exploited by economic attacks.


[07/11/2022 8:27 PM] Ceilican#0000
Overall, the issue with constant-product liquidity pools is that, for their price to behave sensibly, the ratio between the total assets in the pool and the volume of swap operations has to be well-calibrated.


[07/11/2022 8:30 PM] Ceilican#0000
From the point of view of "backing" the stablecoin, you want to have a high ratio (lots of assets deposited in the pool compared to the volume of swaps). On the other hand, from the point of view of protecting liquidity providers from oracle delays or from drastic price changes in general, you want to have a low ratio.


[07/11/2022 8:40 PM] scalahub#2618
Is there a "safe range" of pool's liquidity that will work as intended?


[07/11/2022 8:41 PM] scalahub#2618
if we can rewrite this in terms of liquidity reserves, we can incorporate this in the other contracts


[07/11/2022 9:21 PM] kushti#0000
LPs are self-stabilizing, in case of high liquidity, APY would be low, so people will withdraw from it, in case of low liquidity, people will deposit. APY is depending on volatility also, so high pricing volatility attracts deposits


[07/12/2022 6:26 AM] Ceilican#0000
> LPs are self-stabilizing,

This is the case for a traditional liquidity pool. But, in the case of DexyUSD, the liquidity pool has some external incentives and penalties provided by the bank, and these can have an effect on the self-stabilizing nature of liquidity pools.

For example, the effect I described above could incentivize people to keep high-liquidity despite low APY because they could be getting additional returns from the bank.

I'm not claiming that these issues *will* happen. I'm just claiming that perhaps they could happen and perhaps it would be worth thinking more carefully to ensure that they won't happen.


[07/12/2022 6:29 AM] Ceilican#0000
> Is there a "safe range" of pool's liquidity that will work as intended?

Possibly.  It would have to take into account the volatility of the oracle and the volume of the swaps into account.

{Reactions}
üí© 

[07/12/2022 6:34 AM] Ceilican#0000
Another think to keep in mind (or rather another point of view about the issues discussed above) : 

Constant-product-like liquidity pools have some properties that are ensured by the fact that *everyone* follows the same rules (e.g. the constant product formula).

Now, it seems that in DexyUSD, the bank can bypass these rules (e.g. it can inject ERGs and freeze/lock stablecoins). This raises the question: which LP properties might we be losing? Can this be exploited in any way?


[07/14/2022 8:08 PM] whys0seri0uss#0000
Hey guys. Thanks for inviting me.


[07/15/2022 4:42 AM] Ceilican#0000
üëã


[07/15/2022 12:15 PM] kushti#0000
(re @Ceilican : *> LPs are self-stabilizing,

This is the case for a traditional liquidity pool. But, in the case of DexyUSD, the liquidity pool has some external incentives and penalties provided by the bank, and these can have an effect on the self-stabilizing nature of liquidity pools.

For example, the effect I described above could incentivize people to keep high-liquidity despite low APY because they could be getting additional returns from the bank.

I'm not claiming that these issues *will* happen. I'm j...*) 
 
 Incentivizing liquidity provision is done in most of AMM DEX protocols. However, payout token could privde additional incentive, yes


[07/15/2022 12:25 PM] Ceilican#0000
AFAIK, most AMM protocols incentivize liquidity providers with a token that is different from the tokens in the pool and hence do not change the balance of the pool and the relative price of the tokens in the pool.  In DexyUSD, the incentives will change the balance and the price. The consequences of this are difficult to foresee.


[07/15/2022 2:48 PM] kushti#0000
(re @ScalaHub : *More or less final versions of contracts here https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
contains all actions from the paper except burn and payout*) 
 
 On it, better to have PR for reviewing, simpler to make comments for a PR

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/okCCmwSXEaMe9V0QDt_7DgYFo8WBdBRyNVC7dtKeuZA/https/opengraph.githubassets.com/fec09312a85310ea0a29f93c30146c24486e2e6ff203d37e4488b843d0830c3a/ergoplatform/ergo-jde


[07/15/2022 2:48 PM] kushti#0000
(re @Ceilican : *AFAIK, most AMM protocols incentivize liquidity providers with a token that is different from the tokens in the pool and hence do not change the balance of the pool and the relative price of the tokens in the pool.  In DexyUSD, the incentives will change the balance and the price. The consequences of this are difficult to foresee.*) 
 
 True indeed


[07/15/2022 4:49 PM] kushti#0000
(re @ScalaHub : *More or less final versions of contracts here https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
contains all actions from the paper except burn and payout*) 
 
 Bank script: 

https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L39
FreeMit -> FreeMint


Why can't Bank has the same index in all the paths(so #1)? To eliminate "getVar[Int](0).get"

https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L61 - the scheme above does not have input #2

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/okCCmwSXEaMe9V0QDt_7DgYFo8WBdBRyNVC7dtKeuZA/https/opengraph.githubassets.com/fec09312a85310ea0a29f93c30146c24486e2e6ff203d37e4488b843d0830c3a/ergoplatform/ergo-jde


[07/20/2022 4:50 PM] kushti#0000
@scalahub updated the paper with extraction alternative to burning, please check


[07/21/2022 8:34 AM] kushti#0000
Forwarded from unknown: No. 
Bank intervenes if r<0.98
Withdrawing liquidity stops if r<0.98
Trading open all the time

If the goal of withdraw stop is to lock liq providers in at time of dexy dumping, then the intervention is in conflict with that goal. LPs can simply withdraw after an intervention, even if dumping cycle is still on. 

If withdraw is stopped at r<0.98 AND 1h after intervention, then the lock is more efficient in a scenario, where traders would immediately dump back to 0.98.


[07/21/2022 5:59 PM] kushti#0000
Lets plan backend and frontend @code_for_uss @whys0seri0uss


[07/21/2022 6:13 PM] ScalaHub#0000
I've updated eip to have static box indices.. instead of supplying them in context vars


[07/23/2022 12:20 PM] whys0seri0uss#0000
(re @kushti_ru : *Lets plan backend and frontend @code_for_uss @whys0seri0uss*) 
 
 So for the frontend, we need:

1. a UI for free minting and arbitrage minting,
2. a UI for LP

right?

For 2, we can modify ErgoDex such that it uses our version of CP-AMM contract for DexyUSD. Can we then create a pull request to them? So people would use ergodex.io to trade DexyUSD for ERG or vice versa.

For 1, I think we need a separate website, right?


[07/24/2022 10:10 PM] kushti#0000
(re @whys0seri0uss : *So for the frontend, we need:

1. a UI for free minting and arbitrage minting,
2. a UI for LP

right?

For 2, we can modify ErgoDex such that it uses our version of CP-AMM contract for DexyUSD. Can we then create a pull request to them? So people would use ergodex.io to trade DexyUSD for ERG or vice versa.

For 1, I think we need a separate website, right?*) 
 
 Indeed. For LP, ErgoDex proposed to host LP interface, but we need to tweak standard UI. For minting and bank status, we need for separate website indeed


[07/24/2022 10:11 PM] kushti#0000
Pulling data from backend which can be scanner and appkit based @code_for_uss


[07/25/2022 11:08 AM] code_for_uss#0000
(re @kushti_ru : *Pulling data from backend which can be scanner and appkit based @code_for_uss*) 
 
 I guess either js sdk and scala are ok for that


[07/25/2022 3:33 PM] kushti#0000
Sounds good


[07/27/2022 8:12 AM] kushti#0000
@code_for_uss have you done any tests for contracts?


[07/27/2022 12:48 PM] kushti#0000
@oskin @yashablack welcome guys!


[07/27/2022 12:48 PM] kushti#0000
@whys0seri0uss please work with ErgoDEX guys on LP page modifications


[07/27/2022 12:49 PM] kushti#0000
@ScalaHub please make more comments in contracts, very hard to review logic


[07/27/2022 12:52 PM] kushti#0000
@ScalaHub arbitrageMintScript looks ok , tests are needed for sure, @code_for_uss can you do that ?


[07/27/2022 12:53 PM] oskin#0000
Hey guys!
Thanks @kushti_ru 

@yashablack will coordinate work with our frontend team


[07/27/2022 1:01 PM] yashablack#0000
Hello mates! So excited to work with you!


[07/27/2022 1:07 PM] yashablack#0000
Let‚Äôs have a call this week to discuss product requirements, user scenarios and further steps in general?


[07/27/2022 1:17 PM] whys0seri0uss#0000
(re @yashablack : *Let‚Äôs have a call this week to discuss product requirements, user scenarios and further steps in general?*) 
 
 Sorry, I personally prefer chatting over discord or tg.


[07/27/2022 1:19 PM] yashablack#0000
(re @whys0seri0uss : *Sorry, I personally prefer chatting over discord or tg.*) 
 
 No props. I‚Äôll prepare questions and back to you.


[07/27/2022 1:19 PM] whys0seri0uss#0000
(re @yashablack : *No props. I‚Äôll prepare questions and back to you.*) 
 
 great! thanks.


[07/27/2022 4:34 PM] code_For_Uss#1058
yes, I'll start testing arbitrageMintScript after updating freeMint script test.


[08/03/2022 10:31 PM] code_For_Uss#1058
@scalahub 

https://github.com/ergoplatform/ergo-jde/blob/f76b4b96fb4d16563e45aaff8c95ef88257bb7ca/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L234

What's the reason for `selfOut.value > SELF.value`? maybe should be ok after adding the fee to freeMintScript this condition


[08/03/2022 10:42 PM] code_For_Uss#1058
Updated freeMint test under https://github.com/code-for-uss/contract-testing/pull/2
I'm completing the test of arbitrageMint

{Embed}
https://github.com/code-for-uss/contract-testing/pull/2
update contracts and freeMint by code-for-uss ¬∑ Pull Request #2 ¬∑ c...
https://images-ext-1.discordapp.net/external/xj5bIhQvOo-OKb2-pOWgf-mclV2PAJXjja8g8U41-Z4/https/opengraph.githubassets.com/6f79da8ba447873cbe0ca74165874bfde4e1b00b1ba1494df0bd5bb0d3f526b7/code-for-uss/contract-testing/pull/2


[08/03/2022 11:37 PM] scalahub#2618
Good catch.. its a typo. It should be >=

{Reactions}
üëç 

[08/06/2022 9:34 PM] kushti#0000
Forwarded from ErgoBridgeBot: <anon_real> https://www.ergoforum.org/t/decentralization-on-top-of-decentralization/3767

{Embed}
https://www.ergoforum.org/t/decentralization-on-top-of-decentralization/3767
Decentralization on top of decentralization!
Decentralized dapps tend to update over time. Either it is because of adding a new feature that requires protocol change (major changes in contracts) or finding a bug, etc. One example could be SigUSD V1 which was updated because of some known issues.  In a truly decentralized dapp, the community should have a vote on whether the dapp should cha...


[08/09/2022 8:47 PM] kushti#0000
@ScalaHub any updates ?


[08/10/2022 2:10 AM] ScalaHub#0000
Forwarded from ScalaHub: completed tracking logic https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L421-L490

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Zt2Tmsj7wuIWwDeOE84v8_Yqs5f3_8pUpVj46Svwins/https/opengraph.githubassets.com/dac30c28f4a4a34d4c74eccb067b005b3c76a300982602a02af3eac22ce20175/ergoplatform/ergo-jde


[08/10/2022 5:18 AM] ScalaHub#0000
Forwarded from ScalaHub: going to finish the remaining two parts: burn and extract to future. Was dependent on tracking


[08/10/2022 10:09 AM] kushti#0000
(re @ScalaHub : *completed tracking logic https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L421-L490*) 
 
 Can review?

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Zt2Tmsj7wuIWwDeOE84v8_Yqs5f3_8pUpVj46Svwins/https/opengraph.githubassets.com/dac30c28f4a4a34d4c74eccb067b005b3c76a300982602a02af3eac22ce20175/ergoplatform/ergo-jde


[08/10/2022 1:37 PM] ScalaHub#0000
Yes tracking contract can be reviewed


[08/11/2022 10:22 PM] kushti#0000
On it


[08/15/2022 11:39 PM] kushti#0000
tracking contract looks good


[08/15/2022 11:40 PM] kushti#0000
so extract to the future part left only it seems @ScalaHub


[08/15/2022 11:40 PM] kushti#0000
let's have a chat on implementation and testing planning


[08/15/2022 11:40 PM] kushti#0000
when it is convenient


[08/15/2022 11:40 PM] kushti#0000
@ScalaHub has some issues now though


[08/16/2022 4:38 PM] ScalaHub#0000
(re @kushti_ru : *so extract to the future part left only it seems @ScalaHub*) 
 
 yes extract to future and then reverse action


[08/17/2022 12:29 PM] kushti#0000
(re @ScalaHub : *yes extract to future and then reverse action*) 
 
 reportedly, done )


[08/17/2022 4:18 PM] ScalaHub#0000
Not 100% ..but 80% :)


[08/17/2022 4:18 PM] ScalaHub#0000
Have added comments on remaining pieces


[08/17/2022 6:32 PM] kushti#0000
@code_for_uss dud you test the scanner in the presence of forks?


[08/18/2022 3:20 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss dud you test the scanner in the presence of forks?*) 
 
 No do you have any idea how to test that? 
Need unit tesy?


[08/20/2022 12:30 PM] kushti#0000
(re @code_for_uss : *No do you have any idea how to test that? 
Need unit tesy?*) 
 
 I guess so, some tests for forks processing


[08/21/2022 2:44 PM] ScalaHub#0000
There were some bugs in tracking/ lp contract


[08/21/2022 2:44 PM] ScalaHub#0000
Have pushed latest versions


[08/31/2022 10:13 PM] yashablack#0000
Hey guys! How is it going?
Could you provide us with last updates regarding dexy? We are ready to implement design UI mockups for Spectrum.DEX (former ergodex).
Do we need to implement an SDK or you will provide us with that tooling?


[09/01/2022 6:40 PM] ScalaHub#0000
Hey so I made some more updates to contracts based on discussions with @kushti_ru .. main change is that tracking logic has been modified.. instead of one box with multiple trackers there are now multiple boxes, one for each tracker


[09/01/2022 6:41 PM] ScalaHub#0000
Additionally the LP is now taken as a data input for tracking boxes instead of being spent with them


[09/01/2022 7:36 PM] ScalaHub#0000
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Zt2Tmsj7wuIWwDeOE84v8_Yqs5f3_8pUpVj46Svwins/https/opengraph.githubassets.com/dac30c28f4a4a34d4c74eccb067b005b3c76a300982602a02af3eac22ce20175/ergoplatform/ergo-jde


[09/01/2022 9:00 PM] code_for_uss#0000
(re @yashablack : *Hey guys! How is it going?
Could you provide us with last updates regarding dexy? We are ready to implement design UI mockups for Spectrum.DEX (former ergodex).
Do we need to implement an SDK or you will provide us with that tooling?*) 
 
 Hey 
I'll do that 
I'm waiting to complete all contracts.


[09/01/2022 9:05 PM] yashablack#0000
(re @code_for_uss : *Hey 
I'll do that 
I'm waiting to complete all contracts.*) 
 
 Could you update me here when at least a part of the SDK methods will be implemented? We will start to build a UI for the feature simultaneously.
I also will make time to prepare product requirements and send them here for validation. How does it sound to you?


[09/03/2022 1:14 PM] code_For_Uss#1058
Sure
it's good


[09/04/2022 11:34 PM] kushti#0000
Forwarded from ErgoBridgeBot: <Luivatra> I replicated the MockedErgoClient used in the appkit test cases to allow for testing of Paideia contracts without having to connect to a node. If interested you can have a look here:
https://github.com/ergo-pad/paideia-sdk/blob/dev/src/test/scala/im/paideia/staking/transactions/AddStakeTransactionSuite.scala

{Embed}
https://github.com/ergo-pad/paideia-sdk/blob/dev/src/test/scala/im/paideia/staking/transactions/AddStakeTransactionSuite.scala
paideia-sdk/AddStakeTransactionSuite.scala at dev ¬∑ ergo-pad/paidei...
optimized calls to scala functions. Contribute to ergo-pad/paideia-sdk development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/EKCsuLxtwlewWAR4si2YwrxtVNTXC10M5792kpmUIzw/https/opengraph.githubassets.com/82c9953d560f588535b5accb225ec77b9d61f4181dc3331472d48518dd5182c2/ergo-pad/paideia-sdk


[09/05/2022 8:10 AM] kushti#0000
@code_for_uss how tests are going?


[09/26/2022 8:56 AM] kushti#0000
@code_for_uss how tests are going?


[10/03/2022 7:51 AM] code_For_Uss#1058
need to update tests according to the last changes and push
has the paper been updated according to the latest changes?
I'll push this week


[10/08/2022 12:00 AM] kushti#0000
(re  : *<code_For_Uss> [reply]: need to update tests according to the last changes and push
has the paper been updated according to the latest changes?
I'll push this week*) 
 
 Yes, paper was updated first


[10/08/2022 12:00 AM] kushti#0000
Where is your testing code?


[10/08/2022 12:00 AM] kushti#0000
Available?


[10/18/2022 1:23 PM] eilemust#0000
(re @kushti_ru : *@whys0seri0uss please work with ErgoDEX guys on LP page modifications*) 
 
 Hello my friends. I will help on frontend side. As I see @whys0seri0uss will take part on the website, I can take part on updating LP view on spectrum.


[10/18/2022 1:31 PM] eilemust#0000
Do we need to wait greenhat oracles v2 to implement this EIP?


[10/19/2022 12:10 PM] eilemust#0000
@kushti_ru @ScalaHub guys, what is the current status of this eip?


[10/20/2022 10:29 AM] kushti#0000
(re @eilemust : *@kushti_ru @ScalaHub guys, what is the current status of this eip?*) 
 
 So we are waiting fir greenhat to do testing and then real oracle pool launch, also, polishing contracts with @scalahub


[10/20/2022 10:29 AM] kushti#0000
Will you do spectrum frontend?


[10/20/2022 10:29 AM] eilemust#0000
(re @kushti_ru : *Will you do spectrum frontend?*) 
 
 I can help with website and spectrum yes


[10/20/2022 10:32 AM] eilemust#0000
I think we can make good design for website also. Spectrum designer has resources.


[10/20/2022 10:38 AM] kushti#0000
Website would be simpke I guess


[10/20/2022 10:38 AM] yashablack#0000
(re @eilemust : *I think we can make good design for website also. Spectrum designer has resources.*) 
 
 Hi,
JFYI
We can help with UX/UI design but not with branding. I assume that doing UX/UI without branding in mind is a bad idea.
So if dexy needs some branding (logo, colors, identity and stuff like that) and you have some plans we can contact you with branding studio if needed.

@kushti_ru


[10/20/2022 10:39 AM] eilemust#0000
(re @yashablack : *Hi,
JFYI
We can help with UX/UI design but not with branding. I assume that doing UX/UI without branding in mind is a bad idea.
So if dexy needs some branding (logo, colors, identity and stuff like that) and you have some plans we can contact you with branding studio if needed.

@kushti_ru*) 
 
 No, i think it is not needed


[10/20/2022 10:40 AM] eilemust#0000
Need simple landing with 2 forms I guess


[10/20/2022 10:46 AM] kushti#0000
Yes


[10/20/2022 10:46 AM] kushti#0000
For branding, we have community contest atm


[10/20/2022 2:03 PM] code_For_Uss#1058
yes I'll push these days my tests


[10/20/2022 2:29 PM] eilemust#0000
(re  : *<code_For_Uss> [reply]: yes I'll push these days my tests*) 
 
 Great


[10/28/2022 6:43 PM] code_For_Uss#1058
https://github.com/code-for-uss/contract-testing/pull/3


[10/28/2022 6:44 PM] code_For_Uss#1058
Please check this scenario, I'll push all tests step by step after merging each PR.


[10/28/2022 6:46 PM] code_for_uss#0000
(re  : *<code_For_Uss> Please check this scenario, I'll push all tests step by step after merging each PR.*) 
 
 @kushti_ru 
@ScalaHub


[10/29/2022 7:48 AM] kushti#0000
(re @code_for_uss : *@kushti_ru 
@ScalaHub*) 
 
 Nice, will check later today


[10/30/2022 5:25 PM] kushti#0000
@code_for_uss @ScalaHub so it seems contracts are more or less done, at least, it is not trivial to improve them without tests. So lets consider how to get offchain parts and tests done


[10/30/2022 5:25 PM] kushti#0000
At least, it will be Scala I guess?


[10/30/2022 5:34 PM] oskin#0000
(re @kushti_ru : *@code_for_uss @ScalaHub so it seems contracts are more or less done, at least, it is not trivial to improve them without tests. So lets consider how to get offchain parts and tests done*) 
 
 I‚Äôd suggest that we integrate off-chain part into spectrum off-chain bots. 
There is a already set up processing pipeline, all we have to add is parser and executor + maybe tweak the pipeline a little


[10/30/2022 8:13 PM] kushti#0000
(re @oskin : *I‚Äôd suggest that we integrate off-chain part into spectrum off-chain bots. 
There is a already set up processing pipeline, all we have to add is parser and executor + maybe tweak the pipeline a little*) 
 
 How to get into it?


[10/30/2022 8:19 PM] code_For_Uss#1058
I can do this in scala or other technology.
There are two sides: first, for freeMint scenario, this can implement under a service like SigUSD 
and on another side, we need a solution for LP and ...

I guess for first a good solution is to implement an SDK package for all Dapps (JS or TS it's ok).
I can start implementing a package for Dapps (like age-usd functionality) and after that a Dapp for FreeMint or other scenarios


[10/30/2022 8:33 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss @ScalaHub so it seems contracts are more or less done, at least, it is not trivial to improve them without tests. So lets consider how to get offchain parts and tests done*) 
 
 Also I need your approve or @ScalaHub on my PR (because I had a minor change in contracts) I want to push other tests


[11/01/2022 6:01 PM] code_For_Uss#1058
If everyone has any suggestions please give me so I can start implementing a JS SDK (this can help us on the front-end side and back-end side ex: node js)


[11/01/2022 9:50 PM] kushti#0000
(re @code_for_uss : *Also I need your approve or @ScalaHub on my PR (because I had a minor change in contracts) I want to push other tests*) 
 
 Sorry a bit out of schedule will check in my morning


[11/01/2022 9:50 PM] kushti#0000
So you propose to do offchain part in JS only?


[11/02/2022 7:38 AM] code_For_Uss#1058
Thanks


[11/02/2022 7:42 AM] code_For_Uss#1058
yes I guess implementing a JS SDK is a good solution (usable for other Dapps such as Spectrum)


[11/02/2022 8:56 AM] kushti#0000
(re  : *<code_For_Uss> Thanks*) 
 
 Looks good to me, contracts are synced with https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala ?

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/OKfAxnij1CFrPNJjMaukxSKa25SAVSFA-SsFmfXujkU/https/opengraph.githubassets.com/f09b6dcb7e9bf7d87a52422626f28ab9293b4d0ab663f4aff46e15524eee0dc0/ergoplatform/ergo-jde


[11/02/2022 8:56 AM] kushti#0000
@ScalaHub please check also ^


[11/02/2022 8:58 AM] oskin#0000
(re  : *<code_For_Uss> yes I guess implementing a JS SDK is a good solution (usable for other Dapps such as Spectrum)*) 
 
 Are we talking about client logic or off-chain logic?


[11/02/2022 8:59 AM] oskin#0000
SpectrumApp is written in TS, while off-chain part is Scala


[11/02/2022 9:00 AM] code_for_uss#0000
(re @kushti_ru : *Looks good to me, contracts are synced with https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala ?*) 
 
 Yes

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/OKfAxnij1CFrPNJjMaukxSKa25SAVSFA-SsFmfXujkU/https/opengraph.githubassets.com/f09b6dcb7e9bf7d87a52422626f28ab9293b4d0ab663f4aff46e15524eee0dc0/ergoplatform/ergo-jde


[11/02/2022 9:02 AM] kushti#0000
(re @oskin : *SpectrumApp is written in TS, while off-chain part is Scala*) 
 
 Lets follow the same approach here


[11/02/2022 9:10 AM] code_for_uss#0000
so we want to implement mint scenarios in Spectrum?


[11/02/2022 9:12 AM] eilemust#0000
mint dexyUsd?


[11/02/2022 9:12 AM] eilemust#0000
It will be on landing dexy I guess


[11/02/2022 9:12 AM] eilemust#0000
on spectrum will be only LP mechanism


[11/02/2022 9:15 AM] kushti#0000
Yes, I guess for minting and reserves stats there will be a dedicated website like sigmausd.io


[11/02/2022 9:15 AM] eilemust#0000
maybe some dapps will want to implement minting also and in this case they can use sdk lib for minting


[11/02/2022 9:15 AM] eilemust#0000
no problem with it


[11/02/2022 9:16 AM] code_for_uss#0000
(re @eilemust : *It will be on landing dexy I guess*) 
 
 I wanted talk about this we have two side LP mechanism and dexy landing but according last changes in contracts we need lp boxes as a datainput for mint scenarios in dexy landing


[11/02/2022 9:17 AM] kushti#0000
Yes, but UI can hide it


[11/02/2022 9:20 AM] code_for_uss#0000
(re @kushti_ru : *Yes, I guess for minting and reserves stats there will be a dedicated website like sigmausd.io*) 
 
 I want work on it, for this I want implement a ts or js sdk for using in front and back and other daaps can use it


[11/02/2022 9:20 AM] code_for_uss#0000
(re @kushti_ru : *Yes, but UI can hide it*) 
 
 Yes


[11/02/2022 9:20 AM] eilemust#0000
(re @code_for_uss : *I want work on it, for this I want implement a ts or js sdk for using in front and back and other daaps can use it*) 
 
 but what is your question?


[11/02/2022 9:20 AM] eilemust#0000
or no any questions


[11/02/2022 9:20 AM] eilemust#0000
ts is ok


[11/02/2022 9:21 AM] code_for_uss#0000
(re @code_for_uss : *I want work on it, for this I want implement a ts or js sdk for using in front and back and other daaps can use it*) 
 
 In this structure we can use scanner app in backend


[11/02/2022 9:22 AM] code_for_uss#0000
(re @eilemust : *or no any questions*) 
 
 No question


[11/03/2022 10:28 AM] ScalaHub#0000
I've added some tests for tracking contract 
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/TrackingSpec.scala
There was actually a bug that I found thru testing

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/TrackingSpec.scala
ergo-jde/TrackingSpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/OKfAxnij1CFrPNJjMaukxSKa25SAVSFA-SsFmfXujkU/https/opengraph.githubassets.com/f09b6dcb7e9bf7d87a52422626f28ab9293b4d0ab663f4aff46e15524eee0dc0/ergoplatform/ergo-jde


[11/03/2022 10:28 AM] ScalaHub#0000
Will be adding more tests for other boxes


[11/03/2022 10:34 AM] code_for_uss#0000
(re @ScalaHub : *Will be adding more tests for other boxes*) 
 
 Did you review my PR for arbitrageMint test?


[11/03/2022 10:41 AM] ScalaHub#0000
@code_for_uss not yet.. going to look now


[11/03/2022 10:42 AM] code_for_uss#0000
(re @code_for_uss : *Did you review my PR for arbitrageMint test?*) 
 
 please check that before writing more tests due to prevent overlap tests

I can archive my repo and move my tests to your repo and make PR or vice versa


[11/03/2022 10:42 AM] code_for_uss#0000
(re @ScalaHub : *@code_for_uss not yet.. going to look now*) 
 
 Thanks


[11/03/2022 12:05 PM] ScalaHub#0000
(re @code_for_uss : *please check that before writing more tests due to prevent overlap tests

I can archive my repo and move my tests to your repo and make PR or vice versa*) 
 
 Yes let's avoid overlaps whenever possible. So I'll skip arbitrage mint tests for now. Will do some more tracking tests before moving to others. Also about which repo .. let me get back later today


[11/04/2022 3:47 PM] ScalaHub#0000
@code_for_uss still reviewing your PR. Will try to finish tonight


[11/06/2022 4:51 PM] code_for_uss#0000
(re @ScalaHub : *@code_for_uss still reviewing your PR. Will try to finish tonight*) 
 
 Did you have any comments on that?


[11/06/2022 5:57 PM] ScalaHub#0000
(re @code_for_uss : *Did you have any comments on that?*) 
 
 The mint scenario looks good. Can we also have some invalid cases, where amount minted is more than available to mint etc? Also Im assuming contracts are exact copy from jde repo?


[11/06/2022 8:41 PM] code_for_uss#0000
(re @ScalaHub : *The mint scenario looks good. Can we also have some invalid cases, where amount minted is more than available to mint etc? Also Im assuming contracts are exact copy from jde repo?*) 
 
 Ok I'll add more tests
Isn't exact, I guess there is a update about one or two weeks ago in jde repo


[11/06/2022 8:45 PM] code_for_uss#0000
I need merge this PR, I want to open other pr for *mint scenarios when isCounterReset is 'active*'.

I'll update contracts in next PR.


[11/07/2022 5:47 AM] code_for_uss#0000
(re @ScalaHub : *The mint scenario looks good. Can we also have some invalid cases, where amount minted is more than available to mint etc? Also Im assuming contracts are exact copy from jde repo?*) 
 
 In current PR I had a minor change in Contract. Did you see that ?


[11/07/2022 7:15 AM] ScalaHub#0000
(re @code_for_uss : *In current PR I had a minor change in Contract. Did you see that ?*) 
 
 no I missed that.. can you please push the same change in a PR for jde repo.. so it'll be in sync


[11/07/2022 8:08 AM] code_For_Uss#1058
sure


[11/07/2022 4:30 PM] code_For_Uss#1058
@scalahub
Please check this PR:
https://github.com/ergoplatform/ergo-jde/pull/3

{Embed}
https://github.com/ergoplatform/ergo-jde/pull/3
Remove redundant conditions by code-for-uss ¬∑ Pull Request #3 ¬∑ erg...
https://images-ext-1.discordapp.net/external/zqKcQI5KUJZ--2ASmtKtddYTeZy0_8odALffcefds6c/https/opengraph.githubassets.com/b7611ae95c5485d390e91c534a936296670b26bd18597a76734748b5683d854a/ergoplatform/ergo-jde/pull/3


[11/09/2022 1:50 PM] scalahub#2618
Merged it

{Reactions}
üëç 

[11/11/2022 10:17 AM] code_for_uss#0000
https://github.com/code-for-uss/contract-testing/pull/4

{Embed}
https://github.com/code-for-uss/contract-testing/pull/4
arbitrageMint and freeMint with CounterReset by code-for-uss ¬∑ Pull...
https://images-ext-2.discordapp.net/external/SULcvhbRVg3pI8UZaMXPY03-RP6Vd6W2B4cKC1jurp0/https/opengraph.githubassets.com/18abd651dafdf6f5aa71d3b1997479428e8cc697c5b77e1e68b6a5e9963602ab/code-for-uss/contract-testing/pull/4


[11/11/2022 10:19 AM] code_for_uss#0000
arbitrageMint and freeMint with CounterReset test added
@ScalaHub 
@kushti_ru 
Please review!!!

I'll add more tests for fail scenarios after this merge


[11/11/2022 10:08 PM] kushti#0000
Thanks


[11/11/2022 10:08 PM] kushti#0000
Will check


[11/11/2022 10:08 PM] kushti#0000
Polishing the paper a bit


[11/11/2022 10:08 PM] kushti#0000
And also started another round of review

{Reactions}
üëç 

[11/15/2022 7:37 PM] ScalaHub#0000
I've added another test `LpSpec` for dexy. Also, there was a bug in the swap logic in LP contract which was fixed.


[11/15/2022 7:37 PM] ScalaHub#0000
@code_for_uss ^


[11/15/2022 7:40 PM] code_for_uss#0000
(re @ScalaHub : *I've added another test LpSpec for dexy. Also, there was a bug in the swap logic in LP contract which was fixed.*) 
 
 Ok, I'll update contracts on my side!
Also please review this PR:

https://github.com/code-for-uss/contract-testing/pull/4

{Embed}
https://github.com/code-for-uss/contract-testing/pull/4
arbitrageMint and freeMint with CounterReset by code-for-uss ¬∑ Pull...
https://images-ext-2.discordapp.net/external/SULcvhbRVg3pI8UZaMXPY03-RP6Vd6W2B4cKC1jurp0/https/opengraph.githubassets.com/18abd651dafdf6f5aa71d3b1997479428e8cc697c5b77e1e68b6a5e9963602ab/code-for-uss/contract-testing/pull/4


[11/15/2022 11:43 PM] kushti#0000
Polishing the whitepaper


[11/15/2022 11:54 PM] kushti#0000
Anything needed for tests and offchain code?


[11/16/2022 5:48 AM] code_for_uss#0000
(re @kushti_ru : *Anything needed for tests and offchain code?*) 
 
 No, I think I can start offchain code this week


[11/16/2022 12:36 PM] ScalaHub#0000
(re @code_for_uss : *Ok, I'll update contracts on my side!
Also please review this PR:

https://github.com/code-for-uss/contract-testing/pull/4*) 
 
 approved. If possible, could we map the same tests to the style I used here? (i.e., ScalaTest) https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpSpec.scala#L10

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpSpec.scala
ergo-jde/LpSpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/xE0T1GVX2YfxR_JKCAdK7xLH23lhmO_Ao4AsFbw08aw/https/opengraph.githubassets.com/3a54d1536e354ce8894d6d9d9d55c727d927d9c166ebf5eb839021b115f34338/ergoplatform/ergo-jde


[11/16/2022 1:04 PM] code_for_uss#0000
(re @ScalaHub : *approved. If possible, could we map the same tests to the style I used here? (i.e., ScalaTest) https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpSpec.scala#L10*) 
 
 Sure
I'll change In next PR

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpSpec.scala
ergo-jde/LpSpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/xE0T1GVX2YfxR_JKCAdK7xLH23lhmO_Ao4AsFbw08aw/https/opengraph.githubassets.com/3a54d1536e354ce8894d6d9d9d55c727d927d9c166ebf5eb839021b115f34338/ergoplatform/ergo-jde


[11/18/2022 9:30 PM] kushti#0000
@ScalaHub checked validSwap, looks good, but what was an issue /


[11/20/2022 11:01 PM] kushti#0000
Polishing the whitepaper slowly


[11/20/2022 11:03 PM] kushti#0000
Thinking how to reward developers and partners of the protocol, will write down some thoughts soon


[11/22/2022 9:54 AM] ScalaHub#0000
Added more tests to Dexy LP contract (Mint and Redeem LP tokens). Found a bug in the contract and fixed (was not checking Lp tokens balances matches delta supply)


[11/22/2022 9:55 AM] kushti#0000
@code_for_uss are you working on tests only now ? Or offchain part as well ?


[11/22/2022 9:55 AM] ScalaHub#0000
Earlier was storing LP in circulation in R4. New version uses hardcoded initial supply and uses LP tokens balance to compute circulation


[11/22/2022 9:55 AM] kushti#0000
I am polishing the paper, will push another update today


[11/22/2022 9:56 AM] ScalaHub#0000
(re @ScalaHub : *Added more tests to Dexy LP contract (Mint and Redeem LP tokens). Found a bug in the contract and fixed (was not checking Lp tokens balances matches delta supply)*) 
 
 https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpMintSpec.scala
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpRedeemSpec.scala

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpMintSpec.scala
ergo-jde/LpMintSpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/xE0T1GVX2YfxR_JKCAdK7xLH23lhmO_Ao4AsFbw08aw/https/opengraph.githubassets.com/3a54d1536e354ce8894d6d9d9d55c727d927d9c166ebf5eb839021b115f34338/ergoplatform/ergo-jde

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/LpRedeemSpec.scala
ergo-jde/LpRedeemSpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/xE0T1GVX2YfxR_JKCAdK7xLH23lhmO_Ao4AsFbw08aw/https/opengraph.githubassets.com/3a54d1536e354ce8894d6d9d9d55c727d927d9c166ebf5eb839021b115f34338/ergoplatform/ergo-jde


[11/22/2022 9:59 AM] ScalaHub#0000
Now working on "Dexy actions" tests on LP box (intervention and extract to future)


[11/22/2022 4:55 PM] kushti#0000
It would be desirable to remove excessive reserves, as in case of too much
ERG liquidity locked, the underlying Ergo blockchain economy could be damaged. So we will implement ERG payouts in case of excessive reserves, and they
will be done to holders of the DexyGold payout token.
DexyGold payout tokens will be distributed across developers and partners,
some part of it will be given to miners (via a GetBlok pool), and also it will be
able to get rewarded in payout tokens by locking reference pool's LP tokens in
a staking contract. Distribution would be like (not  nalized!):
‚Ä¢ dev team - 15%
‚Ä¢ Spectrum - 10%
‚Ä¢ ecosystem devs (exchanges, wallets, payout distribution and staking solu-
tions providers) - 30%
‚Ä¢ LP tokens staking rewards - 30%
‚Ä¢ miners - 10%
‚Ä¢ Ergo Foundation - 5%
Please note that revenue is not guaranteed with the payout token. Also, it
does not give any governance rights, as there is no governance in the protocol,
it is run as purely autonomous code-controlled entity.
Payout tokens will not be sold to the public, or sold at all. However, no
one can prevent second market formation (e.g. liquidity pool appeared on Spec-
trum).


[11/22/2022 4:56 PM] kushti#0000
It would be desirable to remove excessive reserves, as in case of too much
ERG liquidity locked, the underlying Ergo blockchain economy could be dam-
aged. So we will implement ERG payouts in case of excessive reserves, and they
will be done to holders of the DexyGold payout token.
DexyGold payout tokens will be distributed across developers and partners,
some part of it will be given to miners (via a GetBlok pool), and also it will be
able to get rewarded in payout tokens by locking reference pool's LP tokens in
a staking contract. Distribution would be like (not finalized!):
‚Ä¢ dev team - 15%
‚Ä¢ Spectrum - 10%
‚Ä¢ ecosystem devs (exchanges, wallets, payout distribution and staking solutions providers) - 30%
‚Ä¢ LP tokens staking rewards - 30%
‚Ä¢ miners - 10%
‚Ä¢ Ergo Foundation - 5%
Please note that revenue is not guaranteed with the payout token. Also, it
does not give any governance rights, as there is no governance in the protocol,
it is run as purely autonomous code-controlled entity.
Payout tokens will not be sold to the public, or sold at all. However, no
one can prevent second market formation (e.g. liquidity pool appeared on Spetrum).


[11/22/2022 4:57 PM] kushti#0000
wdyt ?


[11/22/2022 9:14 PM] code_For_Uss#1058
No, I'm working on both of them.


[11/22/2022 9:30 PM] code_For_Uss#1058
In overall LGTM, however, could you please describe this part in more detail? "So we will implement ERG payouts in case of excessive reserves"
For example, can we have any estimate (time or value) about the case of excessive reserves?


[11/23/2022 10:14 AM] ScalaHub#0000
Added a test for intervention https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/InterventionSpec.scala
Also found a bug and fixed (need to preserve LP tokens in LP box during intervention and extract)

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/InterventionSpec.scala
ergo-jde/InterventionSpec.scala at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/xE0T1GVX2YfxR_JKCAdK7xLH23lhmO_Ao4AsFbw08aw/https/opengraph.githubassets.com/3a54d1536e354ce8894d6d9d9d55c727d927d9c166ebf5eb839021b115f34338/ergoplatform/ergo-jde


[11/23/2022 8:37 PM] kushti#0000
(re  : *<code_For_Uss> In overall LGTM, however, could you please describe this part in more detail? "So we will implement ERG payouts in case of excessive reserves"
For example, can we have any estimate (time or value) about the case of excessive reserves?*) 
 
 Reserves are excessive if they are covering worst-case scenario. From simulations, that is possible in case of significant collateral (ERG) price spike. That event has no time estimations. 
So payout tokens are revenue stream shares, but there is is no guarantee for such a stream at all


[11/23/2022 8:52 PM] kushti#0000
(re @ScalaHub : *Added a test for intervention https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/InterventionSpec.scala
Also found a bug and fixed (need to preserve LP tokens in LP box during intervention and extract)*) 
 
 "Intervention should work if more tokens deposited to bank than taken from Lp" - really depends on price ?

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/InterventionSpec.scala
ergo-jde/InterventionSpec.scala at main ¬∑ ergoplatform/ergo-jde
Ergo transaction builder using JSON. Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/PwnXzK6uC5IEP0AQt7sARcl2ojOHiJpCaeOg4AYzXio/https/opengraph.githubassets.com/8b5a368dbba0e62d95d6afdf17adcf1a5ef2e27fb0d4696ce815dbeb1745fe0d/ergoplatform/ergo-jde


[11/23/2022 9:07 PM] ScalaHub#0000
(re @kushti_ru : *"Intervention should work if more tokens deposited to bank than taken from Lp" - really depends on price ?*) 
 
 was checking this condition
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L858-L859

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Ergo transaction builder using JSON. Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/PwnXzK6uC5IEP0AQt7sARcl2ojOHiJpCaeOg4AYzXio/https/opengraph.githubassets.com/8b5a368dbba0e62d95d6afdf17adcf1a5ef2e27fb0d4696ce815dbeb1745fe0d/ergoplatform/ergo-jde


[11/25/2022 10:16 AM] ScalaHub#0000
(re @ScalaHub : *was checking this condition
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L858-L859*) 
 
 We can make it == instead of <= and >=. What do you think @kushti_ru ?

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Ergo transaction builder using JSON. Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/PwnXzK6uC5IEP0AQt7sARcl2ojOHiJpCaeOg4AYzXio/https/opengraph.githubassets.com/8b5a368dbba0e62d95d6afdf17adcf1a5ef2e27fb0d4696ce815dbeb1745fe0d/ergoplatform/ergo-jde


[11/25/2022 12:10 PM] kushti#0000
Could reduce composability, if other swap contract is requiring == as well, for example


[11/25/2022 2:10 PM] ScalaHub#0000
so lets keep it <= and >= for now?


[11/25/2022 9:51 PM] kushti#0000
Yes


[11/26/2022 12:27 PM] ScalaHub#0000
Have pushed more tests for edge cases (invalid address, invalid NFT)


[11/28/2022 12:03 PM] kushti#0000
@ScalaHub tracking script looks ok, can start offchain part actually


[11/28/2022 12:03 PM] kushti#0000
Then jumped on extractToTheFuture and found this


[11/28/2022 12:03 PM] kushti#0000
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala#L918

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/test/scala/kiosk/dexy/DexySpec.scala
ergo-jde/DexySpec.scala at main ¬∑ ergoplatform/ergo-jde
Ergo transaction builder using JSON. Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/PwnXzK6uC5IEP0AQt7sARcl2ojOHiJpCaeOg4AYzXio/https/opengraph.githubassets.com/8b5a368dbba0e62d95d6afdf17adcf1a5ef2e27fb0d4696ce815dbeb1745fe0d/ergoplatform/ergo-jde


[11/28/2022 12:03 PM] kushti#0000
Bank reserves are in ERG, not tokens


[11/28/2022 12:04 PM] kushti#0000
so you need to check if less than e.g. 1 ERG in the bank


[11/28/2022 12:20 PM] kushti#0000
Left some comments in dexyusd chat


[11/28/2022 12:20 PM] kushti#0000
Please check


[11/28/2022 1:39 PM] ScalaHub#0000
Yes looks like a bug. Will fix in upcoming update


[11/28/2022 3:37 PM] kushti#0000
So how will we make offchain part? Node customs scans and client? Or a tracker done by Spectrum?


[11/28/2022 3:38 PM] kushti#0000
I think we can start with tracking, using some Spectrum pool for now


[11/28/2022 8:50 PM] kushti#0000
@code_for_uss how is progress on your side ?

{Reactions}
üëç 

[11/29/2022 8:46 PM] kushti#0000
@ScalaHub please lemme know when fixed


[11/30/2022 9:34 AM] eilemust#0000
let me know when need to start build UI


[12/03/2022 10:05 AM] kushti#0000
Starting offchain code


[12/03/2022 10:06 AM] kushti#0000
I think to start with tracking boxes


[12/03/2022 10:06 AM] kushti#0000
We can use existing oracle and liquiity pool to test


[12/03/2022 6:54 PM] code_For_Uss#1058
SDK is developing 
I'll release ASAP in TS for the front and back (node js) usage


[12/03/2022 11:31 PM] kushti#0000
(re  : *<code_For_Uss> [reply]: SDK is developing 
I'll release ASAP in TS for the front and back (node js) usage*) 
 
 What is there now?


[12/04/2022 11:02 AM] code_For_Uss#1058
minting scenarios


[12/04/2022 10:14 PM] kushti#0000
So it is providing api for frontend?


[12/05/2022 3:13 PM] code_For_Uss#1058
after implementing SDK we can provide the API above that easily, also most of the community developers can use this SDK in their DAPPs.


[12/07/2022 9:27 AM] kushti#0000
@ScalaHub reviewing payout


[12/07/2022 10:04 AM] kushti#0000
@ScalaHub I think no need to require R4 preservation in payout control box, in opposite, would be good to update it, and actually it makes sense to have two updateable scripts, R4 and R5, one for payout control box itself, another for reward box


[12/07/2022 10:20 AM] kushti#0000
@ScalaHub checking mints now


[12/07/2022 1:48 PM] kushti#0000
Forwarded from ErgoBridgeBot: <Ilya | Spectrum> **Spectrum OffChain Ergo:**
* *MempoolSync* - a service allowing to get real-time updates from mempool (https://github.com/spectrum-finance/spectrum-offchain-ergo/blob/box-resolver-dev-529/ergo-mempool-sync/src/lib.rs)
* *Spectrum-Offchain* - a framework for building off-chain bots for any protocol that involves some kind of pool and orders (e.g AMM Pool + Swap|Deposit|Redeem, LM Pool + Deposit|Redeem, Stablecoin Bank + Buy|Deposit|Redeem). The framework includes OrderBacklog, PoolResolver, OrderExecutor, DataSource, DataSink implementations. User only has to implement specific data models for his particular protocol, parsers and execution logic. (https://github.com/spectrum-finance/spectrum-offchain-ergo/tree/box-resolver-dev-529/spectrum-offchain/src)
* *Spectrum-Offchain-LM* - implementation of bots for Spectrum Liquidity Mining protocol on top of Spectrum-Offchain. (WIP: https://github.com/spectrum-finance/spectrum-offchain-ergo/tree/ergo-lm-instances-dev-560/spectrum-offchain-lm/src)

**Spectrum LM SDK (TS):**
* Spectrum LM validators added to SDK (https://github.com/spectrum-finance/ergo-dex-sdk-js/pull/33)

**Sigma-Rust:**
* `Digest: Copy`: https://github.com/ergoplatform/sigma-rust/pull/658
* Removed `Rc` from ErgoTree: https://github.com/ergoplatform/sigma-rust/pull/659

{Embed}
https://github.com/spectrum-finance/spectrum-offchain-ergo/blob/box-resolver-dev-529/ergo-mempool-sync/src/lib.rs
spectrum-offchain-ergo/lib.rs at box-resolver-dev-529 ¬∑ spectrum-fi...
Spectrum Off-Chain Services for Ergo. Contribute to spectrum-finance/spectrum-offchain-ergo development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/sAg2Hvo3lvynxxVIBqb-HTB1T-rnD6F55-nlje-sagA/https/opengraph.githubassets.com/6816dd4c3062f7d496d80377ee400f09c015eff64035ffda100f858dd062e774/spectrum-finance/spectrum-offchain-ergo

{Embed}
https://github.com/spectrum-finance/spectrum-offchain-ergo/tree/box-resolver-dev-529/spectrum-offchain/src
spectrum-offchain-ergo/spectrum-offchain/src at box-resolver-dev-52...
Spectrum Off-Chain Services for Ergo. Contribute to spectrum-finance/spectrum-offchain-ergo development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/sAg2Hvo3lvynxxVIBqb-HTB1T-rnD6F55-nlje-sagA/https/opengraph.githubassets.com/6816dd4c3062f7d496d80377ee400f09c015eff64035ffda100f858dd062e774/spectrum-finance/spectrum-offchain-ergo

{Embed}
https://github.com/spectrum-finance/ergo-dex-sdk-js/pull/33
LQ mining protocol validators by oskin1 ¬∑ Pull Request #33 ¬∑ spectr...
https://images-ext-2.discordapp.net/external/hcBN5AoyUE3DPNAbRvYRlt4RJnd6oThmhyI1aKrGcTw/https/opengraph.githubassets.com/98dc2590104c0baf3ac179b0c2239e75639158c75d5a6f97953b32725ec5cbd4/spectrum-finance/ergo-dex-sdk-js/pull/33

{Embed}
https://github.com/ergoplatform/sigma-rust/pull/658
Digest is now Copy as well as all major wrappers based on it. by os...
https://images-ext-2.discordapp.net/external/1ZKLTf-ymBFL0w9AY9pW5PpUkjKM84Er_DNRW8qikdg/https/opengraph.githubassets.com/bd763135d9cd44c4f5e9246170c7e26c285f0b4f9c9b275bdb522d7c672ffb55/ergoplatform/sigma-rust/pull/658


[12/07/2022 1:48 PM] kushti#0000
New tracking tools

{Reactions}
üëç 

[12/07/2022 1:48 PM] kushti#0000
But in Rust


[12/08/2022 9:33 PM] kushti#0000
@ScalaHub free mint:
val validSuccessorR4 = successorR4 == (if (isCounterReset) HEIGHT + t_free  ‚Äî I think range check is needed, otherwise, would be hard to propagate and get valid transaction included

val validRateFreeMint = 98 * lpRate < oracleRate * 100 && oracleRate * 100 < 102 * lpRate  ‚Äî why rate with fee here ?

successor.value > SELF.value  ‚Äî should be >= 0 I guess


[12/08/2022 9:34 PM] kushti#0000
would be good to have possibility to comment in the code


[12/08/2022 9:37 PM] kushti#0000
Intervention: 

successor.value == SELF.value  - should be >= 0 (to provide possibility to top up the box to avoid garbage collection)

 val validAmount = lpRateXyOutTimesLpReservesYOutTimes100 >= oracleRateXy * lpReservesYOut * 105 && // new rate must be >= 1.05 times oracle rate
                                  lpRateXyOutTimesLpReservesYOutTimes100 <= oracleRateXy * lpReservesYOut * 110    // new rate must be <= 1.1 times oracle rate

what is this validAmount condition about at all ?


[12/09/2022 4:40 AM] ScalaHub#0000
Will address these comments today and over weekend @kushti_ru


[12/09/2022 10:17 PM] kushti#0000
@code_for_uss what is progress on your side?


[12/12/2022 6:40 AM] kushti#0000
(re @kushti_ru : *@ScalaHub free mint:
val validSuccessorR4 = successorR4 == (if (isCounterReset) HEIGHT + t_free  ‚Äî I think range check is needed, otherwise, would be hard to propagate and get valid transaction included

val validRateFreeMint = 98 * lpRate < oracleRate * 100 && oracleRate * 100 < 102 * lpRate  ‚Äî why rate with fee here ?

successor.value > SELF.value  ‚Äî should be >= 0 I guess*) 
 
 Height and successor.value issues are in arb mint as well @ScalaHub


[12/12/2022 6:41 AM] kushti#0000
And bank script has strict equality for value, need to be replaced with  greater or equal


[12/12/2022 6:46 AM] kushti#0000
Actually makes sense to externalize self preservation check as we have the same code in all the contracts


[12/12/2022 7:04 AM] kushti#0000
@ScalaHub Interestingly, can we split LP contract into different action contracts like done with the bank


[12/12/2022 6:12 PM] ScalaHub#0000
(re @kushti_ru : *@ScalaHub Interestingly, can we split LP contract into different action contracts like done with the bank*) 
 
 Do you mean swap, mint/redeem LP logic?


[12/12/2022 6:39 PM] kushti#0000
Yes, but that is possible next step


[12/12/2022 6:39 PM] kushti#0000
Going to review carefully lp contract


[12/12/2022 6:39 PM] kushti#0000
The last one


[12/12/2022 10:18 PM] kushti#0000
@code_for_uss how is it going?


[12/14/2022 7:02 AM] code_For_Uss#1058
I want to test some part, do you have any Idea how to test on testnet? about oracle box and lp box?


[12/14/2022 8:28 AM] kushti#0000
(re  : *<code_For_Uss> I want to test some part, do you have any Idea how to test on testnet? about oracle box and lp box?*) 
 
 Greenhat launched gold oracle pool recently on the testnet


[12/14/2022 9:19 AM] code_For_Uss#1058
is it possible to tag him to point me to the address and token of the oracle box?


[12/14/2022 9:22 AM] kushti#0000
Forwarded from greenhatzero: It's in R4 of the pool box (box with pool NFT - f2f64bab1f2e9ab65c0e4a6a65eed0b26c5276eb5dda01d4a0e0ebe8a85bfbfc )

EDIT:
curl https://api-testnet.ergoplatform.com/api/v1/boxes/unspent/byTokenId/f2f64bab1f2e9ab65c0e4a6a65eed0b26c5276eb5dda01d4a0e0ebe8a85bfbfc


[12/14/2022 9:22 AM] kushti#0000
(re  : *<code_For_Uss> is it possible to tag him to point me to the address and token of the oracle box?*) 
 
 ^

{Reactions}
üëç 

[12/14/2022 10:11 PM] kushti#0000
@code_for_uss for LP, we need to launch own


[12/15/2022 8:06 AM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss for LP, we need to launch own*) 
 
 Ok I'll create a box like LP boxes and use that


[12/16/2022 10:45 PM] kushti#0000
(re @code_for_uss : *Ok I'll create a box like LP boxes and use that*) 
 
 How do you track boxes, finally?


[12/16/2022 10:45 PM] kushti#0000
@ScalaHub any progress or comments in regards with the issues reported?


[12/17/2022 8:28 PM] code_For_Uss#1058
duo to the fast and forward strategy I used node scanning but after delivering a stable version I should add some features like  `/scan/unspentBoxes/` to the scanner and move to scanner instead of node for boxes tracking.


[12/18/2022 8:11 AM] ScalaHub#0000
(re @kushti_ru : *@ScalaHub I think no need to require R4 preservation in payout control box, in opposite, would be good to update it, and actually it makes sense to have two updateable scripts, R4 and R5, one for payout control box itself, another for reward box*) 
 
 We will need other security mechanisms then, because currently anyone can spend the payout box and the actual payout disbursement logic is in the "Reward" box


[12/18/2022 9:24 AM] ScalaHub#0000
(re @kushti_ru : *@ScalaHub free mint:
val validSuccessorR4 = successorR4 == (if (isCounterReset) HEIGHT + t_free  ‚Äî I think range check is needed, otherwise, would be hard to propagate and get valid transaction included

val validRateFreeMint = 98 * lpRate < oracleRate * 100 && oracleRate * 100 < 102 * lpRate  ‚Äî why rate with fee here ?

successor.value > SELF.value  ‚Äî should be >= 0 I guess*) 
 
 This is not fee.. Just requiring that lpRate should be >= 98% and <= 102% of oracle rate. Is that ok?


[12/18/2022 10:26 AM] kushti#0000
(re @ScalaHub : *This is not fee.. Just requiring that lpRate should be >= 98% and <= 102% of oracle rate. Is that ok?*) 
 
 Oracle rate with fee there


[12/18/2022 10:27 AM] kushti#0000
(re @ScalaHub : *We will need other security mechanisms then, because currently anyone can spend the payout box and the actual payout disbursement logic is in the "Reward" box*) 
 
 Ok will recheck payout path


[12/19/2022 8:33 AM] kushti#0000
@ScalaHub please use ERG / Dexy (or DXT == DexyToken) notation in contracts instead of X/Y. Even in LP, anyway, contract now is looking very different from EIP version


[12/19/2022 9:52 AM] ScalaHub#0000
(re @kushti_ru : *@ScalaHub please use ERG / Dexy (or DXT == DexyToken) notation in contracts instead of X/Y. Even in LP, anyway, contract now is looking very different from EIP version*) 
 
 Ok will fix in the next few updates


[12/19/2022 9:53 AM] ScalaHub#0000
X/Y notation was taken from ErgoDex


[12/19/2022 10:03 AM] kushti#0000
Yes, but now it complicates reviewing just


[12/19/2022 10:04 AM] kushti#0000
Also, not sure validStorageRent check is needed in the LP (the core protocol won't allow to produce zero-ERG box anyway)


[12/19/2022 10:08 AM] kushti#0000
@ScalaHub why Oracle data-input is needed in swap ?


[12/19/2022 10:09 AM] kushti#0000
What do you think about breaking LP into action boxes like in bank ?


[12/19/2022 10:09 AM] kushti#0000
then we'll have similar bank and LP contracts


[12/19/2022 10:09 AM] kushti#0000
and actions :


[12/19/2022 10:10 AM] kushti#0000
Bank actions: free mint,arb mint, payout


[12/19/2022 10:10 AM] kushti#0000
LP actions: extract/release, swap, mint, redeem


[12/19/2022 10:11 AM] kushti#0000
and intervention in both classes


[12/19/2022 2:01 PM] ScalaHub#0000
(re @kushti_ru : *Intervention: 

successor.value == SELF.value  - should be >= 0 (to provide possibility to top up the box to avoid garbage collection)

 val validAmount = lpRateXyOutTimesLpReservesYOutTimes100 >= oracleRateXy * lpReservesYOut * 105 && // new rate must be >= 1.05 times oracle rate
                                  lpRateXyOutTimesLpReservesYOutTimes100 <= oracleRateXy * lpReservesYOut * 110    // new rate must be <= 1.1 times oracle rate

what is this validAmount condition about at all ?*) 
 
 validAmount is used to ensure that new rate is within the correct range after intervention event


[12/19/2022 2:13 PM] ScalaHub#0000
Have pushed new contracts based on @kushti_ru comments above. The X/Y notation is WIP so not included


[12/19/2022 2:15 PM] ScalaHub#0000
(re @kushti_ru : *@ScalaHub why Oracle data-input is needed in swap ?*) 
 
 its not needed but added due to AOTC. Can be fixed I guess if we split the contracts


[12/19/2022 2:24 PM] ScalaHub#0000
(re @kushti_ru : *Also, not sure validStorageRent check is needed in the LP (the core protocol won't allow to produce zero-ERG box anyway)*) 
 
 yes we could remove it. but maybe we want to ensure its above some min value?


[12/19/2022 2:33 PM] kushti#0000
(re @ScalaHub : *validAmount is used to ensure that new rate is within the correct range after intervention event*) 
 
 After intervention should be below 1.0 I guess


[12/19/2022 2:34 PM] kushti#0000
(re @ScalaHub : *its not needed but added due to AOTC. Can be fixed I guess if we split the contracts*) 
 
 No aotc anymore also


[12/19/2022 2:34 PM] kushti#0000
(re @ScalaHub : *yes we could remove it. but maybe we want to ensure its above some min value?*) 
 
 Yeah but why?


[12/19/2022 2:43 PM] ScalaHub#0000
To prevent garbage collection.. if lp is not used for a while (unlikely though)


[12/19/2022 2:55 PM] kushti#0000
(re @ScalaHub : *To prevent garbage collection.. if lp is not used for a while (unlikely though)*) 
 
 10M nanoErg wont save it anyway


[12/19/2022 3:28 PM] ScalaHub#0000
Ok then better to remove it .. makes contract shorter


[12/20/2022 11:23 PM] kushti#0000
* I think to invite wallet / app UI devs to this chat and see how many minting interfaces we can get
* LP interface will be on Spectrum, @eilemust can you help with it? I can write a quick doc how it would be different UI-wise 

On rewarding developers and oracle pool operators, there are alternative options to doing payout token (then we can have bank reserves growing without limits):
 - profiting from initial liquidity provision
 - profiting from extra services, e.g. grid trading with LP
 - launch LP only and wait till community will do minting UI (or release it later), profit from hacker-style access to minting (arbitrage profit)


[12/20/2022 11:54 PM] Armeanio#0000
Thanks


[12/21/2022 4:38 AM] eilemust#0000
(re @kushti_ru : ** I think to invite wallet / app UI devs to this chat and see how many minting interfaces we can get
* LP interface will be on Spectrum, @eilemust can you help with it? I can write a quick doc how it would be different UI-wise 

On rewarding developers and oracle pool operators, there are alternative options to doing payout token (then we can have bank reserves growing without limits):
 - profiting from initial liquidity provision
 - profiting from extra services, e.g. grid trading with LP
 - la...*) 
 
 Yes I can help with LP. Waiting doc from you ü§ù


[12/21/2022 9:57 PM] Vesi Hiisi#0000
(re @kushti_ru : *Reserves are excessive if they are covering worst-case scenario. From simulations, that is possible in case of significant collateral (ERG) price spike. That event has no time estimations. 
So payout tokens are revenue stream shares, but there is is no guarantee for such a stream at all*) 
 
 When defining a threshold for the payout, would it be simpler to look at the collateral ratio instead of the worst case scenario?

In the case of dexy, the collateral ratio = (erg in bank + protocol owned erg and dexy in LP) / circulating dexy.

It might increase transparency, by being simpler. Also, it gives a good indication of protocol health. I think that health should be very high (>500% CR), before paying out revenue. 

Starting payout at the worst case threshold is too risky. As a user, I would not put money in at CR<100%. That is a reason for bank run. What is the CR at the worst case threshold?


[12/21/2022 11:04 PM] kushti#0000
The bank does not have protocol own liquidity in lp though, it is not collecting lp tokens


[12/21/2022 11:06 PM] kushti#0000
We can do ergs in the bank vs circulating dexy


[12/21/2022 11:06 PM] kushti#0000
Ignoring the fact that ergs in the lp also backing dexy, as such ergs are not stable


[12/22/2022 6:43 AM] Vesi Hiisi#0000
(re @kushti_ru : *The bank does not have protocol own liquidity in lp though, it is not collecting lp tokens*) 
 
 Ah. I see, I had misunderstood this. I thought part of the POL is used for LP, but its only buying dexy.

Then all LP is from users. In the worst case scenario, is it possible to momentarily buy dexy to restore peg, and the exit all LP positions?


[12/22/2022 8:19 AM] Vesi Hiisi#0000
Would it make sense to use the bank reserve for LP? 

Unwind it by selling LP tokens to meet the plan for the worst case scenario if needed.

- It would increase revenue from trading fees to POL, not only minting. 

- it would be possible to define a target liquidity level in relation to circulating dexy supply. 

- it might eventually push away user LPs, which would make the protocol less dependent on external actors.

- It would make the protocol more reliable from user point of view, when the liquidity is also predictable.


[12/22/2022 9:03 AM] kushti#0000
But then the bank is basically investing in lp tokens, and lp token price can go down


[12/22/2022 9:30 AM] Vesi Hiisi#0000
Can it go down?

In dollar terms, yes.

But in Erg/dexy terms the LP token should be same, since the price is pegged, right?


[12/22/2022 6:07 PM] kushti#0000
In Erg, the price could go down, could be impermanent Erg loss also


[12/22/2022 6:08 PM] kushti#0000
For protocol liquidity, we can get some erg during bootstrapping, put them along dexy into lp and burn lp tokens


[12/22/2022 6:08 PM] kushti#0000
Then this liquidity will accrue fees with time


[12/22/2022 6:09 PM] kushti#0000
But how get erg


[12/22/2022 6:09 PM] kushti#0000
I can think about two options


[12/22/2022 6:09 PM] kushti#0000
Raffle


[12/22/2022 6:10 PM] kushti#0000
Or selling a share of payout tokens


[12/22/2022 6:13 PM] kushti#0000
To lock ergs got forever in the pools


[12/22/2022 6:14 PM] kushti#0000
Could be dexy/erg and dexy/sigusd even


[12/22/2022 6:40 PM] kushti#0000
@ScalaHub I think there is a room for liquidity hopping when ratio us approaching 0.98, also, would be good to incentivize long term liquidity provision, thus lets introduce 2% withdrawal fee?


[12/22/2022 6:40 PM] kushti#0000
I mean LP redemption


[12/22/2022 6:41 PM] Vesi Hiisi#0000
Yes, small seed would be enough to accumulate over time. Share of payout tokens would probably raise more.

Community effort raffle would be cool too, but it is not so well justified, when it is not purely a public good due to payouts.


[12/22/2022 6:42 PM] Vesi Hiisi#0000
Additional small dex fee diverted to buy LP for one year or so could be another option.


[12/22/2022 6:43 PM] Vesi Hiisi#0000
Or use excess payouts to reach liq target before paying out.


[12/22/2022 6:45 PM] kushti#0000
(re @Ile : *Additional small dex fee diverted to buy LP for one year or so could be another option.*) 
 
 Buy and burn?


[12/22/2022 6:45 PM] Vesi Hiisi#0000
(re @kushti_ru : *Buy and burn?*) 
 
 Yes.


[12/22/2022 6:47 PM] kushti#0000
(re @Ile : *Or use excess payouts to reach liq target before paying out.*) 
 
 What could be a target about?


[12/22/2022 6:48 PM] kushti#0000
Putting liquidity into lp from the bank is diluting users liq btw


[12/22/2022 6:58 PM] Vesi Hiisi#0000
(re @kushti_ru : *Putting liquidity into lp from the bank is diluting users liq btw*) 
 
 I dont think that is a problem. Users provide liq if it is profitable. Capital efficiency drives them to prioritize profit over stability.

Protocol owned liquidity does not have to care about capital efficiency. If it one day accumulates to a level where user provided liquidity is not worth it, then I think that is a positive outcome. That means the liq is higher and the protocol is safer than what competitors are capable of.


[12/22/2022 7:02 PM] Vesi Hiisi#0000
(re @kushti_ru : *What could be a target about?*) 
 
 This would be good to simulate.

Knowing circulating supply, protocol owned liquidity, bank reserves and assuming worst case scenario allows calculating the exact erg/dexy price ratio, where the protocol remains solvent.


[12/22/2022 9:33 PM] kushti#0000
@ScalaHub @code_for_uss what actions are tested?


[12/22/2022 10:59 PM] kushti#0000
Ile and so there is also question how to reward devs and partners


[12/22/2022 10:59 PM] kushti#0000
Payout tokens?


[12/23/2022 1:15 AM] Armeanio#0000
(re @kushti_ru : *Or selling a share of payout tokens*) 
 
 I think the payout tokens are a nice potential way.


[12/23/2022 5:57 AM] Vesi Hiisi#0000
(re @kushti_ru : *Payout tokens?*) 
 
 The payout token is good. It enables safer (capitally inefficient) design, but still promises profits in the long term, if the protocol is successful. The draw back is that devs and other costs are not paid immediately as salary, but for that you would need to sell the token before starting the work.

I think the excessive threshold just needs to be very high. 400% CR has been high enough for sigusd, but difficult to compare due to different mechanisms.

If the protocol is profitable, then the higher excessive threshold does not reduce the stream of income, it just pushes it further into the future for the token holders.

I also think that the protocol owned liquidity has large potential in generating trading fees for token holders compared to just fees from minting. Thats why I think there might be some balancing mechanism between reserve and protocol owned liq.


[12/23/2022 6:13 AM] Armeanio#0000
(re @kushti_ru : *But how get erg*) 
 
 2 initial questions 

1. How much Erg to bootstrap dexy?

2. What is the CR% 

I guess once that is known liquidity and payout potential is next.


[12/23/2022 6:19 AM] Vesi Hiisi#0000
I would also bring up the timing for protocol release.

I am expecting gold to perform well next year, and crypto winter to continue. If gold price goes up relative to erg faster than protocol accumulates fees, then the CR will go down.

Below 100% CR people will have incentive to sell dexy before others do.


[12/23/2022 9:44 AM] kushti#0000
CR should include ERGs in the pool somehow


[12/23/2022 9:45 AM] kushti#0000
As they also backing dexy basically


[12/23/2022 9:47 AM] kushti#0000
As an option, we can limit free mint, so it would be possible to mint a bit only if you put dexy minted into lp


[12/23/2022 9:48 AM] kushti#0000
Thus every dexy minted at the moment of minting has 200% CR


[12/23/2022 9:48 AM] kushti#0000
However, it is possible to redeem from lp after that, but with 2% fee I am also proposing


[12/23/2022 1:01 PM] kushti#0000
Ile another option for payout is to mint or buy LP when CR > 100 (say, spend 1% per month on that), burn 50% and lock 50% which will be unlocked when CR is more than 200% (300, 400), thus payouts will be paid in LP tokens, and the protocol is increasing PoL when there are excessive reserves


[12/23/2022 1:02 PM] kushti#0000
@ScalaHub I think also to limit intervention ERG amount to 2% reserves per period


[12/23/2022 1:02 PM] kushti#0000
Thus bank will restore broken peg slowly, but also minimizing damage to reserves in case of that


[12/23/2022 1:30 PM] kushti#0000
(re @kushti_ru : *Ile another option for payout is to mint or buy LP when CR > 100 (say, spend 1% per month on that), burn 50% and lock 50% which will be unlocked when CR is more than 200% (300, 400), thus payouts will be paid in LP tokens, and the protocol is increasing PoL when there are excessive reserves*) 
 
 For buying LP, we need to introduce another pool though, ERG<->LP token, or better, Dexy <->LP token. Which is interesting, as the bank is printing Dexy to buy protocol own liquidity, but also making things more complex


[12/23/2022 1:34 PM] Vesi Hiisi#0000
(re @kushti_ru : *Ile another option for payout is to mint or buy LP when CR > 100 (say, spend 1% per month on that), burn 50% and lock 50% which will be unlocked when CR is more than 200% (300, 400), thus payouts will be paid in LP tokens, and the protocol is increasing PoL when there are excessive reserves*) 
 
 I like this direction. Also the idea for bootstrapping by only allowing dexy mint for LP providers is good.

Why monthly buy? I think it could all be defined as a function of reserve, protocol owned liq, and circ. Supply.

Just to put some example numbers** on it:

- if reserve is >150% of circulating dexy supply, then buy LP tokens using reserves.
-if LP tokens erg part is >15% of circulating dexy supply AND reserve <150%, then convert LP tokens to reserve.
-if LP tokens erg part is >15% of circulating dexy supply AND reserve >150%, then payout* LP tokens to payout token holders.

* payout can be in LP tokens, or after conversion.
** this example is just 165% CR. Further steps could be used to fill LP and reserve smoothly up to 400% or more, before paying out.


[12/23/2022 1:40 PM] Vesi Hiisi#0000
(re @kushti_ru : *For buying LP, we need to introduce another pool though, ERG<->LP token, or better, Dexy <->LP token. Which is interesting, as the bank is printing Dexy to buy protocol own liquidity, but also making things more complex*) 
 
 Yes, it adds complexity. The simple version is to use reserve at a healthy level to buy and burn LP. Once enough LP is burned, proceed to payouts.

This way there would be no way to flow erg from superhealthy LP position back to reserve.


[12/23/2022 1:55 PM] kushti#0000
(re @Ile : *I like this direction. Also the idea for bootstrapping by only allowing dexy mint for LP providers is good.

Why monthly buy? I think it could all be defined as a function of reserve, protocol owned liq, and circ. Supply.

Just to put some example numbers** on it:

- if reserve is >150% of circulating dexy supply, then buy LP tokens using reserves.
-if LP tokens erg part is >15% of circulating dexy supply AND reserve <150%, then convert LP tokens to reserve.
-if LP tokens erg part is >15% of cir...*) 
 
 Dumping LP tokens could increase panic. I also think some %% of LP should be burnt


[12/23/2022 1:56 PM] kushti#0000
Also, now 3rd pool is required, LP<->ERG


[12/23/2022 2:05 PM] Vesi Hiisi#0000
(re @kushti_ru : *Dumping LP tokens could increase panic. I also think some %% of LP should be burnt*) 
 
 I would not call it dumping. They only get paid out when the liq is healthy. No reason to panic, when it is pre-determined and transparent.

Converting them before paying out is fine too. 

If LP tokens are permanently burned, then they cant be used for payouts, even if they become superliquid.


[12/23/2022 2:08 PM] Vesi Hiisi#0000
(re @kushti_ru : *Also, now 3rd pool is required, LP<->ERG*) 
 
 Do you mean liquidity pool for trading?

Would it be an option to use LP minting and redeeming instead?

Reserves would first buy dexy, match with erg, buy LP.

LP tokens would be redeemed, erg sent to reserve, dexy sold, paid out or locked for future distribution.


[12/23/2022 2:08 PM] kushti#0000
My proposal was about 50% burnt , 50% locked for payouts in future


[12/23/2022 3:04 PM] Vesi Hiisi#0000
(re @kushti_ru : *My proposal was about 50% burnt , 50% locked for payouts in future*) 
 
 What is the advantage in burning?


[12/23/2022 3:06 PM] kushti#0000
(re @Ile : *What is the advantage in burning?*) 
 
 To increase lp token price, and lock liq in lp forever


[12/23/2022 5:38 PM] Vesi Hiisi#0000
(re @kushti_ru : *To increase lp token price, and lock liq in lp forever*) 
 
 I like that. It means that the liquidity will accumulate infinitely, instead of being capped like in my example.


[12/23/2022 9:58 PM] kushti#0000
Simpler option is to provide liquidity into lp pool, not buying lp tokens


[12/24/2022 12:04 AM] kushti#0000
@ScalaHub Will incorporate 2% redemption fee and 2% intervention limit into the WP


[12/24/2022 6:00 AM] Vesi Hiisi#0000
(re @kushti_ru : *Simpler option is to provide liquidity into lp pool, not buying lp tokens*) 
 
 I am getting terms mixed up. No need to buy LP or a separate pool.


[12/24/2022 11:43 AM] kushti#0000
(re @kushti_ru : *@ScalaHub Will incorporate 2% redemption fee and 2% intervention limit into the WP*) 
 
 @scalahub done, but pdf is not rebuilt , I guess you can do that on your side esily


[12/24/2022 11:55 AM] kushti#0000
@ScalaHub @Ceilican and for fixing whale issues in SigUSD, what do you think  about just having fee == 0% (or some other fixed small number) if transaction is moving RR towards target value (0%), and RR change % otherwise. So for example, when a whale jumping on at RR=450% to get RR to 400%, it would be (almost) free, but to jump back, fee would be 50%


[12/24/2022 12:05 PM] kushti#0000
@ScalaHub @Ceilican and for fixing whale issues in SigUSD, what do you think  about just having fee == 0% (or some other fixed small number) if transaction is moving RR towards target value (0%), and RR change % otherwise. So for example, when a whale jumping on at RR=450% to get RR to 400%, it would be (almost) free, but to jump back, fee would be 50%


[12/24/2022 12:06 PM] kushti#0000
I believe Bruno proposed something like that in our private convos


[12/24/2022 2:40 PM] Ceilican#0000
Yes, Alexander. We discussed a few ideas similar to this. I think they are worth trying. Let me know if you need me to put it on paper in more details.


[12/24/2022 5:56 PM] code_for_uss#0000
(re @kushti_ru : *@ScalaHub @code_for_uss what actions are tested?*) 
 
 In my side arbitrageMint and freemint have some unit test and additionally I'll add more unit tests for my service after complete Apis


[12/24/2022 6:05 PM] kushti#0000
(re @Ceilican : *Yes, Alexander. We discussed a few ideas similar to this. I think they are worth trying. Let me know if you need me to put it on paper in more details.*) 
 
 Would be good to start public discussions on that


[12/24/2022 6:31 PM] Vesi Hiisi#0000
(re @kushti_ru : *@ScalaHub @Ceilican and for fixing whale issues in SigUSD, what do you think  about just having fee == 0% (or some other fixed small number) if transaction is moving RR towards target value (0%), and RR change % otherwise. So for example, when a whale jumping on at RR=450% to get RR to 400%, it would be (almost) free, but to jump back, fee would be 50%*) 
 
 Can he go around that with multiple wallets?


[12/24/2022 11:41 PM] Ceilican#0000
(re @kushti_ru : *@ScalaHub @Ceilican and for fixing whale issues in SigUSD, what do you think  about just having fee == 0% (or some other fixed small number) if transaction is moving RR towards target value (0%), and RR change % otherwise. So for example, when a whale jumping on at RR=450% to get RR to 400%, it would be (almost) free, but to jump back, fee would be 50%*) 
 
 By the way. What you described here is something that is already described in detail in the Djed paper in the Extended Djed section. But in Piter you and I discussed some ideas that, I think, are better than this Extended Djed approach.


[12/28/2022 3:34 AM] kushti#0000
(re @Ceilican : *By the way. What you described here is something that is already described in detail in the Djed paper in the Extended Djed section. But in Piter you and I discussed some ideas that, I think, are better than this Extended Djed approach.*) 
 
 Oh, but what


[12/28/2022 3:35 AM] kushti#0000
(re @Ile : *Can he go around that with multiple wallets?*) 
 
 But still need to pay for going from 400 to 450


[12/28/2022 3:36 AM] kushti#0000
@oskin how you do backend in Spectrum?


[12/28/2022 3:37 AM] kushti#0000
Ile so for payout, bank is putting liquidity into lp to burn half of lp tokens and pay another half out later?


[12/28/2022 4:36 PM] Vesi Hiisi#0000
(re @kushti_ru : *Ile so for payout, bank is putting liquidity into lp to burn half of lp tokens and pay another half out later?*) 
 
 To clarify, is this based on my proposal or the paper? 

LP token owners:
1. Users
2. Protocol
3. Burned

Or

1. Users
2. Burned

?


[12/28/2022 4:40 PM] Vesi Hiisi#0000
And to further clarify, if LP tokens are burned, then are some dexy and erg locked in the pool forever?

For example, burned 50%, users redeem rest 50%, half of erg/dexy in pool remains?

Is that how the LP smart contract logic works, or does it somehow check circulating supply of tokens?


[12/28/2022 5:15 PM] oskin#0000
(re @kushti_ru : *@oskin how you do backend in Spectrum?*) 
 
 Can you be more specific?


[12/29/2022 9:25 PM] kushti#0000
(re @Ile : *To clarify, is this based on my proposal or the paper? 

LP token owners:
1. Users
2. Protocol
3. Burned

Or

1. Users
2. Burned

?*) 
 
 Your proposal after some edits of mine, I guess


[12/29/2022 9:25 PM] kushti#0000
(re @Ile : *And to further clarify, if LP tokens are burned, then are some dexy and erg locked in the pool forever?

For example, burned 50%, users redeem rest 50%, half of erg/dexy in pool remains?

Is that how the LP smart contract logic works, or does it somehow check circulating supply of tokens?*) 
 
 Yes, if LP tokens are burnt, some dexy and erg locked forever


[12/29/2022 9:53 PM] Vesi Hiisi#0000
(re @kushti_ru : *Your proposal after some edits of mine, I guess*) 
 
 Somehow burned LP tokens and protocol owned LP tokens are two tools for the same purposes. Increase stability by liq quarantee, and benefit the protocol from trading fees.

Not sure if both are necessary.

Should there be some cap on the burned liq? If it grows infinitely, then it will end up getting all fees, which will stop payouts. Or are the payouts intended to stop some day?


[12/29/2022 10:55 PM] kushti#0000
Forwarded from kushti_ru:


[12/29/2022 10:55 PM] kushti#0000
Whitepaper

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1058156262015119360/dexy.pdf


[12/29/2022 10:55 PM] kushti#0000
WP updated a bit


[12/30/2022 12:00 AM] kushti#0000
(re @Ile : *Somehow burned LP tokens and protocol owned LP tokens are two tools for the same purposes. Increase stability by liq quarantee, and benefit the protocol from trading fees.

Not sure if both are necessary.

Should there be some cap on the burned liq? If it grows infinitely, then it will end up getting all fees, which will stop payouts. Or are the payouts intended to stop some day?*) 
 
 Not sure about cap on burned liq, the biggest problem is that the bank will kill profitability of liq providers in the long term


[12/30/2022 6:58 AM] Vesi Hiisi#0000
(re @kushti_ru : *Not sure about cap on burned liq, the biggest problem is that the bank will kill profitability of liq providers in the long term*) 
 
 As I already mentioned, I think that is not a problem, but a huge advantage.

Relying on profit motive puts a cap on the stability of the protocol.

Capital inefficient protocol owned liquidity does not.

As a user, I will always choose the one that has more reserve/liq. (Assuming other aspects being equal).


[12/30/2022 7:46 AM] kushti#0000
@ScalaHub what is not merged with the Master branch?


[12/30/2022 8:16 AM] ScalaHub#0000
The split LP is not merged with master yet


[01/02/2023 11:37 PM] kushti#0000
(re @oskin : *Can you be more specific?*) 
 
 I mean if we're making some new offchain functionality for extended Dexy LP , what is the best way to do that ?


[01/03/2023 11:22 PM] kushti#0000
Ile  so the last proposal , hopefully, haha, discussed it with @ScalaHub  already: replace free mint , with LP mint, so you need to put your minted Dexy into LP, then every dexy at the moment of minting has collateralization of 200% . However, you can redeem immediately, but there's 2% fee for that. Also, arbitrage mint would require to put liquidity into LP


[01/03/2023 11:22 PM] kushti#0000
Means that the bank is providing liquidity for LP only


[01/03/2023 11:23 PM] kushti#0000
And to get free dexy, you need to buy them from the LP


[01/03/2023 11:24 PM] kushti#0000
Forwarded from RichiTP: I hope first implementation will be upgradable. It is impossible to get such things right from the first time. An ability to iterate is essential.


[01/04/2023 5:42 AM] Vesi Hiisi#0000
(re @kushti_ru : *Ile  so the last proposal , hopefully, haha, discussed it with @ScalaHub  already: replace free mint , with LP mint, so you need to put your minted Dexy into LP, then every dexy at the moment of minting has collateralization of 200% . However, you can redeem immediately, but there's 2% fee for that. Also, arbitrage mint would require to put liquidity into LP*) 
 
 Its not collateralized by 200%. Only 100% of that is protocol owned collateral. Maybe it needs some time lock?

That might just move the problem into the future. Though the 1% limit of free mint does make the dumping process smoother than all initial liq unlocking at once.


[01/04/2023 5:47 AM] Vesi Hiisi#0000
If it is immediately redeemable, then there is not much difference to the previous version? Just an extra step


[01/05/2023 12:17 AM] kushti#0000
(re @Ile : *Its not collateralized by 200%. Only 100% of that is protocol owned collateral. Maybe it needs some time lock?

That might just move the problem into the future. Though the 1% limit of free mint does make the dumping process smoother than all initial liq unlocking at once.*) 
 
 102 % collateralization if 2.5% fee, 200% if 0.5% fee, so you do not pull funds out of lp


[01/05/2023 12:17 AM] kushti#0000
Timelocking just adding mess


[01/05/2023 6:15 AM] Vesi Hiisi#0000
(re @kushti_ru : *102 % collateralization if 2.5% fee, 200% if 0.5% fee, so you do not pull funds out of lp*) 
 
 For transparency, there could be two CR metrics.

Protocol owned collateral, that cant be pulled out.

Protocol + user owned collateral, that can partly be pulled out.


[01/05/2023 6:18 AM] Vesi Hiisi#0000
Locking early LP for some time or until some healthy protocol owned collateral, and promising payout tokens for taking the risk, is ok deal imo.


[01/06/2023 11:20 PM] kushti#0000
Lp also auto locked on depeg


[01/06/2023 11:21 PM] kushti#0000
(re @kushti_ru : *I hope first implementation will be upgradable. It is impossible to get such things right from the first time. An ability to iterate is essential.*) 
 
 Thoughts?


[01/06/2023 11:21 PM] kushti#0000
I think makes sense, for some predefined time


[01/06/2023 11:21 PM] kushti#0000
Eg 3 or 6 months


[01/07/2023 9:36 PM] kushti#0000
@ScalaHub gold oracle is delivering nanoErgs per 1 XAU (troy ounce of gold)


[01/07/2023 9:53 PM] kushti#0000
And it seems minimal known unit in Troy system is grain , 1 XAU = 480 grain


[01/07/2023 9:54 PM] kushti#0000
Which is still too expensive for a token (~4 USD)


[01/07/2023 9:55 PM] kushti#0000
But maybe ok


[01/08/2023 10:31 PM] kushti#0000
@ScalaHub no tests for arb mint  ?


[01/08/2023 10:43 PM] kushti#0000
@code_for_uss @ScalaHub let's move all the code under single repo ?


[01/09/2023 10:35 PM] kushti#0000
@ScalaHub moved DexySpec and tests to https://github.com/kushti/dexy-stable , tests passing. No tests for free mint / arb mint yet ?

{Embed}
https://github.com/kushti/dexy-stable
GitHub - kushti/dexy-stable: Contracts and offchain part of DEXy st...
Contracts and offchain part of DEXy stablecoin . Contribute to kushti/dexy-stable development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/HCYjHgdPij-86TwGMn_A7JIX96SwbpY1I4J2uLL2ZHE/https/opengraph.githubassets.com/2db0cbd2a415cabead9c3f8f3122836abc4bb22da8075afc5d1909ef75490539/kushti/dexy-stable


[01/09/2023 11:17 PM] kushti#0000
@ScalaHub so for payout, let's start with replacing worst-case check with just checking all the dexy minted vs ERG in reserves * oracle price, and release payouts if backing is more than 150%


[01/10/2023 9:25 PM] kushti#0000
@code_for_uss can you push your code to the repo ?


[01/10/2023 11:19 PM] kushti#0000
@ScalaHub created stubs for bank action tests


[01/20/2023 11:01 PM] code_For_Uss#1058
sure
tests or back ?


[01/27/2023 4:39 PM] ScalaHub#0000
@code_for_uss could you share your code for minting tests? I'll try to incorporate them into the stubs created by @kushti_ru


[01/28/2023 2:02 PM] ScalaHub#0000
(re @ScalaHub : *@code_for_uss could you share your code for minting tests? I'll try to incorporate them into the stubs created by @kushti_ru*) 
 
 I think its this one.. I'll start working on it https://github.com/code-for-uss/contract-testing/blob/34dc611b2be518801ae17b170c185f2dfd294231/src/main/scala/ContractTesting.scala

{Embed}
https://github.com/code-for-uss/contract-testing/blob/34dc611b2be518801ae17b170c185f2dfd294231/src/main/scala/ContractTesting.scala
contract-testing/ContractTesting.scala at 34dc611b2be518801ae17b170...
This is a simple tutorial on how to test your Ergo contracts off-chain using appkit to speed up the development. - contract-testing/ContractTesting.scala at 34dc611b2be518801ae17b170c185f2dfd294231...
https://images-ext-2.discordapp.net/external/EVlXHpijp34estICd4JMTEZ7xTyZn93enTrZNBZ8bGk/https/opengraph.githubassets.com/d6cbeec93abe1fa19f6db69c3ec753629a1b7aa32734e4286a8550667bc71118/code-for-uss/contract-testing


[01/30/2023 9:27 AM] ScalaHub#0000
I added success tests for Arb mint and free mint. Working on error scenarios now


[01/31/2023 9:34 AM] kushti#0000
Forwarded from greenhatzero: @kushti_ru Heads up! I'm preparing a new beta5 release where the units for XAU/ERG pair are switched to nanoergs per 1 kg of gold. I'll plan to roll it out later today. When 5 oracles install the new app version the data point in the pool box will be in new units.


[01/31/2023 9:34 AM] kushti#0000
(re  : *<code_For_Uss> [reply]: sure
tests or back ?*) 
 
 Can you please push your code to the common repo?


[01/31/2023 8:44 PM] ScalaHub#0000
I've pushed more test cases for Arbitrage Mint and Free Mint. Please suggest some more test cases and I'll add them


[02/14/2023 7:05 AM] eilemust#0000
hey guys, what is the current status?


[02/14/2023 3:09 PM] ScalaHub#0000
Payout needs to be modified as per latest paper version and tests to be added


[02/14/2023 11:35 PM] kushti#0000
(re @eilemust : *hey guys, what is the current status?*) 
 
 A lot of tests done in past weeks, now time to start offchain code and UI


[02/14/2023 11:35 PM] kushti#0000
@code_for_uss are you with us ?


[02/14/2023 11:35 PM] kushti#0000
@eilemust what is needed to start UI dev ?


[02/15/2023 6:41 AM] eilemust#0000
(re @kushti_ru : *@eilemust what is needed to start UI dev ?*) 
 
 I think design concept we can start implement without any logic. But after design we need to have js sdk


[02/15/2023 6:42 AM] eilemust#0000
@yashablack cc


[02/16/2023 6:27 PM] yashablack#0000
Hey @kushti_ru, I have few organisational questions. Dmed you


[02/16/2023 9:56 PM] kushti#0000
(re @eilemust : *I think design concept we can start implement without any logic. But after design we need to have js sdk*) 
 
 Backend js sdk ?


[02/17/2023 4:27 AM] ScalaHub#0000
Could someone work on modifying the payout contract? I'm out of action for a week at least due to being sick ü§¢


[02/17/2023 5:31 AM] eilemust#0000
(re @kushti_ru : *Backend js sdk ?*) 
 
 Yes


[02/17/2023 5:34 AM] eilemust#0000
For building dexy txs


[02/17/2023 7:40 AM] yashablack#0000
(re @eilemust : *Yes*) 
 
 We usually build sdk on frontend coz of 3 reasons:
- it‚Äôs faster - no requests
- it works in 100% cases coz servers are sometimes down as we know
- web assembly allows building sdk with a use of rust

Please no backend sdküôèüôèüôè


[02/17/2023 7:42 AM] eilemust#0000
I think in this case backend=frontend js sdk is the same


[02/17/2023 7:42 AM] eilemust#0000
just library which will build txs


[02/17/2023 7:44 AM] eilemust#0000
if we have contracts, can we create this sdk ourselves? maybe @oskin can help in this


[02/17/2023 7:44 AM] eilemust#0000
As I understand @code_for_uss didnt do that


[02/17/2023 7:44 AM] yashablack#0000
(re @eilemust : *just library which will build txs*) 
 
 Yes, but frontend shouldn‚Äôt do http request to a server to build a tx. 

@oskin can‚Äôt, he is overloaded

There is a framework built by Nautilus devs which allows mega fast and easy tx builders development. Check it


[02/17/2023 7:45 AM] eilemust#0000
(re @yashablack : *Yes, but frontend shouldn‚Äôt do http request to a server to build a tx. 

@oskin can‚Äôt, he is overloaded

There is a framework built by Nautilus devs which allows mega fast and easy tx builders development. Check it*) 
 
 yes of course, no any servers


[02/17/2023 7:45 AM] eilemust#0000
only blockchain and node requests


[02/17/2023 9:00 AM] kushti#0000
(re @ScalaHub : *Could someone work on modifying the payout contract? I'm out of action for a week at least due to being sick ü§¢*) 
 
 We can implement tracking a NB d test deployments for other contracts for starters


[02/17/2023 11:41 AM] yashablack#0000
What operations (user scenarious) we need to implement on the Spectrum‚Äôs side?


[02/17/2023 10:42 PM] kushti#0000
(re @yashablack : *What operations (user scenarious) we need to implement on the Spectrum‚Äôs side?*) 
 
 Can compose and send a brief doc, around Mon


[02/18/2023 8:12 AM] code_For_Uss#1058
Hi
I did some tasks on SDK and the backend but due to a problem in my full-time job I had to look for a new job during this time (I'm on it yet) and I couldn't clean my code to push in git, I need just a week to clean projects and push my codes for start to integrate your section on that If I can't do that after this week I can guide anyone who needs it to move forward with this part.


[02/18/2023 8:34 AM] eilemust#0000
(re  : *<code_For_Uss> Hi
I did some tasks on SDK and the backend but due to a problem in my full-time job I had to look for a new job during this time (I'm on it yet) and I couldn't clean my code to push in git, I need just a week to clean projects and push my codes for start to integrate your section on that If I can't do that after this week I can guide anyone who needs it to move forward with this part.*) 
 
 ü§ùü§ù


[02/20/2023 10:07 AM] yashablack#0000
(re @kushti_ru : *Can compose and send a brief doc, around Mon*) 
 
 It would be very useful


[02/20/2023 12:22 PM] kushti#0000
(re @yashablack : *It would be very useful*) 
 
 on it


[02/20/2023 3:21 PM] kushti#0000
@yashablack @eilemust https://github.com/kushti/dexy-stable/blob/master/spec/dexy-ui.md

{Embed}
https://github.com/kushti/dexy-stable/blob/master/spec/dexy-ui.md
dexy-stable/dexy-ui.md at master ¬∑ kushti/dexy-stable
Contracts and offchain part of DEXy stablecoin . Contribute to kushti/dexy-stable development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/Wo3rdUITMcFwD-q-Hi9pL9tPA5O-cglFemVVkl7Wkwg/https/opengraph.githubassets.com/0c22a31906968a84a46de636bfe245863d74dbd4b50a533a521ccfdfb1ecfed1/kushti/dexy-stable


[02/20/2023 3:21 PM] kushti#0000
I think bank UI could be a different website even


[02/20/2023 4:27 PM] yashablack#0000
(re @kushti_ru : *@yashablack @eilemust https://github.com/kushti/dexy-stable/blob/master/spec/dexy-ui.md*) 
 
 Are you sure that we shouldn‚Äôt touch anything in the Swap form? I mean do users anlways available to swap any amount of token X to DexyGold/DexyUSD and vice versa?


[02/20/2023 4:28 PM] eilemust#0000
(re @yashablack : *Are you sure that we shouldn‚Äôt touch anything in the Swap form? I mean do users anlways available to swap any amount of token X to DexyGold/DexyUSD and vice versa?*) 
 
 yes of course


[02/20/2023 4:28 PM] eilemust#0000
swap is your functionality


[02/20/2023 4:28 PM] eilemust#0000
not dexy


[02/20/2023 4:29 PM] eilemust#0000
if lp locked you can go to swap form if you want


[02/20/2023 4:29 PM] yashablack#0000
Oh, yeah, sorry. Got confused


[02/20/2023 4:31 PM] yashablack#0000
Ok, looks like 2-3 hour of work including designing)
Thank Alex


[02/20/2023 4:33 PM] yashablack#0000
(re @yashablack : *Ok, looks like 2-3 hour of work including designing)
Thank Alex*) 
 
 I mean for the spectrum app side


[02/20/2023 11:31 PM] kushti#0000
@yashablack so what are standards for offchain / backend ?


[02/20/2023 11:31 PM] kushti#0000
Rust and Js ?


[02/21/2023 7:56 AM] yashablack#0000
(re @kushti_ru : *@yashablack so what are standards for offchain / backend ?*) 
 
 We use Scala for amm off chain code and rust for liquidity mining. I guess there are no any standards or restrictions, just availability of needed libraries.

JS is used to implement JS SDK. We need this part to assemble transactions on the frontend side of the app. 

We can take the frontend and SDK part. Who will implement off-chain backend?


[02/21/2023 12:27 PM] code_For_Uss#1058
SDK on my side has some functions for creating freeMint transactions and verifying boxes of freeMint. You can use this SDK on the front side, I added a build tool `rollup` to make a common js and another builds format, in another side, I have a backend service for scan blockchain and the front can use that to fetch the last oracle, LP, freeMint and bank box and give these boxes to SDK and give related tx.


[02/21/2023 12:33 PM] code_For_Uss#1058
I can add an API for Bank UI information in the backend.


[02/21/2023 12:48 PM] eilemust#0000
how this backend will work? who will pay for server?


[02/21/2023 12:49 PM] eilemust#0000
I think we need to set up backend at EF servers?


[02/21/2023 12:51 PM] eilemust#0000
I think code_for_uss  seems made offchain part and we can use his backend @kushti_ru


[02/21/2023 1:18 PM] code_For_Uss#1058
IDK, if EF provides a server I can setup on that, or after preparing SDK, I'll add docker-compose and I can guide guys to setup backend service easily on theirs server but it will take time for updates and others ...


[02/21/2023 1:20 PM] eilemust#0000
(re  : *<code_For_Uss> IDK, if EF provides a server I can setup on that, or after preparing SDK, I'll add docker-compose and I can guide guys to setup backend service but it will take time for updating and others ...*) 
 
 I think if you give docker-compose it would be great

{Reactions}
üëç 

[02/21/2023 2:30 PM] anon_br#2282
I think Fleet SDK is the way to go to run off-chain code in the client side. Take SigmaFi as an example, the off-chain part is done as Fleet plugins, which can be reused across many other projects/scenarios.

I'm doing a write up on Fleet plugin authoring, but the implementation is really straight forward as it's just a function where you receive a context and can use it to add inputs, dataInputs and outputs.

  - Example of plugin implementation: https://github.com/capt-nemo429/sigmafi-ui/blob/main/src/offchain/plugins.ts#L262-L295
  - Example of plugin usage in TransactionBuilder: https://github.com/capt-nemo429/sigmafi-ui/blob/main/src/offchain/transactionFactory.ts#L80
  - Fleet Docs: https://fleet-sdk.github.io/docs/


[02/21/2023 2:36 PM] anon_br#2282
Another advantage of using a pure TS lib to produce off-chain code is that it's "tree-shakeable" and can result in really small bundlers. In the image, the SigmaFi front-end build size.

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1077599609146331226/Screen_Shot_2023-02-21_at_11.31.51.png


[02/21/2023 2:37 PM] eilemust#0000
Great stuffüëçüèªüëçüèª

{Reactions}
‚ù§Ô∏è 

[02/21/2023 2:37 PM] code_For_Uss#1058
Nice, I wrote some parts of SDK with sigma-rust, after the first release I'll look at Fleet.

{Reactions}
‚ù§Ô∏è 

[02/21/2023 10:04 PM] kushti#0000
(re @eilemust : *I think we need to set up backend at EF servers?*) 
 
 I have a server

{Reactions}
üëç 

[02/21/2023 10:51 PM] code_For_Uss#1058
I think it's enough for tests üëç


[02/23/2023 10:49 PM] kushti#0000
So what is needed from me now ?


[02/23/2023 11:26 PM] code_For_Uss#1058
I will coordinate with you after the API is ready.

Tomorrow the first version of the SDK will be released.


[02/24/2023 10:12 AM] kushti#0000
Awesome!


[02/27/2023 1:14 PM] eilemust#0000
(re  : *<code_For_Uss> I will coordinate with you after the API is ready.

Tomorrow the first version of the SDK will be released.*) 
 
 hey, what is the status of sdk?


[02/27/2023 1:15 PM] eilemust#0000
@kushti_ru are contracts ready, oracle v2 pool initialized?


[02/27/2023 1:22 PM] eilemust#0000
I am trying to understand what is the plan. when dexy will be production ready? after we have bank ui and LP provider? or do we need something else?


[02/27/2023 1:39 PM] code_for_uss#0000
(re @eilemust : *hey, what is the status of sdk?*) 
 
 Freemint part is ready 
I'm wating for @kushti_ru  to accept some part


[02/27/2023 1:45 PM] code_for_uss#0000
I have a question about back part 
I writed APIs for return last Oracle and other boxes but for LP boxes I don't have any idea how can I find them for using the sdk need to pass these boxes as a input so please tell me how can I find LP  boxes. Do you want to get LP box with my backend or another solution exist?


[02/27/2023 1:54 PM] yashablack#0000
@kushti_ru please specify here (https://github.com/kushti/dexy-stable/blob/master/spec/dexy-ui.md) all the conditions wen Dexy is allowed to be minted. Or paste a reference link.

{Embed}
https://github.com/kushti/dexy-stable/blob/master/spec/dexy-ui.md
dexy-stable/dexy-ui.md at master ¬∑ kushti/dexy-stable
Contracts and offchain part of DEXy stablecoin . Contribute to kushti/dexy-stable development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/Wo3rdUITMcFwD-q-Hi9pL9tPA5O-cglFemVVkl7Wkwg/https/opengraph.githubassets.com/0c22a31906968a84a46de636bfe245863d74dbd4b50a533a521ccfdfb1ecfed1/kushti/dexy-stable


[02/27/2023 2:07 PM] kushti#0000
20 min guys


[02/27/2023 2:42 PM] kushti#0000
(re @eilemust : *@kushti_ru are contracts ready, oracle v2 pool initialized?*) 
 
 Contracts are ready except of payout, governance is not decided yet also but any solution will not change interaction


[02/27/2023 3:12 PM] kushti#0000
Oracle pool v2 is working in the testnet only


[02/27/2023 3:13 PM] kushti#0000
But data format is the same as for V1


[02/27/2023 3:13 PM] kushti#0000
and we can emulate it with a simple static box


[02/27/2023 3:37 PM] code_for_uss#0000
(re @code_for_uss : *I have a question about back part 
I writed APIs for return last Oracle and other boxes but for LP boxes I don't have any idea how can I find them for using the sdk need to pass these boxes as a input so please tell me how can I find LP  boxes. Do you want to get LP box with my backend or another solution exist?*) 
 
 @kushti_ru


[02/27/2023 3:43 PM] eilemust#0000
(re @code_for_uss : *I have a question about back part 
I writed APIs for return last Oracle and other boxes but for LP boxes I don't have any idea how can I find them for using the sdk need to pass these boxes as a input so please tell me how can I find LP  boxes. Do you want to get LP box with my backend or another solution exist?*) 
 
 @oskin


[02/27/2023 3:43 PM] eilemust#0000
Can you help?


[02/27/2023 3:45 PM] kushti#0000
(re @code_for_uss : *I have a question about back part 
I writed APIs for return last Oracle and other boxes but for LP boxes I don't have any idea how can I find them for using the sdk need to pass these boxes as a input so please tell me how can I find LP  boxes. Do you want to get LP box with my backend or another solution exist?*) 
 
 Each LP has NFT which identifies it


[02/27/2023 3:45 PM] kushti#0000
e.g.


[02/27/2023 3:45 PM] kushti#0000
https://explorer.ergoplatform.com/en/transactions/a9fafa9fa2c676ad908d0b1e8251374b23f3064e71b923a9fd61ccf846a37d70


[02/27/2023 3:45 PM] kushti#0000
check first token of the first (LP) output


[02/27/2023 3:48 PM] kushti#0000
(re @code_for_uss : *Freemint part is ready 
I'm wating for @kushti_ru  to accept some part*) 
 
 You mean the Q in DMs ?


[02/27/2023 3:48 PM] kushti#0000
(re @yashablack : *@kushti_ru please specify here all the conditions wen Dexy is allowed to be minted. Or paste a reference link.*) 
 
 ok will do later today


[02/27/2023 7:02 PM] code_for_uss#0000
(re @kushti_ru : *You mean the Q in DMs ?*) 
 
 Yes


[02/27/2023 9:59 PM] kushti#0000
(re @code_for_uss : *Yes*) 
 
 Answered, we can discuss such things here as well I think btw


[02/27/2023 10:39 PM] yashablack#0000
(re @kushti_ru : *ok will do later today*) 
 
 Kindly reminding on this


[02/28/2023 12:48 AM] code_for_uss#0000
Guys I added a fee implementor to sdk and talked to kushti about that 

Unfortunately there is not way to prevent bypassing fee implementor by bots so I think it's better to have  a close source sdk and backend for a few months

Please tell me if you have any suggestion !!!!

I choose 0.25% of each TX for fee implementor

Please give me your github account to send invitation


[02/28/2023 12:52 AM] eilemust#0000
(re @code_for_uss : *Guys I added a fee implementor to sdk and talked to kushti about that 

Unfortunately there is not way to prevent bypassing fee implementor by bots so I think it's better to have  a close source sdk and backend for a few months

Please tell me if you have any suggestion !!!!

I choose 0.25% of each TX for fee implementor

Please give me your github account to send invitation*) 
 
 Deadit


[02/28/2023 6:58 AM] code_for_uss#0000
(re @eilemust : *Deadit*) 
 
 Done


[02/28/2023 6:59 AM] code_for_uss#0000
@kushti_ru 
I sent invitation for you


[02/28/2023 7:05 AM] code_for_uss#0000
I will publish package on npm today


[02/28/2023 7:42 AM] code_for_uss#0000
There is a unit test in sdk but due to a problem to loading browser wasm in jest it's impossible to run tests (should be change to nodejs wasm for running tests) I'm looking for another package for unit tests maybe vitest or other


[02/28/2023 10:11 AM] eilemust#0000
(re @code_for_uss : *Guys I added a fee implementor to sdk and talked to kushti about that 

Unfortunately there is not way to prevent bypassing fee implementor by bots so I think it's better to have  a close source sdk and backend for a few months

Please tell me if you have any suggestion !!!!

I choose 0.25% of each TX for fee implementor

Please give me your github account to send invitation*) 
 
 maybe anon_real can help with race


[02/28/2023 12:32 PM] kushti#0000
(re @yashablack : *Kindly reminding on this*) 
 
 Pushed, also added a note on redemption fee @eilemust


[02/28/2023 12:33 PM] kushti#0000
(re @code_for_uss : *Guys I added a fee implementor to sdk and talked to kushti about that 

Unfortunately there is not way to prevent bypassing fee implementor by bots so I think it's better to have  a close source sdk and backend for a few months

Please tell me if you have any suggestion !!!!

I choose 0.25% of each TX for fee implementor

Please give me your github account to send invitation*) 
 
 Another option is to lock it in the protocol for some initial period


[03/01/2023 6:42 AM] code_for_uss#0000
(re @kushti_ru : *Another option is to lock it in the protocol for some initial period*) 
 
 It's good idea 
In fact I think close source project it's not good idea in blockchain projects.


[03/01/2023 10:19 AM] kushti#0000
On the other hand, a lot of possible implications


[03/01/2023 10:19 AM] kushti#0000
Thinking


[03/01/2023 10:19 AM] kushti#0000
but anyway, you can do output in SDK


[03/01/2023 10:19 AM] kushti#0000
whether it will be supported by the protocol or not


[03/01/2023 10:25 AM] kushti#0000
Another issue I am worried about is paying the oracles


[03/01/2023 10:30 AM] code_for_uss#0000
(re @kushti_ru : *whether it will be supported by the protocol or not*) 
 
 Sure 
I added a implementor box in sdk


[03/01/2023 8:49 PM] kushti#0000
One option I am thinking about is to combine oracle pool token with dev fee, something like:

* we issue GERT (gold ecosystem reward token), 50-70% locked in pool 2.0 to reward oracle pool participants for like next 10-20 years , devs and partners are gettin the rest 
* fee is paid to proxy contract which is in turn puts liquidity into GERT/ERG LP 

Payout could do the same, or maybe we can let dexy to be overcollateralized a lot ?


[03/02/2023 11:05 AM] kushti#0000
oh, and GERT bought from LP will go to back to oracles


[03/02/2023 1:23 PM] yashablack#0000
Am I correct in the following suggestions:
1. Default minting operation in the BANK app = send ERG to SC, receive DexyGold
2. If daily minting (1%) is allowed, minting operation = send ERG to SC, receive ERG_DexyGold_LP tokens. (a bit confused by this doc (https://github.com/kushti/dexy-stable/blob/master/spec/dexy-ui.md))
Or did you @kushti_ru mean that it is allowed to mint 1% from the number of Dexy token in the liquidity pool? 
For example we have ERG/DexyGold pool. There are 100k DexyGold tokens at the moment => it is allowed to mint 1k DexyGolds this day.


[03/02/2023 1:24 PM] yashablack#0000
I need this info to prototype nice UX


[03/02/2023 5:08 PM] kushti#0000
(re @yashablack : *Am I correct in the following suggestions:
1. Default minting operation in the BANK app = send ERG to SC, receive DexyGold
2. If daily minting (1%) is allowed, minting operation = send ERG to SC, receive ERG_DexyGold_LP tokens. (a bit confused by this doc)
Or did you @kushti_ru mean that it is allowed to mint 1% from the number of Dexy token in the liquidity pool? 
For example we have ERG/DexyGold pool. There are 100k DexyGold tokens at the moment => it is allowed to mint 1k DexyGolds this day.*) 
 
 In case of daily (free minting), you're sending ERG and getting DexyGold as well, up to 1% of DexyGold in LP, yes


[03/02/2023 5:09 PM] yashablack#0000
(re @kushti_ru : *In case of daily (free minting), you're sending ERG and getting DexyGold as well, up to 1% of DexyGold in LP, yes*) 
 
 Thank.


[03/03/2023 4:35 AM] Vesi Hiisi#0000
(re @kushti_ru : *One option I am thinking about is to combine oracle pool token with dev fee, something like:

* we issue GERT (gold ecosystem reward token), 50-70% locked in pool 2.0 to reward oracle pool participants for like next 10-20 years , devs and partners are gettin the rest 
* fee is paid to proxy contract which is in turn puts liquidity into GERT/ERG LP 

Payout could do the same, or maybe we can let dexy to be overcollateralized a lot ?*) 
 
 You can have both.

Overcollateralize by a lot, but not indefinitely. Aftet a high threshold, divert some payouts to oracles.

Paying oracles is very important imo, because it is an external dependency. Payouts can become larger if dexy scales up, which could attract more people into the oracle pool, which increases resilience.


[03/03/2023 5:52 PM] kushti#0000
(re @Ile : *You can have both.

Overcollateralize by a lot, but not indefinitely. Aftet a high threshold, divert some payouts to oracles.

Paying oracles is very important imo, because it is an external dependency. Payouts can become larger if dexy scales up, which could attract more people into the oracle pool, which increases resilience.*) 
 
 Thinking on that


[03/03/2023 5:53 PM] kushti#0000
Going to write pay-to-oracles-via-LP contract first


[03/03/2023 5:54 PM] kushti#0000
For fees , then can be reused in payout, if it will stay


[03/03/2023 11:26 PM] kushti#0000
@code_for_uss @eilemust how is it going ?


[03/04/2023 2:20 AM] eilemust#0000
(re @kushti_ru : *@code_for_uss @eilemust how is it going ?*) 
 
 Design will be ready Monday Tuesday and after it I will start implement bank ui


[03/04/2023 7:17 AM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss @eilemust how is it going ?*) 
 
 I'm implementing arbitrageMint scenario in sdk 

I'll release backend side asap.


[03/04/2023 9:10 AM] yashablack#0000
(re @kushti_ru : *@code_for_uss @eilemust how is it going ?*) 
 
 Yeah, I've passed product requirements (https://pumped-smartphone-c00.notion.site/Dexy-Bank-a559fcebbc2741c7922ec102c52988a3) to UX designer. We will have 1st version next week and share it here to get your feedback.
You can add your comments in requirements doc btw

{Embed}
https://pumped-smartphone-c00.notion.site/Dexy-Bank-a559fcebbc2741c7922ec102c52988a3
Dexy Bank
Description


[03/04/2023 10:21 PM] kushti#0000
@ScalaHub @code_for_uss extracted contracts into dedicated folder, one contract per file


[03/05/2023 6:47 AM] code_for_uss#0000
(re @kushti_ru : *@ScalaHub @code_for_uss extracted contracts into dedicated folder, one contract per file*) 
 
 In ergo-jde?


[03/05/2023 12:22 PM] ScalaHub#0000
(re @code_for_uss : *In ergo-jde?*) 
 
 dexy-stable


[03/07/2023 11:37 PM] code_for_uss#0000
Arbitragemint is ready on SDK and I'm testing !!


[03/09/2023 12:17 AM] kushti#0000
(re @code_for_uss : *Arbitragemint is ready on SDK and I'm testing !!*) 
 
 awesome news!


[03/09/2023 2:27 PM] yashablack#0000
Hello everyone,
Please check UX mockups (https://www.figma.com/file/6Hcec52oXE4JklvmmSoffn/Dexy-Bank-(Dark)?node-id=1%3A3&t=ctrZKOBPCl9ZVB4i-1) of the Dexy bank and add your comments.
To add comments you need to login to Figma using your google email

{Embed}
https://www.figma.com/file/6Hcec52oXE4JklvmmSoffn/Dexy-Bank-(Dark)?node-id=1%3A3&t=ctrZKOBPCl9ZVB4i-1
Dexy Bank (Dark)
Created with Figma
https://images-ext-1.discordapp.net/external/GYrP-qkt-N7uLZ42xYGIzcSlx31cR-w4THoC_PT8uuQ/%3Fver%3Dthumbnails%2F3125a117-bcb7-41ea-8cb8-7e48a69a0455/https/www.figma.com/file/6Hcec52oXE4JklvmmSoffn/thumbnail


[03/09/2023 2:40 PM] yashablack#0000
For navigation use this button

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1083398970119835739/file_103900.jpg


[03/09/2023 4:46 PM] eilemust#0000
All is ok for me


[03/09/2023 4:46 PM] eilemust#0000
@code_for_uss @kushti_ru


[03/09/2023 9:55 PM] yashablack#0000
For navigation use this button

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1083508363465330748/file_104052.jpg


[03/09/2023 9:55 PM] kushti#0000
Looks good!


[03/09/2023 10:00 PM] kushti#0000
Forwarded from yashablack: We need a logo for the Bank and DexyGold token. Do you have any suggestions?


[03/09/2023 10:01 PM] kushti#0000
@Armeanio any progress with the contest?


[03/09/2023 11:32 PM] yashablack#0000
(re @kushti_ru : *Looks good!*) 
 
 Any additional fees we need to display to a user, except network (miner) fee?


[03/12/2023 10:33 AM] eilemust#0000
@code_for_uss please send me invitation again ‚Äòdeadit‚Äô to github repo


[03/12/2023 11:59 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084445612155600966/file_104485.jpg


[03/12/2023 11:59 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084445613699104828/file_104486.jpg


[03/12/2023 11:59 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084445615364243466/file_104487.jpg


[03/12/2023 11:59 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084445617406869534/file_104488.jpg


[03/12/2023 12:00 PM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084445708448448552/file_104489.tgs.webp


[03/12/2023 6:03 PM] code_for_uss#0000
(re @eilemust : *@code_for_uss please send me invitation again ‚Äòdeadit‚Äô to github repo*) 
 
 Sent üëç


[03/12/2023 6:45 PM] kushti#0000
(re @yashablack : *Any additional fees we need to display to a user, except network (miner) fee?*) 
 
 Lp swap fee is usual, there is redemption fee


[03/12/2023 6:45 PM] kushti#0000
And minting fees in the bank


[03/12/2023 6:55 PM] yashablack#0000
(re @kushti_ru : *And minting fees in the bank*) 
 
 So on the bank app site there will be
- network fee
- bank fee
Per 1 minting operation??


[03/12/2023 6:56 PM] yashablack#0000
What‚Äôs the bank‚Äôs fee logic?


[03/12/2023 9:07 PM] kushti#0000
Mining fee as usually and minting fee yes


[03/13/2023 10:56 AM] eilemust#0000
template +- ready, will start implement logic

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084791987925942272/file_104641.jpg


[03/13/2023 5:18 PM] eilemust#0000
template +- ready, will start implement logic

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1084888224184406127/file_104641.jpg


[03/13/2023 8:21 PM] eilemust#0000
Are test version ready? @code_for_uss @kushti_ru I can create mint tx?


[03/13/2023 8:23 PM] eilemust#0000
Test contracts is live?


[03/13/2023 9:09 PM] kushti#0000
Not yet, you need for bank contracts?


[03/14/2023 1:15 AM] eilemust#0000
(re @kushti_ru : *Not yet, you need for bank contracts?*) 
 
 For bank methods yes


[03/14/2023 11:23 AM] kushti#0000
@code_for_uss minting support ready on your side ?


[03/14/2023 2:30 PM] kushti#0000
btw do we have Spectrum testnet UI ? @yashablack @eilemust


[03/14/2023 2:31 PM] eilemust#0000
dexyusd lp interface?


[03/14/2023 2:32 PM] kushti#0000
LP in general


[03/14/2023 2:34 PM] eilemust#0000
https://app.spectrum.fi/ergo/liquidity

{Embed}
https://app.spectrum.fi/ergo/liquidity
Spectrum
Provide liquidity, swap and exchange assets on top of Ergo and Cardano blockchains
https://images-ext-2.discordapp.net/external/_gVArbiHl4wX_P4Qmzv4RsvnJq-vwt5q7eqLnqk0vIQ/https/app.spectrum.fi/og-image.png


[03/14/2023 2:34 PM] eilemust#0000
yes of course


[03/14/2023 2:35 PM] eilemust#0000
just need to add more settings to dexy LP


[03/14/2023 2:35 PM] eilemust#0000
production ready


[03/14/2023 2:35 PM] eilemust#0000
(re @eilemust : *https://app.spectrum.fi/ergo/liquidity*) 
 
 prod

{Embed}
https://app.spectrum.fi/ergo/liquidity*)
Spectrum
Provide liquidity, swap and exchange assets on top of Ergo and Cardano blockchains
https://images-ext-2.discordapp.net/external/_gVArbiHl4wX_P4Qmzv4RsvnJq-vwt5q7eqLnqk0vIQ/https/app.spectrum.fi/og-image.png


[03/14/2023 2:38 PM] yashablack#0000
(re @kushti_ru : *btw do we have Spectrum testnet UI ? @yashablack @eilemust*) 
 
 Do you mean UI which interacts with testnet? Or just a closed version of UI where we can test the functionality and it doesn‚Äôt matter whether mainnet it or not?


[03/14/2023 2:39 PM] yashablack#0000
We have https://dev.spectrum.fi. It is a development env with mainnet under the hood


[03/14/2023 2:39 PM] kushti#0000
Preferrably, public testnet as gold oracle is running there


[03/14/2023 2:41 PM] yashablack#0000
@ridel1e is it possible to add a switcher to our dev env which will switch to public Ergo testnet network? What‚Äôs the cost?


[03/14/2023 2:42 PM] eilemust#0000
https://testnet.ergoplatform.com/


[03/14/2023 2:47 PM] eilemust#0000
If you need any help with deploy, ping me


[03/14/2023 2:48 PM] kushti#0000
(re @eilemust : *If you need any help with deploy, ping me*) 
 
 can you also deploy gold oracle to the testnet UI ?


[03/14/2023 2:48 PM] eilemust#0000
(re @kushti_ru : *can you also deploy gold oracle to the testnet UI ?*) 
 
 do you have link to API?


[03/14/2023 2:48 PM] kushti#0000
ah  no, what is needed ?


[03/14/2023 2:49 PM] eilemust#0000
public oracle API


[03/14/2023 2:49 PM] eilemust#0000
like we have now to v1


[03/14/2023 2:57 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss minting support ready on your side ?*) 
 
 Yes just there is a update on my side and I will push today


[03/14/2023 4:19 PM] ridel1e#0000
(re @yashablack : *@ridel1e is it possible to add a switcher to our dev env which will switch to public Ergo testnet network? What‚Äôs the cost?*) 
 
 Yep, it's possible. We need not much time i think. 1.5-2d approximately


[03/14/2023 5:01 PM] code_for_uss#0000
(re @code_for_uss : *Yes just there is a update on my side and I will push today*) 
 
 - pushed a fix bug for freemint 
- added arbitrageMint to sdk


[03/14/2023 8:27 PM] code_for_uss#0000
@eilemust 
If you need any help for logic part and integration of SDK, I can help you or contribute on your side just tell me üëç


[03/14/2023 8:30 PM] kushti#0000
Working on buyback script, tomorrow will do tests for it and then injection into fee scripts


[03/15/2023 11:22 AM] kushti#0000
So what to report during today's devchat ?


[03/15/2023 11:23 AM] eilemust#0000
Working on frontend side, design for dexy is ready


[03/15/2023 12:12 PM] code_For_Uss#1058
freeMint and arbitrageMint are ready and added a unit test for each of them.
The backend side is developing after the first version of backend APIs, I'm going to add more scenarios to SDK.


[03/15/2023 12:52 PM] kushti#0000
On my side, buyback script seems to be ready, starting to work on tests for it


[03/15/2023 1:44 PM] eilemust#0000
(re @yashablack : *Hello everyone,
Please check UX mockups of the Dexy bank and add your comments.
To add comments you need to login to Figma using your google email*) 
 
 mockups doesnt open for me, can you check?


[03/15/2023 2:02 PM] yashablack#0000
(re @eilemust : *mockups doesnt open for me, can you check?*) 
 
 We didn‚Äôt change any permission settings


[03/15/2023 2:03 PM] eilemust#0000
(re @yashablack : *We didn‚Äôt change any permission settings*) 
 
 Ty. All is ok on mobile. Maybe browser issue


[03/17/2023 10:18 PM] kushti#0000
Actually, lp contract in dexy is done differently from ErgoDex EIP contract, monotolithic contract is split into different actions here, which affects offchain logic as well


[03/18/2023 11:05 AM] eilemust#0000
@code_for_uss are you deployed your sdk to NPM ?


[03/18/2023 11:05 AM] eilemust#0000
https://www.npmjs.com/package/@ergolabs/ergo-dex-sdk like this

{Embed}
https://www.npmjs.com/package/@ergolabs/ergo-dex-sdk
@ergolabs/ergo-dex-sdk
ErgoDEX SDK. Latest version: 1.9.58, last published: 14 days ago. Start using @ergolabs/ergo-dex-sdk in your project by running `npm i @ergolabs/ergo-dex-sdk`. There are no other projects in the npm registry using @ergolabs/ergo-dex-sdk.
https://images-ext-1.discordapp.net/external/2wk8OcHCn611djWAWkrbos0ZdT46qDFw0Q3s_CuGp0E/https/static.npmjs.com/338e4905a2684ca96e08c7780fc68412.png


[03/18/2023 11:12 AM] eilemust#0000
I checked sdk
you think I have all of this parameters at the frontend? 
can you please text where I can get them

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1086607958017855518/file_105476.jpg


[03/18/2023 11:12 AM] eilemust#0000
txFee = ok 
amount = ok
all others?


[03/18/2023 11:12 AM] eilemust#0000
user_address = ok
height = ok


[03/18/2023 11:14 AM] code_for_uss#0000
(re @eilemust : *@code_for_uss are you deployed your sdk to NPM ?*) 
 
 No due to we have a private repo for SDK, you can start implementing with local publish until we decide about fee implementor after that, I can put public repo and publish a public npm release.


[03/18/2023 11:16 AM] eilemust#0000
Give me time I give you parameters which I need to find


[03/18/2023 11:17 AM] eilemust#0000
freeMintIn: ErgoBox, 
bankBoxIn: ErgoBox,
lpBox: ErgoBox,
oracleBox: ErgoBox,

this parameters I think we can put into code?


[03/18/2023 11:17 AM] eilemust#0000
as constants


[03/18/2023 11:17 AM] eilemust#0000
I think I dont need to send them every tx?


[03/18/2023 11:18 AM] code_for_uss#0000
(re @eilemust : *user_address = ok
height = ok*) 
 
 Also you should fill user boxes with help of nautilus or other methods in front.

For other boxes I implemented in backend side and you should fetch them from my backend after deploy.


[03/18/2023 11:19 AM] eilemust#0000
yes, user utxos I have


[03/18/2023 11:19 AM] eilemust#0000
you think other parameters is not constants?


[03/18/2023 11:19 AM] eilemust#0000
(re @code_for_uss : *Also you should fill user boxes with help of nautilus or other methods in front.

For other boxes I implemented in backend side and you should fetch them from my backend after deploy.*) 
 
 when you will deploy it?


[03/18/2023 11:20 AM] code_for_uss#0000
(re @eilemust : *I think I dont need to send them every tx?*) 
 
 We should spend bank and free mint box In freemint contract and we need latest box of lp and Oracle as data input


[03/18/2023 11:21 AM] code_for_uss#0000
(re @code_for_uss : *We should spend bank and free mint box In freemint contract and we need latest box of lp and Oracle as data input*) 
 
 So they can't be constantly


[03/18/2023 11:22 AM] code_for_uss#0000
I can prepare a minimal diagram about this scenario for clear that!


[03/18/2023 11:23 AM] eilemust#0000
After sending the tx, some of this parameters will immediately changed?


[03/18/2023 11:24 AM] eilemust#0000
will we have a transaction race on the frontendside? 
I get boxes from backend 
some user1 did tx
user2 cant do tx with the same parameters


[03/18/2023 11:29 AM] code_for_uss#0000
(re @eilemust : *will we have a transaction race on the frontendside? 
I get boxes from backend 
some user1 did tx
user2 cant do tx with the same parameters*) 
 
 Yes there is a new box for new user (freemint and bank definitely change for user1, and there are new boxes for user2


[03/18/2023 11:30 AM] eilemust#0000
Ok, so I need to get it when I click on submit TX


[03/18/2023 11:31 AM] code_for_uss#0000
(re @eilemust : *Ok, so I need to get it when I click on submit TX*) 
 
 Yes 
You need fetch new boxes for create each tx


[03/18/2023 11:33 AM] eilemust#0000
After it user will go to wallet and accept this TX and (explorer node?) will validate this tx

If validation fail user will get error
if success it just go to mempool 

so we can have error after user accept tx on his wallet


[03/18/2023 11:34 AM] eilemust#0000
ah, no, wallet will validate this TX and submit it


[03/18/2023 11:35 AM] eilemust#0000
but user can get error in wallet and will not understand why it fails


[03/18/2023 11:35 AM] eilemust#0000
not good


[03/18/2023 11:36 AM] eilemust#0000
(


[03/18/2023 11:39 AM] eilemust#0000
ok nvm I think we cant avoid it


[03/18/2023 11:39 AM] eilemust#0000
(re @code_for_uss : *Also you should fill user boxes with help of nautilus or other methods in front.

For other boxes I implemented in backend side and you should fetch them from my backend after deploy.*) 
 
 when you will deploy it?


[03/18/2023 11:43 AM] eilemust#0000
is there anything I can do now? seems we dont have contracts deployed yet? and I can't mint dexy?


[03/18/2023 11:50 AM] code_for_uss#0000
(re @eilemust : *ah, no, wallet will validate this TX and submit it*) 
 
 prepare createMint func inputs (and fetch dependency boxes from backend side) ‚Äî> call mint function of SDK and give a unsignedTx and other needed data for sign tx as output of function in SDK ‚Äî> sign tx in your side (front) with wallet of user and validate TX in wallet and submit that.


[03/18/2023 11:53 AM] code_for_uss#0000
(re @eilemust : *not good*) 
 
 There is a verify transaction in sdk but not complete yet some parts in mint scenario will be validate and I can throw some error and reason of problems


[03/18/2023 11:54 AM] code_for_uss#0000
(re @eilemust : *when you will deploy it?*) 
 
 I will complete and deploy it with help of kushti until next deployment meeting or maybe earlier


[03/18/2023 11:55 AM] eilemust#0000
when you have deployment meeting?


[03/18/2023 11:57 AM] code_for_uss#0000
(re @eilemust : *is there anything I can do now? seems we dont have contracts deployed yet? and I can't mint dexy?*) 
 
 I guess you can test mint scenario with help of mock data in sdk in your side for integrate and after deploy backend replace it


[03/18/2023 11:59 AM] code_for_uss#0000
(re @eilemust : *when you have deployment meeting?*) 
 
 I mean ergo deployment meeting on Wednesday .
But I think backend will be ready earlier, just deploy contract takes time.


[03/18/2023 12:34 PM] Vesi Hiisi#0000
Test deploy or mainnet?

For the mainnet I would recommend considering the timing from trader perspective too.

It will be difficult start, if gold pumps and erg goes down.


[03/18/2023 12:37 PM] code_for_uss#0000
(re @Ile : *Test deploy or mainnet?

For the mainnet I would recommend considering the timing from trader perspective too.

It will be difficult start, if gold pumps and erg goes down.*) 
 
 Test deploy


[03/18/2023 1:01 PM] kushti#0000
For test deployment, probably can start from Tue


[03/20/2023 2:56 PM] kushti#0000
Finished oracle tokens buyback contract, going to incorporate it pay-2-buyback into minting scripts and then can start testnet deployment


[03/20/2023 2:56 PM] kushti#0000
how is it going? @code_for_uss @eilemust


[03/20/2023 3:08 PM] eilemust#0000
Checked out SDK that @code_for_uss  did
Working on adding mint dexy scenario with mockdata
Finishing adding DexyGold/ERG oracle to explorer, Greenhat did API for me, will deploy today


[03/20/2023 5:07 PM] eilemust#0000
https://testnet.ergoplatform.com/en/oracle-pool-state/dexyerg


[03/20/2023 5:15 PM] kushti#0000
Why dexy gold


[03/20/2023 5:15 PM] kushti#0000
Just gold


[03/20/2023 5:20 PM] yashablack#0000
(re @eilemust : *https://testnet.ergoplatform.com/en/oracle-pool-state/dexyerg*) 
 
 So expensive gold)


[03/20/2023 5:21 PM] kushti#0000
1 kg of it

{Reactions}
kushtii 

[03/20/2023 5:21 PM] kushti#0000
Indeed


[03/20/2023 5:21 PM] eilemust#0000
üòÅüòÅüòÅ


[03/20/2023 5:21 PM] yashablack#0000
Oh, if one kilo then ok


[03/21/2023 11:05 PM] kushti#0000
Adding paying to buyback contract to mint actions


[03/21/2023 11:05 PM] kushti#0000
Then there will be need to modify sdk

{Reactions}
üëç 

[03/21/2023 11:06 PM] kushti#0000
But I can proceed with deploying testnet contracts in psrallel


[03/22/2023 9:18 AM] code_For_Uss#1058
it's good


[03/22/2023 9:20 AM] code_For_Uss#1058
please tag me after update contracts!


[03/22/2023 12:30 PM] kushti#0000
Updates for the dev chat?


[03/22/2023 12:34 PM] eilemust#0000
Oracle v2 deployed to https://testnet.ergoplatform.com/en/oracle-pool-state/dexyerg
Working on DexyBank UI..


[03/22/2023 7:11 PM] eilemust#0000
@code_for_uss my friend not see method which will calculate how much I get dexyGold from amount of ERGs

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1088178062912397453/file_106123.jpg


[03/22/2023 7:11 PM] eilemust#0000
@code_for_uss my friend I dont see method which will calculate how much I get dexyGold from amount of ERGs

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1088178141471723651/file_106123.jpg


[03/22/2023 7:12 PM] eilemust#0000
also need to open ergNeededWithFee from private to public


[03/22/2023 8:48 PM] kushti#0000
Mint contracts updated


[03/22/2023 9:04 PM] eilemust#0000
(re @code_for_uss : *I mean ergo deployment meeting on Wednesday .
But I think backend will be ready earlier, just deploy contract takes time.*) 
 
 Hey, what is backend current state?


[03/22/2023 9:17 PM] kushti#0000
(re  : *<code_For_Uss> please tag me after update contracts!*) 
 
 Both arb mint and free mint contracts are updated, now there're mandatory input #2 and output #2 in both, please check ArbMintSpec and FreeMintSpec on how to use


[03/22/2023 9:17 PM] kushti#0000
(first test shows ok case)


[03/23/2023 12:22 PM] kushti#0000
Fixed ArbMintSpec


[03/23/2023 12:23 PM] kushti#0000
Going to deploy testnet tokens and contracts


[03/23/2023 2:19 PM] kushti#0000
@code_for_uss how is it going?


[03/24/2023 1:09 AM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss how is it going?*) 
 
 Hi
I'm checking changes on contracts to update sdk according that


[03/24/2023 1:20 AM] code_For_Uss#1058
Why? Do you need any extra information on your side? I guess ergNeeded function should be ok on your side anyway after updating contracts, the implementor box, and these functions should be change.


[03/24/2023 1:37 AM] code_For_Uss#1058
ok, so you need an inverse function of ergNeeded, to get needed erg as input and return the amount of dexy corresponding to erg?
I doubt if erg -> token is good or not, according to the Sigmausd protocol, in Sigmausd all Purchase and Redeem scenarios are implemented according to token -> erg, please check and tell me if you need to add this function to SDK.


[03/24/2023 7:51 AM] eilemust#0000
okay, I will disable erg input


[03/24/2023 7:51 AM] eilemust#0000
maybe enable it later


[03/24/2023 7:51 AM] eilemust#0000
thanks for reply


[03/24/2023 12:25 PM] code_for_uss#0000
@kushti_ru
As I understand giveback scenario just handles the Oracle's fee and it isn't related to implementor fee! am I right??


[03/24/2023 12:27 PM] kushti#0000
(re @code_for_uss : *@kushti_ru
As I understand giveback scenario just handles the Oracle's fee and it isn't related to implementor fee! am I right??*) 
 
 Yes, but actually I think to give a portion of oracle reward tokens to developers


[03/24/2023 12:27 PM] kushti#0000
So those things are now doing the same thing


[03/24/2023 12:27 PM] kushti#0000
But oracles reward is fixed by the dexy protocol


[03/24/2023 12:34 PM] code_for_uss#0000
(re @kushti_ru : *Yes, but actually I think to give a portion of oracle reward tokens to developers*) 
 
 Ok thanks, actually the reason for my question is whether we still need the implementor box or not in sdk?


[03/24/2023 12:35 PM] kushti#0000
ah so now maybe not


[03/24/2023 12:36 PM] code_for_uss#0000
(re @kushti_ru : *ah so now maybe not*) 
 
 Ok üëç


[03/24/2023 12:36 PM] code_for_uss#0000
Going to remove implementor box and public the git repository


[03/24/2023 12:38 PM] kushti#0000
Will work on oracle token distribution planning after testnet deployment


[03/24/2023 12:38 PM] code_for_uss#0000
(re @code_for_uss : *Going to remove implementor box and public the git repository*) 
 
 @eilemust 
So i can publish sdk on npm asap!!


[03/24/2023 12:39 PM] code_for_uss#0000
(re @kushti_ru : *Will work on oracle token distribution planning after testnet deployment*) 
 
 Nice üëç


[03/24/2023 11:28 PM] code_for_uss#0000
@kushti_ru @eilemust 

- sdk and unit tests updated according to buyback changes
- changed github repo visibility to public
- published npm package of sdk 
dexy-sdk-ts@0.0.1

Note: @eilemust I have a refactoring plan on sdk after completing all services on my side I guess my codes isn't clear enough due to time limits so maybe change structure of sdk!!


[03/25/2023 5:11 AM] eilemust#0000
(re @code_for_uss : *@kushti_ru @eilemust 

- sdk and unit tests updated according to buyback changes
- changed github repo visibility to public
- published npm package of sdk 
dexy-sdk-ts@0.0.1

Note: @eilemust I have a refactoring plan on sdk after completing all services on my side I guess my codes isn't clear enough due to time limits so maybe change structure of sdk!!*) 
 
 No problem


[03/25/2023 10:45 AM] eilemust#0000
@code_for_uss downloaded your sdk


[03/25/2023 10:45 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089138042364764200/file_106497.jpg


[03/25/2023 10:45 AM] eilemust#0000
please add declaration: true to TS config


[03/25/2023 10:46 AM] eilemust#0000
it will generate types when you build package and I can use them


[03/25/2023 10:56 AM] code_for_uss#0000
(re @eilemust : *it will generate types when you build package and I can use them*) 
 
 Ok üëç


[03/25/2023 10:58 AM] eilemust#0000
for tests try to use https://www.npmjs.com/package/ergo-lib-wasm-nodejs

{Embed}
https://www.npmjs.com/package/ergo-lib-wasm-nodejs
ergo-lib-wasm-nodejs
WASM bindings for ergo-lib. Latest version: 0.23.0, last published: 2 months ago. Start using ergo-lib-wasm-nodejs in your project by running `npm i ergo-lib-wasm-nodejs`. There are 13 other projects in the npm registry using ergo-lib-wasm-nodejs.
https://images-ext-1.discordapp.net/external/2wk8OcHCn611djWAWkrbos0ZdT46qDFw0Q3s_CuGp0E/https/static.npmjs.com/338e4905a2684ca96e08c7780fc68412.png


[03/25/2023 10:59 AM] eilemust#0000
ah and it seems something wrong in sdk

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089141575059259452/file_106500.jpg


[03/25/2023 11:02 AM] eilemust#0000
@oskin Ilya can you help? how he can use ergo-lib-wasm in sdk?


[03/25/2023 11:03 AM] eilemust#0000
hmm


[03/25/2023 11:03 AM] eilemust#0000
maybe you can use ergo-sdk at yours


[03/25/2023 11:03 AM] eilemust#0000
ergo-sdk already has ergo-lib-wasm


[03/25/2023 11:04 AM] code_for_uss#0000
(re @eilemust : *for tests try to use https://www.npmjs.com/package/ergo-lib-wasm-nodejs*) 
 
 It's not enough I tested this solution, for running tests all imports in modules should be change to nodejs


[03/25/2023 11:04 AM] eilemust#0000
(re @code_for_uss : *It's not enough I tested this solution, for running tests all imports in modules should be change to nodejs*) 
 
 jest can change imports from one to another I think


[03/25/2023 11:04 AM] eilemust#0000
okay


[03/25/2023 11:04 AM] eilemust#0000
for now need to understand how we can use ergo-lib-wasm in yours sdk


[03/25/2023 11:05 AM] eilemust#0000
now it is broken


[03/25/2023 11:05 AM] code_for_uss#0000
(re @eilemust : *jest can change imports from one to another I think*) 
 
 I will check today


[03/25/2023 11:05 AM] eilemust#0000
https://github.com/spectrum-finance/ergo-sdk-js

{Embed}
https://github.com/spectrum-finance/ergo-sdk-js
GitHub - spectrum-finance/ergo-sdk-js: Ergo JS SDK
Ergo JS SDK. Contribute to spectrum-finance/ergo-sdk-js development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/dDw_CjNqJQ3TKCdJF0JGKcpKaOk3ZNqdnRM2nuWGAJU/https/opengraph.githubassets.com/b063d2858dccbebcf1c110b7840b8f58a417e9601f014dbd58d5b9bf8f3ff0a9/spectrum-finance/ergo-sdk-js


[03/25/2023 11:05 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089142998090129468/file_106502.jpg


[03/25/2023 11:06 AM] code_for_uss#0000
(re @eilemust : *now it is broken*) 
 
 How can run your code in my system for finding problem? Is there in github which branch?


[03/25/2023 11:07 AM] eilemust#0000
I can push


[03/25/2023 11:07 AM] eilemust#0000
5 min


[03/25/2023 11:07 AM] code_for_uss#0000
üëç


[03/25/2023 11:08 AM] eilemust#0000
use 16.15.0 node version and yarn as package manager


[03/25/2023 11:09 AM] eilemust#0000
https://github.com/ergoplatform/dexy-usd-bank-ui

{Embed}
https://github.com/ergoplatform/dexy-usd-bank-ui
GitHub - ergoplatform/dexy-usd-bank-ui
Contribute to ergoplatform/dexy-usd-bank-ui development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/-gU5igMl3rellaFAVOcb_ZIcUDyHQfvw7MbJL5LtBIE/https/opengraph.githubassets.com/dd959760f68278f89e68ed9ce3762bc74e7aa5bdaba61011281ee6c8a202915c/ergoplatform/dexy-usd-bank-ui


[03/25/2023 11:18 AM] eilemust#0000
Give me time maybe I find the solution


[03/25/2023 11:19 AM] eilemust#0000
nope, problem in sdk

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089146602091978843/file_106504.jpg


[03/25/2023 11:20 AM] eilemust#0000
but I found how I can use ergo-dex-sdk to create oracleBox

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089146693183869008/file_106505.jpg


[03/25/2023 11:20 AM] eilemust#0000
you need to change all code from ergo-lib-wasm-browser to ergo-dex-sdk RustModule.SigmaRust I think


[03/25/2023 11:21 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089147038094069820/file_106506.jpg


[03/25/2023 11:21 AM] eilemust#0000
it has all what you need


[03/25/2023 11:21 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089147099477712906/file_106507.jpg


[03/25/2023 11:22 AM] eilemust#0000
yes, just use this one


[03/25/2023 11:22 AM] eilemust#0000
In app I need to load RustModule


[03/25/2023 11:22 AM] eilemust#0000
and your sdk will work


[03/25/2023 11:23 AM] eilemust#0000
just change import to ergo-sdk*


[03/25/2023 11:23 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089147574352625714/tg_image_2951174217.jpeg


[03/25/2023 11:23 AM] eilemust#0000
(re @eilemust : *you need to change all code from ergo-lib-wasm-browser to ergo-dex-sdk RustModule.SigmaRust I think*) 
 
 not ergo-dex-sdk


[03/25/2023 11:26 AM] eilemust#0000
when you can push updates? @code_for_uss


[03/25/2023 11:27 AM] code_for_uss#0000
I'm checking


[03/25/2023 11:27 AM] eilemust#0000
good, Im waiting


[03/25/2023 11:38 AM] code_for_uss#0000
(re @eilemust : *ah and it seems something wrong in sdk*) 
 
 How can I reproduce this error ?


[03/25/2023 11:40 AM] eilemust#0000
pull latest commit


[03/25/2023 11:47 AM] eilemust#0000
(re @code_for_uss : *How can I reproduce this error ?*) 
 
 reproduced?


[03/25/2023 11:47 AM] code_for_uss#0000
Yes


[03/25/2023 11:47 AM] eilemust#0000
great


[03/25/2023 12:11 PM] code_For_Uss#1058
I guess the problem is your lock file please remove and index packages again


[03/25/2023 12:12 PM] eilemust#0000
no


[03/25/2023 12:12 PM] eilemust#0000
it will broke the app and it is not this problem


[03/25/2023 12:13 PM] eilemust#0000
problem in ergo-lib-wasm-browser


[03/25/2023 12:13 PM] eilemust#0000
you use it without wasm-loader


[03/25/2023 12:13 PM] code_for_uss#0000
I don't have previous error after remove lock file and reindex packages


[03/25/2023 12:13 PM] eilemust#0000
you need to change imports to ergo-sdk and all will be ok


[03/25/2023 12:13 PM] eilemust#0000
(re @code_for_uss : *I don't have previous error after remove lock file and reindex packages*) 
 
 strange


[03/25/2023 12:14 PM] eilemust#0000
will try


[03/25/2023 12:17 PM] code_for_uss#0000
(re @eilemust : *you need to change imports to ergo-sdk and all will be ok*) 
 
 I think ergo-sdk isn't a good solution for example if we need a specific feature of wasm in last version  we should wait for DeX team to update versions.


[03/25/2023 12:18 PM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089161292419436714/file_106512.jpg


[03/25/2023 12:18 PM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089161397306413197/file_106513.jpg


[03/25/2023 12:18 PM] eilemust#0000
the same


[03/25/2023 12:18 PM] eilemust#0000
(re @code_for_uss : *I think ergo-sdk isn't a good solution for example if we need a specific feature of wasm in last version  we should wait for DeX team to update versions.*) 
 
 it is good, oskin is core dev at ergo


[03/25/2023 12:19 PM] eilemust#0000
and we can create PR to update it


[03/25/2023 12:20 PM] eilemust#0000
open-sourced library too


[03/25/2023 12:21 PM] eilemust#0000
(re @eilemust : **) 
 
 problem as I said previously


[03/25/2023 12:55 PM] code_For_Uss#1058
Ok, I checked I had a problem with using RustModule.SigmaRust for type declration need more time to fix problem
unfortunately, I should go out and I will fix this when I come back


[03/25/2023 12:56 PM] eilemust#0000
(re  : *<code_For_Uss> Ok, I checked I had a problem with using RustModule.SigmaRust for type declration need more time to fix problem
unfortunately, I should go out and I will fix this when I come back*) 
 
 give me screens with problem


[03/25/2023 12:56 PM] eilemust#0000
maybe I can help


[03/25/2023 12:56 PM] eilemust#0000
when you come back

{Reactions}
üëç 

[03/25/2023 1:03 PM] eilemust#0000
*Data* f*rom* b*ackend* what I need at interface 

Oracle Price (? maybe I can use same api as explorer)
Liquidity Pool Price (maybe spectrum team have it)
History data for bank reserves (api can be discussed) 
How much DexyGold minted (api can be discussed) 
buybackBoxIn
bankBoxIn
lpBox
oracleBox
arbitrageMintIn
tracking101Box


[03/25/2023 1:03 PM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089172754764406824/file_106517.jpg


[03/25/2023 1:03 PM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1089172760355414036/file_106518.jpg


[03/25/2023 1:04 PM] eilemust#0000
(re @eilemust : *Data from backend what I need at interface 

Oracle Price (? maybe I can use same api as explorer)
Liquidity Pool Price (maybe spectrum team have it)
History data for bank reserves (api can be discussed) 
How much DexyGold minted (api can be discussed) 
buybackBoxIn
bankBoxIn
lpBox
oracleBox
arbitrageMintIn
tracking101Box*) 
 
 @code_for_uss cc


[03/26/2023 4:10 PM] eilemust#0000
I have problem at the frontend with @code_for_uss SDK, spent all day to find the fix, but no luck


[03/26/2023 4:11 PM] eilemust#0000
searching solution...


[03/26/2023 7:29 PM] kushti#0000
(re @eilemust : *I have problem at the frontend with @code_for_uss SDK, spent all day to find the fix, but no luck*) 
 
 Any details?


[03/26/2023 7:29 PM] eilemust#0000
(re @kushti_ru : *Any details?*) 
 
 Wasm problems


[03/26/2023 7:30 PM] eilemust#0000
Wasm is a big issue -_-


[03/26/2023 7:37 PM] kushti#0000
Maybe better to avoid it?


[03/26/2023 7:41 PM] eilemust#0000
(re @kushti_ru : *Maybe better to avoid it?*) 
 
 We can‚Äôt


[03/26/2023 7:41 PM] eilemust#0000
It‚Äôs need to build the tx


[03/26/2023 7:42 PM] eilemust#0000
I have one more idea


[03/26/2023 7:42 PM] eilemust#0000
Will try


[03/27/2023 6:00 AM] eilemust#0000
seems fixed, waiting @code_for_uss


[03/27/2023 11:41 AM] code_for_uss#0000
@eilemust 
dexy-sdk-ts@0.0.3
Released !


[03/27/2023 11:44 AM] eilemust#0000
(re @code_for_uss : *@eilemust 
dexy-sdk-ts@0.0.3
Released !*) 
 
 it works!


[03/27/2023 11:46 AM] eilemust#0000
waiting backend from you üòÑ


[03/27/2023 12:20 PM] kushti#0000
deployed 5 contracts, going further


[03/27/2023 3:07 PM] kushti#0000
tracking and bank contracts deployed to the testnet


[03/27/2023 7:55 PM] eilemust#0000
finishing charts for bank reserves and circulating supply and will deploy front next


[03/27/2023 8:11 PM] eilemust#0000
(re @kushti_ru : *deployed 5 contracts, going further*) 
 
 When Spectrum guys can start develop liquidity provider?


[03/28/2023 8:20 AM] kushti#0000
@yashablack ^?


[03/28/2023 1:07 PM] kushti#0000
Also please note that lp is bit modified in dexy


[03/28/2023 1:08 PM] yashablack#0000
(re @kushti_ru : *@yashablack ^?*) 
 
 Is sdk for that ready?


[03/28/2023 2:28 PM] kushti#0000
(re @yashablack : *Is sdk for that ready?*) 
 
 @code_for_uss


[03/28/2023 2:28 PM] kushti#0000
deployed LP contracts, testnet data https://github.com/kushti/dexy-stable/blob/master/spec/deployment.md

{Embed}
https://github.com/kushti/dexy-stable/blob/master/spec/deployment.md
dexy-stable/deployment.md at master ¬∑ kushti/dexy-stable
Contracts and offchain part of DEXy stablecoin . Contribute to kushti/dexy-stable development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/1SPqmZuus3fGHcKx3MEuC7aEC3CMo8oEPfbPSJ3_Wq0/https/opengraph.githubassets.com/051814cba8b45043de1d2daa1abcce61142df6862d7d22befc8f6ecc4129eb1a/kushti/dexy-stable


[03/28/2023 2:29 PM] eilemust#0000
(re @yashablack : *Is sdk for that ready?*) 
 
 not yet


[03/28/2023 2:36 PM] yashablack#0000
Regrettably, at the moment, we lack the dev resources to participate in the development of the SDK. Our current priority is to vigorously test the Yield Farming contracts/UI and launch the Cardano AMM. However, if you have the time and capacity to create a JS-SDK for the LQ component of the DEXY system, I would greatly appreciate it.
After it is finished, I will integrate the sdk to the SPF frontend app


[03/28/2023 2:39 PM] eilemust#0000
(re @yashablack : *Is sdk for that ready?*) 
 
 I dont understand, you have already sdk, what you need from us?


[03/28/2023 2:39 PM] eilemust#0000
we need to update your current sdk I think


[03/28/2023 2:39 PM] eilemust#0000
with some settings


[03/28/2023 2:39 PM] kushti#0000
Modify current sdk for dexy I guess


[03/28/2023 2:40 PM] eilemust#0000
@yashablack go direct


[03/28/2023 2:59 PM] Ilya | Spectrum#0000
(re @kushti_ru : *Modify current sdk for dexy I guess*) 
 
 Yes, creating a service like this for Dexy Pool actions should be a good task to start with
https://github.com/spectrum-finance/ergo-dex-sdk-js/blob/0e2597dda3147d9a68ce246cadab820aec0a5170/src/amm/common/interpreters/poolActions.ts#L9

{Embed}
https://github.com/spectrum-finance/ergo-dex-sdk-js/blob/0e2597dda3147d9a68ce246cadab820aec0a5170/src/amm/common/interpreters/poolActions.ts
ergo-dex-sdk-js/poolActions.ts at 0e2597dda3147d9a68ce246cadab820ae...
JavaScript SDK for the Ergo side of the protocol. Contribute to spectrum-finance/ergo-dex-sdk-js development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Q9I9Rg5tRl733gpJwZc9zos9CoEcIRL-_ikrvT9EZHI/https/opengraph.githubassets.com/1f9b7d20ef1eeeb6fd6c37739ba7a3ac4fc64e0198067bf8ac9ee432248acd01/spectrum-finance/ergo-dex-sdk-js


[03/28/2023 3:05 PM] yashablack#0000
(re @oskin : *Yes, creating a service like this for Dexy Pool actions should be a good task to start with
https://github.com/spectrum-finance/ergo-dex-sdk-js/blob/0e2597dda3147d9a68ce246cadab820aec0a5170/src/amm/common/interpreters/poolActions.ts#L9*) 
 
 My position is against modifying the ergo-dex-sdk-js repository since its purpose is solely to serve as a gateway to the AMM protocol. To adhere to best practices in software development, such as SOLID, we should avoid turning the ergo-dex-sdk-js repository into a catch-all for various functionalities.

My suggestion is to create a new package that depends on the ergo-dex-sdk-js package, which I propose we call "ergo-dex-sdk-js-dexy". This new package would be designed to meet the technical requirements, providing two methods: "redeemDexyPoolOperation(txInputs): void" and "isRedeemPossible(): bool". I assume that the ‚Äúdeposit‚Äù operation can be already used from ergo-dex-sdk-js

What are your thoughts on this proposal?

{Embed}
https://github.com/spectrum-finance/ergo-dex-sdk-js/blob/0e2597dda3147d9a68ce246cadab820aec0a5170/src/amm/common/interpreters/poolActions.ts
ergo-dex-sdk-js/poolActions.ts at 0e2597dda3147d9a68ce246cadab820ae...
JavaScript SDK for the Ergo side of the protocol. Contribute to spectrum-finance/ergo-dex-sdk-js development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Q9I9Rg5tRl733gpJwZc9zos9CoEcIRL-_ikrvT9EZHI/https/opengraph.githubassets.com/1f9b7d20ef1eeeb6fd6c37739ba7a3ac4fc64e0198067bf8ac9ee432248acd01/spectrum-finance/ergo-dex-sdk-js


[03/28/2023 3:07 PM] kushti#0000
Sounds reasonable, on Spectrum side how do you do sdk fir stable swap lp though?


[03/28/2023 3:08 PM] eilemust#0000
(re @yashablack : *My position is against modifying the ergo-dex-sdk-js repository since its purpose is solely to serve as a gateway to the AMM protocol. To adhere to best practices in software development, such as SOLID, we should avoid turning the ergo-dex-sdk-js repository into a catch-all for various functionalities.

My suggestion is to create a new package that depends on the ergo-dex-sdk-js package, which I propose we call "ergo-dex-sdk-js-dexy". This new package would be designed to meet the technical requ...*) 
 
 Thanks for clarifying


[03/28/2023 3:10 PM] yashablack#0000
(re @kushti_ru : *Sounds reasonable, on Spectrum side how do you do sdk fir stable swap lp though?*) 
 
 This will be added to the ergo-dex-sdk-js repository once developed as a part of the protocol, but we are not very close to completing this one.


[03/29/2023 2:03 PM] kushti#0000
@code_for_uss is your sdk working with tracking boxes? I mean, updating them


[03/29/2023 2:08 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss is your sdk working with tracking boxes? I mean, updating them*) 
 
 yes tracking boxes is using in arbitrageMint


[03/29/2023 2:47 PM] kushti#0000
But we need to listen oracle and pool to update tracking boxes as well


[03/29/2023 2:47 PM] kushti#0000
I can do it on my side for now


[03/29/2023 2:55 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss is your sdk working with tracking boxes? I mean, updating them*) 
 
 oh no, I'm using tracking just as dataInput and I don't have any code for spending tracking boxes if you mean that.


[03/29/2023 2:57 PM] code_for_uss#0000
(re @kushti_ru : *But we need to listen oracle and pool to update tracking boxes as well*) 
 
 I can do that in backend side I should have the latest status of oracle in backend so I can updating tracking boxes automatically but for now I don't have time for that. is there unit test for update tracking boxes?


[03/29/2023 2:57 PM] kushti#0000
Yes there are kiosk based tests


[03/30/2023 2:29 PM] eilemust#0000
@code_for_uss hello! What is backend status?)) when you will deploy it


[03/30/2023 2:30 PM] code_for_uss#0000
> (re @eilemust : *@code_for_uss hello! What is backend status?))...*)
         
        Hi
Sorry, these days I was very busy but I get access to a server from Kushti and I hope that I can deploy some parts of backend in weekend and after that we should talk about other api's for details


[03/30/2023 4:11 PM] kushti#0000
I am updating simulations and then payout contract


[03/30/2023 4:11 PM] kushti#0000
Can write code to update tracking boxes over the weekend


[03/31/2023 2:07 PM] kushti#0000
Ile do we really need to mint in the LP when too much reserves in the bank ?


[03/31/2023 2:21 PM] Vesi Hiisi#0000
> (re @kushti_ru : *Ile do we really need to mint in the LP when t...*)
         
        Do you mean protocol accumulating LP tokens vs. Only market participants owning LP tokens?

I think the protocol gaining and building security through trade fees is important, and a guaranteed level of liquidity supports price stability.

Sigmausd exemplifies the fee generation problem. A ton of people could swap sigusd back and forth in a dex, but the rsv holders would not make any money unless the DEX price goes outside of the 0.98-1.02 range.

Why not divert those dex fees to the benefit of the protocol, now that the dex part is built into the dexy framework.

Just my thoughts. Would be good to have others views on it too.


[04/01/2023 7:20 AM] kushti#0000
Ah, so you are talking about part of DEX fee going to the bank


[04/01/2023 7:22 AM] kushti#0000
My question was what to do with excessive bank reserves


[04/01/2023 7:22 AM] kushti#0000
But maybe nothing


[04/01/2023 7:22 AM] kushti#0000
So the bank is always accumulating


[04/01/2023 7:23 AM] kushti#0000
@code_for_uss @eilemust how is it going?


[04/01/2023 7:24 AM] kushti#0000
I am doing offchain code for updating tracking boxes


[04/01/2023 8:08 AM] Vesi Hiisi#0000
> (re @Ile : *Some discussion on infinitely growing liq. htt...*)
         
        This is my view to accumulating infinitely.

At some point, the benefit of more accumulation becomes irrelevantly small for stability. It can turn negative, if it adds to incentives for oracle providers to collude.

So, I think optimal threshold is some high level that capitally efficient market would never accept (e.g. 1200% protocol owned equity relative to circulating supply), but divert everything after that to security (oracles, early contributors).


[04/01/2023 8:11 AM] kushti#0000
Ok but how to spend excessive reserves then?


[04/01/2023 9:14 AM] kushti#0000
Send them to oracle reward token holders?


[04/01/2023 9:58 AM] Vesi Hiisi#0000
> (re @kushti_ru : *Ok but how to spend excessive reserves then?*)
         
        I dont know what is the best technical solution for it.

The excess could first go to builders and early risk takers and oracles.

After some predefined amount of profits, the excess could go to oracle only.


[04/01/2023 11:29 AM] kushti#0000
> (re @Ile : *I dont know what is the best technical solutio...*)
         
        Oracle pools 2.0 already has Oracle rewards token, active Oracles * 2 tokens released per epoch. I think for some initial period of time e.g. 2 years to unlock similar amount to devs, partners, early supporters


[04/01/2023 11:30 AM] kushti#0000
And the bank is already sending part of the fee to buy reward tokens from lp


[04/01/2023 11:30 AM] kushti#0000
Thus there are two lps in the protocol, erg / dexy and erg / gort


[04/01/2023 11:30 AM] kushti#0000
Gort is gold oracle reward token üòä


[04/01/2023 11:49 AM] eilemust#0000
> (re @kushti_ru : *@code_for_uss @eilemust how is it going?*)


[04/01/2023 11:49 AM] eilemust#0000
polishing graphs and preparing CI/cd for UI 

using mock data

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1091675814564732979/file_107479.jpg


[04/02/2023 6:32 AM] code_for_uss#0000
> (re @kushti_ru : *@code_for_uss @eilemust how is it going?*)
         
        I'm developing backend side and I will deploy tomorrow


[04/02/2023 8:07 PM] eilemust#0000
https://dexy-test.ergoplatform.com/ 
deployed, but have issue with react it seems, react dont render container but local is working.
will try to fix tomorrow.


[04/03/2023 8:55 AM] kushti#0000
403 forbidden


[04/03/2023 8:55 AM] eilemust#0000
> (re @kushti_ru : *403 forbidden*)
         
        updating ci/cd


[04/03/2023 8:55 AM] kushti#0000
I found oracle rate issue in contracts, need to divide oracle rate by 1000000 everywhere


[04/03/2023 8:56 AM] kushti#0000
as greenhat's oracle pool is providing per kg price


[04/03/2023 8:56 AM] kushti#0000
so need to redeploy all the contracts now


[04/03/2023 10:45 AM] eilemust#0000
> (re @eilemust : *https://dexy-test.ergoplatform.com/ 
deployed,...*)
         
        omg problem in wasm again


[04/03/2023 10:46 AM] eilemust#0000
nginx cant send wasm need to update it :))


[04/03/2023 11:17 AM] eilemust#0000
> (re @eilemust : *https://dexy-test.ergoplatform.com/ 
deployed,...*)
         
        should be ok now


[04/03/2023 12:26 PM] code_for_uss#0000
> (re @eilemust : *nginx cant send wasm need to update it :))*)
         
        What is your solution for CD? CF pages?


[04/03/2023 12:27 PM] eilemust#0000
github actions


[04/03/2023 12:30 PM] code_for_uss#0000
> (re @eilemust : *github actions*)
         
        Ok, did you try CF pages?
My suggestion is CF pages, it's free and you can deploy on CDN of CF instead of your server.


[04/03/2023 12:31 PM] eilemust#0000
didnt try
all my apps on github actions


[04/03/2023 12:32 PM] eilemust#0000
they also free


[04/03/2023 12:32 PM] eilemust#0000
for opensource projects


[04/04/2023 3:15 PM] eilemust#0000
@code_for_uss when backend?))


[04/04/2023 7:33 PM] code_for_uss#0000
> (re @eilemust : *@code_for_uss when backend?))*)
         
        Hi
I'm wating for kushti to get a new domain after that I'm ready to deploy some API'S of backend


[04/04/2023 7:34 PM] eilemust#0000
> (re @code_for_uss : *Hi
I'm wating for kushti to get a new domain a...*)
         
        I can give you *.ergoplatform.com zone for now


[04/04/2023 7:34 PM] eilemust#0000
> (re @eilemust : *I can give you *.ergoplatform.com zone for now*)
         
        @kushti_ru if you ok


[04/04/2023 9:34 PM] kushti#0000
> (re @code_for_uss : *Hi
I'm wating for kushti to get a new domain a...*)
         
        Can ip be enough for now?


[04/04/2023 9:34 PM] kushti#0000
What should be in domain records?


[04/04/2023 10:56 PM] kushti#0000
redeployed contracts data in the repo


[04/04/2023 10:57 PM] kushti#0000
But I guess I found issues in tracking contract


[04/04/2023 10:57 PM] kushti#0000
So will redeploy everything again after fixes


[04/04/2023 11:35 PM] code_for_uss#0000
> (re @kushti_ru : *Can ip be enough for now?*)
         
        @eilemust 
Do you have any idea?
I guess there are some problems like cors and request from https(front) to http(backend) in case of ip.


[04/04/2023 11:37 PM] code_for_uss#0000
> (re @kushti_ru : *What should be in domain records?*)
         
        I will send you my CF DNS name server


[04/04/2023 11:39 PM] code_for_uss#0000
> (re @kushti_ru : *But I guess I found issues in tracking contrac...*)
         
        Um ok we can go ahead, after updating please tell me and please send scan id of these boxes in 176. node for me.


[04/05/2023 5:27 AM] eilemust#0000
> (re @code_for_uss : *@eilemust 
Do you have any idea?
I guess there...*)
         
        Yes


[04/05/2023 5:27 AM] eilemust#0000
Need ssl cert


[04/05/2023 11:05 AM] kushti#0000
> (re @code_for_uss : *I will send you my CF DNS name server*)
         
        bought dexygold.com


[04/05/2023 11:54 AM] yashablack#0000
> (re @kushti_ru : *bought dexygold.com*)


[04/05/2023 11:54 AM] yashablack#0000
I guess that the app‚Äôs logic should be like the following, isn‚Äôt it?

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1093126511550271558/file_107956.jpg


[04/05/2023 1:45 PM] code_for_uss#0000
> (re @yashablack : *I guess that the app‚Äôs logic should be like th...*)
         
        Yes it's a good logic


[04/05/2023 1:55 PM] code_for_uss#0000
> (re @kushti_ru : *bought dexygold.com*)


[04/05/2023 1:55 PM] code_for_uss#0000
Cloudflare's nameservers: 

fatima.ns.cloudflare.com
thaddeus.ns.cloudflare.com

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1093156862431604736/file_107975.jpg


[04/05/2023 6:15 PM] kushti#0000
> (re @code_for_uss : *Cloudflare's nameservers: 

fatima.ns.cloudfla...*)
         
        done


[04/06/2023 4:31 PM] kushti#0000
Fixed tracking contract and tests for it


[04/06/2023 4:32 PM] kushti#0000
> (re @yashablack : *I guess that the app‚Äôs logic should be like th...*)
         
        dexybank.gold ?


[04/06/2023 4:33 PM] eilemust#0000
no


[04/06/2023 4:33 PM] eilemust#0000
gold.dexybank.*


[04/06/2023 4:34 PM] eilemust#0000
usd.dexybank.*


[04/06/2023 4:34 PM] eilemust#0000
> (re @yashablack : *I guess that the app‚Äôs logic should be like th...*)
         
        I think you are wrong


[04/06/2023 4:34 PM] eilemust#0000
should be *.dexybank.com(or something)


[04/06/2023 4:36 PM] kushti#0000
But then it sounds like multi collateral stablecoin


[04/06/2023 4:37 PM] glasgowm#0000
dexy.gold is nice


[04/06/2023 4:38 PM] eilemust#0000
dexy.usd we can buy?))


[04/06/2023 4:38 PM] eilemust#0000
dexygold.com
dexyusd.com good solution too


[04/06/2023 4:39 PM] eilemust#0000
we will have 3 websites?


[04/06/2023 4:39 PM] eilemust#0000
3 frontend applications?


[04/06/2023 5:18 PM] yashablack#0000
> (re @kushti_ru : *dexybank.gold ?*)
         
        Consider this: The bank serves as the sole application, allowing you to mint GOLD, USD, or other assets. As a result, the app could be named DexyBank, with the associated domain being dexybank.io or smth


[04/06/2023 7:28 PM] code_for_uss#0000
> (re @eilemust : *should be *.dexybank.com(or something)*)
         
        exactly


[04/06/2023 7:30 PM] eilemust#0000
> (re @code_for_uss : *exactly*)
         
        I think we not need for each token new frontend app


[04/06/2023 7:30 PM] code_for_uss#0000
> (re @eilemust : *3 frontend applications?*)
         
        I consider a single app in my backend for all stablecoins usd or gold, .... so if we need different instans for each coin I should split each coin for new instance


[04/06/2023 7:30 PM] eilemust#0000
Just will add modal or something to change token


[04/06/2023 7:31 PM] eilemust#0000
> (re @code_for_uss : *I consider a single app in my backend for all ...*)
         
        Yes it is ok


[04/06/2023 7:31 PM] yashablack#0000
> (re @eilemust : *Just will add modal or something to change tok...*)
         
        sidebar üôè


[04/06/2023 7:31 PM] eilemust#0000
When you will deploy it?


[04/06/2023 7:32 PM] eilemust#0000
You can send me test data for the start


[04/06/2023 7:32 PM] eilemust#0000
For charts we will need two endpoints, one for each chart


[04/07/2023 3:07 PM] kushti#0000
> (re @yashablack : *Consider this: The bank serves as the sole app...*)
         
        Single-reserve multi-stables bank?


[04/07/2023 3:26 PM] yashablack#0000
> (re @kushti_ru : *Single-reserve multi-stables bank?*)
         
        Kind of.
It will be more convenient for the end user anyway. One browser bookmark vs tenüòÑ


[04/07/2023 7:19 PM] code_for_uss#0000
> (re @eilemust : *When you will deploy it?*)
         
        I will deploy tomorrow 
If you have any suggestion for chart's data structure tell me if not, I'll prepare endpoints after first release and then send sample data


[04/07/2023 7:23 PM] code_for_uss#0000
@eilemust if you want any sub domain or root domain please tell me and send your records to me


[04/07/2023 7:26 PM] eilemust#0000
> (re @code_for_uss : *I will deploy tomorrow 
If you have any sugges...*)
         
        dmed you


[04/10/2023 6:27 AM] eilemust#0000
(re @code_for_uss : *I will deploy tomorrow 
If you have any sugges...*)
        
        How it is going?


[04/10/2023 4:52 PM] kushti#0000
Checking contracts for rates used


[04/10/2023 4:52 PM] kushti#0000
Then will redeploy contracts


[04/10/2023 10:45 PM] kushti#0000
Fixing one todo in extract contract


[04/11/2023 10:22 AM] kushti#0000
@code_for_uss @eilemust any updates?


[04/11/2023 10:34 AM] eilemust#0000
Frontend +- ready, ci/cd works, version for mobile/desktop/laptop too 
Waiting backend for bank, LP provider next


[04/11/2023 3:54 PM] kushti#0000
Fixed all the contracts, redeploying


[04/11/2023 11:12 PM] code_For_Uss#1058
It's ready and tested, what is your domain? I want to add your domain as a cors's origin


[04/11/2023 11:20 PM] kushti#0000
@eilemust ^


[04/12/2023 6:29 AM] eilemust#0000
(re  : *<code_For_Uss> [reply]: It's ready and tested,...*)
        
        dexy-test.ergoplatform.com


[04/12/2023 12:12 PM] kushti#0000
@code_for_uss is backend open-sourced ?


[04/12/2023 2:18 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss is backend open-sourced ?*)
        
        It's private at the moment, after tests I will publish it publicly


[04/13/2023 12:35 AM] kushti#0000
@code_for_uss redeployed contracts  and made new scans, old ones removed


[04/13/2023 9:32 AM] code_for_uss#0000
@oskin 
is there a public node behind https://testnet.ergoplatform.com?


[04/13/2023 9:39 AM] Ilya | Spectrum#0000
(re @code_for_uss : *@oskin 
is there a public node behind https://...*)
        
        Idk if this node is for public use. cc @kushti_ru


[04/13/2023 10:04 AM] kushti#0000
(re @oskin : *Idk if this node is for public use. cc @kushti...*)
        
        Could be shared I guess


[04/13/2023 1:31 PM] kushti#0000
@code_for_uss I am sorry, found an issue in deployment scripts, had to redeploy contracts. Good news, tracker box update now works


[04/13/2023 2:18 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss I am sorry, found an issue in de...*)
        
        It's ok


[04/13/2023 5:35 PM] kushti#0000
@code_for_uss tracking 101% box updated https://testnet.ergoplatform.com/en/transactions/a1c2f3361f580731d47b0b3ad587e335accafbf2d2d72c99587ad0c8856db613


[04/13/2023 5:35 PM] kushti#0000
so you can test arbitrage mint now


[04/13/2023 5:36 PM] kushti#0000
(and free mint also btw)


[04/14/2023 1:26 AM] kushti#0000
(and free mint also btw)


[04/14/2023 7:31 PM] kushti#0000
@code_for_uss please post arb mint and free mint txs there once done


[04/15/2023 8:42 PM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss please post arb mint and free mi...*)
        
        Sdk updated according to Oracle ratio changes and tested 
Going to create related tx


[04/16/2023 11:27 AM] code_for_uss#0000
(re @code_for_uss : *Sdk updated according to Oracle ratio changes ...*)
        
        I sent some information about arb tx in your pv, please check.


[04/16/2023 12:08 PM] code_for_uss#0000
(re @code_for_uss : *I sent some information about arb tx in your p...*)
        
        @kushti_ru


[04/17/2023 11:45 AM] kushti#0000
First arbitrage mint transaction by @code_for_uss https://testnet.ergoplatform.com/en/transactions/3ec6d0ca29f93f1dbe2399b3f409619794d86b60778abbba99e30a5e0e999820


[04/17/2023 11:49 AM] kushti#0000
So now we need to inject minted tokens into the pool


[04/17/2023 11:49 AM] kushti#0000
then test free mint


[04/17/2023 11:49 AM] kushti#0000
then dump tokens in the pool


[04/17/2023 11:49 AM] kushti#0000
to test intervention and extraction


[04/17/2023 11:50 AM] kushti#0000
So time to deploy testnet LP UI ? @eilemust @code_for_uss


[04/17/2023 11:50 AM] eilemust#0000
I still need backend


[04/17/2023 11:51 AM] code_for_uss#0000
(re @eilemust : *I still need backend*)
        
        actually for create arbitrage mint I tested all of apis, so I can say it's ready to deploy!


[04/17/2023 11:52 AM] eilemust#0000
waiting


[04/17/2023 12:03 PM] kushti#0000
And for LP we need to modify Spectrum's backend still @code_for_uss  ? But for swapping and other operations current one is ok , just will produce errors during redeem sometimes


[04/17/2023 3:06 PM] kushti#0000
(re @code_for_uss : *actually for create arbitrage mint I tested al...*)
        
        when deploy ?


[04/17/2023 6:16 PM] code_for_uss#0000
(re @kushti_ru : *when deploy ?*)
        
        I will deploy today


[04/17/2023 10:57 PM] code_for_uss#0000
@eilemust 
dexy-sdk-ts@0.0.4 released!

- updated oracle ratio changes
- some fixes on arb and free mint registers


[04/18/2023 12:12 AM] code_for_uss#0000
(re @kushti_ru : *And for LP we need to modify Spectrum's backen...*)
        
        What do you mean modify Spectrum's backend?


[04/18/2023 12:14 AM] kushti#0000
(re @code_for_uss : *What do you mean modify Spectrum's backend?*)
        
        Checking redemption limits is enough I guess


[04/18/2023 12:16 AM] code_for_uss#0000
(re @kushti_ru : *Checking redemption limits is enough I guess*)
        
        before that, I guess we need to implement lp scenarios in SDK, do you have any priority for implementing them?


[04/18/2023 12:17 AM] kushti#0000
Lp actions already implemented by Spectrum?


[04/18/2023 12:19 AM] code_for_uss#0000
(re @kushti_ru : *Lp actions already implemented by Spectrum?*)
        
        are there some differences between Spectrum LP and Dexy LP?


[04/18/2023 12:20 AM] kushti#0000
Only in redemption, in dexy it could be blocked in case of depeg


[04/18/2023 12:23 AM] code_for_uss#0000
(re @kushti_ru : *Only in redemption, in dexy it could be blocke...*)
        
        oh ok


[04/18/2023 9:05 AM] eilemust#0000
(re @code_for_uss : *@eilemust 
dexy-sdk-ts@0.0.4 released!

- upda...*)
        
        waiting backend üòÑ


[04/18/2023 3:38 PM] kushti#0000
@code_for_uss @eilemust so what is the current status?


[04/18/2023 9:54 PM] code_for_uss#0000
(re @eilemust : *waiting backend üòÑ*)
        
        I'm deploying service


[04/19/2023 3:22 AM] code_for_uss#0000
(re @code_for_uss : *@eilemust if you want any sub domain or root d...*)
        
        @eilemust Reminder!
I mean subdomain for dexygold.com


[04/19/2023 3:50 AM] code_for_uss#0000
@eilemust 
https://api-testnet.dexygold.com/api/
Deployed!
so you can fetch needed boxes for arbitrage and free mint with this version!
I'll provide Postman or other tools for documenting APIs for you ASAP.

{/api/gold/bank, GET}
{/api/gold/mint/arbitrage, GET}
{/api/gold/mint/free, GET}
{/api/gold/buyback, GET}
{/api/gold/tracking101Box, GET}
{/api/gold/lp, GET}
{/api/gold/oracle, GET}

There is an unconfirmed query param for all of them and if you set 1 for this param: will return the unconfirmed box if exist otherwise will return the confirmed box (Note: don't use this query param for Oracle box or other data input boxes)

in the following, I will provide other APIs for UI components such as charts and current bank reserves, ...


[04/19/2023 11:46 AM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss @eilemust so what is the current...*)
        
        - first version of backend deployed
- a new version of SDK released according to latest changes of protocol
- the first arbMint transaction was broadcasted in testnet!


[04/19/2023 11:49 AM] code_for_uss#0000
@kushti_ru please don't send backend url in development meeting to avoid ddos or other problem (There is a possibility that there is a problem with the first version)


[04/20/2023 11:47 AM] kushti#0000
@eilemust @code_for_uss do what is next for you guys? Are you synced?


[04/20/2023 11:56 AM] eilemust#0000
(re @kushti_ru : *@eilemust @code_for_uss do what is next for yo...*)
        
        All is ok now


[04/20/2023 11:57 AM] eilemust#0000
I will start add backend side to interface


[04/20/2023 11:57 AM] eilemust#0000
if I will have any problems will say about it


[04/20/2023 11:57 AM] eilemust#0000
current status - adding backend data to interface and testing interface with this data


[04/20/2023 12:09 PM] kushti#0000
(re @eilemust : *current status - adding backend data to interf...*)
        
        Do you have lp interface?


[04/20/2023 12:09 PM] kushti#0000
Otherwise I will write some code to swap


[04/20/2023 12:10 PM] kushti#0000
To test free mint


[04/20/2023 12:12 PM] eilemust#0000
(re @kushti_ru : *Do you have lp interface?*)
        
        No I don‚Äôt have it


[04/20/2023 12:13 PM] eilemust#0000
(re @code_for_uss : *@eilemust 
https://api-testnet.dexygold.com/ap...*)
        
        I have data from backend for test free mint I think?


[04/20/2023 12:16 PM] code_for_uss#0000
(re @kushti_ru : *@eilemust @code_for_uss do what is next for yo...*)
        
        I'm improving caching in backend side and implementing other api's for ui


[04/20/2023 12:16 PM] code_for_uss#0000
(re @eilemust : *I have data from backend for test free mint I ...*)
        
        both mint free and arb


[04/20/2023 12:17 PM] eilemust#0000
lp for dexy created?


[04/20/2023 12:17 PM] eilemust#0000
As I understand


[04/20/2023 12:17 PM] eilemust#0000
Just need to find it by spectrum sdk seems


[04/20/2023 12:17 PM] code_for_uss#0000
(re @eilemust : *lp for dexy created?*)
        
        yes created a lp box in testnet


[04/20/2023 12:18 PM] code_for_uss#0000
(re @eilemust : *Just need to find it by spectrum sdk seems*)
        
        you can fetch lp box with {/api/gold/lp, GET}


[04/20/2023 12:20 PM] code_for_uss#0000
I think you need use spectrum sdk to create swap transaction


[04/20/2023 12:21 PM] kushti#0000
Contract, but not ui


[04/20/2023 12:21 PM] kushti#0000
We need to do swaps to unlock free mint


[04/20/2023 12:24 PM] eilemust#0000
(re @kushti_ru : *We need to do swaps to unlock free mint*)
        
        Ah understand


[04/23/2023 11:02 AM] eilemust#0000
(re @code_for_uss : *@eilemust 
https://api-testnet.dexygold.com/ap...*)
        
        do you have swagger?


[04/23/2023 11:10 AM] eilemust#0000
(re @code_for_uss : *@eilemust 
https://api-testnet.dexygold.com/ap...*)
        
        dmed you


[04/23/2023 11:51 AM] eilemust#0000
(re @code_for_uss : *@eilemust if you want any sub domain or root d...*)
        
        dexy-test subdomain, server 88.198.50.217 
and you need to give me SSL cert as I understand


[04/24/2023 9:48 AM] kushti#0000
@code_for_uss @eilemust how is it going?


[04/24/2023 9:49 AM] code_for_uss#0000
(re @kushti_ru : *@code_for_uss @eilemust how is it going?*)
        
        we are collaborating to connect front and back, there was CORS error in my side and fixed now


[04/24/2023 9:50 AM] code_for_uss#0000
and I'm preparing other api and features for back


[04/24/2023 9:59 AM] eilemust#0000
(re @kushti_ru : *@code_for_uss @eilemust how is it going?*)
        
        Alex, code-for-uss sent a request to add CF to repo https://github.com/ergoplatform/dexy-usd-bank-ui
seems you need to accept it, I dont see this request

{Embed}
https://github.com/ergoplatform/dexy-usd-bank-ui
GitHub - ergoplatform/dexy-usd-bank-ui
Contribute to ergoplatform/dexy-usd-bank-ui development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/-gU5igMl3rellaFAVOcb_ZIcUDyHQfvw7MbJL5LtBIE/https/opengraph.githubassets.com/dd959760f68278f89e68ed9ce3762bc74e7aa5bdaba61011281ee6c8a202915c/ergoplatform/dexy-usd-bank-ui


[04/24/2023 9:59 AM] eilemust#0000
check please


[04/24/2023 10:13 AM] kushti#0000
(re @eilemust : *Alex, code-for-uss sent a request to add CF to...*)
        
        I do not see pull requests there


[04/24/2023 10:14 AM] eilemust#0000
(re @kushti_ru : *I do not see pull requests there*)
        
        maybe in settings?


[04/24/2023 10:14 AM] eilemust#0000
it is third-party service


[04/24/2023 10:14 AM] eilemust#0000
https://github.com/ergoplatform also it can be there

{Embed}
https://github.com/ergoplatform
Ergo
Ergo has 62 repositories available. Follow their code on GitHub.
https://images-ext-1.discordapp.net/external/njkqaIe0lbVkMH9X3OVSdINIDmyk8J0a0DiilPyVkN0/%3Fs%3D280%26v%3D4/https/avatars.githubusercontent.com/u/27490654


[04/24/2023 10:14 AM] kushti#0000
CF cloud flare?


[04/24/2023 10:14 AM] code_for_uss#0000
i guess in Github apps section or something likes that


[04/24/2023 10:15 AM] code_for_uss#0000
(re @kushti_ru : *CF cloud flare?*)
        
        yes


[04/24/2023 10:22 AM] code_for_uss#0000
(re @kushti_ru : *CF cloud flare?*)
        
        in setting of repo section integration => Github apps


[04/24/2023 10:26 AM] eilemust#0000


{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1099989665878122496/file_111859.jpg


[04/24/2023 10:26 AM] eilemust#0000
maybe I not see it, dont have rights


[04/24/2023 10:32 AM] code_for_uss#0000
(re @eilemust : *maybe I not see it, dont have rights*)
        
        yes you are right.

In the top right corner of GitHub.com, click your profile photo, then click Your organizations. Next to the organization, click Settings. In the "Integrations" section of the sidebar, click Third-party access. Next to the application you'd like to approve,


[04/24/2023 10:41 AM] eilemust#0000
(re @code_for_uss : *yes you are right.

In the top right corner of...*)
        
        @kushti_ru


[04/24/2023 12:18 PM] kushti#0000
(re @code_for_uss : *yes you are right.

In the top right corner of...*)
        
        your request has been approved


[04/24/2023 12:26 PM] kushti#0000
So what about lp swaps?


[04/24/2023 12:50 PM] eilemust#0000
give me tokens which I need for test 3Wvq9yoTf9B85GQAU1TjYToWTCBjLWJ24DNpgzm8HGTrteaszbbc please


[04/24/2023 12:57 PM] kushti#0000
(re @eilemust : *give me tokens which I need for test 3Wvq9yoTf...*)
        
        3000 ERG sent https://testnet.ergoplatform.com/en/transactions/47b7878bf69dbd4695c3fb328088fedbf882bfb20b6b2a33f111ee7786f6b243


[04/24/2023 12:58 PM] eilemust#0000
For LP swaps need to setup spectrum with testnet explorer and erg->gold swap functionality seems?


[04/24/2023 12:58 PM] eilemust#0000
I can try


[04/24/2023 12:58 PM] eilemust#0000
what you think?


[04/24/2023 1:00 PM] code_for_uss#0000
(re @kushti_ru : *your request has been approved*)
        
        unfortunately I couldn't setup I got this error

This action must be performed by an organization owner  

Actually isn't a good idea to give me access but I can give you access to my CF with an instructions to add CF.


[04/24/2023 1:06 PM] kushti#0000
(re @code_for_uss : *unfortunately I couldn't setup I got this erro...*)
        
        But why do you need for CF on GH at all?


[04/24/2023 1:07 PM] kushti#0000
(re @eilemust : *For LP swaps need to setup spectrum with testn...*)
        
        Yes


[04/24/2023 1:08 PM] eilemust#0000
(re @kushti_ru : *Yes*)
        
        ok


[04/24/2023 1:16 PM] code_for_uss#0000
(re @kushti_ru : *But why do you need for CF on GH at all?*)
        
        we want use cloud flare pages for deploy front automatically after each push but if you think this takes your time we can do that on a server instead of cloudflare


[04/24/2023 1:18 PM] kushti#0000
(re @code_for_uss : *we want use cloud flare pages for deploy front...*)
        
        Up to you tell me what to do üòÅ


[04/24/2023 1:19 PM] code_for_uss#0000
(re @kushti_ru : *Up to you tell me what to do üòÅ*)
        
        üòÇ
do you have a CF account ?


[04/24/2023 1:20 PM] kushti#0000
nope )


[04/24/2023 1:20 PM] kushti#0000
we use catena's still for explorer


[04/24/2023 1:21 PM] kushti#0000
could it work ?


[04/24/2023 1:22 PM] code_for_uss#0000
nope
ok I will send my credential for you and tell you what to do


[04/24/2023 1:29 PM] code_for_uss#0000
(re @kushti_ru : *could it work ?*)
        
        dmed you


[04/24/2023 5:49 PM] kushti#0000
My plan :

* finish payout contract
* consider paying to bank reserves from LP 
* made final contracts audit
* check tests coverage


[04/24/2023 6:56 PM] kushti#0000
My plan :

* finish payout contract
* consider paying to bank reserves from LP 
* made final contracts audit
* check tests coverage


[04/25/2023 7:43 AM] eilemust#0000
explorer cant find LP pool, texted to Ilya how to find it


[04/25/2023 7:43 AM] kushti#0000
Will send you latest utxo soon


[04/25/2023 7:44 AM] eilemust#0000
https://api-testnet.dexygold.com/api/gold/lp


[04/25/2023 7:44 AM] eilemust#0000
I have this one


[04/25/2023 9:06 AM] eilemust#0000
Seems lp doesn‚Äôt cover this rules https://github.com/spectrum-finance/ergo-dex/blob/fix-vlq-tokens-circuit/protocols/LqMiningSimple.md

{Embed}
https://github.com/spectrum-finance/ergo-dex/blob/fix-vlq-tokens-circuit/protocols/LqMiningSimple.md
ergo-dex/LqMiningSimple.md at fix-vlq-tokens-circuit ¬∑ spectrum-fin...
Smart contracts and specification of the AMM protocol on top of the Ergo blockchain - ergo-dex/LqMiningSimple.md at fix-vlq-tokens-circuit ¬∑ spectrum-finance/ergo-dex
https://images-ext-2.discordapp.net/external/aEyl42mA_2-2peYQ0KjbKpn2xk1Xc6_U6nqkhD4v1T8/https/repository-images.githubusercontent.com/359248586/f2f12c01-e019-4d41-9cb8-106a4a9e9874


[04/25/2023 9:07 AM] eilemust#0000
(re @eilemust : *Seems lp doesn‚Äôt cover this rules https://gith...*)
        
        @kushti_ru @code_for_uss


[04/25/2023 10:43 AM] kushti#0000
(re @eilemust : *Seems lp doesn‚Äôt cover this rules https://gith...*)
        
        yes, no LM support as it is new thing, but also pool contracts are bit different


[04/25/2023 10:43 AM] kushti#0000
So we need for modified pool backend first I guess @code_for_uss


[04/25/2023 11:38 AM] eilemust#0000
(re @eilemust : *Seems lp doesn‚Äôt cover this rules https://gith...*)
        
        Sorry. I think this is lp pool rules


[04/25/2023 11:39 AM] eilemust#0000
(re @kushti_ru : *So we need for modified pool backend first I g...*)
        
        I checked ergo sdk and it can‚Äôt find our pool.


[04/25/2023 11:39 AM] eilemust#0000
(re @kushti_ru : *So we need for modified pool backend first I g...*)
        
        I checked ergo sdk made by spectrum team and it can‚Äôt find our pool.


[04/25/2023 11:41 AM] eilemust#0000
Checking what is the issue.


[04/25/2023 11:42 AM] code_for_uss#0000
(re @kushti_ru : *So we need for modified pool backend first I g...*)
        
        It takes time I need to read spectrum SDK code to modify, I will try do that in next week, I don't think it's possible to update codes this week


[04/25/2023 11:46 AM] eilemust#0000
(re @code_for_uss : *It takes time I need to read spectrum SDK code...*)
        
        Ilya said need to take BOX and parsers from ergo sdk


[04/25/2023 11:46 AM] eilemust#0000
and debug it


[04/25/2023 11:46 AM] eilemust#0000
why it cant search this pool


[04/25/2023 11:46 AM] eilemust#0000
Forwarded from oskin: https://github.com/spectrum-finance/ergo-dex-sdk-js/blob/master/src/services/pools.ts

{Embed}
https://github.com/spectrum-finance/ergo-dex-sdk-js/blob/master/src/services/pools.ts
ergo-dex-sdk-js/pools.ts at master ¬∑ spectrum-finance/ergo-dex-sdk-js
JavaScript SDK for the Ergo side of the protocol. Contribute to spectrum-finance/ergo-dex-sdk-js development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Q9I9Rg5tRl733gpJwZc9zos9CoEcIRL-_ikrvT9EZHI/https/opengraph.githubassets.com/1f9b7d20ef1eeeb6fd6c37739ba7a3ac4fc64e0198067bf8ac9ee432248acd01/spectrum-finance/ergo-dex-sdk-js


[04/25/2023 11:46 AM] eilemust#0000
Trying to understand how I can check the error with box and parser


[04/25/2023 11:46 AM] eilemust#0000
maybe you have examples?


[04/25/2023 11:47 AM] kushti#0000
LP pool now is broken into few contracts


[04/25/2023 11:47 AM] kushti#0000
I can trade with it via my grid trading code


[04/25/2023 11:47 AM] kushti#0000
with some modifications


[04/25/2023 11:47 AM] kushti#0000
let's start with that


[04/25/2023 11:48 AM] eilemust#0000
(re @eilemust : *Trying to understand how I can check the error...*)
        
        Ilya said I can check tests on parsers


[04/25/2023 11:48 AM] eilemust#0000
(re @kushti_ru : *LP pool now is broken into few contracts*)
        
        I cant set up UI spectrum with swap form because of that seems


[04/25/2023 11:49 AM] kushti#0000
Yes, so please finish bank then ?


[04/25/2023 11:49 AM] kushti#0000
What is needed ?


[04/25/2023 11:49 AM] eilemust#0000
yeah


[04/25/2023 11:49 AM] eilemust#0000
will back to bank


[04/25/2023 11:49 AM] eilemust#0000
all is ok for bank now, I will continue to integrate backend


[04/27/2023 12:43 PM] kushti#0000
Hopefully will do swaps today, then we can test free mint and intervention


[04/27/2023 1:28 PM] code_for_uss#0000
(re @kushti_ru : *Hopefully will do swaps today, then we can tes...*)
        
        I'm ready to test freemint


[04/28/2023 11:03 AM] kushti#0000
(re @code_for_uss : *I'm ready to test freemint*)
        
        can you please send me dexy to 3WwhifgHTu7ib5ggKKVFaN1J6jFim3u9siPspDRq9JnwcKfLuuxc ?


[04/28/2023 11:03 AM] kushti#0000
Accidentally burnt tokens during tracking 101 update


[04/28/2023 11:07 AM] kushti#0000
you can do another arb mint btw


[04/28/2023 1:20 PM] kushti#0000
Or I can do another deploy over the weekend


[04/28/2023 1:20 PM] kushti#0000
As changed free mint contract a bit


[04/28/2023 1:20 PM] kushti#0000
Now allowing free mint if price over the peg


[04/28/2023 8:53 PM] kushti#0000
https://testnet.ergoplatform.com/en/addresses/3WwhifgHTu7ib5ggKKVFaN1J6jFim3u9siPspDRq9JnwcKfLuuxc


[04/28/2023 8:53 PM] kushti#0000
first swap done


[04/29/2023 10:48 AM] kushti#0000
few more swaps done


[04/29/2023 10:48 AM] kushti#0000
free mint can be tested now


[04/30/2023 4:18 PM] kushti#0000
Forwarded from unknown: minted all available tokens to freemint!

https://testnet.ergoplatform.com/en/transactions/2fe3e8aac1618e69632145db6e16ed439fdd8dc8a391d715caeef370453da293


[05/01/2023 10:58 AM] eilemust#0000
Catching errors when trying to signing arbitrage tx ( 
need sometime to research


[05/01/2023 10:59 AM] eilemust#0000
tx ready, problem with sign wallet method

{Attachments}
https://cdn.discordapp.com/attachments/967123425523023922/1102534669767024700/file_113298.jpg


[05/01/2023 11:17 AM] eilemust#0000
texted to Ilya, issue in ergo-sdk


[05/01/2023 11:18 AM] eilemust#0000
I need to prepare the data so that the wallet can sign them, but I don‚Äôt understand how to do it


[05/01/2023 11:19 AM] eilemust#0000
(re @eilemust : *tx ready, problem with sign wallet method*)
        
        I thought I just need to paste what I get from arbitrage function but it is doesnt work..


[05/01/2023 11:39 AM] kushti#0000
I guess arb mint can't be done now


[05/01/2023 11:39 AM] kushti#0000
Please try free ming


[05/01/2023 11:39 AM] kushti#0000
Please try free mint


[05/01/2023 12:39 PM] eilemust#0000
ü§ù


[05/01/2023 12:40 PM] eilemust#0000
I think problem in sdk, i didn‚Äôt send it. Just can‚Äôt sign


[05/01/2023 3:39 PM] kushti#0000
(re @eilemust : *I think problem in sdk, i didn‚Äôt send it. Just...*)
        
        well, the result should be like "Script reduced to false" for signer as well


[05/01/2023 3:41 PM] eilemust#0000
No, error was like ‚Äú.map on undefined‚Äù üòÅüòÅ


==============================================================
Exported 1,105 message(s)
==============================================================
