==============================================================
Guild: Ergo Platform
Channel: üõ† „Éª„Äò Development „Äô‚ò∞ / ‚ùì‚îÇdev-support
Topic: Ask anything!
==============================================================

[05/10/2021 12:03 AM] NoTelos#6904
~~I'm unable to access the Ergo Node Panel/API after running ergo-bootstrap init. I get a "connection reset" when going to `http://localhost:9053/panel/`.
 `ergo-bootstrap status`  shows the ergo node is up, and the logs inside the container also seem fine. Has anyone run into a similar problem? FWIW I've been able to manually set up a node, just can't it working through bootstrap.~~

Had my VPN on in the background üòÖ

{Reactions}
üôÇ (2) 

[05/14/2021 9:38 AM] c8e4d2a#9854
hey, i would like to use chain-grabber to keep track of new tokens.
```
jsbt chain-grabber/assembly
java -jar ChainGrabber-assembly-8.0.0-M1.jar
```
i am getting a ConfigReaderException
```
pureconfig.error.ConfigReaderException: Cannot convert configuration to a org.ergoplatform.explorer.settings.IndexerSettings. Failures are:
  at 'network':
    - (jar:file:.../explorer-backend/modules/chain-grabber/target/scala-2.12/ChainGrabber-assembly-8.0.0-M1.jar!/application.conf:4) Key not found: 'master-nodes'. You might have a misconfigured ProductHint, since the following similar keys were found:
       - 'master-nodes-addresses'

    at pureconfig.module.catseffect.package$.$anonfun$configToF$2(package.scala:23)
...
```
any hints or docs i can read?


[05/14/2021 9:41 AM] Ilya | Spectrum#0494
Use 7.4.0-M3
8.x is not released yet.


[05/14/2021 10:40 AM] c8e4d2a#9854
thank you sir


[05/14/2021 10:11 PM] aldigidi#7180
Any guidance on how to get coins on magnum? I missed the call before suspension.  Any help is appreciated.


[05/15/2021 6:42 AM] kranebitt#0334
Just for learning purposes: 
- how hard would it be to set up a smart contract and oracle (pool?) that evaluates Covid number and vaccine numbers of different Austrian regions (available as open data series) and that assigns (minimal) amounts of ERG to the virtual wallets of each region (9) based on a weighted indicator? 
- is it possible to set up for a non- tech person like me with only some python knowledge? 
- or would it be more of a ‚Äûleave it to the devs‚Äú thing?
- Thanks in advance


[05/15/2021 5:59 PM] glasgowm#9381
you can use ErgoMixer to recover your funds as described in https://www.ergoforum.org/t/magnum-wallet-closing-in-20-days/468/6

{Embed}
https://www.ergoforum.org/t/magnum-wallet-closing-in-20-days/468/6
Magnum Wallet Closing in 20 days!
It is safe and easy, just have your key for each magnum wallet and download the mixer v3.1.0.     Install and run the mixer.  navigate to Covert Address page and click the button NEW COVERT ADDRESS:     Optionally, choose a name for this address; for example: MyMagnumWallet. And, check the box I want to import an existing private key.  A new che...
https://images-ext-1.discordapp.net/external/meSVzkkJ5UVwpkV09VQz2IvdCIiJBfDpKZdbd4raqds/https/discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/standard14/uploads/ergoforum/original/1X/5b7ae82243584e40a64927dc25e483ad44d0e35c.jpeg


[05/16/2021 6:49 AM] HazeyOneKenobi#2091
I have a question - what is the 'concrete' method of seeing which address sent a transaction? Is it to get box ID > Box info > decode ergotree to address?


[05/16/2021 7:09 AM] greenhat#6562
Generally, yes, guarding script of the input box is probably your only clue. But keep in mind that there could be more than one input box. Also, there might be inputs that do not ‚Äúbelong‚Äù to the transaction sender (sigmaUSD bank, etc.).


[05/16/2021 7:14 AM] HazeyOneKenobi#2091
Thanks a bunch, appreciate it!


[05/16/2021 2:44 PM] Admin (Fairhash.org)#6766
hi guys, anyone to help  me with testnet?


[05/16/2021 2:46 PM] Admin (Fairhash.org)#6766
I actually started the node with java -jar ergo-4.0.10.jar --testnet -c ergo.conf , where ergo {
  node {
    mining = true
  }
}
scorex {
 restApi {
    # Hex-encoded Blake2b256 hash of an API key. 
    # Should be 64-chars long Base16 string.
    # below is the hash of the string 'hello'
    # replace with your actual hash 
    apiKeyHash = "here is the key"
  }
}


[05/16/2021 2:48 PM] Admin (Fairhash.org)#6766
and in the logs i see that the node did sync to the top of testnet, but unfortunately at http://127.0.0.1:9052/panel/ It states that the node is still syncing, and when you ask for the info from the node, as difficulty it returns null, so I can not test the provided stratum server from https://github.com/mhssamadani/ErgoStratumServer because it crashes

{Embed}
https://github.com/mhssamadani/ErgoStratumServer
mhssamadani/ErgoStratumServer
Stratum pool server for ERGO in Node.js. Contribute to mhssamadani/ErgoStratumServer development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/7zaHBFax7pBZ5U4k3imbjQ2qWEvDPxW-3mMJ0RrbcYo/https/opengraph.githubassets.com/6faf9b3ba018fdeebcf0675f2c60891ff407f0e4f6645d29e76efd62d10bef49/mhssamadani/ErgoStratumServer


[05/16/2021 4:12 PM] Deleted User#0000
hello everyone. I mined a block back when ergo started so genesis blocks. I have my seeds words saved that you have to put in autokylos miner back then. Im little lost how to get them out of there. That was the article back then how to do it but I realy dont know how: https://ergoplatform.org/en/blog/2019_07_03_mining_withdrawal/

{Embed}
https://ergoplatform.org/en/blog/2019_07_03_mining_withdrawal/
Ergo Withdrawal
Spending mining reward This ‚Ä¶
https://images-ext-2.discordapp.net/external/s-EUSXmesWRdsHlbdo_ljiSbiJNKWbmp3FUevv5yPAE/https/ergoplatform.org/img/blog/withdrawal.jpg


[05/16/2021 4:16 PM] Deleted User#0000
so should my word seeds work in lets say Yoroi wallet or do I have to do anything


[05/16/2021 7:11 PM] Admin (Fairhash.org)#6766
any help with testnet is apreciated


[05/17/2021 9:41 AM] glasgowm#9381
https://www.reddit.com/r/ergonauts/comments/mye6xh/faq/gyf9csj/?context=3

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/843770105863208960/unknown.png

{Embed}
https://www.reddit.com/r/ergonauts/comments/mye6xh/faq/gyf9csj/?context=3
r/ergonauts - Comment by u/195monke on ‚ÄùFAQ‚Äù
139 votes and 68 comments so far on Reddit
https://images-ext-1.discordapp.net/external/yltmB5YjpzYRfl7LgDgq6nn8sUozjlvxg2w1BM7LZkI/%3Fauto%3Dwebp%26s%3D7778a7e34e5371a7640f84b88c9a0eafa5acf063/https/external-preview.redd.it/WmBwXqcZtSt4T_tZId93mXp5QIDgWCk8x7YDPdU-DRo.jpg


[05/17/2021 9:41 AM] glasgowm#9381
Should be fine in Yoroi - worth trying anyway


[05/17/2021 9:00 PM] Kaven#6681
Can anyone give pointers on underlying tech for proper way to transact in public? I have a node, and a wallet. To receive tokens, I dont want main wallet in public. Someone recommended using /wallet/deriveNextKey. thats fine and i can do this using swagger ui, but i'm wondering if 3rd party can simply derive wallet from these keys. alternatively, is there a way to create multiple wallets on a node? alternatively, is there a solution using ergomixer? thanks.


[05/17/2021 9:10 PM] Dergler#0451
use the ErgoMixer to generate a covert address, after starting ergomixer on you machine there is a great FAQ about it.


[05/17/2021 9:11 PM] Kaven#6681
alright i will try this approach. thank you.


[05/19/2021 7:58 AM] Snax#3268
where is the best place to learn how to develop on Ergo?


[05/19/2021 8:39 AM] mx#5165
https://ergonaut.space/en/Developers

{Embed}
https://ergonaut.space/en/Developers
Developers


[05/19/2021 8:41 AM] Snax#3268
thank you


[05/19/2021 8:43 AM] Snax#3268
wow, scala is a lot easier for me to comprehend than haskell


[05/19/2021 8:44 AM] Snax#3268
I will definitely learn eUTxO here first, then move to Cardano.


[05/19/2021 8:44 AM] Snax#3268
I might even leave you guys with some neat dApps.

{Reactions}
üëç 

[05/19/2021 11:29 PM] kushti#0978
https://www.ergoforum.org/t/from-magnum-wallet-to-ergo-wallet/817

{Embed}
https://www.ergoforum.org/t/from-magnum-wallet-to-ergo-wallet/817
From Magnum Wallet to Ergo Wallet
Here is a draft of ‚ÄúHow to recover ERG from Magnum Wallet‚Äù  Any feedback about fail or success much appreciated


[05/19/2021 11:30 PM] kushti#0978
that would be nice. If any help is needed, please let us know. Maybe you can earn some good money also, check SigmaUSD bank UI devs income flow: https://explorer.ergoplatform.com/en/addresses/9hFmeUHVttZmgtq4DEosEzJb3bTjx9HMJVptmMgfaHH9tYyGYTE


[05/19/2021 11:44 PM] Snax#3268
thanks üôÇ 

I have some ideas...


[05/19/2021 11:47 PM] kushti#0978
hi, what do you need for ? https://testnet.ergoplatform.com/en/


[05/19/2021 11:48 PM] kushti#0978
so you never withdrawn from the miner script address ?


[05/20/2021 8:27 AM] Deleted User#0000
No


[05/20/2021 8:27 AM] Deleted User#0000
I did not Know how back then


[05/20/2021 8:29 AM] Deleted User#0000
So I sayed lets wayt maybe in future it would be easyer to do it


[05/20/2021 3:48 PM] weskinner#4666
This was my thought too and it played out well!


[05/21/2021 11:52 PM] HazeyOneKenobi#2091
Hi all, wondering about best way to generate wallets programatically?


[05/21/2021 11:52 PM] HazeyOneKenobi#2091
Preferably in Java, but willing to branch out :)


[05/22/2021 9:49 PM] morphic#4133
What do you mean "generate wallets"?


[05/23/2021 3:18 AM] Kaven#6681
@HazeyOneKenobi check the swagger ui the node generates, it has all the api calls


[05/23/2021 3:18 AM] Kaven#6681
/wallet/deriveNextKey might be what you want


[05/23/2021 10:20 PM] kushti#0978
Please check support channel


[05/24/2021 4:42 PM] NoahMason#6099
random question: I'm currently working on CardanoSharp, a .NET library for Managing Wallets and Building/Signing Transactions for the Cardano Network. I've been doing a lot of research into Ergo and was wondering where I might find more details on the Ergo platform.


[05/24/2021 4:43 PM] NoahMason#6099
more specifically: around the encryption used for Private to Public keys and around network serialization


[05/26/2021 4:18 PM] HazeyOneKenobi#2091
Hi, apologies for late response. My issue is essentially that I am looking to send multiple transactions, either all from one wallet, or one wallet per txn, and not have to wait for the previous to be in a block. I was originally thinking I could use many wallets and the node API, but it does not look like the node can 'switch' which wallet is it using as it is running to then send a txn under a different wallet. Please correct me if I'm wrong anywhere or if there's a much better way to go about this than what I've considered so far


[05/26/2021 4:20 PM] HazeyOneKenobi#2091
This is for an NFT payment processor, able to send out NFT's without a delay between them


[05/26/2021 4:21 PM] c8e4d2a#9854
Same here as i tried to send multiple nfts. In multiple distinct tx. Only 1 tx succeeded. Is it possible that the node tries to spend the same input box multiple times?


[05/26/2021 8:21 PM] morphic#4133
@c8e4d2a Yes, it is possible that the node wallet will just use the same UTXO and create many transaction using it. AFAIK there is no such a thing as batch of transactions in the Node wallet. For this use case you can theoretically use Appkit as transaction builder library, which allows build transactions precisely as you want. Here is an example of how it may look like https://github.com/aslesarenko/ergo-appkit-examples/blob/master/scala-examples/src/main/scala/org/ergoplatform/appkit/examples/FreezeCoin.scala#L25
There are also examples for other languages (including Java).
What you need is to first get unspent boxes for the given address using BlockchainContext.getUnspentBoxesFor(address) method. Once you have a list of unspent boxes you can create many transactions spending those boxes. And you can control, which transaction should spend which box.

{Embed}
https://github.com/aslesarenko/ergo-appkit-examples/blob/master/scala-examples/src/main/scala/org/ergoplatform/appkit/examples/FreezeCoin.scala
aslesarenko/ergo-appkit-examples
Examples of using Ergo Appkit for Polyglot Development of Ergo Applications - aslesarenko/ergo-appkit-examples
https://images-ext-2.discordapp.net/external/tdH5iA5F5IS2hekptJQf_CFie45kcHkJ59xXBATZt58/https/opengraph.githubassets.com/5ca675ac0cc0546285931d314bda9a397e79409bc5f9ed6587f04370f4996a25/aslesarenko/ergo-appkit-examples


[05/27/2021 2:49 AM] Deleted User#0000
Hi guys, do you know why I'm getting 0 unspent coins for Bob? I'm expecting userFunds - MinTxFee but I'm getting 0. I'm new to ErgoScript

https://scastie.scala-lang.org/K8lGEMyERBK98cVIox5rdA

{Embed}
https://scastie.scala-lang.org/K8lGEMyERBK98cVIox5rdA
Scastie - An interactive playground for Scala.
Scastie can run any Scala program with any library in your browser. You don‚Äôt need to download or install anything.
https://images-ext-2.discordapp.net/external/KrYReWZj2NuY8SonLKj1Vz1h-7mqORfiqtVgiCaZ0XQ/https/scastie.scala-lang.org/public/sharing-image.png


[05/27/2021 5:21 AM] greenhat#6562
"INPUTS(0)"  type is a Box, and you need a SigmaProp expression. I need to add this check in the playground compiler. I think you'd want something like "contract = userBob.wallet.address.pubKey". In this case whoever proves that they have a private key can spend the box protected by this contract.


[05/27/2021 5:22 AM] greenhat#6562
@Deleted User ‚òùÔ∏è


[05/27/2021 11:14 AM] code_For_Uss#1058
Hi
I want to start contributing to community projects, is there any suggestion for start, before hackathon(
ergo-headless-dapp-framework, yorio mobile, age-usd, ergo-jde, etc)? scala, rust, and js are ok!
@kushti


[05/27/2021 2:33 PM] Deleted User#0000
Thanks greenhat, what if I just want to leave a string of characters or a number printed in the block chain, whithout the possibility to edit it?

Another question, is it possible for a box to have a value of 0? why does it need a value?


[05/27/2021 2:37 PM] greenhat#6562
1. Store arbitrary data in box registers(R4-R9).
2. No. There is a min box value required on the protocol level. To avoid "dust" and to keep UTXO size at bay.


[05/27/2021 2:38 PM] Deleted User#0000
thank you üôå


[05/27/2021 3:37 PM] Kaven#6681
good morning. i am maybe not understanding difference between 'key' and 'wallet'. i run a full node on ubuntu, restored wallet from mnemonic, wallet + original key is back, but keys obtained by calling /wallet/deriveNextKey are not accessible thru panel. am i thinking about this wrong?


[05/27/2021 3:38 PM] Kaven#6681
hmm /wallet/addresses no longer shows derived keys


[05/27/2021 6:03 PM] nitram147#5106
If somebody would like to store some data on blockchain (data doesn't have to be on a valid UTxO in future) it should be ok to just create UTxO with the minimal value. Once the 4 years elapse miner will consume this UTxO and kill it by taking away all funds (assuming that min_box_value == storage_rent_fee).  But the creation of this UTxO could be seen on the explorer in any far future (if we assume that there wouldn't be any blockchain pruning). Am I right?


[05/27/2021 6:03 PM] nitram147#5106
So to store data it's ok to just once create an UTxO and that all (if we don't require it to be a valid UTxO in future). Anybody will see the data through explorer same way as it's on BTC.


[05/27/2021 6:04 PM] nitram147#5106
Or is there some blockchain pruning planned?


[05/27/2021 6:05 PM] greenhat#6562
Yes. This should work.

{Reactions}
üëç 

[05/27/2021 10:44 PM] Deleted User#0000
But what if for instance I want to associate all these messages, how could I identify them, I'm thinking of creating a twitter clone as a learning exercise


[05/27/2021 10:44 PM] Deleted User#0000
That's why I thought I needed a 'contract'


[05/28/2021 12:23 AM] kushti#0978
Not true, node wallet is considering boxes spent and created offchain, and creates chained transactions in the mempool. @c8e4d2a what you did exactly ?


[05/28/2021 12:26 AM] c8e4d2a#9854
i created 2 nfts, in two consecutive transactions


[05/28/2021 12:29 AM] c8e4d2a#9854
(i had multiple unspent boxes with erg available and for both tx the node api returned a 200, but only one nft was created)


[05/28/2021 12:33 AM] c8e4d2a#9854
Is there a way to trace the life cycle of a transaction or even better to tell when a transaction failed? The proper place would be `/scan/register` i assume, but i was not able to figure out how to trace a tx :<


[05/28/2021 12:41 AM] kushti#0978
@c8e4d2a ah, you issued two tokens ?


[05/28/2021 12:41 AM] c8e4d2a#9854
yes sir


[05/28/2021 12:42 AM] kushti#0978
in this case there's some issue to fix , https://github.com/ergoplatform/ergo/issues/1283

{Embed}
https://github.com/ergoplatform/ergo/issues/1283
Token issuance incorrectly uses token id of an earlier issued token...
I think its easier to explain using an example: I made a token issue request as follows: { &quot;requests&quot;: [ { &quot;address&quot;: &quot;9fcrXXaJgrGKC8iu98Y2spstDDxNccXSR...
https://images-ext-2.discordapp.net/external/YGP8RV-dH1P2sz-kAoaSnsTTn9p_4fTrJyr-cnB8Z8g/https/opengraph.githubassets.com/df6ddac881c12902ec03b80ca33ea9aae105a9b932c8a8a35e1690e1189d9cd9/ergoplatform/ergo/issues/1283

{Reactions}
üëç 

[05/28/2021 12:44 AM] kushti#0978
let us try to fix it ASAP

{Reactions}
üíé 

[05/28/2021 3:30 AM] Kaven#6681
i restored a wallet from mnemonic but keys i created using /wallet/deriveNextKey aren't associated in the node anymore. is there a way to restore these too?


[05/28/2021 8:26 AM] Ilya | Spectrum#0494
You need to derive them again using corresponding derivation paths


[05/28/2021 11:58 AM] kushti#0978
what was previous node version ?


[05/28/2021 4:11 PM] Kaven#6681
i think i derived next keys using 4.0.10 and now i have 4.0.11


[05/28/2021 4:11 PM] Kaven#6681
@kushti ‚òùÔ∏è


[05/28/2021 4:12 PM] Kaven#6681
@Ilya | Spectrum so when using /wallet/deriveNextKey it is important to save the path? that is like mnemonic because its only way to restore access?


[05/28/2021 4:16 PM] Ilya | Spectrum#0494
Not the only way - you can always restore your keys by brute-forcing paths. It is actually not a problem if you didn't go too deep with the derivation.


[05/28/2021 4:18 PM] Kaven#6681
is this technique also a way to discover wallet public keys if wallet primary address is known?


[05/28/2021 4:18 PM] Kaven#6681
forgive my lack of understanding here


[05/28/2021 4:19 PM] Kaven#6681
so what i am thinking then, deriving a new public key is not a very good privacy measure?


[05/28/2021 4:46 PM] Kaven#6681
ah so thinking about this -- good privacy is create wallet, then only use derived keys for transacting because these cannot be reversed back to wallet, but if you use wallet address for transacting, derived keys can be brute forced ?


[05/28/2021 5:00 PM] Kaven#6681
i have a script to brute force paths, but /wallet/deriveKey adds all the derived keys to my wallet state. is there an easy way to remove these?


[05/28/2021 5:59 PM] nitram147#5106
What do you mean by "wallet primary address"? Unless you leak your xpub, nobody can predict your adresses which were derived from the same parent.


[05/28/2021 6:00 PM] nitram147#5106
Have a look at BIP-32, BIP-39, BIP-43 and BIP-44


[05/28/2021 6:00 PM] nitram147#5106
Once you read it, it would be clear for you üòâ


[05/28/2021 6:01 PM] Kaven#6681
ok sorry, still learning here, yes i will read up more on these. so when you run a node, there is no public parent, there is only a private parent key and all public keys are derived from this?


[05/28/2021 6:01 PM] nitram147#5106
There's a long derivatio path, and your adresses are the leafs on this path.


[05/28/2021 6:02 PM] nitram147#5106
First read the bitcoin improvement proposals I sent to you, and then if you will still not understand it, feel free to ask üòâüòé


[05/28/2021 6:02 PM] nitram147#5106
It should came as the missing pieces of puzzle once you read it


[05/28/2021 6:02 PM] Kaven#6681
ok i will


[05/28/2021 6:03 PM] nitram147#5106
It's a bit "complicated" so it's better for you to read it, then me writing you tons of text here to explain it, when there is already an explanation in the BIPs üôÇ


[05/28/2021 6:03 PM] Kaven#6681
one last question, i understand ilya's suggestion above, and i have a script now for this, but calling /wallet/deriveKey is adding every derived key to whatever state the node panel ui is using. do you know if i can derive keys this way without cluttering panel ui?


[05/28/2021 6:05 PM] nitram147#5106
Once you read the BIPs have a look for Ergo specific EIP:


[05/28/2021 6:05 PM] nitram147#5106
https://github.com/ergoplatform/eips/blob/master/eip-0003.md

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0003.md
ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/rK3Xb-85OYnQOoSd9ndY9xRG4WNEM-OYkc_du_jKyrA/https/opengraph.githubassets.com/3c94bc1593dfc21998d5f63809afbb03786a1055a9bcc058d6e34fd40c61dd0d/ergoplatform/eips


[05/28/2021 6:06 PM] nitram147#5106
I don't have a lot of experience with Ergo node so it's not the question for me.


[05/28/2021 6:07 PM] nitram147#5106
However you can always try to bruteforce different derivation path and compare the derrived addresses with the UTxO's memory.


[05/28/2021 6:08 PM] nitram147#5106
Once you find that some UTxO belong to the address you know that it's that your address on which you have your funds.


[05/28/2021 6:08 PM] nitram147#5106
But how to use ergo node for it I don't know, it's better to ask somebody with experience fe. @Ilya | Spectrum


[05/28/2021 6:10 PM] Kaven#6681
okay i appreciate the pointers. i'll read and experiment more.


[05/28/2021 6:11 PM] Ilya | Spectrum#0494
There is a separate tool for that
https://github.com/ergoplatform/ergo-utility

{Embed}
https://github.com/ergoplatform/ergo-utility
ergoplatform/ergo-utility
A set of useful utilities for Ergo protocol. Contribute to ergoplatform/ergo-utility development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/XfHMWp14_z4R7-UE2rYtxovOslcj9vZ1VWmwdQhPFHA/https/opengraph.githubassets.com/e4746bbc04f66776bd69084d28d57786a707e5fd38aae9c8b3b3a2c013d62d1c/ergoplatform/ergo-utility

{Reactions}
üëç 

[05/28/2021 6:12 PM] Kaven#6681
ok i will pull this. thank you


[05/29/2021 6:25 PM] HazeyOneKenobi#2091
I am seeing the following error in docker when trying to spin up the explorer with the bootstrap kit - 
```
Error: Unable to access jarfile /nix/store/19lhgk852dsk45cgsq7mxdf7fajwfnvi-ergo-explorer-backend-7.0.2/share/java/ChainGrabber-7.0.2.jar
```


[05/29/2021 6:25 PM] HazeyOneKenobi#2091
Anyone ran into that before?


[05/29/2021 6:42 PM] HazeyOneKenobi#2091
Do I need to be on Linux for the nix parts to work?


[05/29/2021 9:27 PM] abchris#8522
Came here to report the same issue... and I'm on Ubuntu.


[05/29/2021 9:30 PM] HazeyOneKenobi#2091
Dang.. So what from what I read online, we could build those .jars ourselves, then import them into the docker containers using the volume command in the dockerfile?


[05/29/2021 9:32 PM] HazeyOneKenobi#2091
I've been trying to get an explorer up and running for my testnet for a while today with no luck


[05/29/2021 9:44 PM] andee#4722
`If you are not running NixOS, you need to at least install Nix` so it seems like you need to use WSL if on windows, or a Linux VM


[05/29/2021 9:46 PM] HazeyOneKenobi#2091
I believe I have WSL 2 already installed


[05/29/2021 10:24 PM] abchris#8522
Just checked, there's no jar files in the container's /nix/store. @mmahut, should I submit an issue on GitHub or is there a trivial fix?


[05/29/2021 10:27 PM] andee#4722
I would try to spin it up but I need to adapt it for podman first


[05/29/2021 10:27 PM] andee#4722
or maybe I'll just make a vm for docker


[05/29/2021 10:27 PM] andee#4722
you do have Nix installed though?


[05/29/2021 10:28 PM] andee#4722
seems like https://github.com/ergoplatform/ergo-nix is needed

{Embed}
https://github.com/ergoplatform/ergo-nix
ergoplatform/ergo-nix
Contribute to ergoplatform/ergo-nix development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/uI0BuvnRmb0BgxoxZzPRplwCFMt6zz5YgW0ziwoVZnY/https/opengraph.githubassets.com/2dd08b184bb0c41af9a52e7ec2aaa8c03684ad50f106b388d84e8b9ff290f43b/ergoplatform/ergo-nix


[05/29/2021 10:30 PM] abchris#8522
I just ran ergo-bootstrap init. Seems nix is taken care of within the containers. No need to have it on the host.


[05/29/2021 10:32 PM] andee#4722
that would be the most logical yeah.. Was just throwing things out there


[05/29/2021 10:33 PM] abchris#8522
Thanks anyway üôÇ


[05/29/2021 10:43 PM] andee#4722
üëç just started init, will see how it works out


[05/29/2021 10:59 PM] andee#4722
hmm


[05/29/2021 11:00 PM] andee#4722
`Starting ergo-explorer-backend-chain-grabber ... done`


[05/29/2021 11:00 PM] abchris#8522
Well that's good news


[05/29/2021 11:06 PM] andee#4722
thought that things should just work when using docker like this ü§î maybe some download failed when you built the images?


[05/29/2021 11:08 PM] abchris#8522
Could be. I'll go through the process again. Thanks for confirming it works üëç


[05/29/2021 11:10 PM] andee#4722
I did one minor change to the repo I cloned, which should be irrelevant. Had to change compose version to 3.7 instead of 3.8


[05/29/2021 11:11 PM] andee#4722
Seems like even Sid is lagging behind.. üòÜ


[05/29/2021 11:38 PM] abchris#8522
Still no luck. Oh well, I'll just grab the jar files from github.


[05/29/2021 11:40 PM] abchris#8522
Any chance you know where the value of $ERGO_NIX_SOURCE is set? I see it's passed in the compose file, but can't seem to find where it comes from.


[05/30/2021 12:03 AM] andee#4722
```root@acr:/home/a/dev/ergo/ergo-bootstrap# cat .env 
# The following pins to a specific version of ergo-nix
ERGO_NIX_SOURCE=https://github.com/ergoplatform/ergo-nix/archive/314dcc8de88613048249904c94e2cd2a4a7d50ef.tar.gz```


[05/30/2021 12:58 AM] HazeyOneKenobi#2091
out of curiosity, how do you check the storage of a docker container?


[05/30/2021 1:00 AM] abchris#8522
I used docker run -it --entrypoint /bin/sh <image-name>


[05/30/2021 1:00 AM] abchris#8522
The ls your way around


[05/30/2021 1:01 AM] HazeyOneKenobi#2091
OK cool. can you let me know if getting the jar files and running the local explorer that way works out for you?


[05/30/2021 1:02 AM] HazeyOneKenobi#2091
also - if anyone is mining the testnet, please send some testnet ergs to this address -


[05/30/2021 1:03 AM] HazeyOneKenobi#2091
```
3Wy39sEhJPF3dskgAf4vwqF9oSNKFchAF4NLuYE5DNiG8Q9QWBqZ
```


[05/30/2021 1:11 AM] andee#4722
I get the error if I try to run the image manually ü§î


[05/30/2021 1:13 AM] HazeyOneKenobi#2091
What about loading the .jar files from the explorer-backend repo into a different image, or just running them separately as they are? Can you figure out a way to run that way? Seems more simple


[05/30/2021 1:20 AM] andee#4722
there is a problem with the wrappers


[05/30/2021 1:20 AM] andee#4722
`makeWrapper ${jre}/bin/java $out/bin/ergo-chain-grabber --add-flags "-jar $out/share/java/ChainGrabber-${version}.jar"`


[05/30/2021 1:21 AM] andee#4722
while the name of the jar is `ChainGrabber-assembly-7.0.2.jar`


[05/30/2021 1:22 AM] andee#4722
affects all the wrappers in the explorer-backend


[05/30/2021 1:25 AM] andee#4722
too tired to check


[05/30/2021 1:26 AM] HazeyOneKenobi#2091
So you change it and it works?


[05/30/2021 1:26 AM] HazeyOneKenobi#2091
Yeah nice find anyway


[05/30/2021 1:27 AM] HazeyOneKenobi#2091
I am new to docker but I'll give it a shot after I get a McDonald's in me tomorrow morning üëç


[05/30/2021 1:30 AM] andee#4722
If it wasn't middle of night I would do the changes and test it out, but I think its just a problem with the wrappers in default.nix on explorer-backend


[05/30/2021 10:05 AM] HazeyOneKenobi#2091
Hi bud, I now have the configuration for the wider testnet working, and I've been sent some test ergs to test with. Let me know you wallet address if you want some sending over so you can use the proper testnet too üôÇ


[05/30/2021 11:21 AM] andee#4722
can confirm that after adding assembly to the wrappers the container starts


[05/30/2021 11:21 AM] andee#4722
```root@acr:/home/a/dev/ergo/ergo-bootstrap# docker run -v  "${PWD}/conf/ergo-backend.conf:/etc/ergo-backend.conf" ergo-bootstrap_ergo-explorer-backend-chain-grabber /etc/ergo-backend.conf
10:19:20.985 INFO  org.ergoplatform.explorer.indexer.Application - Starting Chain Indexer .. ```


[05/30/2021 11:28 AM] HazeyOneKenobi#2091
Can you share some notes on how to do that? I'll write it up and see if I can make a change request


[05/30/2021 11:31 AM] andee#4722
```the file that needs to be changed is in these sources: ERGO_NIX_SOURCE=https://github.com/ergoplatform/ergo-nix/archive/314dcc8de88613048249904c94e2cd2a4a7d50ef.tar.gz
nixpkgs/ergo-explorer-backend/default.nix

    makeWrapper ${jre}/bin/java $out/bin/ergo-chain-grabber --add-flags "-jar $out/share/java/ChainGrabber-assembly-${version}.jar"
    makeWrapper ${jre}/bin/java $out/bin/ergo-explorer-api --add-flags "-jar $out/share/java/ExplorerApi-assembly-${version}.jar"
    makeWrapper ${jre}/bin/java $out/bin/ergo-utx-broadcaster --add-flags "-jar $out/share/java/UtxBroadcaster-assembly-${version}.jar"
    makeWrapper ${jre}/bin/java $out/bin/ergo-utx-tracker --add-flags "-jar $out/share/java/UtxTracker-assembly-${version}.jar"
    makeWrapper ${jre}/bin/java $out/bin/ergo-migrator --add-flags "-jar $out/share/java/Migrator-assembly-${version}.jar"```


[05/30/2021 11:33 AM] andee#4722
I guess the names of the packages would be the right thing to edit though, so I am not making a pull request for this


[05/30/2021 4:34 PM] HazeyOneKenobi#2091
@mmahut - can you look into fixing the bootstrap kit? If I understood the above I would make the fixes myself, but my brain is too smooth üòÇ


[05/30/2021 11:17 PM] kushti#0978
https://github.com/ergoplatform/ergoscript-compiler

{Embed}
https://github.com/ergoplatform/ergoscript-compiler
ergoplatform/ergoscript-compiler
Contribute to ergoplatform/ergoscript-compiler development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/GROwM-0nxjT5OyDirg6lvqnPvxDhXxBJyRguzKg32FA/https/opengraph.githubassets.com/759fa327c7f071c385a25bd335448cfa8074bd91880d287f7e7da7026adc4fae/ergoplatform/ergoscript-compiler


[05/30/2021 11:17 PM] kushti#0978
Standalone ErgoScript compiler for deploying smart contracts on Ergo


[05/31/2021 1:21 PM] olliten#5885
Hello beautiful people! I'm trying to figure out what makes Ergo attractive to you as developers in comparison to other DeFi platforms. 

What's your personal take? Why are you here?

Getting a crisp pitch could help strengthen the ecosystem.


[05/31/2021 8:50 PM] Wizard#4636
guys how can  i solve the issue of wallet not synching?


[05/31/2021 9:15 PM] kushti#0978
answered in #üí≥„Éªwallets


[06/01/2021 6:55 AM] 1nsomni4#3215
Hey there, I wanted to checkout ergo-bootstrap. When trying to start the cluster after pulling it from git and initiating it, I get the following message: "Version in ".\docker-compose.yml" is unsupported. You might be seeing this error because you're using the wrong Compose file version. Either specify a supported version (e.g "2.2" or "3.3") and place your service definitions under the `services` key, or omit the `version` key and place your service definitions at the root of the file to use version 1." Are there any constraints towards used docker version?


[06/01/2021 8:38 AM] abchris#8522
You're using a an older version of docker-compose. Either install a more recent one, or try lowering the version set in the docker-compose.yml file. If you scroll up a bit, you'll see this worked for andee (from 3.8 to 3.7).


[06/01/2021 4:47 PM] 1nsomni4#3215
Awesome, that worked. Thank you!


[06/01/2021 4:48 PM] 1nsomni4#3215
Lowering the version in .yml file did the trick


[06/01/2021 5:59 PM] Tolstojevski#7462
Can someone assist me with forming a transaction? I can't find any documentation about using /api/v0/transactions/send on ergo explorer, or using  a post to /transactions on the ergo node. Trying to build it now by experimenting, stuck on "Every input of the transaction should be in UTXO." ATM, could use some help or docs üôÇ thank you


[06/01/2021 10:36 PM] kushti#0978
@Tolstojevski the error means that transaction is trying to spend an output which is already spent. To form transaction, please take a look, to methods in /wallet (they're protected with API key), namely, /wallet/transaction/generate, /wallet/payment/send etc


[06/01/2021 11:51 PM] Tolstojevski#7462
@kushti Thank you kindly for the reply (and everything else you do, really enjoying my time spent with ergo, and plan to spend a bunch more üôÇ ). I'm aware of those, but I'm trying to form a simple one without the use of a wallet. I need one to rescue my client's funds, as he did not keep mnemonics, his wallet software crashed and we've managed to get the master private extended key only. I've managed to derivate the correct address from it already. So I figured I could just build up a dry transaction using /transactions as I do, in theory, possess everything I need to calculate the proofs and all. Should give me a bunch of insight about ergo too, figured so much out just studying transactions already üôÇ .


[06/02/2021 12:04 AM] andee#4722
@Tolstojevski there was no way to restore wallet using data files from wallet? was this yoroi or node wallet?


[06/02/2021 12:07 AM] Tolstojevski#7462
@andee Yoroi, guessing the db broke under the amount of transactions. LevelDb files we managed to recover are full of corruption, by sheer luck the bytes where the master key resided did not suffer any damage so we managed to recover it and decrypt it successfully as he had his spending password. My second recovery vector is understanding how the ergo node encrypts the key from the wallet it generates and just feeding the one I've got.


[06/02/2021 12:13 AM] Tolstojevski#7462
Pulled by my old school bitcoin experience I've sort of went in thinking, eh, got the private key, should be done in a few minutes üòÑ that was like a week ago... Was not aware as to where all this went from way back when. And it is a lovely place, grand journey so far, learned so much, loving it, plus I'm darn certain we will get to the bottom of this and sort everything out one way or the other üôÇ .


[06/02/2021 7:34 AM] Ginger Design#1182
Hello,

Is there a faucet for Ergo in this server?


[06/02/2021 11:19 AM] Foeniculum#3278
Hi! Nope there isn't


[06/02/2021 7:43 PM] Gazza_SP#5835
Just started following the "Learn ErgoScript By Example Via The Ergo Playground with Robert Kornacki" and associated Scastie playground and I was wondering does anyone know of a good resource to learn the technical side of the standard UTXO model of input and outputs in boxes before diving into the extended model? Parts are making sense to me but the more basic UTXO concepts aren't as I just have no experience with it. Thanks. Also out of curiosity in e-UTXO, does each register have its own purpose? Or is R4 == R5, R6 and so on? Is there a max number of registers that can be used in e-UTXO? I noticed we only seem to use the extra R4 to R9, is this due to memory limitations? Also is blake2b256 the standard hash function that will be used in all smart contracts? Sorry for the wall of questions, this is all pretty new to me but it seems quite functional and logical at least.


[06/02/2021 8:10 PM] glasgowm#9381
For utxo there should be plenty on YouTube as bitcoin uses it.

Different registers are used for different things if you have a look through the eips linked at the bottom of the Hackathon page on ergonauts.space

I think there's a couple different hashing functions available via swagger iirc


[06/02/2021 8:11 PM] Gazza_SP#5835
Perfect, I'll start making my way through the documentation, feels like I'm starting out as a person who's never coded before, going to be a rough few months!


[06/02/2021 8:35 PM] glasgowm#9381
Will get much easier in the coming weeks with everyone working to make docs, videos, and build the structure for the hackathon


[06/02/2021 8:46 PM] Gazza_SP#5835
Going the spend a bit of time on fully grasping UTXO first anyway and then I'll dive into the ERGO documentation, and hopefully be in a good place for the hackathon. Cheers!! üòÑ


[06/03/2021 12:35 AM] MoistyRoss#0456
Is there a way to see total time mined?


[06/03/2021 11:35 AM] Tolstojevski#7462
Oh man, gotta share this stuff. That salvage op I was running for a client? The one where we just managed to recover the master extended key and nothing else? My brain went, as usual, the long and hard way around the problem, started working out how to calculate proofs manually for a raw transaction and whatnot. And than, just the day before, it dawns on me that I'm an idiot üòÑ . Took the ergo node source, found the bit that derives the master key, jury rigged it to return the mpk I have and boom. A version of ergo node that, no matter how you init or restore a wallet, it's gonna be looking at the one I needed it to, simple as that. Funds rescued, all sorted out üôÇ .

{Reactions}
ü§© (2) 

[06/03/2021 11:37 AM] andee#4722
@Tolstojevski nice! üòÉ


[06/03/2021 11:38 AM] glasgowm#9381
From this it looks like Blake2b256 is always used for ` Pay-to-Script-Hash`  https://ergoplatform.org/en/blog/2019_07_24_ergo_address/

{Embed}
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/
Ergo Addresses
In today‚Äôs article, we ‚Ä¶
https://images-ext-1.discordapp.net/external/QJxdCwzrxWhHSmIVn523mq-21UJYJFjFnu0m1tpMIb0/https/ergoplatform.org/img/blog/address.jpg


[06/03/2021 11:38 AM] Tolstojevski#7462
It's always the simple solution ain't it... Like troubleshooting a network for a few hours to figure out you need to plug the darn cable in üòÑ oh well, at least I learned a bunch in the process üôÇ


[06/03/2021 11:43 AM] Gazza_SP#5835
Just finished my actual work for the day, back to learning ERG again üòÜ


[06/03/2021 2:22 PM] morphic#4133
@Gazza_SP @glasgowm From dev point of view it may be helpful to look at this file where all type of addresses are implemented https://github.com/ScorexFoundation/sigmastate-interpreter/blob/48cc739a77ca884456ed56759ce7b09f816a140b/sigmastate/src/main/scala/org/ergoplatform/ErgoAddress.scala#L67

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/48cc739a77ca884456ed56759ce7b09f816a140b/sigmastate/src/main/scala/org/ergoplatform/ErgoAddress.scala
ScorexFoundation/sigmastate-interpreter
Interpreter of a Sigma-State language. Contribute to ScorexFoundation/sigmastate-interpreter development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/Kx_2mzuz8SMzO00jteZcqGansX2E9hB1w1m_mdumdpg/https/opengraph.githubassets.com/27983791ed0782d2c389541adeeecd38a76584395b67397dcfafedfd13a03bb3/ScorexFoundation/sigmastate-interpreter


[06/03/2021 2:23 PM] morphic#4133
Here is the specification that puts all the pieces together https://github.com/ScorexFoundation/sigmastate-interpreter/blob/a7f1d97e6bb75687c0b5d61360e8a6601d1baca5/sigmastate/src/test/scala/org/ergoplatform/ErgoAddressSpecification.scala#L29

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/a7f1d97e6bb75687c0b5d61360e8a6601d1baca5/sigmastate/src/test/scala/org/ergoplatform/ErgoAddressSpecification.scala
ScorexFoundation/sigmastate-interpreter
Interpreter of a Sigma-State language. Contribute to ScorexFoundation/sigmastate-interpreter development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/Kx_2mzuz8SMzO00jteZcqGansX2E9hB1w1m_mdumdpg/https/opengraph.githubassets.com/27983791ed0782d2c389541adeeecd38a76584395b67397dcfafedfd13a03bb3/ScorexFoundation/sigmastate-interpreter


[06/03/2021 2:30 PM] Gazza_SP#5835
Thanks @morphic, I am going to add these to a folder of resources I am currently trying to learn.


[06/03/2021 10:27 PM] kushti#0978
Any help needed ?


[06/03/2021 10:32 PM] kushti#0978
https://www.ergoforum.org/t/ergo-terminology-a-box-and-a-register/32

{Embed}
https://www.ergoforum.org/t/ergo-terminology-a-box-and-a-register/32
Ergo terminology: a Box and a Register
Ergo has Bitcoin-like UTXO transactional model: a transaction is spending one-time objects and creating new one-time objects. We call this object a box. A box is immutable object which could be only created or removed. A box is not simply a coin, rather, it is contains registers with data (and code). Even more, there‚Äôs nothing in box but registe...


[06/04/2021 10:22 AM] Gazza_SP#5835
Thanks @kushti, spent the day at this yesterday and feel like I understand it a lot better now, I'll have a read of this later too though, thanks!


[06/04/2021 2:46 PM] Gazza_SP#5835
I think I need to try get a clear understanding of how a UTXO model works before I try learn any more ERGO. Does anyone know of any online course that covers the technical aspects of UTXO? Can't seem to find much from Google, I'm happy to do a paid course too. But also I guess am I correct in saying that this is necessary to move forward with ergo development, trying to follow the basic ergo examples in the ergo playground aren't clicking with me right now as I don't understand the spent and unspent part of the model.


[06/04/2021 2:59 PM] +cryptoguy#2331
https://www.investopedia.com/terms/u/utxo.asp

{Embed}
https://www.investopedia.com/terms/u/utxo.asp
What Is UTXO?
UTXO is the unspent output from bitcoin transactions stored in a UTXO database.
https://images-ext-2.discordapp.net/external/5exvAQy9dMzmFGq9L6MrmeHcb_h3Ve7zYU5VQBUbY-A/https/www.investopedia.com/thmb/tWydWGW07tTbTMQPLs2WUmUNUb8%3D/5079x3386/filters%3Afill%28auto%2C1%29/golden-bitcoins-991448988-71d4a10500fb4958bcfde76feaffdbe8.jpg

{Reactions}
üëç 

[06/04/2021 2:59 PM] +cryptoguy#2331


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/850373277146153049/1eAKr5SIZfWXwC9dFBOmS3Q.png

{Reactions}
üëç 

[06/04/2021 3:15 PM] Gazza_SP#5835
Cheers I'll have a read of this! ‚ò∫Ô∏è


[06/04/2021 11:00 PM] kushti#0978
@Gazza_SP in general, the space lacks structured while detailed information a lot! Maybe "Mastering Bitcoin" to get into Bitcoin and its UTXOs ?


[06/04/2021 11:01 PM] Gazza_SP#5835
Ya I'm really surprised I couldn't find an online course to apply to that would cover the basics of something that's so popular! I've been at it all day now messing around with the pin lock contract and I think it's starting to make more sense. Just need to stick at it for now!


[06/04/2021 11:02 PM] nitram147#5106
Yeah, definitely, something like "Mastering Bitcoin" but for Ergo and even Cardano would be really great source of information - if somebody want something between "basic overview" and "in depth overview with all implementation details" üôÇ


[06/04/2021 11:02 PM] nitram147#5106
+ link sources in the book for the all implementation details for readers who want to get know specific area of Ergo better


[06/04/2021 11:02 PM] nitram147#5106
---


[06/04/2021 11:03 PM] nitram147#5106
Only problem with Ergo & Cardano is that it's rapidly changing and the book may become obsolete after a little bit of time (this isn't a problem with bitcoin however)


[06/04/2021 11:04 PM] kushti#0978
Ergo protocol is (more or less) stable now, and after mainnet launch (almost 2 years ago) PoW update was the most radical change


[06/04/2021 11:04 PM] kushti#0978
So maybe next year we can start something like Mastering Ergo


[06/04/2021 11:07 PM] nitram147#5106
That would be awesome ü§©  I was learning about the implementation detail back in days (in 2017) mainly from random places over the internet. Than I discover the "Mastering Bitcoin" book in 2018. I did not learned anything new but I really liked that all of the informations were in one place. However there were a few implementation detail that was made "easier" for reader but did not corespond 100% with reaility, but it was still ok.


[06/04/2021 11:08 PM] nitram147#5106
However when I started learning about Cardano (2018) and wanted to develop my own hardware wallet (I've been playing with electronic development since like 2009, and really like development with MCUs and writing code for them), I couldn't find even information how is the Cardano address generation done....


[06/04/2021 11:10 PM] nitram147#5106
Everything was different then with "tradditional" cryptocurrencies. Even the implementors from Vaccuum labs (who made Adalite.io web wallet + later implementation for the Trezor model T) told me that they had to reverse engineer the Haskell code from Cardano's repos due to lack of documentation


[06/04/2021 11:12 PM] nitram147#5106
This is a thing a like about Ergo most (I like the new "technologies" also which Ergo bringed) that there is a community and even I if I want, can develop something, and I can be sure that when I decide to help improve Ergo, I will get required support here. This couldn't be sayed about Cardano in 2018 - I even exchanged a few email, however I was really dissapointed...


[06/04/2021 11:21 PM] kushti#0978
@nitram147 a lot of documentation still needed, especially for storage rent, soft-forking rules etc.


[06/04/2021 11:21 PM] kushti#0978
And data structures we have.


[06/04/2021 11:21 PM] kushti#0978
If you guys can help with anything, please lemme know.


[06/04/2021 11:22 PM] kushti#0978
I guess subject to bounties as well )


[06/04/2021 11:31 PM] Gazza_SP#5835
Can't help just yet unfortunately, don't have enough knowledge. I just bought "Mastering Bitcoin" though to get a better understanding of the technical side of everything. After that I may be able to help with some technical documentation.

{Reactions}
üòç 

[06/04/2021 11:42 PM] nitram147#5106
I had decided to built my own open hardware and open source device for Shamir Secret Sharing Scheme backup of a different types of information (ranging from private keys, passphrases, password, to binary files, pictures etc.). However since the January I could find a lot of time for the development. I'm going to work fulltime on it since like 15.06.2021, and I assume that the "demo" could be done until the end of summer. I had working algorithm + schematic idea and protype for the hardware. However there are ton of thing to be done. I've spent a lot of time because I'm developping everything from scratch - from the communication from MCU to the touch screen display (on the lowest level possible, it could be said that I'm writing the code which is sending 0 and 1 over the cables to the display), up to setting up the display, writing pixels to display, mine own library for pixel rasterization of different shapes, handling touch events from display up to developpment of the UI over it. So far I've done from the UI side only a prototype touch keyboard - I'm gonna upload a video for you, so all of you could get an idea how it looks like. The shamir backup software is a number one priority for my device, but I would like to develop also "ergo hardware wallet software" for my device. But firstly I had to refactor a code and make it easy to build graphic interface on it. Everything will be open source & open hardware. During the hardware designing I decided to use cheapest and most available components so anybody could built it üôÇ I would also probably build a device for people who would be interested and they can support me this way... However there's a lot of work to be done üôÇ

{Reactions}
üßê üòç 

[06/04/2021 11:45 PM] andee#4722
@nitram147 have you thought about the problems many (all?) hardware wallets have with signing transactions that has many inputs? sounds like a nice project, will buy a kit if you release


[06/04/2021 11:48 PM] nitram147#5106
There could be problems with limited resource such as RAM. For example if you use 8-bit MCU, you can have as little as 512Bytes up to 2kBytes of RAM only. Even some of the basic hashing functions consume more RAM than 2kBytes. I'm gonna use 32bit MCU with 20kB RAM - so there is hard limit for any computation that it cannot use more than X-kBytes where X =  20kB - (the amount the UI will need) of RAM.


[06/04/2021 11:49 PM] nitram147#5106
However if you can sign transaction input by input, you can develop a way to sign a long transaction in multiple steps üòâ üôÇ


[06/04/2021 11:49 PM] nitram147#5106
Hardware security is another thing - but it depends.


[06/04/2021 11:50 PM] nitram147#5106
My shamir backup application don't need a "special" security because it will not store anything. However hardware wallet is storing your private keys so it has to be done more "securely"....


[06/04/2021 11:50 PM] nitram147#5106
It depends also on what you want to achieve - for example side channel attacks - somebody with osciloscope can get private keys from your device.


[06/04/2021 11:51 PM] nitram147#5106
But there's a question - even in that scenario. How would somebody with osciloscope get your device? And why you didn't used the passphrase feature (as Trezor have). If you use the passphrase feauture, nobody could get the private keys, because there is only a "part" of private key derivation entropy stored on the device...


[06/04/2021 11:55 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/850507988770226186/device.mp4


[06/04/2021 11:55 PM] nitram147#5106
This is how the UI of prototype keyboard looks like


[06/04/2021 11:56 PM] nitram147#5106
And this is a prototype 3d printed case for the device

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/850508372524793926/IMG_20210309_190050.jpg


[06/04/2021 11:57 PM] nitram147#5106
Device should have it's own battery so it could work standalone, it could be charged or have software updated via USB-C cable. There will be socket for micro-sd card from the side. And power button - on the front panel or on the side - I have not decided yet


[06/05/2021 9:03 AM] andee#4722
@nitram147 what kind of screen is that? du you have a partnumber? looked nice


[06/05/2021 9:04 AM] andee#4722
will you be generating the key on the main mcu or be using a separate chip for that?


[06/05/2021 9:54 AM] nitram147#5106
Screen is quite "premium" with capacitive touch (same the modern phone has). Unfortunately it's quite pricey. (You have select touch in the additional drop down box & and also zif connector in the next dropdown box, to see the final price). Price with everything is unfortunately 16.25$ and maybe will even increase (before few months it costs like 14$). There's a problem with their silicon chip supplier so prices went up rapidly. They even tried to compensate it with lowering their profit. https://www.buydisplay.com/240x240-round-ips-tft-lcd-display-1-28-inch-capactive-touch-circle-screen

{Embed}
https://www.buydisplay.com/240x240-round-ips-tft-lcd-display-1-28-inch-capactive-touch-circle-screen
240x240 Round IPS TFT LCD Display 1.28" Capactive Touch Circle Screen
ER-TFT1.28-2 is 1.28" IPS tft lcd display,240x240 pixel,micro round screen panel for smart watch replacement,FPC w/optional capacitive touch panel,ZIF connector.
https://images-ext-1.discordapp.net/external/g5b8PRYGTQa3u5_jZIJrCQBLkoJt6CF9BbTYTvuZoZk/https/www.buydisplay.com/media/catalog/product/cache/ad25f046a0640d3bd7ee991b8d90744c/2/4/240x240_round_ips_tft_lcd_display_1.28_inch_circle_screen_fpc_connector.jpg


[06/05/2021 10:02 AM] nitram147#5106
Entropy will be generated on device. However there going to be entropy pool with 3 different sources of entropy. First one is going to be custom built hardware random noice generator based on quantum tunnelling effect (there's a research for it, where authors elaborates the effectivity and randomness of the design), another one will be internal - based on phase shift and unsynchronization of two sources - precise crystal oscilator vs "faulty" internal non-precise RC oscilator. If you use the latter one to samle register incremented from the former one, the LSB bit would be random. An the third source of entropy (however it will produce only a low amount of bits compared to other sources) wil be user interaction with device. Each time you tap on screen you can get 3bits of entropy - parity of coordinates location both x,y (x%2, y%2), sample register incremented by crystal oscilator in the moment of user touch and take LSB bit. All the gathered entropy is going to be merged into final entropy. This final entropy is going to be TRNG, and also verificable - everybody could check the hw (first source), sw (second source with oscilators), sw (third source with user's touches). So it's enough if only one source is random and it will be random as a whole üôÇ


[06/05/2021 10:06 AM] nitram147#5106
I decided to use this my own design compared to simple builtin trng of stm chip (as the trezor use), because this way you doesn't have to trust to the chip manufacturer and you can verify everything on your own - so my device's users could be 100% sure that the entropy is really random and not biased üôÇ


[06/05/2021 6:42 PM] andee#4722
@nitram147 this is way above my competence level. Please announce if you get it going, I would love to build one and hack away, maybe I could help with some small things. My MCU experiences has been mostly logic work with automation


[06/05/2021 7:21 PM] nitram147#5106
I will let you know, but it's going to be a lot of work (at least 2 months of work) before ani MVP (minimum viable product) will be done. I'm a only one developper of my project, and my friend is helping me with the 3D design for the device case but thats all. Unfortunately even if somebody wanted to help, all the ideas & things are in my head right know and there isn't documentation for the work I've done, so nobody could help in this phase even I he wanted üôÇ I will keep you updated üôÇ


[06/05/2021 7:25 PM] andee#4722
@nitram147 I have a 3D printer and hot air station so if you get parts and PCB I will buy a kit ASAP üôÇ I reckon you accept Ergo? üòâ


[06/05/2021 7:26 PM] andee#4722
would be really  neat with an open source hardware wallet


[06/05/2021 8:11 PM] nitram147#5106
Of course üòâ , you're welcome. I'm looking forward to see photos how you have built it yourself ü§©


[06/06/2021 10:55 AM] kushti#0978
In Ergo, it is possible to sign input-by-input, even more, if inputs are protected with the same key, signatures can be the same also (as message to sign is the same)

{Reactions}
ü§© üëç 

[06/07/2021 9:07 AM] Aru#8156
How to make a ergo mining pool? any post?


[06/07/2021 4:05 PM] kushti#0978
@mhs_sam can provide some info I believe


[06/07/2021 4:05 PM] kushti#0978
Maybe we need for something like a forum post ?


[06/07/2021 4:54 PM] flow#1710
Hi


[06/07/2021 4:54 PM] flow#1710
Cross-posting from #‚õè‚îÇmining : "Hey, I have a quick question about "miningPubKeyHex" in ergo.conf
Is it only the result of REST /mining/rewardPublicKey endpoint or should I base16 encode it ?
I'm more specifically referring to https://git.io/JZLFD, not Scala proficient unfortunately"


[06/07/2021 5:17 PM] kushti#0978
@flow currently (after the HF)  better not to set this value at all


[06/07/2021 5:17 PM] kushti#0978
Especially if you ok with /mining/rewardPublicKey


[06/07/2021 5:18 PM] flow#1710
@kushti Okay so if I set mining to true, the reward address will default to the wallet address associated with the node?


[06/07/2021 5:23 PM] kushti#0978
Mining script actually, but corresponding to the same secret yes


[06/07/2021 5:23 PM] flow#1710
Okay thanks


[06/07/2021 7:37 PM] flow#1710
Hey @mhs_sam, my pool is working fairly well, RPC calls are made to notify of incoming blocks, stratum connection works, but my rig (600 Mh/s) cannot compute any share


[06/07/2021 7:37 PM] flow#1710
I left the default settings for diff and varDiff


[06/07/2021 7:38 PM] flow#1710
Any idea where that could come from?


[06/07/2021 7:41 PM] daiv#0847
you can share the instructions or an example .bat


[06/07/2021 7:42 PM] flow#1710
Well, I'm using https://github.com/mhssamadani/ErgoStratumServer


[06/07/2021 7:43 PM] flow#1710
I simply configured my start.js file and ran it with node


[06/07/2021 11:55 PM] manakin#0029
Is there any difference between running a node on the testnet from the mainnet?

For the command:
java -jar ./ergo-4.0.12.jar --mainnet -c ./ergo.conf

when I attempt to throw the testnet flag, I can load the Ergo node interface but the panel only shows the message ‚ÄúNode connection is lost‚Äù

Has anyone had any success running a node on the testnet?


[06/08/2021 2:12 AM] andee#4722
@manakin I am unable to connect at all, connection refused and reset


[06/08/2021 7:57 AM] mhs_sam#1471
are you using Stratum Proxy as well? send me the logs of miner, proxy, server


[06/08/2021 8:00 AM] flow#1710
I'm using NBMiner which supports stratum protocol for Autolykos2 I believe, should I try with the Stratum proxy anyway?


[06/08/2021 8:00 AM] flow#1710
I can see in my miner logs that the pool submits the jobs properly


[06/08/2021 8:01 AM] mhs_sam#1471
a mining pool has two aspects, sharing the work and accounting for that.
you can easily do the sharing by running a node and using the Stratum Server; of accounting you need to develop one or use an available solution.
the easiest solution I can imagine is to use a NOPM pool which is open source and integrate it with Ergo Stratum Server.


[06/08/2021 8:02 AM] flow#1710
I understand


[06/08/2021 8:02 AM] flow#1710
But shouldn't it work on its own with a standalone Stratum server?


[06/08/2021 8:02 AM] flow#1710
(This is just for testing purposes)


[06/08/2021 8:03 AM] mhs_sam#1471
I see. please send me the logs of your miner and the server.


[06/08/2021 8:05 AM] flow#1710
I sent them to you by PM üôÇ


[06/08/2021 12:03 PM] [Dev] Alex#5249
Hi. Sruck with api key.
https://clip2net.com/s/4cj5JMK
https://clip2net.com/s/4cj5L1O

{Embed}
https://clip2net.com/s/4cj5JMK
76844-clip-39kb.png
Clip2net ‚Äî most popular image sharing tool
https://images-ext-1.discordapp.net/external/XRW0dVcfNFnfhsEf4214mL3Z7KBGF1MV-DZgqllAGDA/http/clip2net.com/clip/m172371/thumb800/76844-clip-39kb.png

{Embed}
https://clip2net.com/s/4cj5L1O
74b20-clip-25kb.png
Clip2net ‚Äî most popular image sharing tool
https://images-ext-1.discordapp.net/external/Br-Ezei6CA7oFfLsq9V3w0EdUL2x935uPOp51jqH_LI/http/clip2net.com/clip/m172371/thumb800/74b20-clip-25kb.png


[06/08/2021 12:03 PM] [Dev] Alex#5249
node sync


[06/08/2021 12:03 PM] [Dev] Alex#5249
restarted


[06/08/2021 12:04 PM] [Dev] Alex#5249
Ubuntu 21.04 (GNU/Linux 5.11.0-18-generic x86_64)


[06/08/2021 12:04 PM] [Dev] Alex#5249
openjdk 17-ea 2021-09-14


[06/08/2021 12:08 PM] [Dev] Alex#5249
https://clip2net.com/s/4cjsxt7

{Embed}
https://clip2net.com/s/4cjsxt7
cabc1-clip-24kb.png
Clip2net ‚Äî most popular image sharing tool
https://images-ext-2.discordapp.net/external/67LC2oG5qvrwEULgacpNOK2Q6CNKS9SGAQNH_XkVtV0/http/clip2net.com/clip/m172371/thumb800/cabc1-clip-24kb.png


[06/08/2021 12:40 PM] kushti#0978
what's in your config? But yes, "java -jar ergo-4.0.12.jar --testnet -c ergo.conf"  should work


[06/08/2021 12:43 PM] [Dev] Alex#5249
üò≠


[06/08/2021 12:52 PM] kushti#0978
solved, if others are interested, check #‚ùì‚îÇsupport (the issue is about nginx settings)


[06/08/2021 4:08 PM] Gazza_SP#5835
I'm just trying to figure out every part of the ergo explorer and just have question on the first transaction of this block, it looks like a mining reward, is the 59 million spent value the amount of ERG left to be mined over time? Is it just spent because a newer block has been mined and a new transaction output has been made?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/851840206469726278/1.png


[06/08/2021 4:08 PM] Gazza_SP#5835
One final question, what causes a block transaction like the attached with lots and lots of inputs, this seems more complex than a simple send of funds, is this possibly related to the output of a smart contract?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/851840236572901396/2.png


[06/08/2021 4:15 PM] manakin#0029


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/851841990596231178/ergo-conf.png


[06/08/2021 4:32 PM] andee#4722
one thing it could be is an exchange that is consolidating deposits


[06/08/2021 4:36 PM] andee#4722
that is correct. the UTxO has been spent to make another payment


[06/08/2021 4:49 PM] Gazza_SP#5835
That makes sense, thanks! ‚ò∫Ô∏è


[06/08/2021 4:49 PM] Gazza_SP#5835
Ok great, I think I'm up to speed with how the UTXO model works now, thanks! ‚ò∫Ô∏è


[06/08/2021 5:54 PM] Deleted User#0000
I am confused with hash functions in ergo script. blake2b256 requires Coll[Byte] and returns Coll[Byte] as well. does Coll have ordering? I believe not and it should be like a set. So how does it work?


[06/08/2021 5:55 PM] scalahub#2618
Its important to understand what a UTXO is before starting on Ergo. Please have a look at other resources. Here is a brief bullet-list explaining Ergo for newcomers, and specifically those from Ethereum
======================
What is Ergo and how is it different from Ethereum?

1. Ergo is UTXO based, while Ethereum is Account based.
2. Ergo UTXO is called a "box". 
3. A "box" has 10 registers R0-R9, which can store data types described below.
4. Out of the 10 registers, R0-R3 are reserved for protocol use.
    R0 has monetary value in nano-Ergs (1 Erg = 1000000000 nanoErgs)
    R1 has guard script (similar to bitcoin's scriptPubKey).
    R2 has assets (tokens). Tokens are similar to eth tokens (details below).
    R3 has creation info, which we will not discuss here (used for advanced applications). 
5. R4-R9 are for use in dApps (smart contracts).
6. Guard script is also called Smart contract.
7. An Ergo address is simply the value in R1 encoded as Base58 (with some details skipped).
   Thus, even if other registers have different values, two boxes will have the same address if R1 is identical.

{Reactions}
üíØ üëç 

[06/08/2021 5:55 PM] scalahub#2618
8. Guard scripts are written in a language called ErgoScript.
9. Deploying a smart conrtract in Ergo involves creating a box with R1 having the code.
10. Each box is uniquely identified by box Id, which is derived from (tx, index) pair as in Bitcoin.
    Like in Bitcoin, an Ergo Tx consumes (destroys) unspent boxes and creates new ones.
    All dApps of Ergo use only unspent boxes. Ergo contracts cannot access spent boxes.
11. We can emulate long-lived boxes by creating new box with same script. Only box id will be different.
12. An Ergo smart contract can be executed only by spending the box containing it
13. Since multiple boxes share the same address if the script is the same, we can use the
    other registers to differentiate between such boxes. One most common approach is to use NFT (from R2)
14. Each Ergo tx can issue at most one token (asset) in arbitrary quantity. The only rule is that
    the token id will be the box id of the first input of the tx. 
15. A token issued in quantity 1 is called an NFT. We can use this to identify boxes.
16. An Ergo tx must conserve nano-Ergs (cannot destroy nano-Ergs). Unlike Bitcoin, there is a separate box for paying mining fee.
    Tokens can be destroyed in a tx.

{Reactions}
üëç (2) 

[06/08/2021 5:57 PM] scalahub#2618
Common Data types used
1. Int, Long, BigInt (256-bit signed integer), 
2. GroupElement .. same as Bitcoin's curve point
3. Coll[Byte] a collection of bytes, like Array[Byte] of Scala

{Reactions}
üëç (2) 

[06/08/2021 5:58 PM] scalahub#2618
Coll[Byte] is ordered. its like Array[Byte] of Scala

{Reactions}
üôè (2) üëç (2) 

[06/08/2021 5:59 PM] scalahub#2618
Coll is used instead of Array to remind that its different internally from Scala'

{Reactions}
üôè (2) üëç (2) 

[06/08/2021 6:31 PM] CryptoTheo#7410
Very helpful summary, thanks!

{Reactions}
‚úÖ (2) 

[06/08/2021 7:31 PM] manakin#0029
I believe I just got a testnet node running‚Äì¬†Is there any place to view a testnet config file that loads a wallet with fake erg?


[06/08/2021 9:06 PM] Gazza_SP#5835
Is a box the same thing as a block? Or can there be any amount of boxes in each new block mined? How can we have multiple smart contracts running in parallel in only one block when they all use R4 to R9, how can we differentiate the Coll[Byte] each smart contract uses in a newly mined block?


[06/08/2021 9:13 PM] Gazza_SP#5835
For example in the pin lock contract in the ergo playground, we store  our pin "register = (R4 -> hashedPin))" in R4, but if 2 people ran this exact same smart contract at the same time, would it go to 2 new boxes inside a newly mined block? With the only difference in the 2 boxes being the NFT (from R2).


[06/08/2021 9:14 PM] Gazza_SP#5835
That list was very helpful though, let me understand some topics that I didn't understand before, thanks!


[06/08/2021 10:19 PM] scalahub#2618
hierarchy is as follows:

1 box contains many registers
1 transaction contains many boxes
1 block contains many transactions

{Reactions}
üëç 

[06/08/2021 10:29 PM] Gazza_SP#5835
Is there anyway to view a transaction with multiple boxes in the explorer? I can only find simple transactions at the moment. Is there a way to work back towards a transaction from the sigUSD contract to see an example of a box being created? So for example in the ageUSD protocol, the first box uses the following code:

// R4: Number of stable-coins in circulation | 
// R5: Number of reserve-coins in circulation

Can I find this box information myself from the contract deployment on ergo?


[06/08/2021 10:30 PM] kushti#0978
First screen is about emission contract, yes. Everything in Ergo is explicit, no special coinbase transactions etc, thus all the coins issued before the genesis block but locked with emission and treasury contracts (as specified in the whitepaper).

Second screen looks like Coinex collecting deposits

{Reactions}
üëç 

[06/08/2021 10:31 PM] Gazza_SP#5835
That's great, thanks for the assistance!


[06/08/2021 10:39 PM] kushti#0978
what are first lines of the log when starting the node ?


[06/08/2021 10:42 PM] manakin#0029


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/851939346940166194/updated-ergo-conf.png


[06/08/2021 10:43 PM] manakin#0029


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/851939419539243018/testnet-log.png


[06/08/2021 10:45 PM] manakin#0029
I updated the conf file to get the testnet working but I haven't figured out how to set a faucet for fake funds. In addition, the node and wallet remain in a state of constant active synchronization


[06/08/2021 10:56 PM] kushti#0978
to get free erg, you can drain a bit from http://213.239.193.208:9052/panel (API Key is "hello" with no quotes, wallet is unlocked there )


[06/08/2021 10:58 PM] kushti#0978
please also check that

genesisBlockId is   "78bc468ff36d5d6fa9707d382fe5b8947d6dd0ed2bc5c44707426ee12557c7fb"


[06/08/2021 10:58 PM] kushti#0978
in :9052/info


[06/08/2021 10:59 PM] kushti#0978
Please check transactions involving SigmaUSD bank, i.e. https://explorer.ergoplatform.com/en/addresses/MUbV38YgqHy7XbsoXWF5z7EZm524Ybdwe5p9WDrbhruZRtehkRPT92imXer2eTkjwPDfboa1pR3zb3deVKVq3H7Xt98qcTqLuSBSbHb7izzo5jphEpcnqyKJ2xhmpNPVvmtbdJNdvdopPrHHDBbAGGeW7XYTQwEeoRfosXzcDtiGgw97b2aqjTsNFmZk7khBEQywjYfmoDc9nUCJMZ3vbSspnYo3LarLe55mh2Np8MNJqUN9APA6XkhZCrTTDRZb1B4krgFY1sVMswg2ceqguZRvC9pqt3tUUxmSnB24N6dowfVJKhLXwHPbrkHViBv1AKAJTmEaQW2DN1fRmD9ypXxZk8GXmYtxTtrj3BiunQ4qzUCu1eGzxSREjpkFSi2ATLSSDqUwxtRz639sHM6Lav4axoJNPCHbY8pvuBKUxgnGRex8LEGM8DeEJwaJCaoy8dBw9Lz49nq5mSsXLeoC4xpTUmp47Bh7GAZtwkaNreCu74m9rcZ8Di4w1cmdsiK1NWuDh9pJ2Bv7u3EfcurHFVqCkT3P86JUbKnXeNxCypfrWsFuYNKYqmjsix82g9vWcGMmAcu5nagxD4iET86iE2tMMfZZ5vqZNvntQswJyQqv2Wc6MTh4jQx1q2qJZCQe4QdEK63meTGbZNNKMctHQbp3gRkZYNrBtxQyVtNLR8xEY8zGp85GeQKbb37vqLXxRpGiigAdMe3XZA4hhYPmAAU5hpSMYaRAjtvvMT3bNiHRACGrfjvSsEG9G2zY5in2YWz5X9zXQLGTYRsQ4uNFkYoQRCBdjNxGv6R58Xq74zCgt19TxYZ87gPWxkXpWwTaHogG1eps8WXt8QzwJ9rVx6Vu9a5GjtcGsQxHovWmYixgBU8X9fPNJ9UQhYyAWbjtRSuVBtDAmoV1gCBEPwnYVP5GCGhCocbwoYhZkZjFZy6ws4uxVLid3FxuvhWvQrVEDYp7WRvGXbNdCbcSXnbeTrPMey1WPaXX

{Reactions}
üëç 

[06/08/2021 11:00 PM] kushti#0978
for example, you can see registers in https://explorer.ergoplatform.com/en/transactions/fd975b403a331e0923dea717f65cf06e4d9c7b3d0aafd1672847d02722416e8e (explorer shows them for outputs only)

{Reactions}
üëç 

[06/08/2021 11:01 PM] Gazza_SP#5835
Perfect, I'll dig into this contract in the morning!


[06/08/2021 11:02 PM] Gazza_SP#5835
This is exactly what I was looking for, thanks!


[06/08/2021 11:02 PM] manakin#0029
Yeah that's another issue, the genesisBlockId isn't correct but my directory doesn't have a data folder to delete as you suggested to do on git


[06/08/2021 11:13 PM] kushti#0978
/state and /history folders, remove them


[06/08/2021 11:14 PM] kushti#0978
they should be around


[06/09/2021 9:46 AM] Deleted User#0000
Does Block Id depends on POW answers? I mean, lets say we are the only miner in the chain and we have chosen several transactions and we have the full information about them. can we calculate Block Id before solving the pow problem?


[06/09/2021 9:47 AM] Deleted User#0000
In other words, can we manipulate block Id efficiently(without solving pow for several times)?


[06/09/2021 9:47 AM] Deleted User#0000
@kushti


[06/09/2021 9:50 AM] kushti#0978
@Deleted User PoW solution is included into block id , basically, id = hash(header, with PoW fields included)


[06/09/2021 9:51 AM] kushti#0978
So you need to redo PoW to get another id

{Reactions}
üôè 

[06/09/2021 10:31 AM] Deleted User#0000
It seems its not possible to compare to Coll of bytes. how can i compare to blake2b hashes?


[06/09/2021 11:10 AM] Gazza_SP#5835
Inside the pin lock contract, it compares the input and output hash of R4 using this script. It will probably be something similar for the block id hash. I am only starting with the code so I could be wrong aswel.

sigmaProp(INPUTS(0).R4[Coll[Byte]].get == blake2b256(OUTPUTS(0).R4[Coll[Byte]].get))

{Reactions}
üçâ 

[06/09/2021 11:11 AM] Gazza_SP#5835
Here is the link to the full program. 

https://github.com/ergoplatform/ergoscript-by-example/blob/main/pinLockContract.md

{Embed}
https://github.com/ergoplatform/ergoscript-by-example/blob/main/pinLockContract.md
ergoplatform/ergoscript-by-example
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - ergoplatform/ergoscript-by-example
https://images-ext-1.discordapp.net/external/PG1xx4twiJzH_Zc9h4YzhPDC_zqwWwyGOYTVMbh8XIQ/https/opengraph.githubassets.com/da01c7cbc7913d5aeaec9824fe178a376bccf9b15cf6f58d74673049abd2eb40/ergoplatform/ergoscript-by-example


[06/09/2021 11:31 AM] Deleted User#0000
thanks. Yes i saw this before. by compare i mean find greater element (>)


[06/09/2021 11:33 AM] Gazza_SP#5835
Does a hash value have a numerical value to compare though? You could try change == to >, not sure it will give you anything of use though.


[06/09/2021 11:34 AM] Deleted User#0000
I tried didn't work. blake2b return Coll[Byte]. it seems there is no > operator (there is == by the way) for Coll.


[06/09/2021 11:35 AM] Deleted User#0000
I am casting output to bigInt now but not quite sure if it has enough space (there is no overflow since bigInt using mod Q but i dont want to contain the mod value)


[06/09/2021 11:47 AM] Deleted User#0000
I want to use context as it has  been discussed in LangSpec but i am getting this error :sad

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852136831683788820/unknown.png


[06/09/2021 11:49 AM] Gazza_SP#5835
This is beyond me at this point, sorry I couldn't help! üòÖüòÇ

{Reactions}
üçâ üôè 

[06/09/2021 12:29 PM] greenhat#6562
Can I see the whole source? Seems like `if` might be missing.


[06/09/2021 12:30 PM] Deleted User#0000
sure, thx.


[06/09/2021 12:31 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852147822374682644/unknown.png


[06/09/2021 1:16 PM] greenhat#6562
Line 12, extra closing bracket.


[06/09/2021 1:34 PM] Deleted User#0000
Woooow. brilliant. thx alot. my bad.


[06/09/2021 1:34 PM] kushti#0978
@Deleted User you can convert hash to bigint, but we have signed 256bits ints only now (waiting for unsigned from @morphic )


[06/09/2021 1:36 PM] greenhat#6562
Np! I should've written a better error handling in the parser. üôÇ

{Reactions}
üçâ üôè 

[06/09/2021 2:10 PM] morphic#4133
@Deleted User what is your use case for unsigned BigInt?


[06/09/2021 2:38 PM] andee#4722
@0xDarien https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node https://github.com/mhssamadani/ErgoStratumServer

{Embed}
https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node
ergoplatform/ergo
Ergo protocol description & reference client implementation - ergoplatform/ergo
https://images-ext-2.discordapp.net/external/8bK9J80BVAr4H4JVzuha5N_5HPrNPryb6Zu8eaUstt0/https/opengraph.githubassets.com/49791ae22eff07e8d1262770f634c97cfc9809f603619fb82f7eabfe289ac13e/ergoplatform/ergo

{Embed}
https://github.com/mhssamadani/ErgoStratumServer
mhssamadani/ErgoStratumServer
Stratum pool server for ERGO in Node.js. Contribute to mhssamadani/ErgoStratumServer development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/UuB_3bDQ1NY6-_HtPWWxkxpOjrWZgUjVeGVI-NDjaLw/https/opengraph.githubassets.com/c2cc16c59deb5f0f70030e947a4239679b9625e2eaa3a2869dc9cd793eef9142/mhssamadani/ErgoStratumServer


[06/09/2021 2:47 PM] 0xDarien#4700
Thank you very much @andee  I already did those steps, I have the node synchronized, the mining option checked, wallet unlocked and I lift the ErgoStratumServer, but the miner tells me that it cannot connect


[06/09/2021 3:05 PM] Kaven#6681
is there a repo, doc, team, ticket, spike, what-have-you, for inter-chain comms? seems like with dot and atom progressing all blockchain projects should be considering their approach to cross-chain comms, swapping, messaging, etc in a way that preserves or enhances their value prop.

{Reactions}
üëÄ 

[06/09/2021 6:13 PM] 0xDarien#4700
this is correct?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852234054073712670/Captura_de_pantalla_de_2021-06-09_14-12-45.png


[06/09/2021 6:14 PM] 0xDarien#4700


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852234313290612746/Captura_de_pantalla_de_2021-06-09_14-14-35.png


[06/09/2021 7:26 PM] manakin#0029
The wallet doesn't unlock after providing the api key


[06/09/2021 7:48 PM] zargarzadehmoein#2928
Send your wallet address for me

{Reactions}
üëç 

[06/09/2021 8:46 PM] kushti#0978
unlocked, wallet pass is "123"

{Reactions}
üëç (2) 

[06/09/2021 11:07 PM] 0xDarien#4700
peers connected is the number of nodes connected to this node or the total number of nodes on the network?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852307986713542656/Captura_de_pantalla_de_2021-06-09_19-05-29.png


[06/09/2021 11:12 PM] kushti#0978
connected to your node, there are many more nodes in the network


[06/09/2021 11:14 PM] 0xDarien#4700
should my node connect to all nodes on the network?
I have seen nodes connecting to less than 50 nodes


[06/09/2021 11:15 PM] kushti#0978
Are you on public IP? You can't reach nodes which are not exposing their IP addresses, but they can reach you


[06/09/2021 11:15 PM] kushti#0978
So unlikely you can be connected to all the nodes


[06/09/2021 11:17 PM] 0xDarien#4700
yes, i have public ip


[06/09/2021 11:20 PM] 0xDarien#4700
is there a possibility of winning a block in 24 hours with 1.2Ghs? üòü


[06/09/2021 11:23 PM] andee#4722
yes, its just not that probable

{Reactions}
üëç (3) 

[06/10/2021 4:19 AM] [Dev] Alex#5249
any info how to get info at test net?


[06/10/2021 4:19 AM] [Dev] Alex#5249
```
{
  "currentTime": 1623295070057,
  "name": "ergo-testnet-4.0.12",
  "stateType": "utxo",
  "difficulty": null,
  "bestFullHeaderId": null,
  "bestHeaderId": null,
  "peersCount": 1,
  "unconfirmedCount": 0,
  "appVersion": "4.0.12",
  "stateRoot": "a5df145d41ab15a01e0cd3ffbab046f0d029e5412293072ad0f5827428589b9302",
  "genesisBlockId": "78bc468ff36d5d6fa9707d382fe5b8947d6dd0ed2bc5c44707426ee12557c7fb",
  "previousFullHeaderId": null,
  "fullHeight": null,
  "headersHeight": null,
  "stateVersion": "0000000000000000000000000000000000000000000000000000000000000000",
  "fullBlocksScore": null,
  "launchTime": 1623295028266,
  "lastSeenMessageTime": 1623295028266,
  "headersScore": null,
  "parameters": {
    "outputCost": 100,
    "tokenAccessCost": 100,
    "maxBlockCost": 1000000,
    "height": 0,
    "maxBlockSize": 524288,
    "dataInputCost": 100,
    "blockVersion": 1,
    "inputCost": 2000,
    "storageFeeFactor": 1250000,
    "minValuePerByte": 360
  },
  "isMining": true
}
```


[06/10/2021 4:20 AM] [Dev] Alex#5249
ui every time say sync


[06/10/2021 4:20 AM] [Dev] Alex#5249
but node height is = to height of https://testnet.ergoplatform.com/en/


[06/10/2021 11:21 AM] kushti#0978
@[Dev] Alex weird, as the panel is reading from /info I believe


[06/10/2021 12:02 PM] 0xDarien#4700
how to configure the ergo.log directory?


[06/10/2021 2:24 PM] kushti#0978
You mean how to configure log level ? Levels are TRACE / DEBUG / INFO / WARN / ERROR. default is INFO, to get e.g. more verbose DEBUG log, use 

java -jar -Xmx3G -Dlogback.stdout.level=DEBUG ergo-4.0.12.jar  --mainnet -c mainnet.conf


[06/10/2021 4:07 PM] [Dev] Alex#5249
any fix?


[06/10/2021 4:17 PM] [Dev] Alex#5249
curl -X GET "http://IP:9052/info" -H "accept: application/json" this log from curl so node return bad info at testnet, so how I can test any thing no clue


[06/10/2021 6:46 PM] nitram147#5106
Why my testnet "ergo-node" is stucked at synchronizing? Even tried to restart it (I even lost one peer thank's to the restart). Kushti's node has 6 peers, my has only 2 peers (I'm on public IP with 1000/1000Mbit symetric line right now) üò¶


[06/10/2021 6:55 PM] nitram147#5106
Probably all other nodes (nodes excluding kushti's node) all on private IPs. However they should be able to gather info about my node and connect to it (thank's to the fact that I'm on public IP), or am I missing something?


[06/10/2021 6:56 PM] nitram147#5106
(I don't know how is the "peer discovery" implemented in Ergo Node)


[06/10/2021 7:10 PM] nitram147#5106
----


[06/10/2021 7:11 PM] nitram147#5106
It finally got synced, however it took 8 hours and 10 minutes üò¨


[06/10/2021 7:29 PM] nitram147#5106
Couldn't send to P2S address (ErgoScript "true") `4MQyML64GnzMxZgm`

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852615472981344286/unknown.png


[06/10/2021 7:37 PM] anon_real#2768
Can you send to other addresses?


[06/10/2021 7:37 PM] nitram147#5106
yes, I can


[06/10/2021 7:38 PM] nitram147#5106
running latest 4.0.12


[06/10/2021 7:38 PM] nitram147#5106
it doesn't work also on kushti's node: http://213.239.193.208:9052/panel/


[06/10/2021 7:38 PM] nitram147#5106
(sending to the P2S address)


[06/10/2021 7:39 PM] nitram147#5106
I tried a few P2S addresses generated from https://wallet.plutomonkey.com/p2s/


[06/10/2021 8:12 PM] anon_real#2768
@nitram147 maybe see the full response for a better error message. Also, you can use swagger to dig deeper into the problem.


[06/10/2021 8:32 PM] nitram147#5106
`{"requests":[{"address":"4MQyML64GnzMxZgm","value":1000000000,"assets":[]}],"fee":1000000}`
Swagger outputs the same output:
```
{
  "error": 400,
  "reason": "bad.request",
  "detail": "The request content was malformed:\nCan not find suitable decoder: DownArray,DownField(requests)"
}
```


[06/10/2021 8:32 PM] nitram147#5106
Endpoint: `http://127.0.0.1:9052/wallet/transaction/generate`


[06/10/2021 8:44 PM] nitram147#5106
------------


[06/10/2021 8:44 PM] nitram147#5106
I know where would the problem be


[06/10/2021 8:44 PM] nitram147#5106
Testnet P2S addresses will be different


[06/10/2021 8:52 PM] nitram147#5106
Does anything like ErgoScript -> P2S compiler for Testnet exists? (something easy to use like https://wallet.plutomonkey.com/p2s/)


[06/10/2021 9:18 PM] anon_real#2768
Just use `/script/p2sAddress` endpoint of your node.

{Reactions}
‚ù§Ô∏è 

[06/10/2021 9:52 PM] nitram147#5106
For anyone interested I've made a python script which is able to convert mainnet P2S address into testnet P2S address format üôÇ


[06/10/2021 9:52 PM] nitram147#5106
https://github.com/nitram147/ergo_mainnet_p2s_to_testnet_p2s

{Embed}
https://github.com/nitram147/ergo_mainnet_p2s_to_testnet_p2s
nitram147/ergo_mainnet_p2s_to_testnet_p2s
Python script converting Ergo's mainnet P2S addresses to testnet P2S addresses - nitram147/ergo_mainnet_p2s_to_testnet_p2s
https://images-ext-1.discordapp.net/external/vNcZ1FzplB6mmb1WHM13MRt66wWcZt_yJALSl47nFFI/https/opengraph.githubassets.com/ab739ffe51ceec8f76cd7b1e8a4dc4cca57046a1d64c834e3262fec362cc691b/nitram147/ergo_mainnet_p2s_to_testnet_p2s


[06/10/2021 9:54 PM] nitram147#5106
(can be handy during hackathon)


[06/10/2021 10:31 PM] 0xDarien#4700
Actually what happens to me is that I have the .jar in a folder and the .ergo/ folder and the ergo.log file are in the system root, this happens to me because I am executing the .jar as a service so that it remains active in background.

I was looking for a way that although the .jar is executed globally, the ergo.log file and the .ergo/ folder are kept in the same folder


[06/10/2021 11:24 PM] CryptoTheo#7410
nice tool! I'm wondering why you chose a copyleft license?


[06/10/2021 11:33 PM] nitram147#5106
It's just my default LICENSE, do you have any reason why is "copyleft" license bad for you? It's just simple code, I don't expect that anybody will want to integrate it somewhere, people can just use it when playing with testnet during the development of their projects. So in that case it doesn't matter which license it has üôÇ Are there any reason why you would like to have it under another license? üôÇ


[06/10/2021 11:46 PM] CryptoTheo#7410
no, it‚Äôs not bad for me in this case. I was asking because I was curious if it was chosen for a specific reason ‚Äî it stood out to me because most ergo projects I‚Äôve seen use cc0 or mit. personally I‚Äôd be cautious using other tools with gpl-3 if I wanted to make money off of them, but your tool doesn‚Äôt seem like it would be packaged into anything so that issue doesn‚Äôt apply here üôÇ


[06/11/2021 12:26 AM] nitram147#5106
In this specific case it doesn't matter - it's just simple tool. Otherwise (for projects in general) it could be also benefiting for the opensource community. Trezor has everything open source and openhardware, a lot of their work is GPLv3, something is LGPL (and they are making tons of profit from their products). In my opinion if somebody did the job and spent some time building some project, and want other to benefit from opensource, GPL could be a way to force others who benefit from his to job to release their's job so everybody could also benefit from the derived job. In cryptocurrency space and even in any cryptography related area being opensource is almost a requirement for transparency. So if your derived work has to be opensource it has to be and it doesn't matter on the license. GPL will force all derived work to be also opensource and thus be  transparent. The part about the usage of same license is there so nobody could make a "spinoff" of work and then use this spinoff without a license thus exploiting the license rules... üôÇ


[06/11/2021 12:35 AM] sirsaucin.eth#9877
Quick question for u devs


[06/11/2021 12:36 AM] sirsaucin.eth#9877
If i had 2 gpus on my windows 10 pc is it possible to mine erg on 1 and eth on the other


[06/11/2021 1:35 AM] CryptoTheo#7410
yeah for sure, thanks for clarifying your reasons. it‚Äôs always good to know the trade-offs


[06/11/2021 1:40 AM] Nythain#6769
More a #‚õè‚îÇmining question but the answer is yes


[06/11/2021 1:47 AM] sirsaucin.eth#9877
No one replied to me there lol, thanks though


[06/11/2021 1:50 AM] Nythain#6769
All major miners i know of will allow you to specify devices. So miner instance 1 can run gpu 0 on eth while miner instance 2 can run gpu 1 on erg or any combination of gpu and coin you want.


[06/11/2021 2:28 AM] sirsaucin.eth#9877
Yea im just not sure how to have 1 gpu running for each instance


[06/11/2021 2:29 AM] sirsaucin.eth#9877
Like to how to configure the bat file so 1 gpu is disabled for eth instance and the other is disabled for the erg instance


[06/11/2021 7:55 AM] CryptoTheo#7410
do most of the core devs primarily use Scastie or an IDE? and if it's an IDE, is there a sample repo that has a skeleton with dependencies configured?


[06/11/2021 8:23 AM] greenhat#6562
When I was testing various scenarios in ergo-playground for old non-AMM DEX contracts I wrote and run them first in IDE. Scenarios - https://github.com/ergoplatform/ergo-playgrounds/blob/develop/playgrounds/src/main/scala/org/ergoplatform/playgrounds/examples/DEXPlayground.scala (ready to be copy-pasted into Scastie) . And a simple test to run them in IDE - https://github.com/ergoplatform/ergo-playgrounds/blob/develop/playgrounds/src/test/scala/org/ergoplatform/playgrounds/examples/test/DEXPlaygroundSpec.scala

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/develop/playgrounds/src/main/scala/org/ergoplatform/playgrounds/examples/DEXPlayground.scala
ergoplatform/ergo-playgrounds
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/hm-ukBdk1hyHfdlqyS4ut6popQxjj2gYr63hU32nTXA/https/opengraph.githubassets.com/cdbdec57bae3c1f79e7eef2778eda940e933daf17076dafeb64a0dbc89a0048c/ergoplatform/ergo-playgrounds

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/develop/playgrounds/src/test/scala/org/ergoplatform/playgrounds/examples/test/DEXPlaygroundSpec.scala
ergoplatform/ergo-playgrounds
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/hm-ukBdk1hyHfdlqyS4ut6popQxjj2gYr63hU32nTXA/https/opengraph.githubassets.com/cdbdec57bae3c1f79e7eef2778eda940e933daf17076dafeb64a0dbc89a0048c/ergoplatform/ergo-playgrounds

{Reactions}
üôå 

[06/11/2021 8:28 AM] greenhat#6562
You can do it in the new project. The only dependency you need for this is the same as in Scastie:
```
libraryDependencies ++= Seq(
  "org.ergoplatform" %% "ergo-playground-env" % "0.0.0-76-0fd15a64-SNAPSHOT"
)
```


[06/11/2021 8:31 AM] greenhat#6562
I added version section in readme - https://github.com/ergoplatform/ergo-playgrounds/blob/develop/README.md#version

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/develop/README.md
ergoplatform/ergo-playgrounds
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/1t4ZBU3O9tDDrZKHceeSvS0CQ0g2P6v5J95vhhZkhRM/https/opengraph.githubassets.com/2d0829dea5dd4dc1621f734a90d4cb73df11482de94ece8eaf10a7b7f8ff874c/ergoplatform/ergo-playgrounds


[06/11/2021 8:51 AM] CryptoTheo#7410
thank you!


[06/11/2021 9:02 AM] kushti#0978
Testnet? the address is from mainnet. also, please show requests json, maybe malformed


[06/11/2021 9:06 AM] kushti#0978
please check genesisblockId of your node, there's conflicting chain in the testnet


[06/11/2021 9:09 AM] kushti#0978
please try -Dlogs_dir=~/newLogsDir

{Reactions}
üëç 

[06/11/2021 11:56 AM] 0xDarien#4700
@kushti I'm having synchronization problems, after a while it stops.

10:37:47.229 INFO  [ctor.default-dispatcher-6] s.c.n.PeerConnectionHandler - Peer handler to ConnectionId(remote=/108.20.208.49:57345, local=/MY_IP:9030, direction=Incoming) destroyed
10:37:47.213 INFO  [tor.default-dispatcher-14] s.c.n.PeerConnectionHandler - Peer handler to ConnectionId(remote=/74.208.214.22:43520, local=/MY_IP:9030, direction=Incoming) destroyed
10:37:47.239 INFO  [Thread-0] org.ergoplatform.ErgoApp - Stopping network services
10:37:47.245 INFO  [Thread-0] org.ergoplatform.ErgoApp - Stopping actors (incl. block generator)
[INFO] [akkaDeadLetter][06/11/2021 10:37:47.246] [ergoref-akka.actor.default-dispatcher-7] [akka://ergoref/user/networkController] Message [scorex.core.network.NetworkController$ReceivableMessages$ShutdownNetwork$] to Actor[akka://ergoref/user/networkController#-2029702693] was not delivered. [4] dead letters encountered. If this is not an expected behavior then Actor[akka://ergoref/user/networkController#-2029702693] may have terminated unexpectedly. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/852863977738207262/message.txt


[06/11/2021 12:29 PM] morphic#4133
I've got similar message on MacOS when stopping the node sync in the middle and then restarting the node.


[06/11/2021 1:06 PM] nitram147#5106
Yeah I realized it later. That was the reason why I did built a converter from Mainnet P2S address to Testnet P2S address, so anybody could generate P2S wallet thru plutmonkey site and convert it by the python script from: https://github.com/nitram147/ergo_mainnet_p2s_to_testnet_p2s

{Embed}
https://github.com/nitram147/ergo_mainnet_p2s_to_testnet_p2s
nitram147/ergo_mainnet_p2s_to_testnet_p2s
Python script converting Ergo's mainnet P2S addresses to testnet P2S addresses - nitram147/ergo_mainnet_p2s_to_testnet_p2s
https://images-ext-1.discordapp.net/external/vNcZ1FzplB6mmb1WHM13MRt66wWcZt_yJALSl47nFFI/https/opengraph.githubassets.com/ab739ffe51ceec8f76cd7b1e8a4dc4cca57046a1d64c834e3262fec362cc691b/nitram147/ergo_mainnet_p2s_to_testnet_p2s


[06/11/2021 1:08 PM] nitram147#5106
Node did synchronized later, however there was problem that my node (on public IP) has only 2 peers (one of them was your node). However only your node was responding, so my node seen latest block headers but wasn't able to validate a chain because he got chain only from peer (and I assume that node had to obtain same chain from more peers to be able to trust it). The second peer was just simply not responding based on the log messages. But once the second node started to respond, node bootstraped quite fast üôÇ


[06/11/2021 4:06 PM] 0xDarien#4700
on my server I have to allow each port manually, is there a list of all ports used by an ergo node?


[06/12/2021 5:43 PM] Deleted User#0000
I want to find unspent boxes of the following address using appkit but I am getting an exception


[06/12/2021 5:43 PM] Deleted User#0000
https://explorer.ergoplatform.com/en/addresses/9fHmTwkPmqWkLSFuFTaJwhQwMcnEZiSs9QKBXHJ38xAcSR6iZxA


[06/12/2021 5:43 PM] Deleted User#0000
val boxes = ctx.getUnspentBoxesFor(Address.create("9fHmTwkPmqWkLSFuFTaJwhQwMcnEZiSs9QKBXHJ38xAcSR6iZxA"))
    print(boxes)


[06/12/2021 5:44 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/853313720771412038/unknown.png


[06/12/2021 5:44 PM] scalahub#2618
is it working for other addresses?


[06/12/2021 5:46 PM] Deleted User#0000
it doesn't seem to. My config is:


[06/12/2021 5:47 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/853314457827672064/unknown.png


[06/12/2021 5:49 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/853314970032930846/unknown.png


[06/12/2021 5:49 PM] scalahub#2618
Can you check if any other calls work.. could be config issue

{Reactions}
üôè 

[06/12/2021 5:50 PM] Deleted User#0000
my node in testnet though. should I have any node on the chain? it use explorer api I assume.


[06/12/2021 5:57 PM] Deleted User#0000
Solved. thx. address was on another network.

{Reactions}
üëç 

[06/12/2021 7:53 PM] manakin#0029
For passing in custom data into a box‚Äôs registers, could maps be passed in? For example if I were to pass a map containing a String as the key and an object as the value


[06/13/2021 12:22 PM] HazeyOneKenobi#2091
Is there a way to get info on spent boxes using node API only? This is after the box is spent, so I am not sure if scans can fit the requirements


[06/13/2021 12:24 PM] HazeyOneKenobi#2091
I cannot see why not, as long as the contents of the map are encoded properly, they should be retrievable and decodable in the same way. Not sure if writing the encoded map object directly to the register is the best way, maybe you will wish to serialize it first and then encode it?


[06/13/2021 5:33 PM] Deleted User#0000
I want to find boxId % K


[06/13/2021 6:38 PM] Deleted User#0000
```OUTPUTS(3).R4[Long].get == (byteArrayToBigInt(CONTEXT.dataInputs(0).id.slice(0, 3)) % totalSoldTicket)```


[06/13/2021 6:38 PM] Deleted User#0000
this works fine. but adding a summation leads to an error


[06/13/2021 6:38 PM] Deleted User#0000
```OUTPUTS(3).R4[Long].get == (byteArrayToBigInt(CONTEXT.dataInputs(0).id.slice(0, 3)) % totalSoldTicket) + totalSoldTicket```


[06/13/2021 6:40 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/853690214337478716/unknown.png


[06/13/2021 6:40 PM] Deleted User#0000
@Ilya | Spectrum


[06/13/2021 6:41 PM] Ilya | Spectrum#0494
I guess the problem is in the associativity of the expression. Try using parens `()`.


[06/13/2021 6:44 PM] Deleted User#0000
dosen't work :(


[06/13/2021 6:44 PM] Deleted User#0000
```OUTPUTS(3).R4[Long].get == ((byteArrayToBigInt(CONTEXT.dataInputs(0).id.slice(0, 3)) % totalSoldTicket) + totalSoldTicket)```


[06/13/2021 6:58 PM] Ilya | Spectrum#0494
@morphic^


[06/13/2021 7:00 PM] Ilya | Spectrum#0494
Try it like this:
```scala
OUTPUTS(3).R4[Long].get == ((byteArrayToBigInt(CONTEXT.dataInputs(0).id.slice(0, 3)) % BigInt(totalSoldTicket)) + BigInt(totalSoldTicket))
```


[06/13/2021 7:05 PM] Deleted User#0000
Thx. at least the error has changed.


[06/13/2021 7:05 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/853696505059082270/unknown.png


[06/13/2021 7:21 PM] Deleted User#0000
@greenhat


[06/13/2021 7:27 PM] greenhat#6562
There is no BigInt constructor, but toBigInt method. Try 'totalTicketsSold.toBigInt'.


[06/13/2021 7:36 PM] Deleted User#0000
oh thx. not change anything though


[06/13/2021 7:36 PM] Deleted User#0000
```OUTPUTS(3).R4[Long].get == ((((byteArrayToBigInt(CONTEXT.dataInputs(0).id.slice(0, 3))) + totalSoldTicket.toBigInt) % totalSoldTicket.toBigInt).toLong)```


[06/13/2021 7:37 PM] greenhat#6562
Same error?


[06/13/2021 7:37 PM] Deleted User#0000
yep.


[06/13/2021 7:40 PM] morphic#4133
Can you post the full stack trace?


[06/13/2021 7:41 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/853705607974092870/message.txt


[06/13/2021 7:42 PM] Deleted User#0000
```
Don't know how to assignType(ByteArrayToBigInt(Apply(Select(Select(Apply(MethodCall(Context$(254),SMethod(SContext,dataInputs,(SContext) => Coll[SBox],1,MethodIRInfo(Some(<function1>)),Some(OperationInfo(Some(PropertyCall$(219)),,ArrayBuffer(ArgInfo(this,this instance))))),Vector(),Map()),WrappedArray(IntConstant(0))),id,Some(Coll[SByte$])),slice,Some((SInt$,SInt$) => Coll[SByte$])),WrappedArray(IntConstant(0), IntConstant(3)))))
```


[06/13/2021 7:58 PM] kushti#0978
For custom scans, only unspent boxes supported, for wallet (so P2PK addresses or scans sharing outputs with the wallet) , you can get spent boxes as well


[06/13/2021 8:10 PM] Deleted User#0000
I didn't notice what was the problem, but it is just working now
```OUTPUTS(3).R4[Long].get == ((byteArrayToBigInt(CONTEXT.dataInputs(0).id.slice(0, 15)).toBigInt + totalSoldTicketBI) % totalSoldTicketBI).toBigInt```

{Reactions}
üëç (2) 

[06/13/2021 8:10 PM] Deleted User#0000
Thanks for your time and attention @morphic @Ilya | Spectrum @greenhat

{Reactions}
üôå (2) 

[06/14/2021 5:27 AM] Gabriel RealPool#4748
HELLO, GOOD MORNING I would like to add ergo to my pool any developer available?


[06/18/2021 8:06 PM] deezick#3187
I feel like ergo needs better tutorials


[06/18/2021 8:06 PM] deezick#3187
it's so easy to onboard to solidity


[06/18/2021 8:06 PM] deezick#3187
I think that's one of the major advantages of the ethereum network, how many tutorials from basic -> advanced are out there in the wild


[06/18/2021 8:43 PM] Gazza_SP#5835
I get ya, the issue is that ergo script is still in its infancy, there won't be a lot of tutorials until there's a lot of people building on it unfortunately, I think it may be harder for us early adopters but it will also mean we will be the first crew who can fully utilise the code and actually benifit in the long run, I think it's worth putting the extra time in now. I must say if you try and are stuck, if you ever put a question here, it will be answered, all the devs are willing to help new people which is really nice of them. It's just still a small crew, things will grow exponentially as time goes on, we just need to struggle for a little bit now! üòÇ

{Reactions}
ergo_white üòç 

[06/18/2021 8:45 PM] deezick#3187
I could probably go look at the code for something like ErgoDex to figure out what's going on


[06/18/2021 10:52 PM] Gazza_SP#5835
They have a full open source GitHub so you can definitely see what's going on in the background https://github.com/ergolabs/ergo-dex

{Embed}
https://github.com/ergolabs/ergo-dex
ergolabs/ergo-dex
An Automated Decentralized Exchange. Contribute to ergolabs/ergo-dex development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/SNPxEK9bqbBWnzYehQQ3faUqRSVElEMc5IIKScWXkyI/https/opengraph.githubassets.com/bb2dd68a609466086396d434287846009f602ca005db24ee2afd34bf836c62ed/ergolabs/ergo-dex


[06/19/2021 12:06 PM] glasgowm#9381
https://twitter.com/ergoplatformorg/status/1405900984509997063

{Embed}
Ergo (@ergoplatformorg)
https://twitter.com/ergoplatformorg/status/1405900984509997063
ErgoRaffle documentation can be used as a good guide on how to get contracts in the extended UTXO model done: https://t.co/PBff9it4kI
https://images-ext-1.discordapp.net/external/N2wZg-vO1taXKKJy8159q6wmJ8tIQHp7Pn4luxhIBM4/%3Fformat%3Djpg%26name%3D600x314/https/pbs.twimg.com/card_img/1405900947423911940/h7fgq3DU
Twitter

{Reactions}
üëÄ 

[06/19/2021 2:52 PM] AliM#6565
I want to set the value of R4 in a box equal to 0L,  but when I send it to the network R4 = "0500 ". How could I solve this?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/855807297007386664/unknown.png


[06/19/2021 2:54 PM] AliM#6565


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/855807780832804894/unknown.png


[06/19/2021 4:33 PM] Ilya | Spectrum#0494
Do you want to deserialize R4 in your app?


[06/19/2021 4:44 PM] AliM#6565
Actually I want to deserialize R7, which is Json casted to String.


[06/19/2021 4:44 PM] AliM#6565
But also R4-6 values were weird.


[06/19/2021 4:53 PM] Ilya | Spectrum#0494
Yeah, these registers are serialized as sigma constants. So you need to either use Scala SDK or Rust/Wasm SDK to do that. Or implement Ergo serialization yourself.


[06/19/2021 7:55 PM] Deleted User#0000
would you  please give us more information or some code sample on deserializing registers?


[06/19/2021 7:57 PM] Ilya | Spectrum#0494
In Scala or JS?


[06/19/2021 7:58 PM] Deleted User#0000
Scala


[06/19/2021 8:00 PM] Deleted User#0000
I've found some codes in github, however they require ErgoBox while I have InputBox.


[06/19/2021 8:08 PM] Ilya | Spectrum#0494
https://github.com/ergoplatform/explorer-backend/blob/34ddcb47964af5c0d23a843eb21ce892d366914f/modules/explorer-core/src/main/scala/org/ergoplatform/explorer/protocol/RegistersParser.scala#L36

{Embed}
https://github.com/ergoplatform/explorer-backend/blob/34ddcb47964af5c0d23a843eb21ce892d366914f/modules/explorer-core/src/main/scala/org/ergoplatform/explorer/protocol/RegistersParser.scala
ergoplatform/explorer-backend
Ergo Blockchain Explorer. Contribute to ergoplatform/explorer-backend development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/QQShcYbwCawSACoetHdZEZgBY-dyceGrNZGF4_lSeFo/https/opengraph.githubassets.com/5e3c0320aa7ec7640912de2d77ffe07b7fcdac7e4c812c962944b7768d610929/ergoplatform/explorer-backend

{Reactions}
ergo_white üçâ 

[06/21/2021 12:07 PM] kushti#0978
Yes, also, current tutorials still scattered around, ergonaut.space is the best place to start


[06/21/2021 12:12 PM] kushti#0978
Contracts can be found in EIP-14 draft https://github.com/ergoplatform/eips/pull/27

{Embed}
https://github.com/ergoplatform/eips/pull/27
EIP-0014: Decentralized Exchange Contracts  by kushti ¬∑ Pull Reques...
Author: kushti, Ilya Oskin
Status: Proposed
Created: 12-Mar-2021
Last edited: 15-Mar-2021
Track: Standards

Motivation
Act of exchange without trusted parties is a most basic primitive for decentra...
https://images-ext-1.discordapp.net/external/91JFtfmkq_I4k2aKhlBbqNHCiumDfBOobsypJ-ZP_Es/https/opengraph.githubassets.com/c9bcad6cbfc458f4e0bbfdf8e2ede5d50c45c7731093b5e4672dda3404f08e70/ergoplatform/eips/pull/27


[06/21/2021 12:13 PM] kushti#0978
also, playable example of swap contracts https://github.com/ergoplatform/ergoscript-by-example/blob/main/singleChainSwap.md

{Embed}
https://github.com/ergoplatform/ergoscript-by-example/blob/main/singleChainSwap.md
ergoplatform/ergoscript-by-example
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - ergoplatform/ergoscript-by-example
https://images-ext-1.discordapp.net/external/PG1xx4twiJzH_Zc9h4YzhPDC_zqwWwyGOYTVMbh8XIQ/https/opengraph.githubassets.com/da01c7cbc7913d5aeaec9824fe178a376bccf9b15cf6f58d74673049abd2eb40/ergoplatform/ergoscript-by-example


[06/21/2021 12:14 PM] kushti#0978
Data in registers must be typed, "05" is type prefix (means long), so 0500 is actually a proper encoding for 0L

{Reactions}
üëç 

[06/23/2021 4:54 AM] abchris#8522
What's the easiest way to inspect a box's ergoTree? Any way to convert it back to ErgoScript?


[06/23/2021 2:01 PM] morphic#4133
There is no way to get ErgoScript ATM, but there is SigmaPPrint https://github.com/ScorexFoundation/sigmastate-interpreter/blob/1b9f4d1f15022ff8fa4837eecfaae6642270faf9/sigmastate/src/test/scala/sigmastate/helpers/SigmaPPrint.scala#L29 which can be used to convert ErgoTree into Scala code.

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/1b9f4d1f15022ff8fa4837eecfaae6642270faf9/sigmastate/src/test/scala/sigmastate/helpers/SigmaPPrint.scala
ScorexFoundation/sigmastate-interpreter
Interpreter of a Sigma-State language. Contribute to ScorexFoundation/sigmastate-interpreter development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/JsFuD0rPAIZnzGH27UiHs12iT5LTg_IQ2qEPMQcVDGs/https/opengraph.githubassets.com/84b1822d81ebb0d6b5011f1635ae3a87636d839540a3148781c736858ba17a53/ScorexFoundation/sigmastate-interpreter

{Reactions}
üëç 

[06/24/2021 2:43 AM] ŒîŒ∂_ŒñŒøœÅŒºœÄŒ¨œÇ#9838
Hi guys, this isnt exactly suitable for dev-support but since nobody could help me and since I cant find any documentation on the ergoplatform about how to start solomining without a joining an existing pool you are my last resort... so I got a node running with mining enabled, downloaded this ergo stratum server (https://github.com/mhssamadani/ErgoStratumServer ) configured the start.js file but upon trying to run  node start.js I get this error


[06/24/2021 2:44 AM] ŒîŒ∂_ŒñŒøœÅŒºœÄŒ¨œÇ#9838
node:internal/modules/cjs/loader:930
  throw err;
  ^

Error: Cannot find module 'bignum'
Require stack:
- c:\ergo\ErgoStratumServer\lib\algoProperties.js
- c:\ergo\ErgoStratumServer\lib\index.js
- c:\ergo\ErgoStratumServer\start.js
‚Üê[90m    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:927:15)‚Üê[39m
‚Üê[90m    at Function.Module._load (node:internal/modules/cjs/loader:772:27)‚Üê[39m
‚Üê[90m    at Module.require (node:internal/modules/cjs/loader:999:19)‚Üê[39m
‚Üê[90m    at require (node:internal/modules/cjs/helpers:93:18)‚Üê[39m
    at Object.<anonymous> (c:\ergo\ErgoStratumServer\lib\algoProperties.js:1:14)
‚Üê[90m    at Module._compile (node:internal/modules/cjs/loader:1095:14)‚Üê[39m
‚Üê[90m    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1124:10)‚Üê[39m
‚Üê[90m    at Module.load (node:internal/modules/cjs/loader:975:32)‚Üê[39m
‚Üê[90m    at Function.Module._load (node:internal/modules/cjs/loader:816:12)‚Üê[39m
‚Üê[90m    at Module.require (node:internal/modules/cjs/loader:999:19)‚Üê[39m {
  code: ‚Üê[32m'MODULE_NOT_FOUND'‚Üê[39m,
  requireStack: [
    ‚Üê[32m'c:\ergo\ErgoStratumServer\lib\algoProperties.js'‚Üê[39m,
    ‚Üê[32m'c:\ergo\ErgoStratumServer\lib\index.js'‚Üê[39m,
    ‚Üê[32m'c:\ergo\ErgoStratumServer\start.js'‚Üê[39m
  ]
}


[06/24/2021 2:45 AM] ŒîŒ∂_ŒñŒøœÅŒºœÄŒ¨œÇ#9838
seems that bingnum module is not installed? well I tried to install openssl with chocolate and also install the git that hash bignum git clone git://github.com/justmoon/node-bignum.git


[06/24/2021 2:45 AM] ŒîŒ∂_ŒñŒøœÅŒºœÄŒ¨œÇ#9838
but nothing


[06/24/2021 2:45 AM] ŒîŒ∂_ŒñŒøœÅŒºœÄŒ¨œÇ#9838
any ideas ?


[06/24/2021 2:45 AM] ŒîŒ∂_ŒñŒøœÅŒºœÄŒ¨œÇ#9838
the os is windows 10


[06/24/2021 5:59 AM] Peppers#1111
@Bauhaus911 hey I saw you are looking for beta testers for iOS ergodex? I'm down for it. Let me know if I can help.


[06/24/2021 12:26 PM] pbr713#9954
@Bauhaus911 I‚Äôm down to help out as well


[06/24/2021 2:27 PM] Dergler#0451
iPhone army. I‚Äôll help too


[06/24/2021 2:36 PM] Bauhaus911#7350
@Peppers @pbr713 DM me with emails I can put into the TestFlight system with Apple and then download the TestFlight app from the Apple App Store and you should get notified.  I think you need to provide me with an email that you used to sign up with Apple (although we can try to use a non apple email if you like)


[06/24/2021 5:56 PM] Bauhaus911#7350
@Dergler Shoot me an email in a DM and I'll add you to the list


[06/24/2021 7:22 PM] Bauhaus911#7350
All iPhone testers:  If you the app is just sitting there at "Synchronizing" then go into accounts and add a second, dummy account.  Then go back to main screen and toggle between the two accounts.  That should fix it.  I'm working on a fix.


[06/24/2021 8:42 PM] Peppers#1111
Just sent  you the DM with my email


[06/24/2021 9:09 PM] Dergler#0451
do the authorization key/password fields on the accounts page need real ergo key values?


[06/24/2021 9:18 PM] Dergler#0451
if so, I'll need to know what types. I don't know all the different kinds of addresses in Ergo yet. Otherwise I'll start a second node and get to testing this weekend.


[06/24/2021 10:06 PM] Bauhaus911#7350
@Dergler Yes.  The same values as you would use when connecting to your ERGO node web server and clicking on the blue "Update API Key" (the auth key) and the green "Unlock Wallet" button at "some.local.private.ip:9853/panel/wallet" (ex. 192.168.0.37:9853/panel/wallet).  The app works with both the testnet and mainnet so you can play with sending test ERGs or real ERGs.


[06/24/2021 11:29 PM] Dergler#0451
Okay right on.


[06/24/2021 11:29 PM] Dergler#0451
Now I understand how it‚Äôs working


[06/24/2021 11:53 PM] kushti#0978
@zargarzadehmoein any ideas ?

{Reactions}
üëç 

[06/25/2021 1:33 PM] zargarzadehmoein#2928
I will follow in the #üõ†‚îÇhost-a-pool channel.


[06/26/2021 10:10 AM] HazeyOneKenobi#2091
Hey all, my testnet node has peers but isn't syncing correctly, height is just remaining about 2000 blocks behind. Any ideas?


[06/26/2021 10:14 AM] HazeyOneKenobi#2091
I think it's just that whoever has info on the next 2k blocks isn't active right now. No new testnet blocks since about 32 hours ago


[06/26/2021 1:37 PM] zargarzadehmoein#2928
Please wait, I have now setup Miner on the testnet network


[06/26/2021 3:48 PM] HazeyOneKenobi#2091
Thankyou! I'll let you know when it's found a new block, none as of yet


[06/27/2021 2:07 PM] Deleted User#0000
Using appkit, when I want to sign a transaction with prover, code is somehow stuck. any idea?


[06/27/2021 2:07 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/858695156839874570/unknown.png


[06/28/2021 12:01 PM] kushti#0978
what is in the tx ?


[06/28/2021 12:04 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/859026387980386334/unknown.png


[06/28/2021 12:23 PM] Deleted User#0000
Input boxes are fine. I did check the box Id and they are Ok. Other transactions are signing fine as well. This is the only transaction with this problem. The contract may return false since it's somehow complicated, but I am not receiving any response form prover though.


[06/29/2021 1:43 PM] morphic#4133
Hi, what you mean "code is somehow stuck"?


[06/30/2021 2:24 AM] Deleted User#0000
I do not know what is happening, but as you can see the print lines, "Hey1" is printed while "Hey2" is not. So it's crashing or sth in signing process.


[06/30/2021 2:16 PM] morphic#4133
You can try to catch the exception by surrounding either prover.sign or the whole execute in try/catch


[07/04/2021 1:24 AM] mrknc#4908
i'm having trouble syncing on the testnet. 
```
{
  "currentTime" : 1625357827229,
  "name" : "ergo-testnet-4.0.12",
  "stateType" : "utxo",
  "difficulty" : 6142623744,
  "bestFullHeaderId" : "d37c606942d7300ad99ab208bc88d98153c37c2e079d720aafbf0f370c19e8e4",
  "bestHeaderId" : "e7df5f74d6469f4634c4f6c6173f862e6167dc633bd312f0951f9f1ef89a750f",
  "peersCount" : 4,
  "unconfirmedCount" : 0,
  "appVersion" : "4.0.12",
  "stateRoot" : "53a4bab8053460773be6d5034079def5912564e2f007c1b3e8cfc302006c262110",
  "genesisBlockId" : "78bc468ff36d5d6fa9707d382fe5b8947d6dd0ed2bc5c44707426ee12557c7fb",
  "previousFullHeaderId" : "a0115b6c09c5f1e4ea062df98de4a772f136c80c7b7082c557d2382073eb89f6",
  "fullHeight" : 10310,
  "headersHeight" : 23450,
  "stateVersion" : "d37c606942d7300ad99ab208bc88d98153c37c2e079d720aafbf0f370c19e8e4",
  "fullBlocksScore" : 63580390289183,
  "launchTime" : 1625357790252,
  "lastSeenMessageTime" : 1625357790252,
  "headersScore" : 145483077250847,
  "parameters" : {
    "outputCost" : 100,
    "tokenAccessCost" : 100,
    "maxBlockCost" : 1000000,
    "height" : 10240,
    "maxBlockSize" : 524288,
    "dataInputCost" : 100,
    "blockVersion" : 2,
    "inputCost" : 2000,
    "storageFeeFactor" : 1250000,
    "minValuePerByte" : 360
  },
  "isMining" : true
}
```
i've tried syncing from 0, same result, it gets the headers, but fullHeight never grows


[07/04/2021 8:46 AM] pragmaxim#0778
there is high chance that testnet is empty ... but it is possible to play around outside mainnet with mining and offlineGeneration : 
https://github.com/ergoplatform/ergo/blob/04c1424066255cfc4aa6bbe0917686b860065d49/src/main/scala/org/ergoplatform/ErgoApp.scala#L135-L141


[07/04/2021 3:04 PM] mrknc#4908
Interesting, thanks for pointing that out. 

However. For such an ambitios and complex project, why is testnet not maintained? It's a crucial part of infrastructure for testing SCs, mining pools, etc, yet it is trivial to run a couple of seed nodes. I spent half a day troubleshooting the syncing instead of actually building useful stuff and now i find out it doesh't even work?

{Reactions}
üëç 

[07/04/2021 4:52 PM] glasgowm#9381
Seems people were using it a few days ago. @mhs_sam @morphic do you know the issue?


[07/04/2021 4:55 PM] mrknc#4908
What i find particularly disturbing is that we are unable to sync at all, even from 0 height. Also, there are no indications of any problems in the log as far as I can tell, node just keeps messaging back and forth with its peers


[07/04/2021 9:47 PM] glasgowm#9381
Last block was on the 30th so I guess someone needs to mine it. Not sure, never used it but people appear to be using it when I search


[07/05/2021 8:55 AM] MrStahlfelge#0042
I share your opinion. at the moment, I can't test my wallet app on testnet completely. my guess is that most core devs set up an own development node on their own system and thus testnet is not that important for them, but for people coming new to the project or just wanting to try things I think it is very relevant to have a working testnet.


[07/05/2021 10:47 AM] Erazor#9864
Anyone else got problems with testnet not syncing?


[07/05/2021 10:50 AM] MrStahlfelge#0042
see three messages above


[07/05/2021 10:53 AM] Erazor#9864
@MrStahlfelge Thanks. My bad.


[07/05/2021 11:02 AM] MrStahlfelge#0042
no problem, it is interesting to see that others need it, too üôÇ


[07/05/2021 11:13 AM] Erazor#9864
Anyone know how to calculate sync progress using the API? I don't see any best-height, current-height information returned by the API.


[07/05/2021 11:36 AM] andee#4722
@Erazor `headersHeight - fullHeight` should be blocks left until synced


[07/05/2021 11:40 AM] Erazor#9864
@andee Too bad that fullHeight is always null for me (at least on  testnet):
`{
  "currentTime" : 1625481597247,
  "name" : "ergo-testnet-4.0.12",
  "stateType" : "utxo",
  "difficulty" : null,
  "bestFullHeaderId" : null,
  "bestHeaderId" : "e7df5f74d6469f4634c4f6c6173f862e6167dc633bd312f0951f9f1ef89a750f",
  "peersCount" : 5,
  "unconfirmedCount" : 0,
  "appVersion" : "4.0.12",
  "stateRoot" : "21660785f08767ef2b5f311827e896a4b59c9d39b8f036d71af1e9c7f02120de02",
  "genesisBlockId" : "78bc468ff36d5d6fa9707d382fe5b8947d6dd0ed2bc5c44707426ee12557c7fb",
  "previousFullHeaderId" : null,
  "fullHeight" : null,
  "headersHeight" : 23450,
  "stateVersion" : "0000000000000000000000000000000000000000000000000000000000000000",
  "fullBlocksScore" : null,
  "launchTime" : 1625475403048,
  "lastSeenMessageTime" : 1625481532848,
  "headersScore" : 145483077250847,
  "parameters" : {
    "outputCost" : 100,
    "tokenAccessCost" : 100,
    "maxBlockCost" : 1000000,
    "height" : 0,
    "maxBlockSize" : 524288,
    "dataInputCost" : 100,
    "blockVersion" : 1,
    "inputCost" : 2000,
    "storageFeeFactor" : 1250000,
    "minValuePerByte" : 360
  },
  "isMining" : true
}`


[07/05/2021 11:40 AM] andee#4722
@Erazor then its not syncing


[07/05/2021 11:41 AM] Erazor#9864
Which brings me back to square one üòÅ


[07/05/2021 11:42 AM] andee#4722
I find it strange that the testnet isn't working. I am unable to sync myself


[07/05/2021 11:46 AM] Erazor#9864
Yeah, its disturbing, I agree with @mrknc


[07/05/2021 11:46 AM] andee#4722
have you tried deleting the data folder and syncing again?


[07/05/2021 11:48 AM] Erazor#9864
Yeah. Tried in docker first. Then with Java in Windows then in WSL2. The problem is with the chain I think, not the client. @greenhat @Ilya | Spectrum Opinions?


[07/05/2021 12:33 PM] qu0b#5843
```
curl -H "api_key: hello" http://localhost:9069/wallet/status
{
  "error" : 500,
  "reason" : "internal.error",
  "detail" : "Ask timed out on [Actor[akka://ergoref/user/$c#-1604324039]] after [5000 ms]. Message of type [org.ergoplatform.nodeView.ErgoReadersHolder$GetReaders$]. A typical reason for `AskTimeoutException` is that the recipient actor didn't send a reply."
}
```
cannot initialize the wallet, any ideas?


[07/05/2021 12:33 PM] qu0b#5843
this is for the testnet


[07/05/2021 12:41 PM] qu0b#5843
v4.0.12


[07/05/2021 12:44 PM] Pgr456#1839
Which node is https://testnet.ergoplatform.com/en/ using? Maybe we can get the ip and port for their testnet node


[07/05/2021 12:45 PM] Erazor#9864
@Pgr456 If you take a look at the last block timestamp, you'll see that that node is stuck on June 30th as well.


[07/05/2021 12:46 PM] Pgr456#1839
At least something my node has:
Best block id
e7df5f74d6469f4634c4f6c6173f862e6167dc633bd312f0951f9f1ef89a750f

which isnt even in the explorer


[07/05/2021 12:47 PM] Erazor#9864
I'm on the same, see above.


[07/05/2021 12:51 PM] Pgr456#1839
Oh sorry i missed that. In my opinion connecting to testnet.ergoplatform.com could help since it is at least synced to a certain degree


[07/05/2021 2:16 PM] Erazor#9864
@andee fullHeight appears to be always null, even on mainnet when syncing


[07/05/2021 4:28 PM] andee#4722
it incremented when I resynced my main node ü§î


[07/05/2021 4:32 PM] andee#4722
```{
  "currentTime" : 1625499097074,
  "name" : "ergo-mainnet-4.0.12",
  "stateType" : "utxo",
  "difficulty" : 1687093218639872,
  "bestFullHeaderId" : "b045b50ecd2c7d17296705e822c9264630c137c9ed9b65690e31876746750620",
  "bestHeaderId" : "e40e40bf361afc5f1726bc8c5ee1e8228e26355b9ca56f520b538c33d138e794",
  "peersCount" : 1,
  "unconfirmedCount" : 0,
  "appVersion" : "--SNAPSHOT",
  "stateRoot" : "2f2760d4d818a20fd6bcaee782c38dc5f53530ea10d206ed41d9e63e39368ade16",
  "genesisBlockId" : "b0244dfc267baca974a4caee06120321562784303a8a688976ae56170e4d175b",
  "previousFullHeaderId" : "2f4f575ee5bd2132ed3271684567ef8c7e25ff065c2dbb10ab9dc132fa6f7d16",
  "fullHeight" : 525610,
  "headersHeight" : 525776,
  "stateVersion" : "b045b50ecd2c7d17296705e822c9264630c137c9ed9b65690e31876746750620",
  "fullBlocksScore" : 398829430656383057920,
  "launchTime" : 1625499078684,
  "lastSeenMessageTime" : 1625499078684,
  "headersScore" : 399109488130677276672,
  "parameters" : {
    "outputCost" : 100,
    "tokenAccessCost" : 100,
    "maxBlockCost" : 7030268,
    "height" : 525312,
    "maxBlockSize" : 1271009,
    "dataInputCost" : 100,
    "blockVersion" : 2,
    "inputCost" : 2000,
    "storageFeeFactor" : 1250000,
    "minValuePerByte" : 360
  },
```


[07/05/2021 4:34 PM] andee#4722
I think it will be null as long as the node catches up to current headersHeight, but should be updated as soon as its actually syncing blocks


[07/05/2021 4:37 PM] Erazor#9864
@andee It becomes non-null after syncing is done. Unfortunately this does not help with calculating progress **while** syncing üôÇ


[07/05/2021 5:15 PM] andee#4722
then there must be a different behavior after it has been synced before. with me it syncs headers and after getting up to date it updates headersHeight to current height then starts syncing and updating fullHeight until done


[07/05/2021 5:16 PM] andee#4722
getting headers is the fast part of the sync


[07/05/2021 5:50 PM] Erazor#9864
@andee You are right. Something was odd. It's still syncing


[07/06/2021 8:35 AM] Pgr456#1839
Hey @Erazor Testnet is running again. My Node is fully synced now. If you need a peer to sync you can reach mine at cryptobadger.io:9020


[07/06/2021 10:20 AM] Erazor#9864
@Pgr456 Thanks you rock. Will try soon.


[07/06/2021 10:22 AM] Pgr456#1839
Difficulty is still high. I am running a small mining pool to get some blocks going and some testnet coins.


[07/06/2021 12:06 PM] Erazor#9864
@Pgr456 What's the recommended miner for Nvidia GPUs?


[07/06/2021 12:07 PM] Pgr456#1839
@Erazor i am using https://github.com/doktor83/SRBMiner-Multi/releases/tag/0.7.7 and https://github.com/Lolliedieb/lolMiner-releases/releases/tag/1.30

{Embed}
https://github.com/doktor83/SRBMiner-Multi/releases/tag/0.7.7
Release SRBMiner-MULTI CPU & AMD GPU Miner 0.7.7 Win64 & Linux ¬∑ do...
f55401e18f08c61b6a2f5e94d81c5783 *SRBMiner-Multi-0-7-7-win64.zip
07f8bcf62e5d1f26c63d9716de902ce3 *SRBMiner-Multi-0-7-7-Linux.tar.xz

Added algorithm 'lyra2v2_webchain' (MINTME - MintMe.com...
https://images-ext-2.discordapp.net/external/tQCLYOeFaiePhcWSWojnqbn-J1JXP5Sok7kVG_Q6IHk/https/repository-images.githubusercontent.com/207241702/27f92d80-e6c8-11e9-9081-158ee113177d

{Embed}
https://github.com/Lolliedieb/lolMiner-releases/releases/tag/1.30
Release lolMiner 1.30 ¬∑ Lolliedieb/lolMiner-releases
lolMiner 1.3(RG)0
Note: Linux version re-uploaded with correct ergo example .sh script
Added Autolykos V2 mining (ERGO)   (a)

use --algo AUTOLYKOS2 to select it
fee: 1.5%
Cuda solver: Supports Nvi...
https://images-ext-1.discordapp.net/external/WJNOhBptNkZUGh7eKNAiV9PMDQGMUT-G42g4H9ytzHE/https/opengraph.githubassets.com/af125de76db54638cf19226ad22e1a1afb16dd4aaa6b31c5ffa642f6b52e0a09/Lolliedieb/lolMiner-releases


[07/06/2021 12:08 PM] Erazor#9864
Thanks üôÇ

{Reactions}
üëç 

[07/06/2021 1:14 PM] Pgr456#1839
Now i have some testnet coins. If anyone needs some let me know


[07/06/2021 1:18 PM] MrStahlfelge#0042
use https://faucet.ergopool.io/payment/address/TESTNET_WALLET_ADDRESS


[07/06/2021 1:18 PM] MrStahlfelge#0042
it pays you 60 testnet ergs


[07/06/2021 1:30 PM] Pgr456#1839
I have tried it yesterday and it didn't work. Now the testnet is working again and the faucet too. Since i did some mining pool test today i have more than enough testnet coins now üòÑ

{Reactions}
üëç (2) 

[07/06/2021 1:31 PM] MrStahlfelge#0042
maybe your pool made the testnet work again üòâ


[07/06/2021 1:34 PM] Pgr456#1839
Seems like it. I am the only one producing blocks üòÑ I will try to get the difficulty even more down


[07/06/2021 1:35 PM] andee#4722
has anyone tried cpu mining with srbminer?


[07/06/2021 1:37 PM] andee#4722
I have a fileserver running that I could cpu mine on testnet with


[07/06/2021 1:38 PM] Pgr456#1839
I have tried it. At the moment difficulty is too high on testnet for cpu mining. Thats why im trying to get it down


[07/06/2021 1:46 PM] andee#4722
which cpu and what hashrate did you get?


[07/06/2021 1:48 PM] Pgr456#1839
Used 6 Threads on an Core-i7 Macbook and got ca. 1 MH/s


[07/06/2021 1:50 PM] MrStahlfelge#0042
would be good if testnet difficulty adapts faster


[07/06/2021 1:51 PM] andee#4722
I think it may be every 128 blocks


[07/06/2021 1:52 PM] Erazor#9864
Going to join in soon with RTX 2070. Maybe that helps


[07/06/2021 1:54 PM] Pgr456#1839
Yes every 128 blocks it adjusts. I was using a few hours ago around 300 MH/s and now after the adjustment I reduced hashrate down to 140 MH/s to get the difficulty further down


[07/06/2021 2:36 PM] Pgr456#1839
Reduced my hashrate down to 45mh/s to get a higher blocktime so we get a higher difficulty decrease


[07/06/2021 2:37 PM] Pgr456#1839
At block 23680 the difficulty should adjust again


[07/06/2021 2:52 PM] Erazor#9864
I'm at 50 mh/s at the moment


[07/06/2021 2:54 PM] Pgr456#1839
ok i stoped now since we together find blocks still pretty fast


[07/06/2021 2:57 PM] Erazor#9864
I only had one so far


[07/06/2021 3:02 PM] Pgr456#1839
Seems like someone else joined https://testnet.ergoplatform.com/en/ In this view i am rjVHc9Ne


[07/06/2021 3:26 PM] Erazor#9864
Hmm, I've just mined block 23660 -> https://testnet.ergoplatform.com/en/blocks/532ef0e05b5654d7c2af3111b55bea763a718ab55c97cfd4d9ade9bfde5b0521


[07/06/2021 3:27 PM] Erazor#9864
But looking into the transactions I cant see anything regarding the address the reward is supposed to receive the reward


[07/06/2021 3:27 PM] Erazor#9864
At least it's not the one I expected to be


[07/06/2021 3:29 PM] Pgr456#1839
Yeah the block explorer seem to use another encoding/address format. For me it showed zero rewards too but after 72 block period for block rewards to be spentable the ergo showed up in my wallet


[07/06/2021 3:30 PM] Erazor#9864
Which pool software are you using? https://github.com/mhssamadani/ErgoStratumServer ?

{Embed}
https://github.com/mhssamadani/ErgoStratumServer
mhssamadani/ErgoStratumServer
Stratum pool server for ERGO in Node.js. Contribute to mhssamadani/ErgoStratumServer development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/fq9TDWLmruWn5SKAdfraw681ANCK7SUBqE0jDT_aNoo/https/opengraph.githubassets.com/091e8b6649809742e82ee8bfd9c46f26eaa2a1854747230ae8f7be808aabc55f/mhssamadani/ErgoStratumServer


[07/06/2021 3:30 PM] Pgr456#1839
In around 5 blocks you should get your next reward


[07/06/2021 3:32 PM] Pgr456#1839
Not exactly this version but a similar one


[07/06/2021 3:34 PM] Erazor#9864
Got a link or is it classified?


[07/06/2021 3:35 PM] Pgr456#1839
Not classified but currently just a local modified version


[07/06/2021 3:35 PM] Pgr456#1839
I am in the process to build a complete pool with payouts


[07/06/2021 3:36 PM] Erazor#9864
Found any major problems with the one I linked?


[07/06/2021 3:43 PM] Pgr456#1839
From what i see this should be fine. Haven't used that version. Downloaded another one from somewhere on Github i don't remember and modified a few things


[07/06/2021 3:45 PM] Pgr456#1839
I am thinking about maybe rewriting the javascript version in another language like rust or go and remove everything non ergo related

{Reactions}
üëç 

[07/07/2021 10:02 PM] danandbeard#2312
out of curiosity - what's the opinion of the core team on turning non-outsouracibility back on?

e.g. if someone were to create a smart contract pool such that everyone can aggregate their rewards and presuming everyone used the pool there would effectively be zero fees (since a contract pool would require transactions which would just pay back into the "pool")

in that situation would the core team turn non-outsourcing back on?


[07/07/2021 10:03 PM] danandbeard#2312
something like that would seem even more feasible with "light" nodes (the paper was presented last week IIRC)


[07/07/2021 10:31 PM] nitram147#5106
I wouldn't personally care about the fees, however I know people who mine ergo and they told that they choosed mining pool based on fees. However from the pools perspective 1% fee vs 0.7% fee is 30% less revenue for the pool operation, the same difference 1% vs 0.7% is only 0.3% difference for the miner. If I would be a miner I wouldn't care about +-1% when you can achieve like 10-20% difference with various hardware tweeks... It's pointless


[07/07/2021 10:33 PM] nitram147#5106
What should be the use-case for turning non-outsourcability back on?


[07/07/2021 10:38 PM] danandbeard#2312
decentralization


[07/07/2021 10:39 PM] danandbeard#2312
if every miner is a solo miner (and the only mechanism for pooling is just a contract that distributes rewards evenly) then the network is more decentralized which typically understood to mean a more secure network


[07/07/2021 10:40 PM] danandbeard#2312
https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-luu.pdf

this is an example of a smart contract pool


[07/07/2021 10:42 PM] danandbeard#2312
the effectively 0% fees relies on everyone using the smart contract pool, but as you state the fees aren't the biggest concern for miners - however if a smart contract pool were to be created it would arguably be just as easy to solo mine as the current setup - if that were to become the case turning on non-outsouracability would potentially keep all the hash power around while distributing it away from traditional pools


[07/07/2021 10:43 PM] danandbeard#2312
without everyone using the contract pool the fee would likely still be less than pool fees, but again the point isn't to reduce fees - it's to provide a viable more decentralized solution to traditional pools

{Reactions}
yuliYES 

[07/07/2021 11:43 PM] glasgowm#9381
#üß†‚îÇsmartpools


[07/07/2021 11:43 PM] glasgowm#9381
And yeh it can be turned back on


[07/08/2021 12:40 PM] Erazor#9864
@Pgr456 Testnet diff very high again


[07/08/2021 12:41 PM] Pgr456#1839
@Erazor noticed it too


[07/08/2021 12:54 PM] Pgr456#1839
is miningcore from you @Erazor ?


[07/08/2021 12:55 PM] Erazor#9864
yes


[07/08/2021 12:56 PM] Pgr456#1839
Are you working on an ergo integration?

{Reactions}
üëç 

[07/09/2021 1:00 PM] Erazor#9864
What strikes me as another oddity with the way the Ergo Stratum is designed is the fact (please tell me I'm wrong here) that it leaves the miner only 4 bytes of nonce-space to work with. I don't know if that is the reason that I'm seeing so many duplicate share submissions by lolMiner during my tests. With almost all other major mining currencies, miner has at least 8 bytes to work with. Bitcoin has nonce, extranonce2 and nTime (with version-rollling support active).


[07/09/2021 1:02 PM] Erazor#9864
ErgoStratumServer which appears to be the reference implementation states the following in the readme: *Subscribe: with this method we set two parameters called extraNonce1 and **extraNonce2Size**. Miner must find a nonce (8 Bytes) for current block which starts with extraNonce1 and extended with extraNonce2Size bytes*. This is not consistent in my point of view. First it appears as if the pool can dictate the size of `extraNonce2` but later in the sentence it says it has to be 4 bytes.


[07/09/2021 1:03 PM] Erazor#9864
In my tests with various miner apps (SRBMiner, nbminer, t-rex, lolMiner) only the first one honored a diferent extraNonce2 size.


[07/09/2021 1:03 PM] Erazor#9864
I've contacted @mhs_sam but didn't get an answer yet unfortunately.


[07/09/2021 2:33 PM] mhs_sam#1471
yes, you are right. The reference stratum server is considering only 4 bytes for xn2 which is small. the pool can change it or the miner (like what SRBminer did) can manage it. Anyway, the is an update which will be merge very soon, making the xn2 size bigger and more configurable.


[07/09/2021 2:35 PM] mhs_sam#1471
this small size is causing "error":"incorrect size of extra nonce2" in some miners. after the update it will be addressed.


[07/09/2021 2:37 PM] mhs_sam#1471
however, the fact is this issue is occurring more frequently in the pool's test phase with low overall hashrate, and in the production phase with lots of miners the occurrence is rare.


[07/09/2021 2:38 PM] Erazor#9864
@mhs_sam Completely understood. It wasn't my intention to blame anyone. Just to understand what's going on.


[07/09/2021 2:39 PM] mhs_sam#1471
I see, thanks for reporting and asking.


[07/09/2021 2:40 PM] Erazor#9864
@mhs_sam Did you have a chance to take a look at the varDiff issue I mentioned?


[07/09/2021 2:40 PM] mhs_sam#1471
yes, will respond you in a minute

{Reactions}
üëç 

[07/09/2021 3:06 PM] Pgr456#1839
I am interested in the result of the varDiff issue too


[07/09/2021 3:19 PM] Erazor#9864
@mhs_sam Some correction about my extranonce size observations. All tested miners correctly handle the case where xn1 <= 4 and xn2 = 8 - xn1. SRBMiner is just the only one that handles xn1 = 4 and xn2 >= 4


[07/10/2021 8:31 PM] pragmaxim#0778
guys what is the point of the internal miner (CPU) in Node if it does not mine a block in hours even ?


[07/10/2021 8:33 PM] andyceo#3095
It mine ok in my private testnet) So I believe it good to have it for such cases


[07/10/2021 8:34 PM] pragmaxim#0778
are you sure? it is still mining a single block on mainnet after 4 hours ... do you know why it should be faster on testnet ?


[07/10/2021 8:35 PM] pragmaxim#0778
it performs 1000 nonces per second ... and it can go to tens of millions


[07/10/2021 8:36 PM] pragmaxim#0778
maybe the difficulty setup is different on testnet ?


[07/10/2021 8:36 PM] andyceo#3095
I mean, my private testnet. I can create testnet only for me with one-three nodes on single CPU, can't I?


[07/10/2021 8:37 PM] pragmaxim#0778
true, I meant why would the mining difficulty be lower there


[07/10/2021 8:38 PM] andyceo#3095
Initial difficulty can be set in config, if I catch your thoughts right


[07/10/2021 8:38 PM] pragmaxim#0778
```    
    # Difficulty network start with
    initialDifficultyHex = "01"
```


[07/10/2021 8:39 PM] pragmaxim#0778
ha, cool, I'm going to mine to testnet too )

{Reactions}
üòÄ 

[07/10/2021 8:41 PM] andee#4722
is devnet used for private network?


[07/11/2021 1:16 AM] danandbeard#2312
is it possible to create a zero fee transaction? e.g. if I'm a miner and I mine a block is it even possible to choose transactions from the mempool without transaction fees associated with them?


[07/11/2021 1:50 AM] Erazor#9864
Why would anyone want to support that?


[07/11/2021 1:52 AM] andyceo#3095
as far as know this is not possible. txs without a fee or that have a fee lower than 0.001 erg (for now) are invalid and not included even in mempool

{Reactions}
üëç (2) 

[07/11/2021 6:27 AM] danandbeard#2312
smart contract mining, or a more decentralized "pool" - miners could whitelist each others transactions keeping mining costs down, although if everyone moved to the smart contract you'd just be making the ERG back in the payout, but the question was more just curiosity


[07/11/2021 7:00 AM] MrStahlfelge#0042
It is hardcoded in the reference platform


[07/11/2021 12:45 PM] pragmaxim#0778
the CPU miner is useless even for `initialDifficultyHex = "01"` on testnet,  from a few attempts I made, block is not mined with 2M hashes even, and the CPU hashrate is only 1000h/s ... so it might take hours to mine a testnet block


[07/11/2021 12:58 PM] Erazor#9864
@pragmaxim I've mined several testnet blocks/hour with SRBMiner in CPU only mode.


[07/11/2021 12:58 PM] pragmaxim#0778
mm, I might be extremely unlucky then ... I have no idea what is the AVG for `01` difficulty, but currently `Trying nonce 3134000` and still nothing üôÇ


[07/11/2021 1:20 PM] andee#4722
are you certain you are not on the regular testnet instead of your private one?


[07/11/2021 1:21 PM] pragmaxim#0778
I could mine on both I think, on regular or with `offlineGeneration = true`


[07/11/2021 1:22 PM] pragmaxim#0778
but with GPU I guess, not with the internal jvm miner


[07/11/2021 1:32 PM] andee#4722
sure, but it would be strange if you were able to set your own diff on a running testnet


[07/11/2021 7:45 PM] pragmaxim#0778
and do you guys have some "home setup" ergo.conf for 2-3 peers that you use on testnet for testing stuff ?


[07/12/2021 12:38 AM] Erazor#9864
I've mined my testnet blocks on regular testnet, not a private one


[07/12/2021 4:25 PM] iamlindoro#0491
Off the wall question/idea I was wondering about the feasibility of before I start hacking on anything (I am a dev but no blockchain dev experience). The SmartPools project in the last hackathon got me thinking about adopting a similar approach to SigUSD/SigRSV minting and redemption. At present it seems that this process is highly 1) individual and 2) manual. It seems to me that creating SmartLiquidityPools might solve the problem by setting up a series of contracts that mint and redeem USD/RSV based on the user's risk appetite. Essentially Long/Short ERG to varying degrees and managing the minting and redemption automatically and fairly. Is this idea nuts or is it worth further effort?


[07/12/2021 4:27 PM] iamlindoro#0491
The idea seems like it could work to me, but the only thing where I'm a little hazy is how to respond if a redemption or minting becomes impossible.


[07/12/2021 5:43 PM] Erazor#9864
Anyone know where to retrieve the current network hashrate from?


[07/12/2021 6:06 PM] Nythain#6769
Im not an api guy but its on ergo explorer at bottom of stats page


[07/12/2021 6:06 PM] Erazor#9864
You can scrape it of course but there's a way to calculate it. I've discussed it with @andee already. üôÇ


[07/12/2021 6:10 PM] andee#4722
its a 24 hour average üò¶ right now the nethash is around 12.6-7TH


[07/12/2021 6:33 PM] Erazor#9864
I'm just having a friendly argument with @DenAce about the network difficulty number displayed at https://coinfoundry.org/pool/ergo. Den thinks the correct way would be to display it as PH but I think PH is a unit of hashrate which shouldn't apply to a difficulty value üôÇ Opinions?

{Reactions}
üëç 

[07/12/2021 6:38 PM] andee#4722
Quadrillion, haha üòÑ


[07/12/2021 6:39 PM] Nythain#6769
most of us miners are used to the (in this case) TH representation. but i do agree with your logic for the current display


[07/12/2021 6:40 PM] DenAce#1197
So what does the actual difficulty number mean?


[07/12/2021 7:13 PM] Erazor#9864
Straight from the Bitcoin Wiki: *Difficulty is a measure of how difficult it is to find a hash below a given target.*


[07/12/2021 7:14 PM] Erazor#9864
I guess you are non the wiser now üôÇ

{Reactions}
üòÇ 

[07/12/2021 7:39 PM] DenAce#1197
https://eprint.iacr.org/2017/731.pdf
But not really solving the question I think. Page 3:
"For a block B to be valid, a value of a hash function has to be less than the current target T, hash(B)< T, where hash is an ideal cryptographic hash function. Hardness to find a block could be expressed also via difficulty D as D=1/T"

{Reactions}
üëç 

[07/13/2021 4:12 PM] kushti#0978
yes, it is possible, even more, there were such transactions done in the mainnet

{Reactions}
üëç 

[07/13/2021 4:30 PM] MrStahlfelge#0042
how so? when I asked about it I got linked code from the reference implementation that does a minimal fee check: 

> When transaction is validated the following check is perfomed https://github.com/ergoplatform/ergo/blob/e784a70b8fabf7ae41f2ac9aa593a647f488100c/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala#L163
> Which uses the following function https://github.com/ergoplatform/ergo/blob/74e715dead5b73d7c6ee723594fd8d4e88f22a94/src/main/scala/org/ergoplatform/utils/BoxUtils.scala#L43
>


[07/13/2021 5:14 PM] andyceo#3095
Also nodes does not propagate txs without fee or with fee<0.001 erg, even txs are correct. So they does not go into mempool


[07/13/2021 6:10 PM] Erazor#9864
@kushti Is there any way to rescan a wallet without the REST api?


[07/13/2021 6:10 PM] Erazor#9864
I'm asking because requests for that endpoint time out long before the rescan makes any reasonable progress.


[07/13/2021 6:36 PM] andee#4722
here the rescan on testnet stopped showing any progress at block 100 and have not been able to get it to scan after deleting wallet/registry + restart or also by deleting /wallet/storage + reset and rescan


[07/13/2021 6:47 PM] kushti#0978
/wallet/rescan removes wallet db, and then actual rescan will be started on next block processing. Similarly you can remove wallet/registry folder (in your Ergo datadir). What is an issue you're getting into ?


[07/13/2021 6:48 PM] kushti#0978
and also @MrStahlfelge you can set min fee to 0 in the config. Also, block candidate generation API method can get txs to include directly


[07/13/2021 6:49 PM] Erazor#9864
@kushti Freshly initialized wallet on mainnet is stuck at block 6102 for hours without any progress. Chain is fully synced.


[07/13/2021 6:49 PM] Erazor#9864
Nothing in the logs either.


[07/13/2021 6:51 PM] kushti#0978
Weird, can you try to build jar from the  https://github.com/ergoplatform/ergo/pull/1383 ?

{Embed}
https://github.com/ergoplatform/ergo/pull/1383
Candidate for 4.0.13 by kushti ¬∑ Pull Request #1383 ¬∑ ergoplatform/...
Candidate for 4.0.13. It includes:

#1364 - miners backpressure
#1393 - fixes for AppKit
#1395 - fixing concurrent proof generation test
#1406 - fix for block assembly
#1391 - avoiding silent walle...
https://images-ext-2.discordapp.net/external/ehuDsFgyQa6EK9J-c4gP9eD2FSIyDYcbWssu_39wG1s/https/opengraph.githubassets.com/d1dfea08f6bdd8fb0bf1545e9193d7f7ba4f069b1baffd4e4fc9a692c75d383f/ergoplatform/ergo/pull/1383


[07/13/2021 6:52 PM] kushti#0978
It is writing possible failures into the log at least


[07/13/2021 7:12 PM] Erazor#9864
@kushti Would love to but atm I don't have the time to mess with building a node on top of the other problem.


[07/14/2021 1:55 PM] kushti#0978
Turned out the problem was in pruning enabled


[07/14/2021 3:25 PM] ppf#7249
`/blocks/getLastHeaders` always returns only canon blocks right?


[07/14/2021 5:06 PM] ppf#7249
how can i check which transaction is the coinbase-transaction? is it always the transaction at index 0?


[07/14/2021 6:10 PM] Erazor#9864
@ppf Should be the one that has an output that matches the result of `/mining/rewardAddress`


[07/14/2021 6:10 PM] ppf#7249
right but if someone sends coins to that address how can i separate normal txs from coinbase-tx?


[07/14/2021 6:11 PM] ppf#7249
empirically i did not find any coinbase other than at index 0, so i guess its always at index 0


[07/14/2021 6:13 PM] Erazor#9864
I believe the address returned by /mining/rewardAddress can only be used by for mining rewards. https://www.ergoforum.org/t/q-a-on-mining-for-pool-operators-and-solo-miners/587

{Embed}
https://www.ergoforum.org/t/q-a-on-mining-for-pool-operators-and-solo-miners/587
Q&A on mining (for pool operators and solo miners)
This Q&A is for pool operators and solo miners mostly.  Why are mining rewards going to some strange addresses?   Mining rewards are going to UTXOs associated with special scripts which are locking rewards to miner public keys for 720 blocks (72 in the testnet). Examples of such scripts are mPdcmQkPPvyJZtvwyc2ZFboEue1X1uMw729UbUhe5ZoQJAQsWyKmLck...


[07/14/2021 6:13 PM] ppf#7249
ah ok!


[07/15/2021 6:21 PM] Alien Œ£ Crypto#4489
Is there instructions no how I can configure and run my own pool?


[07/15/2021 6:29 PM] andee#4722
there are no instructions, you would need experience in various stuff to get anything up and running. a simpler solution might come later. #üõ†‚îÇhost-a-pool


[07/15/2021 6:31 PM] Alien Œ£ Crypto#4489
Ok thanks


[07/16/2021 7:07 AM] Snax#3268
when you are constructing the JSON of a transaction that spends a box protected by a script, how do you acquire "proofBytes" ? Also, what is "extension"?


[07/16/2021 10:17 AM] Snax#3268
Transactions are taking hours on the testnet right now. Any idea why?


[07/16/2021 10:54 AM] MrStahlfelge#0042
probably same problem with difficulty again!


[07/16/2021 6:09 PM] scalahub#2618
Proof bytes must be generated by the ergo node or Appkit after supplying the secrets (if wallet does not know them). Extension is context extension, which are essentially variables defined by the spender of the box


[07/17/2021 12:00 AM] stryke23x#4945
I'm not sure where to ask this exactly, but once someone was to create a token, where can these tokens be sold then?  Is there something like PancakeSwap on Ergo network that allows people to buy and sell tokens?


[07/17/2021 12:21 AM] Snax#3268
Not yet. There is a decentralized exchange being developed, however. https://ergodex.io/


[07/17/2021 12:22 AM] Snax#3268
there are auction sites, however


[07/17/2021 12:22 AM] Snax#3268
so NFTs can be bought and sold


[07/17/2021 1:09 AM] Snax#3268
is the "proofBytes" variable only required if the box requires secrets to be spent? Like, if the script protecting the box being spent does not require knowledge of a private key, can you just not include it?


[07/17/2021 1:49 AM] Snax#3268
I am trying to generate a transaction using /wallet/transaction/generate, but I cannot seem to format it correctly.

```
{
  "requests": [
    {
      "address": "2HQuR46idDZTywHEPK5q8keir2akMxScgEiv75GzbmB1",
      "value": 100000000,
      "registers": {
        "R4": "928b20366943e2afd11ebc0eae2e53a93bf177a4fcf35bcc64d503704e65e202"
      }
    }
  ],
  "fee": 1000000
}
```

The address is the P2S address of the pin lock contract (I am planning on executing this on the testnet). However, when I try to generate a transaction with this request, it gives this error in the response body:

```
{
  "error": 400,
  "reason": "bad.request",
  "detail": "The request content was malformed:\nCan not find suitable decoder: DownArray,DownField(requests)"
}```


[07/17/2021 2:37 AM] Snax#3268
Removing `"R4": "928b20366943e2afd11ebc0eae2e53a93bf177a4fcf35bcc64d503704e65e202"` and executing does not give the error


[07/17/2021 2:39 AM] Snax#3268
but I need R4 to be set


[07/17/2021 2:40 AM] Snax#3268
ohh


[07/17/2021 2:40 AM] Snax#3268
I think the register needs to be 256 bytes


[07/17/2021 2:41 AM] Snax#3268
well... how do I get a blake2b256 hash of something?


[07/17/2021 2:41 AM] Snax#3268
the swagger interface only has a 32 byte hash


[07/17/2021 4:14 AM] Snax#3268
also, what base do I use when supplying it to the request?


[07/17/2021 4:14 AM] Snax#3268
I'm still getting the same error. I have tried using the ergo playground and encoding the hash it in hex, but that doesn't seem to work.


[07/17/2021 6:28 AM] Snax#3268
still struggling with this


[07/17/2021 6:29 AM] Snax#3268
this value:
`100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301`

works for R4, and creates a valid transaction, but `928b20366943e2afd11ebc0eae2e53a93bf177a4fcf35bcc64d503704e65e202` and any 256-byte hashes I create do not.


[07/17/2021 6:33 AM] scalahub#2618
How are you getting above value?


[07/17/2021 6:33 AM] scalahub#2618
Are you also setting type?


[07/17/2021 6:34 AM] scalahub#2618
You need to set the type as `Coll[Byte]`


[07/17/2021 6:37 AM] scalahub#2618
https://kioskweb.org/session/9kUDbkOpsR1z9sjDJRKfDoGYG#kiosk.Env.decodeValue you can check here.  The string `928b20366943e2afd11ebc0eae2e53a93bf177a4fcf35bcc64d503704e65e202` is not a valid encoded value


[07/17/2021 6:39 AM] scalahub#2618
`0e20928b20366943e2afd11ebc0eae2e53a93bf177a4fcf35bcc64d503704e65e202`


[07/17/2021 6:39 AM] scalahub#2618
That's the right encoded value


[07/17/2021 6:42 AM] scalahub#2618
So you need to add 0e to represent Coll[Byte] and then 20 represents the length (32 bytes in hex).


[07/17/2021 6:43 AM] scalahub#2618
It's better to use Appkit for this rather than manually


[07/17/2021 6:45 AM] scalahub#2618
Yes I believe proof bytes should be empty if box does not require secrets


[07/17/2021 6:46 AM] Snax#3268
I got that value by simply hashing the pin and encoding it in base16


[07/17/2021 6:47 AM] Snax#3268
ok, thanks.


[07/17/2021 6:48 AM] scalahub#2618
But if it's just Coll bytes you can simply follow above logic .. for more complex types Appkit is suggested


[07/17/2021 6:48 AM] Snax#3268
alright


[07/17/2021 8:27 AM] Snax#3268
but... the value is not 32 bytes? What if I have a collection of bytes that is a different size, do I need to change it?


[07/17/2021 8:31 AM] scalahub#2618
You encode that in hex and use that instead of 20


[07/17/2021 8:32 AM] Snax#3268
say I wanted to generate a transaction with the hex value "74657374" in one of it's registers as a collection of bytes. What would that look like.


[07/17/2021 8:33 AM] Snax#3268
would I add the prefix "0e20"


[07/17/2021 8:35 AM] Snax#3268
but "928b20366943e2afd11ebc0eae2e53a93bf177a4fcf35bcc64d503704e65e202" is not 32 bytes, and you used the prefix 0x20.


[07/17/2021 8:35 AM] scalahub#2618
you can try setting different values in kioskweb (its just a wrapper on appkit) 

set value -> https://kioskweb.org/session/qHbwNfeISNQiAXIpHZzWeRGwd#kiosk.Env.setCollByte
read encoded value -> https://kioskweb.org/session/qHbwNfeISNQiAXIpHZzWeRGwd#kiosk.Env.getAll


[07/17/2021 8:36 AM] scalahub#2618
output of hash is 32 bytes (blake2b256)


[07/17/2021 8:36 AM] Snax#3268
thank you, that's exactly what I needed

{Reactions}
üëç 

[07/17/2021 8:38 AM] Snax#3268
```{
  "error": 400,
  "reason": "bad.request",
  "detail": "Bad request List(PaymentRequest(3WvuVLaBtRUVZdZ9JEuBQDfKE42SSQbjfEYZKcccTFMpFGSwcLqx,59998000000,List(),Map(R4 -> ConstantNode(Coll(116,101,115,116),Coll[SByte$]))), PaymentRequest(Bf1X9JgQTUtgntaepHNF5tbnwto2VpaRo1NkEq3SowNF6Mpv9R9g5kYmRpCXxBkuoZCMmyZNTpVMNyjKJKQ3VYf8T3JyZ724at6VGi6aUq1VyyeHucC7hxnVmCeDCZ3aHtrzVcrCjtqmE6LrPuZ9n3,1000000,List(),Map())). requirement failed: Not enough bytes in the buffer: 32"
}``` I got this error when attempting to generate this transaction:

```{
  "requests": [
    {
      "address": "3WvuVLaBtRUVZdZ9JEuBQDfKE42SSQbjfEYZKcccTFMpFGSwcLqx",
      "value": 59998000000,
      "registers": {
        "R4": "0e0474657374"
      }
    }
  ],
  "fee": 1000000,
  "inputsRaw": [
    "a26dad1ed1fa5ba1db60be24132861da488c6be62b317001cbf0f76adb76172f",
    "06fa631cbcf2c2d9bc07489f3dd538481d8b0421a77442486fc6fd5ace29cad5"
  ]
}
```


[07/17/2021 8:38 AM] Snax#3268
@scalahub


[07/17/2021 8:41 AM] scalahub#2618
does it work if you set R4 to some 32 byte value?


[07/17/2021 8:41 AM] scalahub#2618
and if you remove `inputsRaw`


[07/17/2021 8:42 AM] Snax#3268
if I remove `inputsRaw` it works, but I intend to spend a box protected by a contract.


[07/17/2021 8:42 AM] Snax#3268
so I need to provide it's ID explicitly, I think


[07/17/2021 8:43 AM] scalahub#2618
yes so its an issue with inputs raw then, not with coll byte


[07/17/2021 8:43 AM] Snax#3268
yeah


[07/17/2021 8:43 AM] scalahub#2618
you need to provide entire bytes


[07/17/2021 8:43 AM] scalahub#2618
sorry I missed that üôÇ


[07/17/2021 8:43 AM] Snax#3268
entire bytes?


[07/17/2021 8:44 AM] scalahub#2618
http://localhost:9053/swagger#/utxo/getBoxById


[07/17/2021 8:44 AM] scalahub#2618
yes


[07/17/2021 8:44 AM] Snax#3268
ohhh, thanks again


[07/17/2021 8:44 AM] scalahub#2618
from the documentation
```inputsRaw    [
List of inputs to be used in serialized form

string
hex-encoded serialized box byte```


[07/17/2021 8:44 AM] Snax#3268
where can I find that documentation


[07/17/2021 8:45 AM] scalahub#2618
not boxId but box


[07/17/2021 8:45 AM] scalahub#2618
for schema, go to swagger and click on "schema"


[07/17/2021 8:46 AM] scalahub#2618
http://localhost:9053/swagger#/wallet/walletTransactionGenerate


[07/17/2021 8:46 AM] scalahub#2618
(replace localhost with actual node ip)


[07/17/2021 8:48 AM] scalahub#2618
for getting the encoded value you actually must use this endpoint -> `swagger#/utxo/getBoxByIdBinary` not the one I mentioned above.. that one gives in JSON


[07/17/2021 8:49 AM] Snax#3268
yeah, I figured. Thanks so much for the help!


[07/17/2021 8:50 AM] Snax#3268
I have managed to create a box protected by the pin lock script and then spend it... It's a start!

{Reactions}
ergo_white üòç 

[07/17/2021 8:51 AM] scalahub#2618
awesome.. the rest is pretty simple.. its the first tx thats tricky


[07/17/2021 9:10 AM] Snax#3268
do you know if there is an ERG-USD oracle pool on the testnet right now?


[07/17/2021 10:01 AM] zargarzadehmoein#2928
No there is not


[07/17/2021 6:32 PM] mikeymop#0369
Hello I am looking for help trying to build yoroi-mobile is this a good chat to find support?


[07/17/2021 6:33 PM] mikeymop#0369
I am having issues with the rust portion of the toolchain

```
Building "react-native-haskell-shelley" for "x86_64-apple-ios"
error: failed to load source for a dependency on `cardano-serialization-lib`

Caused by:
  Unable to update https://github.com/Emurgo/cardano-serialization-lib.git#0e89dead

Caused by:
  failed to update submodule `binaryen`

Caused by:
  failed to fetch submodule `binaryen` from git@github.com:WebAssembly/binaryen.git

Caused by:
  failed to authenticate when downloading repository
attempted ssh-agent authentication, but none of the usernames `git` succeeded
```


[07/17/2021 6:57 PM] mikeymop#0369
Do we need to request special access or join a github org in order to access these repos?


[07/18/2021 3:37 AM] Snax#3268
```{
  "requests": [
    {
  "address" : "foxVymK6iXrfT5KPV63NWMeZbFXLYx9vvL5j5sbdyY2bfk8ETDUPrwc3mi1bEqAwKNTWoMxvvDYSjYWhoZv58qTMzuoHWZ63v39VxL5at45iyDkERUSvVSe9WUYY6Q8DsQGbRVj1ufTj5rsSLP3LLy3Tm9VyCh7H28daRWJqBmMpbS955SQgzytcRizQYx39isv2FfXZbmdsdXznRySPpuZTXcGAfidf45p3bHFNNgkLCj3YuGH2d8f7o8R6pnwRFy4NvbAKWzKfZ47VqPUovyNb2y35ajYCHdYMo7GYo2r6kNGeywWvw8rnJw2MycHL17DJ6VZPMjmEu8HneU4mzyYZj1uaFxDdLw7uXFNJWCkJCv67gWAmnSZqm93QQZPaB93LNyFfgVyGorxb9CtRej2KPvnkRTewzFy4hAqMMeqJRCdnC8fASMV8UUZRxoJqxn5QCGLU9oV8gvi7Xde8s1a21taWsfHhZd8yuXcTCEHtJJPpYnDgsW4La8v5MePUNHcynMiKj52NAmEdRKuAKVNNbSUwbmTXMesHtLASjxLK5Ap9xnGzn64PnGeRgbzEXf6N5c5e3KeER4h9gwzpwj8njbm3Q5BUFLNTiCJB7QwLLj6t1zTjGB1YAkvRpcJBAn9DjAcAZQCTa8iUqbnRTGZiBF6JGW7tKoVA1enxCSf7YBsVRHHHzMsEhYRTnmqrn2Zo9DFQb9Uk7XoNmc37trxqnYa655nX2WT6a2wsktdquh1fg6TpMEJ8rfgno8NY3SijJj8A5N6YFi2FS51wzbWBxWMZy8uLJKvMBhP7RjPPxCgSWJ1xA3aBa8Hp8jb1ihwQkaYhKhw7R2MdY9W1PJwZjwjxTC8ZjTqkqpAADj1hXe5SB9JLX46YofvG2g6aCxj7NMTWU8pzY3nRuJ",
  "value" : 1000000,
  "assets" : [ {
    "tokenId" : "13949aeb6066b4d80583d4e9c4993e8120ac6fc166d96586ed8a59c71be7738d",
    "amount" : 10000000000000
  }, {
    "tokenId" : "bb94791369c19076dd2bdbf72e7e46cc35971b0c377e797027b23343a33b284b",
    "amount" : 10000000000000
  }, {
    "tokenId" : "08170c56930c8e1b082748d071ac78a96cd951287715d0b0ab2c391207f24b05",
    "amount" : 1
  } ],
  "registers" : {
 "R4": "0500",
 "R5": "0500" }
}
  ],
  "fee": 1000000
}
```

this /wallet/transaction/generaterequest gives this error:

```    Error: Bad Request
Response body
Download
{
  "error": 400,
  "reason": "bad.request",
  "detail": "The request content was malformed:\nCan not find suitable decoder: DownArray,DownField(requests)"
}```
the address is the bank script of an ageUSD instance. If I change it to my wallet's own address, the transaction sends just fine.


[07/18/2021 3:38 AM] Snax#3268
this is the result from the script's compilation

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/866146915779739648/message.txt


[07/18/2021 3:41 AM] Snax#3268
there is apparently something wrong with that address, but I can't tell what.


[07/18/2021 3:41 AM] Snax#3268
I get the same address when I run that ergoTree through kiosk's ergotree to address api


[07/18/2021 12:59 PM] scalahub#2618
Are you by any chance mixing mainnet and testnet addresses?


[07/18/2021 1:01 PM] Snax#3268
Wdym, do contracts compile to different addresses on testnet or something?


[07/18/2021 1:02 PM] scalahub#2618
Yes address encoding also contains network type


[07/18/2021 1:02 PM] scalahub#2618
Kiosk only supports mainnet and so does ergoscript compiler tool


[07/18/2021 1:03 PM] Snax#3268
So I need to use appkit?


[07/18/2021 1:04 PM] scalahub#2618
How did you compile the address?


[07/18/2021 1:04 PM] Snax#3268
Ergoscriptcompiler tool


[07/18/2021 1:05 PM] scalahub#2618
Ok then maybe just clone the repo and change network type locally or use the node to compile ..or Appkit if nothing else works


[07/18/2021 1:05 PM] Snax#3268
Ok


[07/18/2021 1:05 PM] Snax#3268
I built the jarfile, so it shouldn't be too hard to make the changes and rebuild


[07/18/2021 1:06 PM] scalahub#2618
Sure. .. also please try the node swagger api as well. It has an endpoint to compile address


[07/18/2021 1:06 PM] Snax#3268
Hmm


[07/18/2021 1:08 PM] Snax#3268
That doesn't allow for environment variables to be defined, and i compiled with a symbols Json file... I'll write in definitions for them and try that


[07/18/2021 1:48 PM] scalahub#2618
Yes node does not allow environment variables.. they need to be encoded within the script itself


[07/18/2021 5:25 PM] scalahub#2618
If you are using the repo on ergo github, then the network type is set here https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/main/scala/kiosk/appkit/Client.scala#L14

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/kiosk/src/main/scala/kiosk/appkit/Client.scala
ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/uWaGD2e4x9Y0aen7euOXnuOetzXcTxc-83tj-uKZdTE/https/opengraph.githubassets.com/fdcf37a8f3fa0c2dce42d477f85ddc04d421e67e5e9b1cdab2f4b37f6ce1b230/ergoplatform/ergo-jde


[07/18/2021 11:35 PM] Snax#3268
the swagger API has an ergotree to address method which I didn't think to test before. It creates the right kind of address for it's network type. I think that will be my go-to method for making addresses on the testnet.

{Reactions}
üíØ (2) 

[07/18/2021 11:35 PM] Snax#3268
Thanks so much for your help!

{Reactions}
üëç (2) 

[07/19/2021 1:39 PM] Snax#3268
Is it possible to create a loop of contracts, where X can only be spent to create a box protected by Y, and Y can only be spent to create X?
It doesn't seem possible, because the only means of verifying contract X is used to create a box protected by Y is by comparing the bytes of the script of the output box to the bytes of contract Y, which would be different depending on the bytes of contract X which are dependent on the bytes of contract Y and so on.


[07/19/2021 1:42 PM] Snax#3268
I guess you could do something like requiring that the output box contains a copy of the bytes of the input box's contract (unless it is created by a wallet), and then comparing against that down the line.


[07/19/2021 1:44 PM] Snax#3268
I guess what I'm asking is if there is a really clean way of doing this


[07/19/2021 1:49 PM] scalahub#2618
It's possible. These are called circular references


[07/19/2021 1:51 PM] scalahub#2618
https://www.ergoforum.org/t/a-perpetual-token/205/9?u=scalahub

{Embed}
https://www.ergoforum.org/t/a-perpetual-token/205/9?u=scalahub
A perpetual token
In multi-stage protocols, one script refers to the script of the next stage (example in script1, we have the statement hash(OUTPUTS(0).propositionBytes) == script2Hash).  But suppose we also want the script2 to refer back to script1, (example we want hash(OUTPUTS(0).propositionBytes) == script1Hash), then its a cyclic reference.  One solution is...


[07/19/2021 2:19 PM] Snax#3268
ok


[07/19/2021 2:19 PM] Snax#3268
cool, so it does use registers


[07/20/2021 12:54 AM] abchris#8522
What does it mean for a box to have its mainnet attribute set to false?


[07/20/2021 4:16 AM] ProSavage#7131
do nonces work the same way that they do in bitcoin?

I have been trying to understand this stuff for a while.

Is the mining solution something like taking the "seal_hash" or whatever and then adding random nonces to it in hopes of producing the right result?

Is the right result the "pk" that /mining/candidate gives?


[07/20/2021 6:55 PM] ProSavage#7131


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867102491812036628/unknown.png


[07/20/2021 11:46 PM] kushti#0978
Nonces are working like in Bitcoin, yes


[07/20/2021 11:47 PM] kushti#0978
Not sure I've got other questions


[07/20/2021 11:47 PM] kushti#0978
@Snax please feel free to do an article or a video reflecting your experience


[07/20/2021 11:48 PM] Snax#3268
Just my general experience with using Ergo?


[07/20/2021 11:48 PM] Snax#3268
Yeah, I see how that could be useful


[07/20/2021 11:50 PM] Snax#3268
I will write something up, I think a guide going through the exact hangups I had would definitely help people similar to me figure this out. There isn't much documentation about a lot of this stuff, and if there is, it isn't easy to find.

{Reactions}
ü§© (2) 

[07/21/2021 12:42 AM] ProSavage#7131
I‚Äôve been trying to build a pool software for ergo. But it‚Äôs hard to google stuff for ergo specifically.

Is there anyways you can give me an example of how gpus work when mining? 

I understand in BTC they have a target value to find, and try every input combo and apply sha256 until they find the right one, and in ergo they apply blake2


[07/21/2021 12:42 AM] ProSavage#7131
But how do shares work? Like I found that if they get the partial answer then it‚Äôs considered a share as proof ur working on the block....


[07/21/2021 12:42 AM] ProSavage#7131
So a lower difficulty problem is essentially the same problem just that you can give a smaller partial solution.


[07/21/2021 12:43 AM] ProSavage#7131
But I need an example in the sense of ergo from someone like If you could choose a random block height, and show me what values to look at and how a miner would‚Äôve solved it


[07/21/2021 8:30 AM] ProSavage#7131
How do I make my own chain and genesis block to test mining?


[07/21/2021 10:04 AM] Snax#3268
My oracle running on the testnet is having trouble finding the epoch_prep box of an oracle pool I bootstrapped on there. 

I get this when I run the oracle:

```
========================================================
Current Blockheight: 35398
Current Tx Base Fee: 1000000
Pool Posting Schedule: 10 Blocks
Oracle Pool NFT ID: 167bdeb749473a878f2dbc89117463ba8352b7802d5618da8ee0b06cd9307d08
========================================================
Pool Deposits State
--------------------
Number Of Deposit Boxes: 0
Total nanoErgs In Deposit Boxes: 0
Failed to find Epoch Preparation Box or Live Epoch Box.
========================================================

Oracle Datapoint State
--------------------
Your Latest Datapoint: 1
Datapoint Origin Epoch ID: 01
Submitted At: 35373
========================================================
```

I have triple checked that the box exists (https://testnet.ergoplatform.com/en/addresses/4SUiGd9pVLJpti1tmtJuR9QtUeLnFHfMduDSGtNMRtxPtHTVMSr6kc7s2JnDXdPNeKppA835sNeGrtR8GHk5LSpSEpS5Apdz8XcbbvU5ygFm1gT23yvxwy2FbXc8ZxFUWd3TbknhWA5muyf8wRhbyMxPbK3mMPb7DrKmRmdWTj897SvHuffg2eA55UUmJr5YrpffunfHLmGCoQLEZAhbwGpEr2PLR5s9mQBGGLX9BxFXe2wTAukaH7UmanhD7MxXeqY2fxARzfijmS3fQXkkV2idWx2xELJHGRyPZgHNwVsZqq48Rt8Y3JcUXFccCqJ4tvkryex97ymX5jE5mdCD5xzmibLry1fQG1Rdo55JakzTJ5WFktb3XiDRL1DDW76UAC2LfQke) and contains the oracle pool NFT. 

I made sure I'm using the right port for my testnet node, but IDK what I should use for `core_api_port`, which by default is 9010. Is this different on the testnet?


[07/21/2021 10:04 AM] Snax#3268
I am confused because it seems to be able to see the datapoint state just fine


[07/21/2021 10:16 AM] glasgowm#9381
Isn't it 9052?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867334234918354954/unknown.png


[07/21/2021 10:28 AM] Snax#3268
that's the node, not the oracle core


[07/21/2021 10:28 AM] Snax#3268
or


[07/21/2021 10:28 AM] Snax#3268
whatever it is


[07/21/2021 10:28 AM] Snax#3268
here, one sec


[07/21/2021 10:29 AM] Snax#3268
```#### Core API Parameters ####
# Port which you wish the Oracle Core GET API server to run on.
# Note, the Oracle Core POST API server (to submit datapoints) will be on
# `core_api_port` + 1.
core_api_port: "9010"```


[07/21/2021 10:29 AM] Snax#3268
this is the value i'm talking about


[07/21/2021 10:29 AM] Snax#3268
```# Port that the node is on (default is 9053)
node_port: "9052"```


[07/21/2021 10:29 AM] Snax#3268
this is the node one


[07/21/2021 10:30 AM] Snax#3268
is this even important?


[07/21/2021 10:30 AM] Snax#3268
oh


[07/21/2021 10:30 AM] Snax#3268
wait


[07/21/2021 10:30 AM] Snax#3268
I think I know what that is for


[07/21/2021 10:30 AM] Snax#3268
maybe


[07/21/2021 10:30 AM] Snax#3268
idk


[07/21/2021 10:37 AM] glasgowm#9381
` If an operator runs several oracles in several oracle pools then a single full node can be used, but several instances of oracle cores must be run (and set with different api ports).`

So I assume it's set in the node? or whatever else interacts with the core


[07/21/2021 10:38 AM] Snax#3268
I don't think it's causing the problem


[07/21/2021 10:45 AM] Snax#3268
I would rather not start from scratch and recompile all the contracts with new token IDs, but that might be the only way forward. I will hold off until I get some more input, though.


[07/21/2021 10:45 AM] Snax#3268
I might also try the cli tool for bootstrapping pools


[07/21/2021 10:50 AM] Snax#3268
This is my testnet wallet: https://testnet.ergoplatform.com/en/addresses/3WvuVLaBtRUVZdZ9JEuBQDfKE42SSQbjfEYZKcccTFMpFGSwcLqx

Here are the addresses of my contracts:

live epoch address:
3NzW5gzyiPd6WTPqA4iPP3H2MHZ98EqFJuDw3bL2BKF8135RkQzxFbfFFrLdT7e2ur3X5Z8AoaVU2w78X43PG9m5Cr5Z6GJy5xg63wJE4UfZ7DsGPtNcsSdGz6rB2kDLdx5miSBzKfCTEXViuzR1UfkokDem5UexzAU9eH4Ljz16KAKMEEQv6DVfU8eiPeXqZhELRNoqUhnV32Ku5ymJLGkR1Drn4bSpZgSzAak2pErXRxWr8S65bsHwyrRMX9UfxRaJv95Nunjdu7Dy5kqUvmtKhyCuqe4mPjJr7TiobRCKeGG6TdrfViDt6gbQWr5tvVxa52vxrqa3G29ZxvLpQi7vKiLjeecSoUQUG15vE4j5teVwLNvSwBDMkutaJm7qvuET45uouzr8cGJfj2qn2WxypEPZ7wxPX2Eo7imWRTEHkPLXW4kZUz92btNufkrsQQMAGegPjmdXuW8pqM2zwmK6T85HV9ZbWcHfcH8L7ypCWESeY3329eDbYoismQhRTY2

epoch prep address: 4SUiGd9pVLJpti1tmtJuR9QtUeLnFHfMduDSGtNMRtxPtHTVMSr6kc7s2JnDXdPNeKppA835sNeGrtR8GHk5LSpSEpS5Apdz8XcbbvU5ygFm1gT23yvxwy2FbXc8ZxFUWd3TbknhWA5muyf8wRhbyMxPbK3mMPb7DrKmRmdWTj897SvHuffg2eA55UUmJr5YrpffunfHLmGCoQLEZAhbwGpEr2PLR5s9mQBGGLX9BxFXe2wTAukaH7UmanhD7MxXeqY2fxARzfijmS3fQXkkV2idWx2xELJHGRyPZgHNwVsZqq48Rt8Y3JcUXFccCqJ4tvkryex97ymX5jE5mdCD5xzmibLry1fQG1Rdo55JakzTJ5WFktb3XiDRL1DDW76UAC2LfQke

datapoint:
5YTudmoMErSVX84gReyrvaBK9NbMvrBwS7nPAY8LvBt8m4UFtdkPsnA8k9p56GJcDpEatV6KgY7apUk59912kqfH4PoJTkWHbqDBDkr2oWn1tqCnah2DAfa23oLCX6z8wJSuWtgoDD8pWa1ZmKfzQat8npjKeC1A1xCPAbeLcmQgKu8ta7zR647Yhk3kDnfVjhoddUqX9ptXoF67oPDDFU1Dk7MHUr8o4eG35eDKiKY2rYeEEtifh2Y9V7qGyZ

pool deposit:
79sTifVMZ2iTPNvYUcd2vmRFSTmY3snnFazFPoDAfXgzXmuptVoDBHT6WF1JUfy3bMuTfnKxF9AtTjnE9484djxAdUJ4bP7G2yJYZvG9deF3MPMNEkTtSWKgEfhuPaH7fQUtVSPeoieVEwviFfL5TceGvX4dBjZ2hQBkyWFgNGFdJzkzpLKHKhXxFu5gk6SqwqRMGvq4Je8eXP54nbAQGvdnSjRyk1ALWoyRzBe1rfF98JvCP6g


[07/21/2021 10:50 AM] Snax#3268
I am going to make a box protected by pool deposit and see if my oracle can see it


[07/21/2021 2:16 PM] Snax#3268
I think a guide for creating a smart contract and then getting it actually on chain and interacting with it, starting from complete inexperience, would be very useful.


[07/21/2021 2:22 PM] Snax#3268
We have ergoscript by example, which is great for learning the basics of how smart contracts work on a conceptual level, but only skims over what transactions look like, and left me not really knowing where to start.


[07/21/2021 2:44 PM] kushti#0978
yes, how to go from contracts to real transactions on the blockchain is not covered well. Ergo is pretty specific about enforcing developers to move as much efforts as possible offchain


[07/21/2021 2:55 PM] morphic#4133
You can do it using Appkit (if JVM works for you), here is some description how to create a transaction https://github.com/ergoplatform/ergo-appkit#using-from-java
Also Raffle project have an example of using Appkit with non-trivial contracts https://github.com/NazeriMahdi2001/Raffle-Doc/blob/master/Contracts/ContractTest.scala

{Embed}
https://github.com/NazeriMahdi2001/Raffle-Doc/blob/master/Contracts/ContractTest.scala
Raffle-Doc/ContractTest.scala at master ¬∑ NazeriMahdi2001/Raffle-Doc
Contribute to NazeriMahdi2001/Raffle-Doc development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/UkMdQkzeG1tStVM3_aen5tfT6Gmnm8DJc-QdinLwt-o/https/opengraph.githubassets.com/efda80c24ddb17f7fea808320392fb61782afa39c607152bb62ee48a16442b76/NazeriMahdi2001/Raffle-Doc

{Embed}
https://github.com/ergoplatform/ergo-appkit
GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot D...
Appkit: A Library for Polyglot Development of Ergo Applications - GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/2G9NiCDltTJujI_pd6MOii719TFlT3hcm__YLfpWTqc/https/opengraph.githubassets.com/7eb7a0fe8f3fb24eaedbabcb4b50583f7be0c7cfbfe2fe07cb93a3ec95981662/ergoplatform/ergo-appkit


[07/21/2021 3:34 PM] QxQNR8uZoO8qWt2S#2163
@mhs_sam im getting -1MH on the AMD_Miner, it does find the device, i tried with my compiled version which compiles just fine, and also with the one uploaded on the releases section on github. any clue why would that be, just a casual rx580 card.


[07/21/2021 3:43 PM] mhs_sam#1471
-1 is due to incomplete calculation of hashrate. let it work for a few minutes and the miner is able to calculate the hashrate


[07/21/2021 3:48 PM] ProSavage#7131
```js
 const coinbaseBuffer = job.serializeCoinbase(extraNonce1Buffer, extraNonce2Buffer);
        const h = BigIntBuffer.toBufferBE(BigInt(job.rpcData.height), 4);
        const i = BigIntuffer.toBufferBE(BigIntBuffer.toBigIntBE(blake2b(coinbaseBuffer).slice(24, 32)) % N(h), 4);
        const e = blake2b(Buffer.concat([
            i,
            h,
            M
        ])).slice(1, 32);
        const J = genIndexes(Buffer.concat([e, coinbaseBuffer]), h).map(item => BigIntBuffer.toBufferBE(BigInt(item), 4));
        const f = J.map(item => BigIntBuffer.toBigIntBE(
            blake2b(
                Buffer.concat([item, h, M])
            ).slice(1, 32)
        )).reduce((a, b) => a + b);

        const fh = BigIntBuffer.toBigIntBE(blake2b(BigIntBuffer.toBufferBE(f, 32)));
        let blockHash = "";
        //Check if share is a block candidate (matched network difficulty)
        if (job.rpcData.b.gte(fh)) {
            // must submit solution
            blockHash = BigIntBuffer.toBufferBE(f, 32)
        } else {
            //Check if share didn't reached the miner's difficulty)
            if ((new BigNumber(job.jobParams[6])).multipliedBy(difficulty).lte(fh)) {
                return shareError([23, 'Low Difficulty share']);
            }
        }
```


[07/21/2021 3:48 PM] ProSavage#7131
does anyone havee an explaination about this part of ErgoStratumPool?
This is from the share submission stuff


[07/21/2021 3:49 PM] ProSavage#7131
I know it verifies it but how do the calculations work? @mhs_sam


[07/21/2021 3:56 PM] ProSavage#7131
@vorujack I see on github you wrote this code


[07/21/2021 4:12 PM] ProSavage#7131
its hard to understand from one letter vairables


[07/21/2021 4:24 PM] QxQNR8uZoO8qWt2S#2163
im sure something is wrong, its not finding a share in 10 minutes, and i think i only once saw it find an invalid one, and the difficulty on the stratum server is pretty low, there should be atleast 10 share sin 10min. the cuda miner finds shares and shows the hashrate properly. should i send u the log somehow ?


[07/21/2021 4:26 PM] QxQNR8uZoO8qWt2S#2163


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867427292553019442/amdminer_log.txt


[07/21/2021 4:26 PM] QxQNR8uZoO8qWt2S#2163
its 4 minutes and there is no change in the -1MH


[07/21/2021 4:47 PM] vorujack#1729
I update this code tob support erg only


[07/21/2021 4:48 PM] vorujack#1729
Base repo is written by another people


[07/21/2021 4:54 PM] ProSavage#7131
yeah that  block of code


[07/21/2021 4:54 PM] ProSavage#7131
that I sent above


[07/21/2021 4:55 PM] ProSavage#7131


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867434511247605850/unknown.png


[07/21/2021 4:55 PM] ProSavage#7131
what is this H, I, E, M J, F stuff?


[07/21/2021 4:55 PM] ProSavage#7131
u wrote this code 6 months ago according to git


[07/21/2021 4:57 PM] vorujack#1729
These parameters defined to autolycos version 2
Please read documentations of it


[07/21/2021 5:23 PM] ProSavage#7131
ahh!


[07/21/2021 5:23 PM] ProSavage#7131
thank you üòÑ


[07/21/2021 11:54 PM] Snax#3268
ok, so the oracle can see all the pool deposit boxes just fine, but not the epoch prep box.


[07/22/2021 2:59 AM] Snax#3268
Does the metadata of the pool token matter?


[07/22/2021 2:59 AM] Snax#3268
This is my epoch prep box

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867586732076957736/unknown.png


[07/22/2021 3:00 AM] Snax#3268
my oracle cannot see it

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867586824150319114/unknown.png


[07/22/2021 3:01 AM] Snax#3268
it can obviously access blockchain info just fine, it can see the pool deposit boxes and it's own datapoint box state.


[07/22/2021 3:02 AM] Snax#3268
but it can't seem to find the prep box


[07/22/2021 3:04 AM] Snax#3268
here is the relevant portion of my oracle_config.yaml file.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867587908252467240/message.txt


[07/22/2021 3:07 AM] Snax#3268
I created the pool token, and all other tokens, using the wallet interface of my full node, rather than submitting an issuance transaction manually. That made it so I couldn't set the metadata to be exactly the same as was prescribed in the oracle pool bootstrap readme.


[07/22/2021 8:26 AM] QxQNR8uZoO8qWt2S#2163
@mhs_sam is there a way to setup height in a single ergo node devnet new blockchain , i am at 33 blocks but height is 0
```/**
  * System parameters which could be readjusted via collective miners decision.
  */
class Parameters(val height: Height,
```
this height im interested in setting from ergo node.conf
 ```"fullHeight": 33,
  "headersHeight": 33,
  "stateVersion": "69907b6c945473ad73578b6626d5bb39c2bdd89d0ece130e2c148a45b423f424",
  "fullBlocksScore": 33,
  "launchTime": 1626938408418,
  "lastSeenMessageTime": 1626938408418,
  "headersScore": 33,
  "parameters": {
    "outputCost": 100,
    "tokenAccessCost": 100,
    "maxBlockCost": 1000000,
    "height": 0,     <--- this here, how can i set it to follow the headersHeight/fullHeight ?
    "maxBlockSize": 524288,
    "dataInputCost": 100,
    "blockVersion": 1,
    "inputCost": 2000,
    "storageFeeFactor": 1250000,
    "minValuePerByte": 360
  },```


[07/22/2021 9:41 AM] Snax#3268
Alright, I have an oracle pool running on the testnet, if anyone needs price data for something.

Pool NFT: 9f322e0b6d989cc2fd472e2e3941c0d9860c06c014a3205401893c43c867229b

LiveEpoch: 4R2mNb6LsbcwYJZxxe7UReTcSzqUMeGUSNbiEc5v1xxj6dthmGoNv6zwjuQXVa6sXitihxxHYEYvmyN56odubeFrNRDuzog4TzJ2CfwGy7vZBLssDmbz5m9NfyQ6xEDb2oXNdchRsY1dautrV2kjCzs23bbPnFkHV4cBb8qLCk77o2HCLz3PvA5iyj3jMMFtBpG7tUdgzWjqpUwiByjaAHLpvoEXwKy4yzh3Q41zXRdXZQQYQNFouJiS4sjiVcS4HPxaTsnnHHP5s3XLqRE8mgMVvM5LmSWCaQMV2izpvFRwcpEg9URVVvUipmQqD1iNsNpvwha3kTNAi8suvBC1HGrgKkPVNe3TbvqRyHEkdTPbkryGhgiP2yMMmdMt3aqeX9TJ3gQpGhWheEsBMXAsKA7YBF9JenH6fHohNHHeTxUvJUAXTTJ7vyi32SxrE6JRwCQapsuz2Nb219NsERSLR4MFRU3hLGPRUWoK4pnzGusUEyPLRRoaRKpn8isk9amLhwts95WQDfYce5sCfVTDWfeRzCG9Mb3x1a72Em64gihPkAgreexLngk92CiL4bN

EpochPrep: 2iLNx4LH4YWgdsqMTbvzS913JeAi3NEdEvKB35urMQSvuBZFs9DPGVeoxgvwKrHVDF6fKc9DgGDxYWLgbSLLgz7KyANUYJVBSHHNsFzuMzx3wnpQ3N5ALSsWnJWqbSvS1s2hjxHQkQ4y2qD3ydc8LRt4zTJRKND2o7E9ZphbYYmU44cSaEwbhe5BiuVGVk71z43bWSNfA8F3Xkz5myDi3gHLBqCyWK2dB679hKw1R6Uqu2EiAxXZuMp4FDdmXQFnRuAqfYXaT68nHXSDgr8wvcg7rYvU4v6UjhFawbmMAzFvjvBqkkxF4n8JpJzpYVvXCW6buda575jfhCWsWPTDzgfSuCSJayE6KJNqexMvRy6tdrNy8y2vGYWJH46yHoFNmeVNbkp9T7e897Q

DataPoint: 5YTudmoMErSVX84gRgWUYHNteNFnVAxpmG7wDYjJ9t15afSqohcYhvQtcpcYnbCc6dA4E3j7BnoKzq1jMa8i7G7LZKFn4pG3z13CyftcunYFWZxktd9oGwhWbry1cM7dAJvoAaHUwWNchtyo9HNyBSm73iapqWoe1omozkjfxt11SvWHSCxoemRYkW7ozBXVu9h1LhxWpFGVHQY4ryxYaMyU3RcXtT5vjAcq7tBVhdd4PRqLwHiyCA2tgGcJyj

Deposit: 79sTifVMYzMErvbkCTizyzXzHG98VcrEPaqn9qwdxw9Y9VR5pX8fGrsNE3kPki7rVLGU3t5cGnhk6KN2gBVFxJVRfRF7aNvLdcSEqTQER9Fuk1ug6oFfTnZh6umACkmpd3uhCXiPwkJNWx3ToZc2sBja5uiBAyXna9jbZiKsD1mmf1Su3NLQdYy83E9UYvsQ8KpGWBmvRchfjPP4MTy9TBRniW2cZdwt2AQnc2hCbiUtug5BwJj


EDIT: I am no longer using this pool, I bootstrapped it with a too-high epoch end height.

{Reactions}
ü•Ç (2) 

[07/22/2021 9:43 AM] Snax#3268
this was mostly a learning exercise


[07/22/2021 11:15 AM] Erazor#9864
@mhs_sam Second time we've got this error from the `submitblock` RPC: Invalid block mined: requirement failed: h(f) < b condition not met


[07/22/2021 11:15 AM] Erazor#9864
It's quite strange as share validation works absolutely reliable for thousands and thousands of shares.


[07/22/2021 11:16 AM] Erazor#9864
Now, I know exactly what the error means. I just don't know how to explain it.


[07/22/2021 2:33 PM] mhs_sam#1471
please send me the logs


[07/22/2021 2:33 PM] ProSavage#7131
Are u using ErgoStratumServer @Erazor


[07/22/2021 2:33 PM] mhs_sam#1471
logs of miner, stratum server, node, and if possible a tcpdump


[07/22/2021 2:34 PM] Erazor#9864
@mhs_sam It's not your code. It's a private implementation but I've also seen it with your node-stratum-pool fork.


[07/22/2021 2:34 PM] ProSavage#7131
If it‚Äôs custom check your math, mine was wrong üòÇ


[07/22/2021 2:35 PM] ProSavage#7131
Did u verify it‚Äôs bigger diff on stratum before submit?


[07/22/2021 2:35 PM] Erazor#9864
It happened with and without a previous stratum diff check.


[07/22/2021 2:36 PM] ProSavage#7131
Damn


[07/22/2021 2:36 PM] mhs_sam#1471
this can happen if you have found a solution but at the time of verification the block is changed


[07/22/2021 2:36 PM] ProSavage#7131
How intensive is the check for the solution verification on the node


[07/22/2021 2:37 PM] Erazor#9864
Interesting. What about the block has changed by then?


[07/22/2021 2:37 PM] ProSavage#7131
Should we just be sending shares at the same time in case


[07/22/2021 2:39 PM] Erazor#9864
I've been in contact with the woolypooly guys and they say they haven't encountered this error, but I have my doubts about that being true.


[07/22/2021 2:47 PM] ProSavage#7131
oh is woolypooly the same algo


[07/22/2021 2:55 PM] Erazor#9864
woolypooly is a pool not a coin


[07/22/2021 9:15 PM] pragmaxim#0778
@Erazor imho this happens when miner submits solution to the node which generated new block candidate in the meantime ... ie. node applied new block and the solution was late


[07/22/2021 9:16 PM] Erazor#9864
@pragmaxim Interesting! thanks


[07/22/2021 9:23 PM] pragmaxim#0778
this happens rarely as miner is eagerly polling for new candidate and it should submit obsolete solution only within the "polling interval"


[07/22/2021 9:24 PM] pragmaxim#0778
ie. the wider the polling interval the higher the chance of this error happening


[07/22/2021 9:25 PM] pragmaxim#0778
if you don't want this error, the miner should poll for new block candidate before submitting the solution ... in order to know it found solution for the current block candidate or for an old one


[07/22/2021 9:28 PM] QxQNR8uZoO8qWt2S#2163
so basically there is no problem with the AMD Miner, its just me that doesnt work for me


[07/22/2021 9:29 PM] QxQNR8uZoO8qWt2S#2163
and there is no way to generate a new block chain for testing with desired difficulty and premined 200 blocks lets say


[07/22/2021 9:29 PM] QxQNR8uZoO8qWt2S#2163
and there is no way to adjust the difficulty


[07/23/2021 2:26 AM] ProSavage#7131
ErgoStratumServer's verification math is super slow


[07/23/2021 2:26 AM] ProSavage#7131
I tried it and it can barely sustain 10 shares a second


[07/23/2021 2:26 AM] ProSavage#7131
is it just javascript's fault?


[07/23/2021 2:27 AM] ProSavage#7131
I even cached whatever I could


[07/23/2021 5:43 AM] ProSavage#7131
check this out, I made it easier to get shares with a higher diff

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/867990211173429268/unknown.png


[07/23/2021 5:43 AM] ProSavage#7131
it cant even keep up with this many


[07/23/2021 5:43 AM] ProSavage#7131
it crashes with 15 shares


[07/23/2021 5:43 AM] ProSavage#7131
I did some caching in my personal implementation of this, but its also written using similar stuff. I got it up to 40 a sec


[07/23/2021 7:04 AM] andee#4722
why would you even want 200 premined blocks?


[07/23/2021 7:05 AM] ProSavage#7131
we want them to make our own test network


[07/23/2021 7:05 AM] ProSavage#7131
so we can mine solo


[07/23/2021 7:05 AM] ProSavage#7131
and test stratum code


[07/23/2021 7:07 AM] andee#4722
well, no need for premined blocks then


[07/23/2021 7:07 AM] ProSavage#7131
external mining not enabled till height 200


[07/23/2021 7:09 AM] andee#4722
where is the code for this? are you saying if you set `useExternalMiner = true` its deactivated until 200 blocks?


[07/23/2021 9:30 AM] QxQNR8uZoO8qWt2S#2163
parameters { height: 0 } in the voting consensus is 0, which crashes the stratum server.


[07/23/2021 11:35 AM] Snax#3268
LiveEpoch: 4R2mNb6LsbcwRzYU48SDUTuX6cZVND9kbaGfpCDjPkDi7XbokRK6xyzcgJy7T4wrFdSsjorVhk2gCpZFCzXZF3YgKiSd5qzkDW5HfLFHoLKiFGkf93FZE1QQR3Z6kymMaWXgoBap5henbdQ6asiEBpHw2gToAVsZ6QKAEj792xgi99vFFiwRh9wxshGUEjgDC3D3W8oq2BuJVjKJzCdnGow5iTBRDqzcJfi2iGfaJ34viUJN4rWvJVdzfWDzMSj1Yj3t67fz6EuXa29Qknbw76sKcLL2kK9ZHbkw2kEdD4fwXRc7PJ8vxhGH5z8zeCQCbdwSmtAqamqTWpS8gKisge3aqSB5dGY1QEXaRRddM4teTJkNkHdt5iCtfdck3YVnx5KfQ9bqV8TmKwVKisAxp6yWMP5rEQ717RjtUa2wmnE1PPPNjyp72Gz3TDSZLWeKrcS7GRPrFToHfYaxbkzE5MB75R4Wz3qxbsmSA7CiAbxE9HqLxM6Mwq63r9fuyKcCTY1DUPmQHfWuJsVeaVa15eZCw63AJHiDH9BiZvjBNMKfwCZoCUeZDfnDAhx1Jbi

EpochPrep: 2iLNx4LH4YWgdsqMTbw4Kv7ZVL7jnUdc95iW6uoDGnUZvVSsXPFiLaUd6heW4EagP7qs7BuLJ9cqam6MSAuikog9TpT3KYeZFpEBBaKQiGMVAcvXA2QYPPK8DVgYoimqXptrPZkRkaAQYc2yEVmjKA1e5dkmki1jT9Yep2viKPycPXwqJ7LwHo5mTQcydjVXHHKzenk3a9v8RvHHTcjEGsiBpbW93gjkhKYCf9wAeYEyVWeVe8zUui12MXnzRJqThumuWLDfYf4okx3SpHsTtx7r1rrDMK1PvFcbWZc7RiDQtPVZAAziMCn7ma7iWXDieg1AQ19EtLMXfF2z9hv3yq6YEfYH7bZhNvwbvFKnhRQ2LV7DWP42DiTDiXu2cQFfzPp7iSqjF3GC3kJ

DataPoint: 5YTudmoMErSVX84gRfBpXLWFYXsoP6n92FZFUyVni971KZUB7dadoC9fLU8WhRX4DWJcT9tEtp7pMBiBbgzaa6boUqpUhvEXgTtKeUzuNXKuR7wsT6Z12xtMG4yBA1LMhhvngX3yHx3kBFYdNHiii9JkyqxN9PxCFk8cfVqomx2rGwqgpEJxtXtPU49CQLpybMQ1zr1yxW7wGpPG6zegH9Ci5LFW5ueaQHMp2dJiTRR7rCREjmge8i5Tb69vB5

Deposit: 79sTifVMYwWB2rPk2LMLfvRj8QLotpDr6pnnpr8vCK5jCcxVKjHfQS5BeZW2MAimrSLjvSjjfukUarEgPJQipLvV4DowdbqwDuyfBysitGMDkvT9de8dBSba5yxPf66mh8RetkrJM6KLGUTfwmUETPn8EQSahFqT1nuxtFYQ4U8ehq78F3KdsUCdB8giRTyLf5mVBF6kP6TF5Cj7rPVX7a4RJyNyfDS8UU3VinqmAUMgyaukQWU

Min pool box value: 14000000
Oracle token: 0a9e42217e69dc3dea110146c7d80ba7a8db1a05c01d998ee58bfc4f78003418
Pool token: 28eef2b36b98eae9369e09ac848a0a51f35911cbd22a15e8844a98964b204b2d


testnet ERG-USD oracle pool (for real this time)

{Reactions}
ergo_white üëçüèª 

[07/23/2021 12:06 PM] Snax#3268
Hey, does anyone know of a trustworthy oracle pool that posts a unix timestamp or a date or something, on mainnet, every day or so?


[07/23/2021 12:09 PM] Snax#3268
I want to have my oracle pool post monthly, as opposed to using height to estimate it...


[07/23/2021 12:11 PM] Snax#3268
it wouldn't be hard to make a connector for it and start my own pool, if there isn't one already, but i'd need funding. I'd need to know people would actually use it


[07/23/2021 2:19 PM] Octopirate#9999
> watching Snax ask questions

0.o


[07/23/2021 2:28 PM] Snax#3268
I don't think I've actually answered any questions yet...


[07/23/2021 2:35 PM] Octopirate#9999
In the SHRMPC serv you answer mine lol


[07/23/2021 2:35 PM] Octopirate#9999
Not very well, but still


[07/23/2021 2:36 PM] Octopirate#9999
:p


[07/23/2021 11:48 PM] kushti#0978
Likely no such pool around


[07/24/2021 3:25 AM] Snax#3268
Do you know if there would be sufficient demand for it to maintain a supply of donations? It's kinda a hard thing to tell, I know, but have other people in the past asked for it?


[07/24/2021 3:34 AM] Snax#3268
It probably wouldn't be sufficient to just make a new connector, rewriting the contracts to not limit the rate of posting by height, and writing an oracle that posts a transaction with the current date every day at midnight GMT would probably be ideal. The pool would post the date only if the majority of oracles posted the same date within 20 blocks or so of each other.


[07/24/2021 4:25 PM] ProSavage#7131
if for example: target * diff_multiplier =
27809980099928674912337561284149121457017963342403507580410936688640

How do u interpret this in GH?


[07/24/2021 4:25 PM] ProSavage#7131
NBMiner will say this diff is 4.14GH


[07/25/2021 11:44 AM] Snax#3268
I am getting this stack trace whenever I try to run my full node... Everything seems to work, except the wallet doesn't accept the API key, and any API methods requiring the API key refuse to validate. I have already tried changing the hash in the config file, and it doesn't fix it.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/868806023375355954/message.txt


[07/25/2021 11:45 AM] Snax#3268
```ergo {
  node {
    mining = false
  }
  networkType = "testnet"
}
scorex {
 restApi {
    # Hex-encoded Blake2b256 hash of an API key. Should be 64-chars long Base16 string.
    apiKeyHash = "22fa4abf14dfd21ae7dc2611f2cfb6785d6b20cc78321bcfb4c9e56163720371"
  }
}
```

this is my config file


[07/25/2021 11:45 AM] Snax#3268
It was working fine just a couple days ago


[07/25/2021 9:57 PM] kushti#0978
Version inconsistency with custom scans, did you change the node version?


[07/25/2021 9:58 PM] kushti#0978
didnt' witness such requests before? Any particular use case you have in mind ?


[07/26/2021 12:13 AM] Snax#3268
yes


[07/26/2021 12:13 AM] Snax#3268
limiting oracle posting by real-world date, for pools which do not need to update very often.


[07/26/2021 1:35 AM] Snax#3268
I updated my node to reference version 4.0.13 and it persists


[07/26/2021 8:34 AM] Snax#3268
still getting the stack trace, but it's very confusing whether it's even the cause of the real problem I'm having


[07/26/2021 8:35 AM] Snax#3268
the wallet always says "bad API key"


[07/26/2021 8:35 AM] Snax#3268
no matter what


[07/26/2021 9:11 AM] Snax#3268


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/869129762780618762/unknown.png


[07/26/2021 2:35 PM] ProSavage#7131


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/869211364160331827/unknown.png


[07/26/2021 2:35 PM] ProSavage#7131
been trying to sync testnet node


[07/26/2021 2:35 PM] ProSavage#7131
but I cant see a height


[07/26/2021 2:35 PM] ProSavage#7131
so I have no clue how close i am


[07/26/2021 2:38 PM] pragmaxim#0778
@ProSavage https://github.com/ergoplatform/ergo/issues/1398


[07/26/2021 5:52 PM] kushti#0978
Can propose to remove wallet/storage and wallet/registry , if you do not have derived keys, then register scans again


[07/26/2021 5:55 PM] kushti#0978
try 127.0.0.1:9052/info to get it


[07/26/2021 5:55 PM] kushti#0978
http://213.239.193.208:9052/info public testnet node info


[07/26/2021 6:35 PM] ProSavage#7131
@kushti we just submitted a valid nonce from the node and got a positive response. for mining a block


[07/26/2021 6:36 PM] ProSavage#7131
but i am trying to find the block on the chain somewhere


[07/26/2021 6:36 PM] ProSavage#7131
is there a way to see our own mined blocks ont he node


[07/26/2021 9:21 PM] ProSavage#7131
I had to reset my wallet so we can keep mining

I have held on the to keystore from the wallet.
I also know the password


[07/26/2021 10:01 PM] Snax#3268
Do you know if this would be causing the API key issue?


[07/27/2021 2:14 AM] Snax#3268
This fixed it, thanks so much! Is this a known issue?


[07/27/2021 2:15 AM] Snax#3268
also, why would this be related to the API key issue?


[07/27/2021 2:15 AM] Snax#3268
very confusing


[07/27/2021 2:15 AM] Snax#3268
the API key issue was also fixed


[07/27/2021 11:51 AM] Snax#3268
I am getting this error when I try to compile the ageUSD instance CLI tool:

```    Updating crates.io index
error: failed to select a version for the requirement `elliptic-curve = "^0.5.0"`
candidate versions found which didn't match: 0.10.5, 0.10.4, 0.10.3, ...
location searched: crates.io index
required by package `ergo-lib v0.5.1`
    ... which is depended on by `ergo-headless-dapp-framework v0.1.11`
    ... which is depended on by `ageusd-cli v0.1.0` ```


[07/27/2021 1:09 PM] greenhat#6562
That's weird. Although 0.5.0 was yanked ( https://crates.io/crates/elliptic-curve/versions ) it should still be available to download for dependencies.


[07/28/2021 9:14 AM] MrStahlfelge#0042
I am looking for a news page or blog entry @kushti wrote after the network problems we experienced some weeks ago. There was a hint that there is an API to retrieve the currently recommended fee amount. I can't find that information again, does anyone have the link?

{Reactions}
‚òùÔ∏è 

[07/28/2021 3:31 PM] MrStahlfelge#0042
Found it - https://www.ergoforum.org/t/network-congestion-on-jul-10th-2021/1945

{Embed}
https://www.ergoforum.org/t/network-congestion-on-jul-10th-2021/1945
Network congestion on Jul, 10th, 2021
On July, 10th, 2021, there was network congestion caused many transactions to stuck in the mempool for many hours with a lot of bad side-effects (oracle pools not updating prices, RSV minting stuck etc).  The anatomy of the issue was as follows:    gate.io exchange started to collect miners dust for many months. Every transaction had 100 inputs....


[07/30/2021 7:29 AM] Snax#3268
the newest version of ergo-lib does not have any issues, but the latest version of ergo-node-interface still depends on an unavaliable version of elliptic-curve.


[07/30/2021 7:39 AM] greenhat#6562
ergo-node-interface lib needs some love. I'll take a look at it next week. Feel free to send PRs, BTW.


[07/30/2021 7:40 AM] Snax#3268
alright.


[08/01/2021 10:05 PM] JOFLITO#9983
Hi, super noob question
I setted up a node and all is working fine


[08/01/2021 10:06 PM] JOFLITO#9983
But I would like to send a transaction to multiple wallets at once


[08/01/2021 10:06 PM] JOFLITO#9983
where could I find information on that?


[08/02/2021 12:00 AM] Snax#3268
There is no way to do this just through the wallet interface, but you use the node API to generate and send a transaction which sends to multiple addresses.


[08/02/2021 12:01 AM] Snax#3268
http://127.0.0.1:9053/swagger#/wallet/walletTransactionGenerate , if you are running a node, will bring you to an interface for the API


[08/02/2021 12:02 AM] Snax#3268
to send to multiple wallets at once, you need to provide this method a list of requests, each formatted in JSON


[08/02/2021 12:02 AM] Snax#3268
```json
    {
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
      "value": 1,
      "assets": [
        {
          "tokenId": "4ab9da11fc216660e974842cc3b7705e62ebb9e0bf5ff78e53f9cd40abadd117",
          "amount": 1000
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    }```


[08/02/2021 12:02 AM] Snax#3268
here is an example of one address


[08/02/2021 12:02 AM] Snax#3268
you can ignore anything except for "address" and "value"


[08/02/2021 12:03 AM] Snax#3268
one moment


[08/02/2021 12:04 AM] JOFLITO#9983
üôå


[08/02/2021 12:04 AM] Snax#3268
```json
{
  "requests": [
    {
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
      "value": 1,
    },
    {
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
      "value": 1,
    },
    {
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
      "value": 1,
    },
  ],
  "fee": 1000000
}

```


[08/02/2021 12:04 AM] Snax#3268
this is the basic structure for a request of what you are looking to do


[08/02/2021 12:05 AM] Snax#3268
"value" is in nanoergs


[08/02/2021 12:05 AM] JOFLITO#9983
thanks man


[08/02/2021 12:05 AM] Snax#3268
so is fee


[08/02/2021 12:05 AM] Snax#3268
np


[08/02/2021 12:05 AM] JOFLITO#9983
I will try to do it


[08/02/2021 12:49 AM] Snax#3268
```rust
            let result = node.wallet_addresses();
            let addresses = result.unwrap();
            let mut to_print = "".to_string();
            for element in addresses.iter() {
                to_print += &format!("{} \n", element);
            }
```


the result from node.wallet_addresses() differs from what I expect.


[08/02/2021 12:51 AM] Snax#3268
it shows there are no addresses, when the API method it calls returns the address just fine when called from swagger.


[08/02/2021 12:54 AM] Snax#3268
```thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: NoAddressesInWallet', src/main.rs:40:36
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```


[08/02/2021 12:55 AM] Snax#3268


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/871541561605910559/unknown.png


[08/02/2021 12:56 AM] Snax#3268
`node` is of struct `NodeInterface` from the crate `ergo_node_interface` (https://docs.rs/ergo-node-interface/0.2.4/src/ergo_node_interface/node_interface.rs.html#61-80)

{Embed}
https://docs.rs/ergo-node-interface/0.2.4/src/ergo_node_interface/node_interface.rs.html
node_interface.rs - source
Source of the Rust file `src/node_interface.rs`.


[08/02/2021 12:57 AM] Snax#3268
```rust
fn get_node_interface() -> NodeInterface {
    // `Node-interface.yaml` setup logic
    if !does_local_config_exist() {
        println!("Could not find local `node-interface.yaml` file.\nCreating said file with basic defaults.\nPlease edit the yaml file and update it with your node parameters to ensure the CLI app can proceed.");
        create_new_local_config_file().ok();
        std::process::exit(0);
    }
    // Error checking reading the local node interface yaml
    if let Err(e) = new_interface_from_local_config() {
        println!(
            "Could not parse local `node-interface.yaml` file.\nError: {:?}",
            e
        );
        std::process::exit(0);
    }
    // Create `NodeInterface`
    new_interface_from_local_config().unwrap()
}
```
I use this function to acquire it


[08/02/2021 12:57 AM] Snax#3268
```yaml
# IP Address of the node (default is local, edit if yours is different)
node_ip: "127.0.0.1"
# Port that the node is on (default is 9053, edit if yours is different)
node_port: "9052"
# API key for the node (edit if yours is different)
node_api_key: "secret_key"
```

this is my node-interface.yaml file (I am on the testnet, don't worry about my secret key)


[08/02/2021 1:01 AM] Snax#3268
```rust
            let mut boxes: String = "".to_string();
            let boxarr = node.unspent_boxes_sorted().unwrap();
            for element in boxarr.iter() {
                boxes += &format!("TxID: {} Value: {} Creation Height: {} \n", base16::encode_lower(&*element.transaction_id.0.0),  element.value.as_u64(), element.creation_height);
            }
            println!("Unspent boxes: \n{}", boxes);
```

this works just fine, though


[08/02/2021 1:01 AM] Snax#3268
which is confusing


[08/02/2021 1:02 AM] Snax#3268


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/871543430675828747/unknown.png


[08/02/2021 1:02 AM] Snax#3268
this means the secret key is correct and the node is configured correctly


[08/02/2021 1:05 AM] Snax#3268
@Octopirate mind taking a look at this?


[08/02/2021 1:11 AM] Octopirate#9999
lemme see


[08/02/2021 1:15 AM] Snax#3268
@glasgowm can you give @Octopirate Community Developer and Shrimpcoin?

{Reactions}
‚úÖ 

[08/02/2021 2:31 AM] Snax#3268
I am pretty sure there is just something wrong with this function


[08/02/2021 2:31 AM] Snax#3268
`node.wallet_addresses()`


[08/02/2021 4:44 AM] ProSavage#7131
Can I use the node API to check if a block is confirmed? if so how?


[08/02/2021 1:50 PM] Octopirate#9999
I‚Äôm gonna get to my town early today, I‚Äôll check out this method in an hour and a half?


[08/02/2021 1:50 PM] Octopirate#9999
No promises, I‚Äôm not that familiar with the source code


[08/02/2021 9:23 PM] Octopirate#9999
for reference: the source code is as follows;


[08/02/2021 9:23 PM] Octopirate#9999
```rust
    /// Get all addresses from the node wallet
    pub fn wallet_addresses(&self) -> Result<Vec<P2PKAddressString>> {
        let endpoint = "/wallet/addresses";
        let res = self.send_get_req(endpoint)?;

        let mut addresses: Vec<String> = vec![];
        for segment in res
            .text()
            .expect("Failed to get addresses from wallet.")
            .split("\"")
        {
            let seg = segment.trim();
            if seg.chars().next().unwrap() == '9' {
                addresses.push(seg.to_string());
            }
        }
        if addresses.len() == 0 {
            return Err(NodeError::NoAddressesInWallet);
        }
        Ok(addresses)
    }
```


[08/02/2021 9:24 PM] Octopirate#9999
as you can see, the address is only pushed ``if seg.chars().next().unwrap() == '9'``


[08/02/2021 9:24 PM] Octopirate#9999
mainnet addresses always start with ``9``


[08/02/2021 9:24 PM] Octopirate#9999
testnet addresses don't


[08/02/2021 9:27 PM] Snax#3268
differences in the mainnet and testnet, and using tools designed for the mainnet on the testnet, has been the cause of a lot of problems for me.


[08/02/2021 10:04 PM] Snax#3268
@Robert K Should the rust Ergo Node Interface be compatible with the testnet? I feel like it should, but I want to make sure there isn't some reason not to before I start submitting PRs that change assumptions of mainnet usage.


[08/03/2021 5:25 AM] bforemanl#8102
I was wondering if there were any open sources for the pool to build off of for Ergo.


[08/03/2021 12:06 PM] Robert K#0722
Sorry, I have no insight into the state of the testnet currently. However I believe that it should not differ for the node interface.


[08/03/2021 5:19 PM] MrStahlfelge#0042
some people have reported issues connecting from the android wallet to the pimary node at 213.239.193.208:9053
Is there a setting on that node preventing connections under certain circumstances? @kushti are you the admin there? should I set another node as default for the app?


[08/03/2021 5:38 PM] zargarzadehmoein#2928
I think in the case of android wallet, it is better to use 4-5 public peers, In this case, if one node does not work, other nodes can be used.


[08/03/2021 5:48 PM] MrStahlfelge#0042
Yes, sure, I'll add a setting to switch the node. But there has to be a default setting, that should be the most reliable node.


[08/03/2021 5:54 PM] zargarzadehmoein#2928
I mean you can put a list of trusted nodes in your wallet by default


[08/03/2021 5:55 PM] zargarzadehmoein#2928
I think any of these peers whose REST API port is public are reliable
https://github.com/ergoplatform/ergo/blob/e68ce6180b13bffb024cf9e26c7c16a7be70a22c/src/main/resources/mainnet.conf#L43


[08/03/2021 5:59 PM] MrStahlfelge#0042
Are they? I don't know for sure.


[08/03/2021 6:14 PM] MrStahlfelge#0042
oh, looks like a general problem. I can't connect as well.


[08/03/2021 6:27 PM] zargarzadehmoein#2928
Basically, these nodes should be more reliable than the others because these are default peers of nodes


[08/03/2021 6:27 PM] zargarzadehmoein#2928
yes


[08/04/2021 10:18 AM] Snax#3268
whenever I try to run a node on the mainnet, after a few hours of downloading blocks and scanning, it always has this fatal error

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/872408189960863764/message.txt


[08/04/2021 10:19 AM] Snax#3268
anyone know what I can do to prevent this? It tells me to resync from genesis, but I've done that like 3 times now.


[08/04/2021 2:46 PM] kushti#0978
What is your environment ?


[08/04/2021 2:46 PM] kushti#0978
Some DB issue


[08/04/2021 10:03 PM] Snax#3268


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/872585497237684314/unknown.png


[08/04/2021 10:03 PM] Snax#3268
I will try to restart in a bit, working on other things rn


[08/04/2021 10:03 PM] Snax#3268
but this was happening even before I last rebooted


[08/04/2021 10:05 PM] Snax#3268
https://testnet.ergoplatform.com/en/transactions/12b80ad6deabb53c3a97d005f0e5cd644cd74078f09378f506841f41ca49b2e1

this transaction has been sitting unconfirmed on the testnet for a few days...


[08/05/2021 11:27 AM] kushti#0978
will check


[08/05/2021 10:48 PM] Marty#4039
Anyone have success running the node docker on ARM bases systems?


[08/06/2021 6:39 AM] Leif Erickson#8939
can someone link or show me a working ergo.conf file for testnet?  I can't get the node to show /panel or /swagger for 4.0.12 and 4.0.13 and tried a few different ways, so hopefully I'm missing a simple conf thingy at this point?  Thanks!


[08/06/2021 6:41 AM] pragmaxim#0778
try port  9052 instead of 9053


[08/06/2021 6:41 AM] Leif Erickson#8939
...and it seems to complain without a hashkey to start, should I just use the default, "hello" hashkey and then replace it later, or can I leave it out?


[08/06/2021 6:43 AM] Leif Erickson#8939
dang


[08/06/2021 6:43 AM] Leif Erickson#8939
that was embarrasingly easy


[08/06/2021 6:43 AM] pragmaxim#0778
`src/main/resources/testnet.conf`


[08/06/2021 8:21 AM] Leif Erickson#8939
Thank you @pragmaxim


[08/06/2021 3:25 PM] kushti#0978
hmm, now confirmed


[08/06/2021 3:26 PM] kushti#0978
maybe it was the only miner during the issue with some specific settings


[08/06/2021 3:54 PM] MrStahlfelge#0042
testnet transactions were not confirmed because I made the same test on testnet that made explorer on mainnet get stuck


[08/06/2021 3:54 PM] MrStahlfelge#0042
it seems some miners have the same problems with such transactions as explorer had


[08/06/2021 5:09 PM] Pgr456#1839
Some additional info even if now too late: I tried to mine the transactions and mined a few blocks with default testnet settings they were not included in my blocks. Maybe someone else mined them with some specific settings @MrStahlfelge


[08/06/2021 5:11 PM] MrStahlfelge#0042
yeah I do also think so.


[08/06/2021 5:11 PM] MrStahlfelge#0042
good to have the testnet running again


[08/06/2021 10:37 PM] YGGDRASIL'SON#4138
I used the first exchange listed on your site ergo platform '' BiKi" I thought if it was the first on your list it was serious.
My funds are blocked and no one can transfer ergo for almost 3 days.


[08/06/2021 10:41 PM] YGGDRASIL'SON#4138
are you sure about BiKi ?


[08/06/2021 11:47 PM] Marty#4039
anyone know why the wiki suggests running node with -Xmx3G


[08/06/2021 11:52 PM] Apextheory#6577
@YGGDRASIL'SON Try #‚ùì‚îÇsupport, this channel is for development.  Never used BiKi....Coinex/TradeOgre seems more common.  We also have new (more mainstream) exchange listings like Kucoin.


[08/06/2021 11:53 PM] Apextheory#6577
And it would be helpful if you provide more info about why your funds are blocked (have you already purchased ERG and are you trying to move it out? Do you meet the minimum withdrawal amount?  Is there a 2-factor withdrawal such as email confirmation?)


[08/06/2021 11:57 PM] Apextheory#6577
https://support.biki.cc/hc/en-us/articles/360015749151-How-to-make-a-withdrawal-  Is your withdrawal in "processing" or "not verified"

{Embed}
https://support.biki.cc/hc/en-us/articles/360015749151-How-to-make-a-withdrawal-
How to make a withdrawal?
Important Notes:
1. Withdraw address (in this example) refers to your USDT deposit address from the opposite platform. Please ensure to select the same network e.g. TRC20 to TRC20 otherwise it ma...
https://images-ext-2.discordapp.net/external/9d4We1D-1tohzHvSMJb9fJPdxbhwKFGNjKeyaYXpZMY/https/theme.zdassets.com/theme_assets/2410377/496df7cbf577758ddd034baeaeac8eefa05d0756.png


[08/07/2021 11:22 AM] pragmaxim#0778
@Marty I think it depends on the kind of JVM and operating system ... I was always able to do a full sync of the node on Linux and openJDK with the `default` which is just 256MB I think ... but there are people with different setup that run out of heap with 2GB


[08/07/2021 12:11 PM] Marty#4039
That flag just limits mem usage to 3gb?


[08/07/2021 12:13 PM] Marty#4039
I only ask because the wiki recommends to use that flag


[08/07/2021 1:43 PM] Nythain#6769
I believe so yes. There was a conversation about it in one of the channels a while back.


[08/07/2021 1:48 PM] Nythain#6769
Quote kushti back in feb
```please add -Xmx3G flag, without it the node may crash with out-of-memory on some platforms and some Java versions (with default garbage collector)```


[08/07/2021 3:47 PM] pragmaxim#0778
always be googling, always üôÇ

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/873578075433091142/Screenshot_from_2021-08-07_16-46-49.png


[08/08/2021 8:29 PM] venoox#1937


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/874011441450090567/unknown.png


[08/08/2021 8:29 PM] venoox#1937
I know pk is public key and n is nonce, but what is w and d?


[08/08/2021 10:10 PM] Apextheory#6577
@venoox  Not an expert, but from the PoW documentation: 
"A Schnorr signature consists of a pair (d, w), where d is an integer and w is (the string encoding of) an elliptic curve group element.
The solution is valid if d has a certain number of leading zeros. "


[08/08/2021 10:13 PM] Apextheory#6577
More detail here (see section 3): https://ergoplatform.org/docs/whitepaper.pdf


[08/09/2021 12:02 AM] BuzzLiteBeer#8676
Getting close to solo mining off of my own node, I have my stratum server running as well as a fully sync'd node, this is the error I am getting now. Anyone have any suggestions? not finding much on google.


[08/09/2021 12:03 AM] BuzzLiteBeer#8676


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/874065213564022844/failedtoparse.jpg


[08/09/2021 12:29 AM] andee#4722
#‚ùì‚îÇmining-support


[08/09/2021 6:59 AM] venoox#1937
Oh I see that since version 2 of Autolykos, those 2 values are the same for every block


[08/09/2021 4:18 PM] weskinner#4666
I'm working on minting the ergnomes but the majority of my transaction don't get confirmed.  Does anyone know why this might happen?  I'm hit the node API route `/wallet/transaction/send` with a 60 second wait between calls.


[08/09/2021 5:15 PM] CryptoMinerOS#1745
I am starting a new node and it keeps on stopping.

```08:17:55.676 DEBUG [tor.default-dispatcher-13] o.e.n.state.UtxoState - Trying to apply full block with header 71f3f7d0616ad085b49931616c5fe18605f5c96a60bc4622897d3c870fa89e3f at height 471921
08:17:56.986 ERROR [Thread-0] org.ergoplatform.ErgoApp - Unexpected shutdown
08:17:56.986 INFO  [Thread-0] org.ergoplatform.ErgoApp - Stopping network services
08:17:59.618 DEBUG [tor.default-dispatcher-14] s.c.n.NetworkController - Looking for a new random connection
08:18:00.972 INFO  [Thread-0] org.ergoplatform.ErgoApp - Stopping actors (incl. block generator)
08:18:02.293 WARN  [shutdownHook2] org.ergoplatform.ErgoApp$ - Terminating Actors
08:18:02.292 INFO  [tor.default-dispatcher-11] s.c.n.NetworkController - Going to shutdown all connections & unbind port
```


[08/10/2021 4:01 PM] pragmaxim#0778
@CryptoMinerOS I don't have a clue what this is about as we don't have any logs, but I can improve that tomorrow https://github.com/ergoplatform/ergo/issues/1425

{Reactions}
üëç 

[08/10/2021 10:03 PM] ProSavage#7131
I hit `/wallet/payment/send` and get a transaction id back,

I cannot find how to look up my transaction correctly....

I tried this on swagger:

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/874759773478875227/unknown.png


[08/10/2021 10:03 PM] ProSavage#7131
this is all on testnet, 
I did try sending a payment with a test value on mainnet, and found it's returned id on explorer.ergoplatform.org and that did woerk


[08/10/2021 11:44 PM] ProSavage#7131
@mhs_sam


[08/10/2021 11:58 PM] Snax#3268
testnet.ergoplatform.org/en/transactions/YOUR_ID


[08/10/2021 11:59 PM] ProSavage#7131
No I need to use API


[08/10/2021 11:59 PM] ProSavage#7131
I‚Äôm actually using dev net


[08/10/2021 11:59 PM] ProSavage#7131
So it‚Äôs just my node


[08/10/2021 11:59 PM] Snax#3268
Ah


[08/10/2021 11:59 PM] Snax#3268
I see


[08/10/2021 11:59 PM] ProSavage#7131
Yeah I rlly wanna send payouts


[08/10/2021 11:59 PM] ProSavage#7131
I‚Äôve got 600 ERGO in my pool wallet


[08/11/2021 12:00 AM] ProSavage#7131
But I can‚Äôt just assume it all works


[08/11/2021 12:00 AM] Snax#3268
Yeah


[08/11/2021 12:00 AM] Snax#3268
So you started your own testnet


[08/11/2021 12:00 AM] Snax#3268
There must be an API method to verify a transaction exists


[08/11/2021 12:31 AM] ProSavage#7131
well I cant get it by id


[08/11/2021 12:31 AM] ProSavage#7131
but I found it in unconfirmed transactions


[08/11/2021 12:31 AM] ProSavage#7131
I presume that is why it would not show up before.


[08/11/2021 3:45 AM] angrymoose#7520
I'm trying to get the ergo-assembler running and wonder if anyone has tips. When I run the jar file, I get an error saying "Current active node  is not OK, stopped functioning. Will try to switch..." I'm new to servers so just trying to learn...anyone run into this?


[08/11/2021 2:46 PM] kushti#0978
They were used in Autolykos 1, one-time key, and real target


[08/11/2021 2:47 PM] kushti#0978
/wallet/transactions


[08/11/2021 2:48 PM] kushti#0978
@anon_real ^


[08/11/2021 2:51 PM] anon_real#2768
Are you also running a node?


[08/11/2021 2:52 PM] anon_real#2768
The assembler needs to connect to a running node.


[08/11/2021 11:11 PM] angrymoose#7520
I‚Äôm not but I‚Äôll look into running one now. So once that‚Äôs up and running, just enter in the url, api key, and wallet pass in the application.conf file of the assembler?


[08/12/2021 6:22 AM] Gazza_SP#5835
Is there any reason that a 2 minute block time was chosen? Can this be lowered to speed up exchange confirmations and yoroi P2P transactions? A few of us have noticed that if you sent multiple tokens to people in yoroi, if you send one after another quickly only 1 will go through, the others disappear. To ensure it works, you must wait over 5 minutes between each send from yoroi. If you are sending multiple tokens to a few people it can take an hour to do these transactions.


[08/12/2021 9:35 AM] anon_real#2768
That is right. Please let me know if you encounter any issues.


[08/12/2021 9:42 AM] andee#4722
sounds like there is a need for batched transactions in yoroi


[08/12/2021 9:56 AM] MrStahlfelge#0042
difficult to handle, but the only solution for this


[08/12/2021 10:26 AM] Gazza_SP#5835
Without them yoroi is really lacking, taking an hour to send some tokens to people is a bit much, also newer people will just assume their tokens are being lost, it's an issue that's going to keep popping up now that so many tokens are flying around for the DEX beta testing.


[08/12/2021 12:07 PM] MrStahlfelge#0042
android wallet has the same problem, I planned to work around it just by not letting the user send funds when there are pending transactions hanging. for taking hours, you have to send a lot which is not the usual use case and could be better solved by issuing a transaction with many recipients (like the pool payouts do).


[08/12/2021 12:33 PM] Gazza_SP#5835
Is this option available in yoroi? Or would I have to use the ergo utils airdrop dapp? Also in yoroi, it used to show when a new transaction was pending so you had some indication what was happening but that was removed for some reason, now you just have to wait a few minutes to see if it even worked, I don't understand the logic of removing it, if it's unconfirmed on the Blockchain give us some indication in the wallet.


[08/12/2021 12:42 PM] MrStahlfelge#0042
don't know why they removed it, I plan to add it when Android wallet has a transactions view

{Reactions}
‚ù§Ô∏è 

[08/12/2021 12:43 PM] Gazza_SP#5835
Ahead of the game as always! ‚ò∫Ô∏è

{Reactions}
üòÇ 

[08/12/2021 12:45 PM] MrStahlfelge#0042
for issueing a transaction to many recipients, I doubt a end-user wallet ever will do that. you'll have to write something yourself


[08/12/2021 12:47 PM] Gazza_SP#5835
The airdrop dapp seems to work quite well but it just wasn't as useful for my usecase, I was sending people test tokens and while I was sending more people were DM me their address so I had to do it sequentially, it was a nightmare


[08/12/2021 12:59 PM] MrStahlfelge#0042
sounds like you did work of a cronjob üòÑ

{Reactions}
üòÖ 

[08/12/2021 1:08 PM] Gazza_SP#5835
The worst part was I was never sure if the transaction was even sent, I had to reach out to all of them a number of times to confirm they received them, all the while I was messing with the DEX so I basically spent the day refreshing yoroi üòÇ


[08/12/2021 1:13 PM] MrStahlfelge#0042
yeah yoroi is pretty slow for that, I found viewing ergo explorer directly to be quicker


[08/12/2021 1:15 PM] Gazza_SP#5835
Ya that's how I had to start confirming after awhile, going to my address on the Blockchain and waiting for confirmations. Yoroi should be able to directly access the same information I'm assuming, it's already using the API to send and receive, why can't it display unconfirmed transactions!


[08/12/2021 2:09 PM] MrStahlfelge#0042
explorer has no official api to show unconfirmed, I made an issue because of that


[08/12/2021 2:20 PM] angrymoose#7520
Thanks for the help!


[08/12/2021 4:25 PM] Leif Erickson#8939
Oh the transactions from /block/headerid, how can I tell which is a mining reward?


[08/12/2021 6:48 PM] andee#4722
`/scan/unspentBoxes/9`


[08/13/2021 7:46 AM] Leif Erickson#8939
What does scan 9 mean? I see an array of scans in transactions. If 9 exists, is this a confirmed transaction? Is there documentation on this? Thanks!!


[08/13/2021 7:50 AM] andee#4722
https://www.ergoforum.org/t/q-a-on-mining-for-pool-operators-and-solo-miners/587


[08/13/2021 7:53 AM] Leif Erickson#8939
Oh, perfect, thank you!  Should have asked earlier, would have saved a few hours :) appreciate all the help!


[08/13/2021 8:00 AM] Leif Erickson#8939
So, think its ok to list wallet transactions and match on reward address, or will I miss valid transactions? Sounds like a transaction won't show in wallet if it isn't already confirmed?


[08/13/2021 8:02 AM] Leif Erickson#8939
And, is the same logic true for when I make a payment to a miner? Meaning, once transaction shows in wallet, I can consider valid?


[08/13/2021 8:03 AM] andee#4722
no transactions will show in the wallet without confirmations


[08/13/2021 8:04 AM] andee#4722
you use 9 to check for mining rewards that has not yet gotten 720 confirmations


[08/13/2021 8:04 AM] Leif Erickson#8939
Ok, makes sense. Thanks again for your help


[08/13/2021 8:06 AM] andee#4722
and if I understand it correctly you use 10 as id to check rewards in wallet


[08/13/2021 8:10 AM] Leif Erickson#8939
I've been coding payment processing in Python. Anyone else using python for ergo, or interest? Id like to rewrite more chunks of nomp in Python as a get time... Full time job gets in the way at times :)


[08/13/2021 8:13 AM] andee#4722
python is great, but it can also be really slow ü§î


[08/13/2021 8:15 AM] Leif Erickson#8939
It is on par with node express when configured properly and using reasonable libraries


[08/13/2021 8:16 AM] Leif Erickson#8939
I'm using /wallet/transactions and filtering on scans = 9


[08/13/2021 8:18 AM] Leif Erickson#8939
I typically use python/flask with gunicorn and nginx... Hardware should really be the bottleneck for an app like a stratum pool


[08/13/2021 10:21 AM] MrStahlfelge#0042
could someone switch on mining on testnet? thanks in advance üôÇ

{Reactions}
üëç 

[08/13/2021 12:14 PM] MrStahlfelge#0042
thanks!


[08/13/2021 12:19 PM] MrStahlfelge#0042
when someone needs some tokens to test on testnet, I minted some Fake SigUSD and Fake kushtis


[08/13/2021 12:31 PM] MrStahlfelge#0042
how do you do the mining @zargarzadehmoein ? If there is a public pool address I would love to just start mining myself when I need transactions


[08/13/2021 12:33 PM] zargarzadehmoein#2928
I'm solo mining with my node


[08/13/2021 12:33 PM] MrStahlfelge#0042
without gpu, just cpu mining?


[08/13/2021 12:33 PM] zargarzadehmoein#2928
with GPU


[08/13/2021 12:34 PM] MrStahlfelge#0042
maybe I need to set it up, too. but I have the problem that my ubuntu gets unresponsive with gpu mining turned on somehow


[08/13/2021 1:27 PM] MrStahlfelge#0042
done so far @zargarzadehmoein - when it is just me you can turn off. would be great if I can ping you about it again üôÇ


[08/13/2021 1:32 PM] zargarzadehmoein#2928
It's ok üôÉ

{Reactions}
üí™ 

[08/13/2021 4:48 PM] kushti#0978
Likely Yoroi is not considering mempool, for me it is not even allowing to send when a transaction in the pool


[08/13/2021 4:50 PM] kushti#0978
9 = mining rewards scan. All the boxes protected by mining script are there, spendable 720 blocks and getting mined
10 = wallet scan, simple p2pk transfers


[08/13/2021 8:07 PM] ProSavage#7131
Im using nodejs and my whole pool is custom built.


[08/13/2021 8:08 PM] ProSavage#7131
I basically depend on database queries to do all the heavy lifting for me


[08/13/2021 8:08 PM] ProSavage#7131
python and javascript ARE slow.


[08/13/2021 8:08 PM] Octopirate#9999
> using high-level interpreted languages for payment processing


[08/13/2021 8:08 PM] ProSavage#7131
but in the end you should be using queries for most things anyways


[08/13/2021 8:09 PM] ProSavage#7131
payment processing in terms of pool payouts arent realtime anyways


[08/13/2021 8:09 PM] ProSavage#7131
so technically it can take 1 hour to run


[08/13/2021 8:09 PM] Octopirate#9999
still annoying


[08/13/2021 8:09 PM] ProSavage#7131
yeah its not fast to do the heavy work urself


[08/13/2021 8:09 PM] ProSavage#7131
I just use mongodb's aggregation pipeline


[08/13/2021 8:09 PM] ProSavage#7131
or javascript will take 10 min to loop through them


[08/13/2021 8:09 PM] Octopirate#9999
yeah lmao, any relational db should be faster than js/py


[08/13/2021 8:10 PM] Octopirate#9999
for that kind of work at least


[08/13/2021 8:10 PM] ProSavage#7131
dude


[08/13/2021 8:10 PM] ProSavage#7131
for most kinds of work LOL


[08/13/2021 8:14 PM] ProSavage#7131
yeah most of the data processing is done through mongodb for my pool.
Faster than making a network call to dump every share, then process them vs just getting the db to do heavy work then send computed data.


[08/13/2021 8:26 PM] Leif Erickson#8939
out of curiosity, are you running python native or using a uwsgi server?


[08/13/2021 8:26 PM] ProSavage#7131
aint me


[08/13/2021 8:26 PM] ProSavage#7131
We using javascript


[08/13/2021 8:32 PM] Leif Erickson#8939
I do Azure SQL/Synapse all day, so can't disagree that much of the heavy lifting would work well in a database (probably NOSQL for application like a stratum server, esp. with multiple sites).  But, I just like Python and of course Pandas...if you are struggling with Python speed for data with dataframes, you might consider dask.  I'm not processing a ton right now, but I would expect payments should only take a couple seconds to figure out?!  Anyway, I'll add my script to the TulipFarm project since it's open source and you all can beat up my code, lol...maybe I'm missing something anyway.


[08/13/2021 8:34 PM] Leif Erickson#8939
my goal was to find a quick way to bridge the NOMP redis tracking to the ERGO API, but that's only to get going.  It really needs to be gutted and I may move away from redis only so I can push more logic in to a database...although redis is fast


[08/13/2021 8:42 PM] Leif Erickson#8939
...you know, in a more inclusive sense, I'm actually good with about any language and I'm hoping some of my work will simply help others be able to start their own pool.  If I can carve out something useful in Python (or whatever if someone is really interested) that would help folks get a pool going, I'm down to throw some code üòâ  I have also been doing sql for the last couple decades...and some ML/AI, but I really like the Python/Flask world right now üôÇ


[08/13/2021 8:49 PM] Leif Erickson#8939
...lot of dependencies on performance there.  For a pool with miners in the, "thousands" and a handful of stratum servers?


[08/13/2021 10:44 PM] bk#4411
Does EIP-0012 contain no way to get all the wallet's transactions? (essentially to recreate the tx view a wallet UI would display). I see I could get all the addresses (used/unused) and then hit the explorer API but then I am essentially exposing all the wallet's addresses which doesn't seem great security-wise and seems needless as they all must just be sitting in Yoroi anyway.


[08/14/2021 8:27 AM] Gazza_SP#5835
A previous version of yoroi did show a pending transaction when the transaction was in the mempool but this was removed for some reason. Will we be able to get a fix to allow batched transactions? I think it will be essential since there are so many token transactions happening now!


[08/15/2021 5:28 AM] Snax#3268
> thread 'rocket-worker-thread' panicked at 'attempt to subtract with overflow', /home/snax/.cargo/registry/src/github.com-1ecc6299db9ec823/ergoscript-compiler-0.9.3/src/error.rs:6:35

got this error when trying to use `ergoscript_compiler::compiler::CompileError::pretty_desc()`


[08/15/2021 5:29 AM] Snax#3268
this is my source code:

```rust
#[macro_use] extern crate rocket;
use ergoscript_compiler::script_env::ScriptEnv;
use ergotree_ir::address::{ NetworkPrefix, Address, AddressEncoder};


//compiles provided ergoscript contract to mainnet address
#[post("/compile", data = "<contract>")]
fn compile(contract: &str) -> String{

    let tree = match ergoscript_compiler::compiler::compile(contract, ScriptEnv::default()) {
        Ok(tree)  => tree,
        Err(e) => return e.pretty_desc(contract),
    };

    AddressEncoder::encode_address_as_string(NetworkPrefix::Mainnet, &Address::recreate_from_ergo_tree(&tree).unwrap())
}


#[launch]
fn rocket() -> _ {
    rocket::build().mount("/", routes![compile])
}```


[08/15/2021 5:30 AM] Snax#3268
this panics when I issue the following request: `curl -X POST http://127.0.0.1:8000/compile -d "{ sigmaProp(1 == 1) }"`


[08/15/2021 7:06 AM] Snax#3268
turns out `ergoscript_compiler::compiler::compile(contract, ScriptEnv::default())` throws an error


[08/15/2021 7:06 AM] Snax#3268
```thread 'rocket-worker-thread' panicked at 'called `Result::unwrap()` on an `Err` value: ParseError([ParseError { expected: [ValKw, IntNumber, LongNumber, Ident, Minus, LParen], found: Some(LBrace), span: 0..1 }, ParseError { expected: [Plus, Minus, Star, Slash, RParen], found: Some(Equals), span: 14..15 }, ParseError { expected: [Plus, Minus, Star, Slash, ValKw, IntNumber, LongNumber, Ident, Minus, LParen], found: Some(Equals), span: 15..16 }, ParseError { expected: [Plus, Minus, Star, Slash, ValKw, IntNumber, LongNumber, Ident, Minus, LParen], found: Some(RParen), span: 18..19 }, ParseError { expected: [ValKw, IntNumber, LongNumber, Ident, Minus, LParen], found: Some(RBrace), span: 20..21 }])', src/main.rs:11:87```


[08/16/2021 4:25 PM] weskinner#4666
@greenhat I get this when I try and run a simple nodejs script:
```
‚ûú  ergo-swap git:(master) ‚úó node --experimental-wasm-modules ergoscratch.js
wasm://wasm/0073fa52:1



RuntimeError: unreachable
    at __rust_start_panic (<anonymous>:wasm-function[4886]:0x14de7f)
    at rust_panic (<anonymous>:wasm-function[3763]:0x148c27)
    at std::panicking::rust_panic_with_hook::h03201bc01a0ed891 (<anonymous>:wasm-function[1431]:0x10a8d4)
    at std::panicking::begin_panic::{{closure}}::h1adf1adde72e5f55 (<anonymous>:wasm-function[3727]:0x14863e)
    at std::sys_common::backtrace::__rust_end_short_backtrace::hd6446c59996656e9 (<anonymous>:wasm-function[3593]:0x146f28)
    at std::panicking::begin_panic::h96ffb37c12cf9afb (<anonymous>:wasm-function[3726]:0x148611)
    at line_col::LineColLookup::get::h8dc3bd6883d6df57 (<anonymous>:wasm-function[405]:0xb17c4)
    at ergoscript_compiler::error::pretty_error_desc::hfda52c6b5982aebc (<anonymous>:wasm-function[317]:0xa275f)
    at ergoscript_compiler::compiler::CompileError::pretty_desc::hdb94f1a1f0d95ae3 (<anonymous>:wasm-function[758]:0xdbc30)
    at ergo_lib_wasm::contract::Contract::compile::hbff79ceb45e30998 (<anonymous>:wasm-function[744]:0xda743)
```
script
```
const ergolib = require('ergo-lib-wasm-nodejs/ergo_lib_wasm')

ergolib.Contract.compile("")
```
Any ideas?


[08/16/2021 4:47 PM] weskinner#4666
I'm getting this in the browser too when trying to run Contract.compile()


[08/16/2021 6:25 PM] greenhat#6562
Compiler is not yet implemented. I've done only initial scaffolding in compiler crate.


[08/16/2021 6:26 PM] weskinner#4666
ahh ok gotcha


[08/16/2021 8:48 PM] MrStahlfelge#0042
anyone has an explanation why so many transactions on testnet weren't mined although we have a lot of blocks


[08/16/2021 9:10 PM] weskinner#4666
Are there any tutorials that show how to create a smart contract and then spend it?


[08/17/2021 2:05 AM] weskinner#4666
I'm still trying to figure out why I get a 200 status response and a Transaction ID back from "http://localhost:9052/wallet/transaction/send" but the transaction never shows up in the explorer as Unconfirmed


[08/17/2021 2:32 AM] weskinner#4666
Here is the data I'm posting to my node:
```
{
  requests: [
    {
      description: 'My first smart contract!',
      address: '9hCqMZy97mi5qooyKzEWSJB4dcdCBoY4FRykNrcNy3wqcgZ4ayH',
      value: 1000000
    }
  ],
  inputsRaw: [
    'c0843d10010101d17300f7f621000063713e5eb279d873f22a4d3a0e80185b17311a6e0d532d539cce48bfc7ad879900'
  ]
}
```
The box I'm using in inputsRaw which I created with the simplest ErgoScript "true"
```
{
  boxId: 'd727fcc6d2d50dab3f5dabc8fddfaa3a33f39ac7db9a17416b3dbf9d728871ba',
  value: 1000000,
  ergoTree: '10010101d17300',
  address: '4MQyML64GnzMxZgm',
  assets: [],
  creationHeight: 555895,
  additionalRegisters: {}
}
```
Serialized via `http://localhost:9052/utxo/byIdBinary/${scriptBox.boxId}` to `c0843d10010101d17300f7f621000063713e5eb279d873f22a4d3a0e80185b17311a6e0d532d539cce48bfc7ad879900`
and the result of calling `/generate`
```
{
  id: 'bebaf2ed50ce35b7c17331c25477dca7a24a1a9b86a29e82ced65dd3de1d0b1f',
  inputs: [
    {
      boxId: 'd727fcc6d2d50dab3f5dabc8fddfaa3a33f39ac7db9a17416b3dbf9d728871ba',
      spendingProof: { proofBytes: '', extension: {} }
    }
  ],
  dataInputs: [],
  outputs: [
    {
      boxId: '735ec97033b9c0a34035b764777afab99ad4503b3281234dac22c7d7ba3a37ea',
      value: 1000000,
      ergoTree: '0008cd0361b3affae9988e577fc9003b478b825c46a122bc03e58f08592d13013a861812',
      assets: [],
      creationHeight: 556028,
      additionalRegisters: {},
      transactionId: 'bebaf2ed50ce35b7c17331c25477dca7a24a1a9b86a29e82ced65dd3de1d0b1f',
      index: 0
    }
  ],
  size: 82
}
```


[08/17/2021 2:35 AM] weskinner#4666
Transaction that created this box: https://explorer.ergoplatform.com/en/transactions/63713e5eb279d873f22a4d3a0e80185b17311a6e0d532d539cce48bfc7ad8799


[08/17/2021 7:33 AM] andee#4722
9052 is the port of testnet node


[08/17/2021 1:11 PM] weskinner#4666
I configured my prod node to run on 9052.  Figured out the issue.   I had to set the fee attribute and then I had to add another utxo to inputsRaw.


[08/17/2021 8:57 PM] glasgowm#9381
https://www.reddit.com/r/ergonauts/comments/p63w2r/multisig_wallet_instructions/

{Embed}
https://www.reddit.com/r/ergonauts/comments/p63w2r/multisig_wallet_instructions/
r/ergonauts - Multi-sig Wallet Instructions
7 votes and 0 comments so far on Reddit


[08/18/2021 12:51 AM] anon_br#2282
Hey, guys! 
I'm working on a paper wallet and while writing some unit tests, something caught my attention: Yoroi omits `Parent Fingerprint` field on extended public key. Is there any reason for this?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/877338979320623124/Screenshot_2021-08-17_20.46.15.png


[08/18/2021 12:55 AM] anon_br#2282
The "Expected" one came from Yoroi


[08/18/2021 12:58 PM] anon_br#2282
Also, I don't know if is the right place for ask this question üòÖ


[08/18/2021 2:37 PM] scalahub#2618
this seems fine.. probably also post to #üí≥‚îÉyoroi


[08/18/2021 2:39 PM] anon_br#2282
Ok, thanks!


[08/18/2021 3:15 PM] kushti#0978
Maybe double-spending? You can generate tx with the wallet and use /transactions/check to fully check the tx as mempool does (after accepting tx asynchronously)

{Reactions}
üí° 

[08/18/2021 6:00 PM] scalahub#2618
also make sure node is synced


[08/19/2021 7:53 AM] Leif Erickson#8939
Once a block is mined and before it has enough confirmations to include scan 9, should it show in unconfirmed transactions API on node, or even in wallet with low confirmations? I can't seem to find this on testnet


[08/19/2021 3:53 PM] anon_br#2282
Well, will assume that's not such a big concern and move working on üòâ


[08/20/2021 9:29 PM] angrymoose#7520
@anon_real is the API_key field in application.conf of ergo-assembler looking for the actual key or the hash of the key?


[08/20/2021 9:33 PM] andee#4722
@angrymoose when using ergo-installer.sh its the actual key


[08/21/2021 9:25 AM] anon_real#2768
The actual key. Also, make sure that the node and assembler are on the same network to avoid security issues.


[08/21/2021 6:43 PM] weskinner#4666
```
/// Suggested transaction fee (1100000 nanoERGs, semi-default value used across wallets and dApps as of Oct 2020)
pub const SUGGESTED_TX_FEE: BoxValue = BoxValue(1100000u64);
```
Is there ever a reason to use a higher fee.  Does the fee change with transaction elements?


[08/21/2021 6:58 PM] andee#4722
transaction size and wait time. use `/transactions/getFee`


[08/22/2021 5:39 AM] Vision#9416
Hello, I'm not sure if this is the right place to ask, but I really have been wanting to contribute to Ergo, I know a bunch of CS, but I'm new to blockchain, can someone suggest how I should get started?


[08/22/2021 11:26 AM] glasgowm#9381 (pinned)
A list of resources here. https://github.com/ergoplatform/awesome-ergo

Pathways should be a bit clearer after the next ergohack. Appkit is your most likely starting point. Or ergoscript by example if you want to to dive straight into contracts

{Embed}
https://github.com/ergoplatform/awesome-ergo
GitHub - ergoplatform/awesome-ergo: A curated list of awesome and u...
A curated list of awesome and useful Ergo resources - GitHub - ergoplatform/awesome-ergo: A curated list of awesome and useful Ergo resources
https://images-ext-2.discordapp.net/external/7pmofb0CMQQ0IcghETpu6TTkoHYXsre9k4PT-nSsRnE/https/opengraph.githubassets.com/89e58b7d4c0feaf8eb08f282ea8fe4363407a540072d776187157c360a5badcd/ergoplatform/awesome-ergo

{Reactions}
üíØ 

[08/22/2021 11:26 AM] glasgowm#9381
Pinned a message.


[08/22/2021 11:26 AM] Vision#9416
thanks! much appreciated!


[08/23/2021 2:15 PM] MrStahlfelge#0042
Testnet already has a lot of unmined transactions in mempool, can someone process them? @zargarzadehmoein maybe? üôÇ

{Reactions}
üëç 

[08/23/2021 2:45 PM] MrStahlfelge#0042
thanks, mempool is empty!

{Reactions}
üëç (2) 

[08/25/2021 12:57 AM] BuzzLiteBeer#8676


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/879877205386211360/stratumhealthy.jpeg


[08/25/2021 12:58 AM] BuzzLiteBeer#8676
Any of you know if this stratum server looks healthy?


[08/25/2021 9:30 PM] Leif Erickson#8939
it looks familiar, but a few things different for me...hope this helps?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/880187297469964318/unknown.png


[08/25/2021 9:31 PM] Leif Erickson#8939
I get authorize, shares and block found messages here on testnet ... block every couple mins with something about as powerful as a 3060ti


[08/25/2021 9:32 PM] Leif Erickson#8939
I've gutted the nomp code just to get a minimal system going with @Marty ... it's open source, and I can send the link if you want, just DM me.  We are hoping to wrap up last few changes and go live next week or so


[08/25/2021 9:36 PM] andee#4722
@Leif Erickson seems like there are no new block candidates from polling after the initial on that screenshot?


[08/25/2021 9:47 PM] Marty#4039
@andee I think that's a mainnet example with no miners. We're currently running on testnet


[08/26/2021 1:11 AM] Leif Erickson#8939
I didn't have a miner running...prob bad example


[08/27/2021 11:37 AM] Shepolad#5729
does anyone know a developer who might be interested in developing an ERG smart contract and potential commercial agreement?


[08/27/2021 3:51 PM] glasgowm#9381
I've made #deleted-channel for this so things like this don't get lost. Please tag the @Moderator when something should be added to it

{Reactions}
üëç 

[08/30/2021 2:57 PM] Wolf9466#6211
Any devs around? Was looking for someone to verify the value of a specific prehash entry.


[08/30/2021 2:59 PM] Wolf9466#6211
This should be the very first (0th) 32-byte entry in the prehash table for index 0x1234, and height 0x94ED0.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/881900919728529519/PrehashOut.png


[08/31/2021 9:53 PM] jodafm#6495
hi devs, I want to test the ergo-ts but I could not figure out how to create an ergo account.
can you help me? is there a tutorial?


[09/01/2021 5:46 AM] greenhat#6562
Hey! ergo-ts is very limited feature-wise and outdated. Check out https://github.com/ergoplatform/sigma-rust/tree/develop/bindings/ergo-lib-wasm. I'm not sure what do you mean by ergo account, but assuming that it's a wallet you can check transaction building and signing examples here - https://github.com/ergoplatform/sigma-rust/blob/develop/bindings/ergo-lib-wasm/tests/test_transaction.js

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/develop/bindings/ergo-lib-wasm/tests/test_transaction.js
sigma-rust/test_transaction.js at develop ¬∑ ergoplatform/sigma-rust
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/test_transaction.js at develop ¬∑ ergoplatform/sigma-rust
https://images-ext-1.discordapp.net/external/Lv5AzJyRKrT4Q_9pDGzR12-YrcXKB0wioharEsHsO4o/https/opengraph.githubassets.com/76c9cab2e8e36bc3fb2d1a7855a1ef3215fdbd504efe9bf1ac9292649d9258a9/ergoplatform/sigma-rust


[09/05/2021 4:48 AM] MGpai#4313
what language is ergo contracts written in?


[09/05/2021 11:12 AM] glasgowm#9381
Ergoscript which is based on scala.


[09/05/2021 2:57 PM] weskinner#4666
@greenhat can you tell me what version of the ergo-node you test the latest appkit version against?


[09/05/2021 3:00 PM] greenhat#6562
I have not looked into appkit for a long time. I believe @morphic can help here.


[09/05/2021 3:02 PM] weskinner#4666
Oh whoops I see now he's the author of the freezecoin example.  Thanks bro!


[09/05/2021 3:53 PM] angrymoose#7520
@anon_real does ergo-assembler also act as rest api?


[09/05/2021 6:37 PM] anon_real#2768
Yes, it is all it does.


[09/05/2021 7:11 PM] angrymoose#7520
Ok. I have sigmausd code running on domain. Ergo-assembler running on subdomain. Node synchronized. But transactions aren‚Äôt getting to the assembler. I was wondering if I needed a lambda function or something


[09/05/2021 11:02 PM] Walrus#9577
I sent erg to a script before running the scan and it didn't show up, But the erg i sent after did. Why? And is it gone forever?


[09/05/2021 11:07 PM] Walrus#9577
Also can anyone tell me where can I learn more about the scan and why can't the wallet do it automatically? 

Don't know much. just following the communicating with ergo video


[09/05/2021 11:07 PM] Walrus#9577
All I found about it is the information from improvement proposal 001


[09/06/2021 3:59 AM] Marty#4039
for verifying wallet validity, what are the criteria? 51 chars, starts with 9? do they always start with 9?


[09/06/2021 5:13 AM] andee#4722
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/

{Embed}
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/
Ergo Addresses
In today‚Äôs article, we ‚Ä¶
https://images-ext-1.discordapp.net/external/QJxdCwzrxWhHSmIVn523mq-21UJYJFjFnu0m1tpMIb0/https/ergoplatform.org/img/blog/address.jpg


[09/06/2021 5:27 AM] Marty#4039
Thanks! I found a different blog post that didn't go into this detail


[09/06/2021 5:57 AM] andee#4722
you can also verify using the node, I looked for the source of the validation but my head is spinning


[09/06/2021 5:57 AM] Marty#4039
Lol yeah it's not straightforward if you aren't a cryptographer


[09/06/2021 5:58 AM] Marty#4039
I wanted to write a little script to verify search strings


[09/06/2021 5:59 AM] Marty#4039
I decided it would be easier (and just as good from a UX perspective) to just verify if the address matches one of the workers in the pool


[09/06/2021 6:04 AM] andee#4722
I don't think it's very complicated, but I was unable to find the imports. maybe it gets easier after the sun rises


[09/06/2021 6:14 AM] Marty#4039
I'll come back to it then, good point


[09/06/2021 8:04 AM] MrStahlfelge#0042
verifying addresses is supported by appkit, too, you can look up the code there


[09/06/2021 8:54 AM] qu0b#5843
This endpoint always returns the same response no matter the input, is there a solution for this?


[09/06/2021 8:56 AM] qu0b#5843
and how is the transaction fee calculated, when I try to send a big transaction on testnet and use the /wallet/transaction/generate it ignores the fee I suggest and tells me that the default 1000000 nanoERG is not enough for the transaction size.


[09/06/2021 8:56 AM] qu0b#5843
but when I call the /getFee endpoint it only ever returns 1000000


[09/06/2021 8:57 AM] andee#4722
I don't know, I noticed the same problem


[09/06/2021 8:58 AM] qu0b#5843
Sometimes when I try to send a large transaction on testnet calling /wallet/transaction/send it returns a success with the transaction ID, but the transaction is never added to the unconfirmed pool of tx


[09/06/2021 9:00 AM] qu0b#5843
you should be able to reproduce this trying to send transactions with a high value that requires 100+ UTXOs


[09/06/2021 9:01 AM] qu0b#5843
Once you reach a transaction that is more expensive than the default 1000000 the endpoints just don't work anymore


[09/06/2021 9:03 AM] morphic#4133
Hi, each Appkit release is expected to work with the sigma and node versions mentioned in its title. https://github.com/ergoplatform/ergo-appkit/releases
The current `develop` might use snapshot versions of both sigma and ergo-wallet. See build.sbt file for exact dependencies.
The releases are published here https://mvnrepository.com/artifact/org.ergoplatform/ergo-wallet and here https://mvnrepository.com/artifact/org.scorexfoundation/sigma-state
You can find exact snapshot versions by looking at publishing logs of github actions (https://github.com/ergoplatform/ergo-appkit/runs/3384096142#step:6:10)


[09/06/2021 11:52 AM] kushti#0978
ErgoScript, ErgoScala (subset of scala), ErgoTree (lowlevel)


[09/06/2021 2:42 PM] weskinner#4666
Thank you just wanted to confirm.  I always run into an error with the freezecoin script during proving.  I'll reproduce and post it again.


[09/06/2021 11:23 PM] kushti#0978
Wallet is scanning onwards only, to find ergs sent before the scan call /wallet/rescan endpoint (e.g. via Swagger interface)


[09/06/2021 11:29 PM] kushti#0978
@knizhnik any idea ?


[09/06/2021 11:31 PM] kushti#0978
Likely your tx is about block cost limit , then it is getting into the mempool, but miner is not including it (as along with tx which is collecting fee block cost is exceeding the limit).


[09/07/2021 9:55 AM] ppf#7249
Can someone explain how these transactions are not getting mined and we have empty blocks on testnet? https://testnet.ergoplatform.com/en/mempool


[09/07/2021 10:08 AM] glasgowm#9381
no miners, I've asked foundation to see what they can do it about it going forward


[09/07/2021 10:08 AM] ppf#7249
there are miners, the txs are just not included in blocks


[09/07/2021 10:16 AM] glasgowm#9381
Oh hm


[09/07/2021 10:25 AM] MrStahlfelge#0042
It's like that for weeks. I usually ping @zargarzadehmoein in this case. He has a mining setup that includes all tx. Don't know what the miners on testnet do to not include txs


[09/07/2021 10:26 AM] ppf#7249
we are trying to mine the tx and just use `/mining/candidate`, apparently it does not include these txs


[09/07/2021 10:27 AM] ppf#7249
will do `/mining/candidateWithTxs` now


[09/07/2021 11:42 AM] zargarzadehmoein#2928
@kushti 
Any news about refactor mining?


[09/07/2021 11:51 AM] glasgowm#9381
`API endpoint that displays ONLY 'Total Supply' as a numerical value` <- Do we have this ? Couldn't see it in the v1 api


[09/07/2021 3:43 PM] kushti#0978
Are you mining from 213... node ?


[09/07/2021 3:49 PM] zargarzadehmoein#2928
No i'm mining on 37, but some people (new pools, ...) need to mine with own personal nodes and they have the problem of not mining transactions


[09/07/2021 4:33 PM] MrStahlfelge#0042
what's different on 37 than on personal nodes?


[09/07/2021 8:27 PM] probzzzz#2258
Hey there‚Äôs an account that‚Äôs stolen a lot of my work and is selling them on your platform. Who do I talk to about getting their account/s taken down?


[09/07/2021 9:43 PM] weskinner#4666
Do transaction enter the mempool before or after they are mined?


[09/07/2021 9:44 PM] weskinner#4666
I'm guessing they hang out there until a solution is found and then they are mined into a block?


[09/07/2021 9:52 PM] andee#4722
mempool is transactions waiting to be included in a block


[09/08/2021 7:41 AM] MrStahlfelge#0042
what platform? auctionhouse?


[09/08/2021 7:41 AM] probzzzz#2258
ergoauctions.org


[09/08/2021 7:42 AM] MrStahlfelge#0042
ping @glasgowm


[09/08/2021 7:44 AM] probzzzz#2258
I did, he told me this: It's on a dApp made by an anon developer. There is no copyright claim ability as it's impractical atm. See #auction-house


[09/08/2021 7:45 AM] MrStahlfelge#0042
ah okay. yeah #auction-house is the right channel


[09/08/2021 5:18 PM] olliten#5885
This is a brilliant illustration of how Ethereum works. Is there anything similar for Ergo? Or even Cardano? https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf


[09/09/2021 3:49 AM] abchris#8522
In ErgoScript context, HEIGHT refers to height of the block which is currently validated. Is that the height at which a tx enters the mempool or the height at which a tx is confirmed?


[09/09/2021 5:09 AM] abchris#8522
Found the answer, it's the inclusion height üôÇ


[09/09/2021 5:29 AM] Kaven#6681
where do i look for code/info/examples of minting tokens


[09/09/2021 5:30 AM] Kaven#6681
found this, other suggestions welcome, browsing now


[09/09/2021 5:30 AM] Kaven#6681
https://github.com/anon-real/ErgoUtils/blob/master/src/utils/issueToken.js

{Embed}
https://github.com/anon-real/ErgoUtils/blob/master/src/utils/issueToken.js
ErgoUtils/issueToken.js at master ¬∑ anon-real/ErgoUtils
An app that contains useful utilities to be used by any wallet - ErgoUtils/issueToken.js at master ¬∑ anon-real/ErgoUtils
https://images-ext-2.discordapp.net/external/Av_e7VtnomYXOV8ZXvdKGG8tOvgd_euw8Lft5QOXTb4/https/opengraph.githubassets.com/38a1195a02bdcfe38b9f0273deaadfb7e5bb4f654a79103104e3a71b430068d4/anon-real/ErgoUtils


[09/09/2021 8:04 AM] MrStahlfelge#0042
https://github.com/ergoplatform/ergo-appkit/wiki/Tutorial-starting-with-Appkit-on-Gradle-projects#examples last sentence

{Embed}
https://github.com/ergoplatform/ergo-appkit/wiki/Tutorial-starting-with-Appkit-on-Gradle-projects
Tutorial starting with Appkit on Gradle projects ¬∑ ergoplatform/erg...
Appkit: A Library for Polyglot Development of Ergo Applications - Tutorial starting with Appkit on Gradle projects ¬∑ ergoplatform/ergo-appkit Wiki
https://images-ext-1.discordapp.net/external/4ByP69qkQLK4TkkD1tJ_KEP8C5cK9WoA7laoRakUf1I/https/opengraph.githubassets.com/3dacac13cf47f69107355713d0e4c916e52d1c417287b77613e3a568ccfaccda/ergoplatform/ergo-appkit


[09/09/2021 11:55 AM] pragmaxim#0778
Hi, this is probably common question, but how come that the 255 tokens limit does not pass the MaxBoxSize limit in Tx validation ? : 
```
    val tokens = (0 until 255).map(_ => (Digest32 @@ scorex.util.Random.randomBytes(), Random.nextInt(100000000).toLong))
    val box = testBox(MinBoxValue, TrueLeaf, StartHeight, tokens)
    assert(box.bytes.length <= MaxBoxSize.value)
```
Considering that TokenId size is 32, then it is not possible to serialize 255 tokens under 4096 bytes (max box size)


[09/09/2021 1:21 PM] kushti#0978
Mistake in the client


[09/09/2021 1:37 PM] kushti#0978
@qu0b @ppf @zargarzadehmoein currently there are 2 txs in the mempool with fee script Bf1X9JgQTUtgntaer91B24n6kP8L2kqEiQqNf1z97BKo9UbnW3WRP9VXu8BXd1LsYCiYbHJEdWKxkF5YNx5n7m31wsDjbEuB3B13ZMDVBWkepGmWfGa71otpFViHDCuvbw1uNicAQnfuWfnj8fbCa4 while proper one is Bf1X9JgQTUtgntaepHNF5tbnwto2VpaRo1NkEq3SowNF6Mpv9R9g5kYmRpCXxBkuoZCMmyZNTpVMNyjKJKQ3VYf8T3JyZ724at6VGi6aUq1VyyeHucC7hxnVmCeDCZ3aHtrzVcrCjtqmE6LrPuZ9n3

Bf1X9JgQTUtgntaer91B24n6kP8L2kqEiQqNf1z97BKo9UbnW3WRP9VXu8BXd1LsYCiYbHJEdWKxkF5YNx5n7m31wsDjbEuB3B13ZMDVBWkepGmWfGa71otpFViHDCuvbw1uNicAQnfuWfnj8fbCa4 is corresponding to 720 blocks timelock , while in the testnet the period is reduced to 72 blocks


thus the transactions can only be stored, propagated and mined by nodes with minimalFeeAmount = 0 setting, e.g.

ergo {
  networkType = "testnet"
  
  node {
    mining = true
    minimalFeeAmount = 0
    ...

Like 213... seed node does (but that setting is not default)


[09/09/2021 1:39 PM] qu0b#5843
this is for the testnet?


[09/09/2021 1:39 PM] qu0b#5843
we are currently not mining on the testnet


[09/09/2021 1:40 PM] ppf#7249
i think its about this ^


[09/09/2021 2:11 PM] MrStahlfelge#0042
thanks for the insight. it is my transaction made with appkit, do we need to change something on appkit?


[09/09/2021 2:12 PM] kushti#0978
likely yes, I guess AppKit is just calling ErgoScriptPredef.feeProposition()  ?


[09/09/2021 2:12 PM] kushti#0978
but for testnet should be ErgoScriptPredef.feeProposition(72)


[09/09/2021 2:12 PM] MrStahlfelge#0042
never looked into the code regarding fee, but probably @morphic knows without looking?


[09/09/2021 2:19 PM] MrStahlfelge#0042
ah found it - https://github.com/ergoplatform/ergo-appkit/blob/197a7c724cb7c36a9227a81cfa8626c6f912ffd1/lib-impl/src/main/java/org/ergoplatform/appkit/impl/UnsignedTransactionBuilderImpl.java#L140 - @morphic should I open an issue on appkit?


[09/09/2021 2:21 PM] morphic#4133
Yes, but PR would be even better üôÇ


[09/09/2021 2:22 PM] MrStahlfelge#0042
hehe üòâ
do you know if hardcoding is really needed or might it be included in nodeinfo?


[09/09/2021 2:25 PM] MrStahlfelge#0042
btw, do we already have a way to cancel a transaction? this could be needed in the future


[09/09/2021 2:28 PM] morphic#4133
It is not included now. It probably can be included, but this will require changes in Ergo node as well as updating Appkit REST API client classes.


[09/09/2021 2:29 PM] morphic#4133
I'm not aware of such API method.


[09/09/2021 2:29 PM] MrStahlfelge#0042
okay, I can implement a hardcoded switch for now, but you might want to add this to node in the future. not really important because most likely not subject to change though


[09/09/2021 2:30 PM] MrStahlfelge#0042
I think this is important in the future, afaik bitcoin has a way to do it as well. of course the authorization is a problem.


[09/09/2021 2:35 PM] kushti#0978
@MrStahlfelge @morphic once transaction got by neighbour nodes, there is no really way to cancel it, you can just outbid with another transaction (with some probability)


[09/09/2021 2:37 PM] morphic#4133
The cancel operation can be authenticated/authorized by signing the cancel request with the same signature as the original transaction. This is a bit complicated, so do we really need it?


[09/09/2021 2:37 PM] MrStahlfelge#0042
how does outbid work? higher fee and same input boxes?


[09/09/2021 2:37 PM] MrStahlfelge#0042
probably outbidding is enough


[09/09/2021 2:37 PM] morphic#4133
It can be broadcasted the same way.


[09/09/2021 2:41 PM] morphic#4133
It doesn't give any guarantees, just "best efforts" promise


[09/09/2021 2:47 PM] MrStahlfelge#0042
yeah, outbidding is enough probably. my concern is that when we have a lot of traffic people might have a transaction stuck and want to change the fee setting to get it through. this can be done by outbidding.


[09/09/2021 5:58 PM] kushti#0978
outbidding already works among oracles, and also happened during SigmaUSD wars with the bearwhale


[09/09/2021 6:00 PM] kushti#0978
Same pubkey you mean? There is no such thing as transaction pubkey.


[09/09/2021 6:18 PM] morphic#4133
Yes, I know, so this is not general simple solution, but rather potential pool level optimization. Any secret used to sign inputs can also be used to sign cancel message.


[09/09/2021 7:24 PM] MrStahlfelge#0042
Cool, I will try sending the same tx with the correct fee set. This should work then


[09/10/2021 1:01 AM] sandz#8082
Hey, I have 2 questions I will appreciate it if someone can help me to answer these questions.


1- When a transaction is submitted to the mempool the fee is sending to an address I want to know what is that address and how the miner can collect the fees on the mined block?


2- Is this statement true? If not what is the right form of it? -> "the miner should add a transaction to the block that he is mining that have 'Miners Reward Box' as input and 'Miners Reward Box' as output and a box for collecting the mining reward that corresponds to his address"


[09/10/2021 7:24 AM] Walrus#9577
Where is the code for ergoscript?

I want to read it because I can't find much documentation


[09/10/2021 7:27 AM] Walrus#9577
Also how do I learn/debug this when it's kind of a black box.. I can't just use a print command to see what something is outputing


[09/10/2021 9:34 AM] zargarzadehmoein#2928
This will probably help you :
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md
sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/si...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/sigmastate-interpreter
https://images-ext-2.discordapp.net/external/wCUVhYZC82xSdxu4AhWNyeniYgzPY2UQW-gXS4Ulqrc/https/opengraph.githubassets.com/5e9dbeda2dce845eac4ed4701599b10318b824f5af4b6f84be4dd00a15b99a51/ScorexFoundation/sigmastate-interpreter

{Reactions}
üëç 

[09/10/2021 9:37 AM] Walrus#9577
It did a bit, but it's not detailed enough. For example it says what the classes do but not what they're output looks like and the exact parameters they take in


[09/10/2021 1:47 PM] morphic#4133
ErgoScript language has a compiler to translate source text to ErgoTree bytecode format. ErgoTree is then execute by ErgoTree Interpreter. So, when we talk about contract execution, then it is all about ErgoTree Interpreter. ErgoTree is described here https://ergoplatform.org/docs/ErgoTree.pdf
Do you want to understand the working of the compiler or the interpreter?

{Reactions}
üëç 

[09/10/2021 5:46 PM] kushti#0978
Check https://github.com/ergoplatform/ergo/wiki/ErgoScript-Overview also

{Embed}
https://github.com/ergoplatform/ergo/wiki/ErgoScript-Overview
ErgoScript Overview ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - ErgoScript Overview ¬∑ ergoplatform/ergo Wiki
https://images-ext-2.discordapp.net/external/OifOGa3NzTQ6R5xng4MXFlqqci6ohuwBiNajOtekoOU/https/opengraph.githubassets.com/b1bc6e68c77a0075747d7bd0ccba76f9f739645c573eddaa682e89ca27a02953/ergoplatform/ergo

{Reactions}
üëç 

[09/10/2021 5:51 PM] suryan#4373
if i learn haskell will scala be easy to learn?


[09/10/2021 5:52 PM] kushti#0978
The address is 2iHkR7CWvD1R4j1yZg5bkeDRQavjAaVPeTDFGGLZduHyfWMuYpmhHocX8GJoaieTx78FntzJbCBVL6rf96ocJoZdmWBL2fci7NqWgAirppPQmZ7fN9V6z13Ay6brPriBKYqLp1bT2Fk4FkFLCfdPpe 
for the mainnet. It is time-locking rewards for 720 blocks for the miner's pubkey. Currently reference client (all the miners are using probably) is recognizing this script as fee  script, there're plans to add other options, such as TRUE script just (then no time-locking).


[09/10/2021 5:53 PM] kushti#0978
should be, also it is much more dirty heh


[09/10/2021 5:53 PM] suryan#4373
what is dirty? haskell


[09/10/2021 5:54 PM] kushti#0978
Scala, Haskell is pure


[09/10/2021 6:00 PM] suryan#4373
oo


[09/10/2021 6:00 PM] suryan#4373
cool


[09/10/2021 6:02 PM] sandz#8082
Tnx , do you know how i can find fee script ( i want to understand what it is doing)?


[09/10/2021 6:07 PM] kushti#0978
AND(
      EQ(Height, boxCreationHeight(ByIndex(Outputs, IntConstant(0)))),
      EQ(ExtractScriptBytes(ByIndex(Outputs, IntConstant(0))), expectedMinerOutScriptBytesVal(720, MinerPubkey)),
      EQ(SizeOf(Outputs), 1)
    )


[09/10/2021 6:09 PM] kushti#0978
where expectedMinerOutScriptBytesVal with parameters passed is basically equivalent to 
   SigmaAnd(
      GE(Height, Plus(boxCreationHeight(Self), IntConstant(720))).toSigmaProp,
      SigmaPropConstant(MinerPubkey)
    )


[09/10/2021 6:10 PM] kushti#0978
so fee script basically requiring spending transaction to have one output with is paying to miner pk 720+ blocks after


[09/10/2021 6:11 PM] kushti#0978
the scripts are in ErgoTree, kind of Ergo assembler, not ErgoScript


[09/10/2021 6:11 PM] kushti#0978
(actually ErgoTree is typed abstract syntax tree, not asm)

{Reactions}
üëç 

[09/11/2021 1:28 AM] abchris#8522
So far there are 2 transactions that created ERG out of thin air:

1. The generation tx in block 1, creating 93.4M ERG to be mined.
2. Another tx, included in block 3850, creating the treasury's 4.3M ERG.

https://explorer.ergoplatform.com/en/transactions/4c6282be413c6e300a530618b37790be5f286ded758accc2aebd41554a1be308
https://explorer.ergoplatform.com/en/transactions/e179f12156061c04d375f599bd8aea7ea5e704fab2d95300efb2d87460d60b83

What is the mechanism that prevents another tx to add more ERG in the future?


[09/11/2021 12:54 PM] glasgowm#9381
I'm guessing this is maybe a bug in explorer? @Dmitry Usov @Ilya | Spectrum (or im misunderstanding your question).


[09/11/2021 2:06 PM] Ilya | Spectrum#0494
Bug in explorer

{Reactions}
üôè (3) 

[09/11/2021 10:00 PM] abchris#8522
Thanks. I found it strange that the coinbase didn't contain the full supply (97M) upon creation, as described in this blog post:

https://ergoplatform.org/en/blog/2019_05_20-curve/

Instead, the treasury seems to have been "minted" in a different transaction.
Good to know it's an explorer/chain-grabber bug, but what would the explorer show if this bug wasn't?

The mining rewards from the coinbase have always been 67.5 ERG, so the treasury doesn't seem to come as a % of mining rewards, right? Or is that just the way the explorer shows things for the sake of simplicity.

Relatively new to blockchain and just trying to understand how things work üôÇ

{Embed}
https://ergoplatform.org/en/blog/2019_05_20-curve/
The Ergo Emission Schedule
Overview Ergo‚Äôs native token ‚Ä¶
https://images-ext-2.discordapp.net/external/Wyv44vQEhOS7OLzAZYv7_oA5Qu_hKNLqlfPEeWZ4-KY/https/ergoplatform.org/img/blog/schedule2.jpg


[09/11/2021 10:34 PM] vegycslol#1714
i believe this is explained on page 11 of the whitepaper  (https://ergoplatform.org/docs/whitepaper.pdf), part `Emission`


[09/11/2021 10:47 PM] abchris#8522
Brilliant, thanks a lot üëç

{Reactions}
üëç 

[09/12/2021 12:35 AM] Walrus#9577
How do I get data from other addresses? so instead of SELF.value it's MyPublicKey.value


[09/12/2021 5:20 AM] Walrus#9577
Or someone ElsesPublicKey.value


[09/12/2021 6:56 AM] abchris#8522
In ErgoScript? I believe you can only reference boxes part of the transaction. Through the INPUTS and OUTPUTS context.


[09/12/2021 6:58 AM] Walrus#9577
So how do you interact with an Oracle?


[09/12/2021 3:29 PM] sakata#4279
Hey, when looking to POST to Ergo's API, how is the key supplied? Currently I'm trying to authenticate with the header, i.e.:
`-H "api_key: <key>, Content-Type: application/json"`


[09/12/2021 3:58 PM] andee#4722
this is what I use to unlock `curl -X POST "http://127.0.0.1:$PORT/wallet/unlock" -H "accept: application/json" -H "api_key: $API_KEY" -H "Content-Type: application/json" -d "{\"pass\":\"$WALLET_PASS\"}" 2>/dev/null`

{Reactions}
üòÉ 

[09/12/2021 4:02 PM] sakata#4279
that's great, thank you

{Reactions}
üëç 

[09/12/2021 9:11 PM] abchris#8522
You include it's box as data-input to your tx?


[09/12/2021 9:20 PM] Walrus#9577
How? Do you have to send a transaction to it


[09/12/2021 9:20 PM] Walrus#9577
I'm new to blockchain developing sorry if I'm asking stupid questions


[09/12/2021 10:56 PM] abchris#8522
No worries, I've been asking a lot of stupid stuff in here üôÇ

Your off-chain code needs to prepare a transaction involving all the boxes you need. Your script can reference the oracle box through CONTEXT.datainputs. Have a look at the sigmausd contract: https://github.com/ergoplatform/eips/blob/eip15/eip-0015.md

If this doesn't make sense, go through this first: https://github.com/ergoplatform/ergoscript-by-example

{Embed}
https://github.com/ergoplatform/eips/blob/eip15/eip-0015.md
eips/eip-0015.md at eip15 ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/i5MzV5iW6S2D8R-wRcDJLhFbYfca3HqVfoSPiRLYIJ8/https/opengraph.githubassets.com/1570e2d5d40cf2345a324cc01dd9da8a78ef7f7382bf3b4e217ccab6e7325115/ergoplatform/eips

{Embed}
https://github.com/ergoplatform/ergoscript-by-example
GitHub - ergoplatform/ergoscript-by-example: Learn ErgoScript by re...
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - GitHub - ergoplatform/ergoscript-by-example: Learn ErgoScript by reading example smart contracts powered by Ergo Pl...
https://images-ext-1.discordapp.net/external/YBuCzul6sa9sWx3LogmGEZZGJjKLYFuzgW5-G2T_LC4/https/opengraph.githubassets.com/c1cf8d2f88a4f8e5f762be74a1485dc1f55a1a23f33346dd8d3614cc8a0a809a/ergoplatform/ergoscript-by-example

{Reactions}
ü§ô (2) 

[09/12/2021 11:17 PM] Walrus#9577
Thanks a lot for your help! 

So where is the offchain code for this?


[09/12/2021 11:19 PM] abchris#8522
SigmaUSD: https://github.com/anon-real/sigma-usd
Oracle Pools: https://github.com/ergoplatform/oracle-core/tree/master/src

{Embed}
https://github.com/anon-real/sigma-usd
GitHub - anon-real/sigma-usd: UI for SigmaUSD instance of AgeUSD pr...
UI for SigmaUSD instance of AgeUSD protocol. Contribute to anon-real/sigma-usd development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/Nh-Fq6LQH5VAqIXM9C9OLOvBnbtUrF74z4eQqsWX60g/https/opengraph.githubassets.com/9bdceef34d668587ad5ea7bcc4fe108bc1a9257fe9b648e36b5a994874249664/anon-real/sigma-usd

{Embed}
https://github.com/ergoplatform/oracle-core/tree/master/src
oracle-core/src at master ¬∑ ergoplatform/oracle-core
Core off-chain component of Oracle Pools. Contribute to ergoplatform/oracle-core development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/KDgzC-hXFZRe6jyDb9irpc-gKnxqMVD602hsKAqdez8/https/opengraph.githubassets.com/c733e8fa8f0cf77fb11451fcdb11428af9c30e2317df5e7e8e50f48b9890c477/ergoplatform/oracle-core


[09/12/2021 11:21 PM] Walrus#9577
Yikes that's a lot so I take it an "if price greater than X do Y/be spendable" contract wouldn't be very straightforward


[09/12/2021 11:26 PM] abchris#8522
Well the contract itself would be fairly simple. Thing is, with eutxo, a lot happens off-chain, there‚Äôs no way around that.


[09/12/2021 11:27 PM] Walrus#9577
Is there an off chain guide somewhere?


[09/12/2021 11:35 PM] abchris#8522
If there is one, you'll find it here: https://github.com/ergoplatform/awesome-ergo/blob/master/pages/devs.md#resources

And keep an eye on this one: https://ergohack.io/resources/

{Embed}
ergoplatfrom
https://ergohack.io/resources/
Resources - ERGOHACK II
We've collected all the best bits to get you started with ERGOHACK II
https://images-ext-1.discordapp.net/external/PGRbVXUrXZmmv1xXouZhFEQEEf16WqmvrUPeN92znR0/https/i1.wp.com/ergohack.io/wp-content/uploads/2021/09/e85b-0lweam28292.jpg

{Embed}
https://github.com/ergoplatform/awesome-ergo/blob/master/pages/devs.md
awesome-ergo/devs.md at master ¬∑ ergoplatform/awesome-ergo
A curated list of awesome and useful Ergo resources - awesome-ergo/devs.md at master ¬∑ ergoplatform/awesome-ergo
https://images-ext-1.discordapp.net/external/otz1ry85LhFEV_AtB5lLGn9VKP_r2P-qxmS1DFBllng/https/opengraph.githubassets.com/85895f1eb9bbb5cf50e978f315a0264f1a4257530debac5185d1a87f46473456/ergoplatform/awesome-ergo


[09/13/2021 12:25 AM] Walrus#9577
Ok I found the ergo connector. So I just run that then CONTEXT.dataInputs will suddenly have the data I want or is there some step in between?


[09/13/2021 12:27 AM] Walrus#9577
Wait hang on is what I'm looking at a connector for providing data to the Oracle and not for getting data from it


[09/13/2021 12:28 AM] Walrus#9577
https://github.com/ergoplatform/oracle-core/tree/master/connectors

{Embed}
https://github.com/ergoplatform/oracle-core/tree/master/connectors
oracle-core/connectors at master ¬∑ ergoplatform/oracle-core
Core off-chain component of Oracle Pools. Contribute to ergoplatform/oracle-core development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/KDgzC-hXFZRe6jyDb9irpc-gKnxqMVD602hsKAqdez8/https/opengraph.githubassets.com/c733e8fa8f0cf77fb11451fcdb11428af9c30e2317df5e7e8e50f48b9890c477/ergoplatform/oracle-core


[09/13/2021 12:35 AM] abchris#8522
Yeah, i only linked to this as an example of off-chain code.


[09/13/2021 9:10 AM] sandz#8082
does any one know how to set getVar value in ErgoScript using appkit? @morphic


[09/13/2021 12:46 PM] morphic#4133
Hi, using this method https://github.com/ergoplatform/ergo-appkit/blob/41ce629479779002eccd012cc5309432046d51b8/appkit/src/test/scala/org/ergoplatform/appkit/TxBuilderSpec.scala#L71

{Embed}
https://github.com/ergoplatform/ergo-appkit/blob/41ce629479779002eccd012cc5309432046d51b8/appkit/src/test/scala/org/ergoplatform/appkit/TxBuilderSpec.scala
ergo-appkit/TxBuilderSpec.scala at 41ce629479779002eccd012cc5309432...
Appkit: A Library for Polyglot Development of Ergo Applications - ergo-appkit/TxBuilderSpec.scala at 41ce629479779002eccd012cc5309432046d51b8 ¬∑ ergoplatform/ergo-appkit
https://images-ext-1.discordapp.net/external/xninb3XYeMwD62KKZdXVtzbc9p2xkq2RRaTfHg1nJTU/https/opengraph.githubassets.com/0eddc708c91a8bb1f72e087906aecd50661ca9c16126fa9ee275616a8380f72e/ergoplatform/ergo-appkit

{Reactions}
üëç 

[09/14/2021 11:23 AM] scalahub#2618
Also please refer to this tests https://github.com/scalahub/OraclePool/blob/main/src/test/scala/oraclepool/v2/ContextVarSpec.scala

{Embed}
https://github.com/scalahub/OraclePool/blob/main/src/test/scala/oraclepool/v2/ContextVarSpec.scala
OraclePool/ContextVarSpec.scala at main ¬∑ scalahub/OraclePool
Contribute to scalahub/OraclePool development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/N8GsuH8npbemgfr_7jYBbpkaDwNz7ocGNnutsznSySo/https/opengraph.githubassets.com/f24da643592b5f974d082ee7cc38af7b707b2c8970bd09c98f6c9666753befad/scalahub/OraclePool

{Reactions}
üëç 

[09/14/2021 12:04 PM] kushti#0978
Transactions did not create ergs out of thin air, all the ERGs were put into three pre-genesis UTXOs, explorer does not reflect such inputs correctly it seems

{Reactions}
üí° üëå 

[09/14/2021 12:56 PM] MrStahlfelge#0042
curious, why three?


[09/14/2021 2:57 PM] weskinner#4666
Does ergo support spending UTXOs created in the same block? I thought this was the concept of chained transactions.


[09/14/2021 2:58 PM] weskinner#4666
I get this error when I try to do it: `invalidated. Cause: For every token, its amount in outputs should not exceed its amount in inputs. fa748301ca1dbfe057e6d7bbaeef8cb84f8d466ce48c11bb74caa19a8e6a82ad: Amount in = -1, out = 1. Allowed new asset = ByteArrayWrapper[D8842BD005761656FB1F5607388292A027247D70F7EC6752F4971EB28FDDD100], out = ByteArrayWrapper[28C781AE40529E846D811ACFB7170AF0A25BB2CDC4E904D1EFD6699D082B1844]`


[09/14/2021 4:57 PM] kushti#0978
yes, spending UTXOs from the same block allowed


[09/14/2021 4:58 PM] kushti#0978
are you trying to spend new asset in the same block ?


[09/14/2021 6:08 PM] weskinner#4666
Yes that's right.  Minting 2 different assets in the same block.  For an NFT sales processor.


[09/14/2021 6:12 PM] weskinner#4666
Oh no not spending an asset created from a previous transaction.  Just creating 2 assets in the same block via POST to `/wallet/transaction/send`.  My request looks like:
```
{
          "requests": [
            {
              "address": address,
              "ergValue": 1000000,
              "amount": 1,
              "name": `[SigmaWorlds] Earth Worlds: ${seed}`,
              "description": JSON.stringify(metadata),
              "decimals": 0,
              "registers": {
                "R7": "0e020101",
                "R8": filePathToRegister(result.path),
                "R9": encodeToRegister(url)
              }
            }
          ],
          "fee": 2000000
        }
```


[09/14/2021 6:19 PM] weskinner#4666
Here's another example.  This is the successful transaction: https://explorer.ergoplatform.com/en/transactions/7ba2eb63a31bd1daf67eb30afc107ce6773c411d82e25d86fb56dc4aa19c6ab3 and then I tried to mint another NFT a few seconds later and got: `invalidated. Cause: For every token, its amount in outputs should not exceed its amount in inputs. 157f887f6698d1ba643990b93ea7bb1474918f56a24fcc899a4b0630fb85d685: Amount in = -1, out = 1. Allowed new asset = ByteArrayWrapper[5165884FF23345F374019C86016AE409C9E6E444357DEA5CFF3ED3BF19AC7D97], out = ByteArrayWrapper[870BECF7B15D6345DC746078306CAFA5D05E5B769580DE35BFA9035E6A300179]`

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/887387093591015454/nodeerror.txt


[09/15/2021 5:15 AM] Walrus#9577
@kushti is there somewhere I can learn about how to interact with oracles? I've been trying for days to figure out how to simply get price data with ergoscript


[09/15/2021 7:51 AM] scalahub#2618
You just need to get the pool box defined by the pool addresses, ensure that it has the correct NFT as token #1.. and then read its R4 (Long) to get the rate


[09/15/2021 7:54 AM] Chris Ray#2713
@mhs_sam  would it be ok to DM? I am looking for some help with how to generate random numbers and integrating them on a website.


[09/15/2021 7:56 AM] mhs_sam#1471
sure.


[09/15/2021 11:09 AM] kushti#0978
https://github.com/ergoplatform/ergo/issues/1448 , will check, maybe mempool issue

{Embed}
https://github.com/ergoplatform/ergo/issues/1448
Check spending of tokens created in offchain transaction  ¬∑ Issue #...
Reportedly, spending of a token created in UTXO which is offchain results in: invalidated. Cause: For every token, its amount in outputs should not exceed its amount in inputs. 157f887f6698d1ba6439...
https://images-ext-1.discordapp.net/external/2QJ10OavEWOUqj62C0RoyCNpgocEbxHRrwXHv9kx7A4/https/opengraph.githubassets.com/92a5184d1d87bf3131991f6005e7652ac6b17dd91e3901e646151806cb2ec749/ergoplatform/ergo/issues/1448


[09/15/2021 11:24 AM] kushti#0978
In addition to what @scalahub said, HDF contains example of reading ERG/USD oracle data https://github.com/Emurgo/ergo-headless-dapp-framework

{Embed}
https://github.com/Emurgo/ergo-headless-dapp-framework
GitHub - Emurgo/ergo-headless-dapp-framework: An easy to use framew...
An easy to use framework for building Ergo headless dApps. - GitHub - Emurgo/ergo-headless-dapp-framework: An easy to use framework for building Ergo headless dApps.
https://images-ext-1.discordapp.net/external/6PlRHG8NQLvmU0ML2timrA52K0X3yhkJoWnJ83iyM6I/https/opengraph.githubassets.com/81ab304aa1536249ae8a0e5a01e60e81a093bc1075abc334716095afb734d082/Emurgo/ergo-headless-dapp-framework


[09/15/2021 12:10 PM] Walrus#9577
How do you do that first part? Every script I find just uses CONTEXT.dataInputs(0) and for them that somehow magically knows which Oracle to use but it doesn't work when I put it in the ergo script playground. I assume I'm missing some off chain voodoo Abchir was talking about but I can't seem to find any information about how to do that


[09/15/2021 12:10 PM] Walrus#9577
That looks really cool thanks!


[09/15/2021 12:52 PM] scalahub#2618
Its up to the offchain part to find the right box (we can search by address and then by token). The onchain part just checks that the box indeed has the correct token (NFT)


[09/15/2021 12:54 PM] scalahub#2618
As an example look at this JDE script https://github.com/ergoplatform/ergo-jde/blob/main/sample-scripts/mintReserveCoinAdvanced.json#L27-L28 (oracle address)
and this is the NFT https://github.com/ergoplatform/ergo-jde/blob/main/sample-scripts/mintReserveCoinAdvanced.json#L11

{Embed}
https://github.com/ergoplatform/ergo-jde/blob/main/sample-scripts/mintReserveCoinAdvanced.json
ergo-jde/mintReserveCoinAdvanced.json at main ¬∑ ergoplatform/ergo-jde
Contribute to ergoplatform/ergo-jde development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/QGBuCOfYWDJeXdGbHEzcQG1T3uySDLgb-SDcfCREgTU/https/opengraph.githubassets.com/724b1d42502aeb0edd6b32054240afb5044c803f834e2b2bdcd4337bd7fcd526/ergoplatform/ergo-jde


[09/15/2021 7:57 PM] weskinner#4666
üëç I added steps to reproduce

{Reactions}
üëçüèª 

[09/16/2021 2:56 AM] Walrus#9577
Ok thanks, that example makes sense to me but how would I do that in scala so I can use it in the ErgoScript playground?


[09/16/2021 7:09 AM] Walrus#9577
Wait am I supposed to make a transaction to send to the script in swagger and add the Oracle's address in the dataInput field? Does that mean anyone using an app with a dataInput would need to use Swagger or some other advanced wallet/UI?


[09/16/2021 7:24 PM] Apextheory#6577
I am trying to use https://faucet.ergopool.io/ to get some testnet erg, but I just get "null" back after submitting my address.  address is from a testnet node (starts with 3).

{Embed}
https://faucet.ergopool.io/
Ergo Faucet TestNet
Web site created using create-react-app


[09/16/2021 7:29 PM] andee#4722
@Apextheory I can send you some


[09/16/2021 7:31 PM] Apextheory#6577
ah, great..thank you.


[09/16/2021 7:31 PM] Apextheory#6577
ill send you the address one second


[09/16/2021 10:08 PM] Leif Erickson#8939
Who is a good person to contact for paid work regarding Ergo work (paid crypto or fiat) I have gotten some good suggestions so far and reached out already and I simply wish to focus more attention in this effort. Thanks! Spam me, or reply here, I'm listening!

{Reactions}
üëç 

[09/16/2021 10:49 PM] kushti#0978
Swagger API  is for manual operations, you can use it but usually you you will have some script working with node, scanner or explorer API I guess


[09/16/2021 10:53 PM] Walrus#9577
So then you would have to send your coins to a centralised wallet before being sent to a dapp?


[09/16/2021 10:58 PM] kushti#0978
For what ?


[09/16/2021 11:00 PM] Walrus#9577
If you wanted for example a script that releases funds if the price is above a certain value


[09/16/2021 11:00 PM] kushti#0978
You can go to http://213.239.193.208:9052/panel , API key is "hello" (w/out quotes), a lot of ergs there )

{Reactions}
üëç 

[09/16/2021 11:01 PM] kushti#0978
In this case you need for some script which will track the price and  submit spending transaction if the condition is met


[09/16/2021 11:03 PM] Walrus#9577
But the erg sent to it would have to be sent with the Oracle in dateinput right? So it's not very user friendly or must become centralised


[09/17/2021 11:39 PM] kushti#0978
When you redeem  oracle data must be provided in a datainput, right. As you already have some watching script, no big issue in providing data input in a spending transaction I guess


[09/18/2021 6:32 AM] Marty#4039
@anon_real in ergo utils where you issue token, is there any way to maintain "ownership" of said token, or is that not built in yet? I noticed "my tokens" but it didn't work for me when I came back with the same wallet address.


[09/18/2021 6:33 AM] Marty#4039
is this a bug or functionality that hasn't been added yet?


[09/18/2021 6:34 AM] Marty#4039
tomorrow i'm going to go through your git repo and see if i can understand how the code builds the smart contract.


[09/18/2021 7:36 AM] anon_real#2768
What do you mean by "ownership"?
The token that you mint will be sent to the address you set as your wallet.


[09/18/2021 7:36 AM] anon_real#2768
Then you own it.


[09/18/2021 7:36 AM] Marty#4039
i mean ownership of the contract


[09/18/2021 7:36 AM] Marty#4039
so that only you can mint new ones


[09/18/2021 7:39 AM] anon_real#2768
Sorry, I don't get it. Contracts have no owners.


[09/18/2021 7:39 AM] Marty#4039
oftentimes thats functionality built in in ethereum token contracts


[09/18/2021 7:40 AM] anon_real#2768
Ergo is a utxo based and is quite different from account-based blockchains.


[09/18/2021 7:40 AM] Marty#4039
if i mint a token, i don't want someone else to be able to just mint more of the same token, so i'll lock the ability to mint those tokens within the smart contract, and require my private key as authentication to mint more


[09/18/2021 7:41 AM] anon_real#2768
On ergo, tokens by design will have a different ID than other tokens. So you can be sure that no one else can issue a token with the same ID as yours.


[09/18/2021 7:41 AM] Marty#4039
ok i get you


[09/18/2021 7:41 AM] Marty#4039
if i wanted to mint more with the same ID, how do i do that?


[09/18/2021 7:42 AM] anon_real#2768
You cant. When you mint, you have to decide how many you want to issue. After that there is no way to increase it.


[09/18/2021 7:42 AM] Marty#4039
ok so i think then i'd have to write a more complicated smart contract to mint tokens and retain the ability to mint more later


[09/18/2021 7:43 AM] anon_real#2768
Yes, you can have a smart contract that maintains your already issued token and releases (mint) them based on some conditions.


[09/18/2021 7:44 AM] anon_real#2768
Just like bank box of SigUSD.


[09/18/2021 7:44 AM] Marty#4039
oh cool i'll check that one out

{Reactions}
üëç 

[09/18/2021 7:45 AM] Marty#4039
thanks


[09/18/2021 7:45 AM] anon_real#2768
No worries.


[09/19/2021 8:52 AM] HazeyOneKenobi#2091
I was wondering how sigUSD works, with the goal of eventually taking it for NFT payments. If the tokenId is what I need to ensure is valid, then what will happen when more sigUSD is needed due to wider adoption, and more cannot be minted with the same tokenId?


[09/19/2021 1:01 PM] MrStahlfelge#0042
Check EIP for genuine token validation


[09/19/2021 1:02 PM] MrStahlfelge#0042
If this EIP is adopted, it basically is a tokenid validation and you need to check the EIP later to see if there is another tokenid valid as well


[09/19/2021 3:02 PM] anon_real#2768
Billions of dollars is issued and is protected with the bank box. When you mint SigUSD in the UI, you are paying ERG to the bank box and get some tokens from it.


[09/22/2021 5:40 PM] Crypto Cream#4657
just a heads up, don't try sync an Ergo Node using Github actions:

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/890276447816667186/unknown.png

{Reactions}
ü§î (3) 

[09/24/2021 4:23 PM] Apextheory#6577
I have a question regarding the FreezeCoin example in https://github.com/aslesarenko/ergo-appkit-examples
I am submitting the transaction to my local testnet node, but getting the exception
```
Tree root should be real but was UnprovenSchnorr(ProveDlog((d154fd779593dc9c8c06401816b45d959ccf295e62862fedd0991822cd8470dc,4f5c70dcc7984c71cb299210f65b450397587fd36584a6f025554124871e2c82,1)),None,None,None,true,0)
```
when calling ```prover.sign(tx)```
Any ideas?  Wallet is unlocked and the application is able to reach my node otherwise.

{Embed}
https://github.com/aslesarenko/ergo-appkit-examples
GitHub - aslesarenko/ergo-appkit-examples: Examples of using Ergo A...
Examples of using Ergo Appkit for Polyglot Development of Ergo Applications - GitHub - aslesarenko/ergo-appkit-examples: Examples of using Ergo Appkit for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/K6Qyu9ixzFuFtNQz-fClgKmuYQy6qNt9oo_5NrPmY6E/https/opengraph.githubassets.com/add3e3896feb26c66ccb78b608365be15cc768b4b4964b1e9c5d6e83d9abfe6a/aslesarenko/ergo-appkit-examples


[09/24/2021 4:27 PM] Apextheory#6577
- The mnemonic I provided is from the testnet node wallet
- I used "deriveNextKey" endpoint to generate a new address, which I am using in "ownerAddress" config field


[09/24/2021 5:02 PM] MrStahlfelge#0042
Do you use appkit? Show your code how you build the prover.


[09/24/2021 5:04 PM] Apextheory#6577
I am using the provided source code: https://github.com/aslesarenko/ergo-appkit-examples/blob/master/scala-examples/src/main/scala/org/ergoplatform/appkit/examples/FreezeCoin.scala

{Embed}
https://github.com/aslesarenko/ergo-appkit-examples/blob/master/scala-examples/src/main/scala/org/ergoplatform/appkit/examples/FreezeCoin.scala
ergo-appkit-examples/FreezeCoin.scala at master ¬∑ aslesarenko/ergo-...
Examples of using Ergo Appkit for Polyglot Development of Ergo Applications - ergo-appkit-examples/FreezeCoin.scala at master ¬∑ aslesarenko/ergo-appkit-examples
https://images-ext-1.discordapp.net/external/K6Qyu9ixzFuFtNQz-fClgKmuYQy6qNt9oo_5NrPmY6E/https/opengraph.githubassets.com/add3e3896feb26c66ccb78b608365be15cc768b4b4964b1e9c5d6e83d9abfe6a/aslesarenko/ergo-appkit-examples


[09/24/2021 5:04 PM] Apextheory#6577
so yes, using appkit


[09/24/2021 5:07 PM] Apextheory#6577
I also notice that I have to provide the node's API key in plaintext, rather than as a hash in this example.


[09/24/2021 5:18 PM] MrStahlfelge#0042
you don't need to provide the api key, you can let it blank


[09/24/2021 5:19 PM] MrStahlfelge#0042
ah okay that sample uses the node wallet


[09/24/2021 5:19 PM] MrStahlfelge#0042
do it without it! you can provide your own mnemonic


[09/24/2021 5:19 PM] Apextheory#6577
in the code?  Yea I'll try that


[09/24/2021 5:20 PM] MrStahlfelge#0042
but don't forget that you need some balance to freeze


[09/24/2021 5:20 PM] Apextheory#6577
Yea, it validates the unspent box fine to use as input


[09/24/2021 5:20 PM] MrStahlfelge#0042
probably your owneraddress did not match the wallet, so better use the one from your prover


[09/24/2021 5:22 PM] MrStahlfelge#0042
check the code from the android wallet here and what it calls in boxoperations: https://github.com/ergoplatform/ergo-wallet-android/blob/0e4e10d5ad18453ca43948514d73255c567fefd1/app/src/main/java/org/ergoplatform/android/ErgoFacade.kt#L86


[09/24/2021 5:22 PM] Apextheory#6577
ownerAddress I can just copy from the node wallet UI right?


[09/24/2021 5:24 PM] MrStahlfelge#0042
if it matches the prover - yes


[09/24/2021 5:24 PM] MrStahlfelge#0042
but I would bypass the node wallet entirely


[09/24/2021 5:24 PM] MrStahlfelge#0042
you don't need it


[09/24/2021 6:42 PM] MrStahlfelge#0042
it is no problem, just use the prover address


[09/24/2021 8:09 PM] Apextheory#6577
I got it working using ```BoxOperations.putToContractTx(...)``` to sign the transaction.

{Reactions}
üëç 

[09/25/2021 11:30 AM] MrStahlfelge#0042
Checked myself, the error message is indeed thrown when your secrets does not suffice to sign the transaction


[09/25/2021 12:54 PM] Apextheory#6577
Thanks for checking.  Were you able to get it working with the sample code?  I was using the same mnemonic for node wallet and prover (and no mnemonic password) but it did not take.


[09/25/2021 12:56 PM] Apextheory#6577
And the root address generated by both is different, although the balance in my node is the sum of both addresses.


[09/25/2021 3:21 PM] MrStahlfelge#0042
I don't use the node's wallet so I can't try. But I can safely say that you need to set the correct derivation pass to sign. Appkit can handle the non-eip3 master and eip3 addresses with derivations. If you try to sign a transaction for an address that is derived, but you did not build the prover with the derivation index needed you get the error you had.


[09/25/2021 4:03 PM] Apextheory#6577
okay yea, I was able to confirm that the node wallet uses EIP3 derivation path and generate the same root address programmatically in a test case....now to figure out the prover side.

{Reactions}
üëç 

[09/25/2021 4:04 PM] Apextheory#6577
thanks for your insight!


[09/25/2021 4:20 PM] MrStahlfelge#0042
Check the Android code I linked again, it builds an eip3 prover


[09/25/2021 4:25 PM] nitram147#5106
Even when I restarted my testnet full node it keeps pretending to be synced but in reality it isn't


[09/25/2021 4:25 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/891344661778673685/unknown.png


[09/25/2021 4:26 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/891344796935921684/unknown.png


[09/25/2021 4:26 PM] nitram147#5106
Where's the problem?


[09/25/2021 4:26 PM] nitram147#5106
How to force node to resynchronize?


[09/25/2021 4:52 PM] andee#4722
delete `.ergo/{history,state}`


[09/25/2021 4:53 PM] nitram147#5106
yeah I did fixed it by it


[09/25/2021 4:53 PM] nitram147#5106
however I don't like the idea of having to download whole blockchain again from scratch


[09/25/2021 4:53 PM] nitram147#5106
there should be a better way


[09/25/2021 4:54 PM] andee#4722
one DB related PR is in the latest release, you are 2 versions behind


[09/25/2021 4:54 PM] nitram147#5106
I did already upgrade to 4.0.14


[09/25/2021 4:55 PM] nitram147#5106
But there still isn't any api endpoint in swagger to force resynchronization


[09/25/2021 7:17 PM] Apextheory#6577
I was able to sign the transaction by adding .withEip3Secret(...) call to the prover.  This method is not available in the older version of AppKit used in the example project.

{Reactions}
üëç 

[09/25/2021 7:18 PM] MrStahlfelge#0042
Great to hear


[09/26/2021 12:15 AM] nitram147#5106
@MrStahlfelge testnet build of wallet is still generating mainnet addresses


[09/26/2021 12:16 AM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/891463092398071858/Screenshot_20210926-011507.png


[09/26/2021 12:16 AM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/891463110970441788/Screenshot_20210926-011458.png


[09/26/2021 3:49 AM] Apextheory#6577
So I am having an issue with the fee output box, where my transaction fails in the node with "Min fee not met" exception.
I am using BoxOperations.putToContractTx(...) method in AppKit to create the unsigned transaction, and it does have a fee output box using  the min fee.
I ran the node in debug mode, and found that it is failing in the ErgoMemPool.extractFee() method, where it never passes the filter call.  
It looks like there is some small difference between the ErgoTrees

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/891516695578030091/unknown.png


[09/26/2021 3:49 AM] Apextheory#6577
```
From Node Settings:  
ErgoTree(16,WrappedArray(IntConstant(0), IntConstant(0), ConstantNode(Coll(16,2,4,-112,1,8,-51,2,121,-66,102,126,-7,-36,-69,-84,85,-96,98,-107,-50,-121,11,7,2,-101,-4,-37,45,-50,40,-39,89,-14,-127,91,22,-8,23,-104,-22,2,-47,-110,-93,-102,-116,-57,-89,1,115,0,115,1),Coll[SByte$]), ConstantNode(Coll(1),Coll[SInt$]), IntConstant(1)),Right(BoolToSigmaProp(AND(ConcreteCollection(WrappedArray(EQ(Height$(163),SelectField(ExtractCreationInfo(ByIndex(Outputs$(165),ConstantPlaceholder(0,SInt$),None)),1)), EQ(ExtractScriptBytes(ByIndex(Outputs$(165),ConstantPlaceholder(1,SInt$),None)),SubstConstants(ConstantPlaceholder(2,Coll[SByte$]),ConstantPlaceholder(3,Coll[SInt$]),ConcreteCollection(WrappedArray(CreateProveDlog(DecodePoint(MinerPubkey$(172)))),SSigmaProp))), EQ(SizeOf(Outputs$(165)),ConstantPlaceholder(4,SInt$))),SBoolean)))),0,[B@66d4f598,None)

From Fee Box:      
ErgoTree(16,WrappedArray(IntConstant(0), IntConstant(0), ConstantNode(Coll(16,2,4,-96,11,8,-51,2,121,-66,102,126,-7,-36,-69,-84,85,-96,98,-107,-50,-121,11,7,2,-101,-4,-37,45,-50,40,-39,89,-14,-127,91,22,-8,23,-104,-22,2,-47,-110,-93,-102,-116,-57,-89,1,115,0,115,1),Coll[SByte$]), ConstantNode(Coll(1),Coll[SInt$]), IntConstant(1)),Right(BoolToSigmaProp(AND(ConcreteCollection(WrappedArray(EQ(Height$(163),SelectField(ExtractCreationInfo(ByIndex(Outputs$(165),ConstantPlaceholder(0,SInt$),None)),1)), EQ(ExtractScriptBytes(ByIndex(Outputs$(165),ConstantPlaceholder(1,SInt$),None)),SubstConstants(ConstantPlaceholder(2,Coll[SByte$]),ConstantPlaceholder(3,Coll[SInt$]),ConcreteCollection(WrappedArray(CreateProveDlog(DecodePoint(MinerPubkey$(172)))),SSigmaProp))), EQ(SizeOf(Outputs$(165)),ConstantPlaceholder(4,SInt$))),SBoolean)))),4836,[B@73c12f52,Some(false))
```


[09/26/2021 3:51 AM] Apextheory#6577
Any idea what could cause this discrepency?  They both seem to use ErgoScriptPredef.feeProposition(minerRewardDelay) to determine the ErgoTree


[09/26/2021 8:36 AM] MrStahlfelge#0042
That's a testnet address


[09/26/2021 8:36 AM] MrStahlfelge#0042
There was a bug in appkit not sending fee to the correct address on testnet. It is fixed in the latest snapshot


[09/26/2021 10:21 AM] nitram147#5106
I'm so sorry, I was really sleep deprived and it was middle of night, probably the text "main address" confused me. It's starting with 3 of course it's a testnet üòÖ Once again I'm sorry

{Reactions}
üòé 

[09/26/2021 1:02 PM] Apextheory#6577
Yes, I see your fix in there now, related to mining delay.  Thanks!


[09/26/2021 2:59 PM] Apextheory#6577
I got my FreezeCoin transaction through on testnet, thanks for your help!  https://testnet.ergoplatform.com/en/transactions/aab868a89b0040fc0389b67b07898bfbcea3dfb519be022fe9c2f83a222d35f7

{Reactions}
üéâ 

[09/26/2021 10:22 PM] kushti#0978
was your genesis block id the same as for explorer ? I suspect that there's an alternative testnet with different genesis even


[09/26/2021 10:46 PM] nitram147#5106
Unfortunately I didn't checked it, and later I did deleted all the node files in .ergo foder (except the wallet folder). However I did used  the IP of node which is currently mining on testnet as the known peer. So I don't think that my node was on some different alternative testnet üôÇ


[09/27/2021 12:29 PM] nitram147#5106
---


[09/27/2021 12:30 PM] nitram147#5106
Is there any clever way how to find whether was fullnode synchronized or that it's not synchronized - something like api endpoint (of course based on my unfortunate "false synchronized state" experience, I should probably always check blockchain height against the explorer, to find whether my node height equal or greater than explorer height)


[09/27/2021 1:46 PM] danza#2629
Hello, I'm a computer science student from Europe with much interest in Ergo. I'm looking for a bachelor thesis topic. I have never developed anything blockchain-related, but I'd like to learn as much as possible. Is there anything in Ergo development that needs to be implemented or researched that would be suitable as a bachelor thesis? Any inputs from you guys would be highly appreciated. Thanks!


[09/27/2021 2:01 PM] MrStahlfelge#0042
here are a lot of ideas people had for the hackathon: https://www.reddit.com/r/ergonauts/comments/psis2l/idea_incubator_ergohack_ii/

{Embed}
https://www.reddit.com/r/ergonauts/comments/psis2l/idea_incubator_ergohack_ii/
r/ergonauts - Idea Incubator | ERGOHACK II
47 votes and 26 comments so far on Reddit
https://images-ext-1.discordapp.net/external/cmYeqLTVm6KxtdhxrQh0-nM4TaEMtLBrg7mUlnOzqpo/%3Fauto%3Dwebp%26s%3D3f798c2c0b7969905b54c1f8d6a51cd1db80dd6b/https/external-preview.redd.it/cvjzFMQydhx7uHhlgTODoKUm-q8sr1ESkahsUNJTny0.jpg

{Reactions}
üëç 

[09/28/2021 11:25 PM] MGpai#4313
Hey guys I am working on an NFT website for ERGO


[09/28/2021 11:26 PM] MGpai#4313
Currently I am looking into the backend/contracts to finish development


[09/28/2021 11:27 PM] MGpai#4313
Is there any resource I can look into to learn this


[09/28/2021 11:27 PM] MGpai#4313
For example if "x" amount is received send back "y" nft


[09/28/2021 11:28 PM] MGpai#4313
I would really appreciate it if an experienced ergo dev could point me in the right direction

{Reactions}
üëç (2) 

[09/28/2021 11:40 PM] Apextheory#6577
Actually, I am just finalizing a tutorial video on using AppKit to create & submit custom smart contract transactions.  Although it doesn't touch on NFT's in particular, it's a good starting point for developing your backend code.  Do you think it would be helpful to you?

{Reactions}
üíØ ü§ó 

[09/28/2021 11:41 PM] MGpai#4313
Definitely!


[09/28/2021 11:41 PM] MGpai#4313
thanks


[09/29/2021 3:27 AM] SpaceCityCowboy88#0714
I'm looking for the same! Thanks.


[09/29/2021 3:28 AM] SpaceCityCowboy88#0714
Please let me know when it's ready I would love to see it too!. Thanks.


[09/29/2021 3:30 AM] Apextheory#6577
Video is still unlisted and unvetted, but feel free to check it out.  GitHub link to the code is in the description.  https://www.youtube.com/watch?v=Md5s-XV6-Hs

{Embed}
Apex Theory
https://www.youtube.com/watch?v=Md5s-XV6-Hs
AppKit by Example
Interacting with the Ergo blockchain using AppKit
Clone the repository on Github: https://github.com/ApexTheory/appkit-by-example
https://images-ext-2.discordapp.net/external/nWixLA9IxgdOziOru48X4ev9gs5qkZjJyrx0NqjRmcY/https/i.ytimg.com/vi/Md5s-XV6-Hs/maxresdefault.jpg


[09/29/2021 3:30 AM] SpaceCityCowboy88#0714
Awesome man! Much appreciated!


[09/29/2021 8:18 PM] sandz#8082
looking for project that used "ergo-lib-wasm-browser" or any document about it can any body help me?


[09/29/2021 11:08 PM] Kurikun#6941
The testnet faucet is apparently down.  Can someone please toss over 20 testnet ERG or so to 3WwY4XH7Um6EVzdxpEQHnaHiFri3RZcoKJmLniTHH5c4JD1KRqqC?


[09/29/2021 11:09 PM] Kurikun#6941
It's generating a 503 error, btw. https://faucet.ergopool.io/payment/address/(myaddress)


[09/29/2021 11:17 PM] glasgowm#9381
@mhs_sam


[09/29/2021 11:20 PM] zargarzadehmoein#2928
Done


[09/29/2021 11:46 PM] amsk#6884
Is it possible to use spent boxes as `dataInputs`?...or just unspent boxes are usable?...


[09/29/2021 11:48 PM] mhs_sam#1471
No, yes.


[09/30/2021 12:02 AM] Kurikun#6941
Thanks very much!


[09/30/2021 12:32 AM] amsk#6884
Thanks so much...


[09/30/2021 3:41 AM] zargarzadehmoein#2928
Also you can use spent boxes in the registers with ErgoBox type.

{Reactions}
üëç 

[09/30/2021 9:31 AM] MrStahlfelge#0042
Does anyone know what happened to the nodes appkit tries to contact from its unit tests? https://github.com/ergoplatform/ergo-appkit/runs/3753409375?check_suite_focus=true#step:5:1998


[10/02/2021 8:55 AM] fateme.r#4033
Hi, I have wrote a script, a part of the script is:
```if(SELF.tokens.size > 0){
  OUTPUTS(1).tokens(1)._2 == SELF.tokens(0)._2 ||
  OUTPUTS(2).tokens(0)._2 == SELF.tokens(0)._2 - OUTPUTS(1).tokens(1)._2
} else {true}```

That it gets ```java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0```
The error caused by ```SELF.tokens(0)._2``` but I have checked the size before using.


[10/02/2021 8:59 AM] fateme.r#4033
Its more strange that it works fine with each line alone in the if statement.(without the or).
And also it works fine when just one line contains the SELF.tokens(0)._2 statement. like it works fine without errors (despite the meaning):
```if(SELF.tokens.size > 0){
  OUTPUTS(1).tokens(1)._2 == SELF.tokens(0)._2 ||
  OUTPUTS(2).tokens(0)._2 == SELF.value - OUTPUTS(1).tokens(1)._2
} else {true}```
I can't understand what am i doing wrong or how to solve it. thanks for any idea.


[10/02/2021 9:02 AM] fateme.r#4033
@greenhat would you please check it?


[10/02/2021 9:25 AM] greenhat#6562
Are you sure the error caused by SELF.tokens? I suspect it's closed by tokens in the output boxes. Could you add a check for tokens in output boxes to the "if" statement?


[10/02/2021 9:37 AM] fateme.r#4033
Do you mean this?
```if(OUTPUTS(1).tokens.size > 1 && SELF.tokens.size > 0 && OUTPUTS.size > 2 && OUTPUTS(2).tokens.size > 0){
  OUTPUTS(1).tokens(1)._2 == SELF.tokens(0)._2 ||
  OUTPUTS(2).tokens(0)._2 == SELF.tokens(0)._2 - OUTPUTS(1).tokens(1)._2
} else {true}```


[10/02/2021 9:39 AM] fateme.r#4033
still not working, but this script strangely works fine:
```if(OUTPUTS(1).tokens.size > 1 && SELF.tokens.size > 0 && OUTPUTS.size > 2 && OUTPUTS(2).tokens.size > 0){
  OUTPUTS(1).tokens(1)._2 == SELF.tokens(0)._2 ||
  OUTPUTS(2).tokens(0)._2 == SELF.value - OUTPUTS(1).tokens(1)._2
} else {true}```


[10/02/2021 10:25 AM] greenhat#6562
No strange to me. This is exactly want I meant. Not only check the outputs length but also tokens length in the second and third output boxes.


[10/02/2021 10:28 AM] fateme.r#4033
I did so. didn't I?


[10/02/2021 10:28 AM] fateme.r#4033
don't you mean this??


[10/02/2021 10:29 AM] vegycslol#1714
Is tokens(0) always erg?


[10/02/2021 10:29 AM] greenhat#6562
No, the second one was what I asked for, and its no strange to me that it works. :)


[10/02/2021 10:30 AM] greenhat#6562
The rule of thumb is to always be defensive and check everything is in place before accessing it.


[10/02/2021 10:30 AM] fateme.r#4033
I may be confused but the last two scripts are the same in the if statement


[10/02/2021 10:31 AM] vegycslol#1714
Why doesn't this one work?


[10/02/2021 10:31 AM] greenhat#6562
No, R0 is erg. Tokens are arbitrary.


[10/02/2021 10:35 AM] greenhat#6562
Oh, you are right. My bad, hard to read on the phone.


[10/02/2021 10:39 AM] greenhat#6562
Well. That's really weird then why the second works. The only idea I have is to make checks layered, e.g. check outputs size before accessing outputs. Same with tokens.


[10/02/2021 10:41 AM] fateme.r#4033
i have had checked it before, in another if above them, I only wrote it doublly to show it's not working üôÇ Lol


[10/02/2021 10:44 AM] fateme.r#4033
Right now, I could resolve the issue by reorganizing the whole script, and changing sigmaProp positions.
But i'm still really curious about what was its problem, it may help in future scripts.


[10/02/2021 10:57 AM] greenhat#6562
Can you show me the full script? The one that does not work.


[10/02/2021 11:09 AM] fateme.r#4033


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/893801784722718720/incomeScript


[10/02/2021 1:56 PM] greenhat#6562
@fateme.r It hard for me to speculate why the second variant works without the context. However, I see the pattern of accessing collection elements without checking the size of the collection first which may lead to errors. Given that we have AOT costing bug that effectively makes logical AND op non-lazy I'd play it safe and always check before accessing the collection.


[10/02/2021 3:33 PM] fateme.r#4033
ok thanks for your time


[10/02/2021 4:02 PM] GemoneyCoin#6289
when my node is running others on the network see it???


[10/03/2021 4:57 AM] Leif Erickson#8939
how can I generate ergs on testnet?  I can mine them, assuming there is a more straightforward way?


[10/03/2021 7:15 AM] zargarzadehmoein#2928
I can send for you, also you can start solo mining on testnet


[10/03/2021 7:17 AM] Leif Erickson#8939
Ok, I have been mining...I thought there might be an API call or something. Thank you tho!

{Reactions}
üëç 

[10/03/2021 10:22 AM] MrStahlfelge#0042
there is an api


[10/03/2021 10:23 AM] MrStahlfelge#0042
https://faucet.ergopool.io/payment/address/TESTNET_WALLET_ADDRESS


[10/03/2021 12:24 PM] zargarzadehmoein#2928
Now this API don‚Äôt work I updated faucet backend and waiting for ui update. (Mainnet, Testnet)


[10/03/2021 12:24 PM] MrStahlfelge#0042
ah okay


[10/04/2021 12:55 AM] bk#4411
I didn‚Äôt see anything like this existing already so I put together a little health dashboard (using gatus) of the status of various ergo systems at http://ergo-status.net . It will ping the https://t.me/ergo_status telegram channel if something goes down.

{Embed}
https://t.me/ergo_status
Ergo Status
You can view and join @ergo_status right away.
https://images-ext-1.discordapp.net/external/cN2S1NODqVzd92xmTssgUC6q53SqaX8P0QE8lmRVk3Y/https/cdn1.telesco.pe/file/fY4sMfqCuDK0i6qX1oF-ps4IG4ytmk-KtiqQ__9MOdnspj2cMvV3sRBe7jPMZj9BCT8ssqsXw_4rVlc1kPYo-AlUg1qz8JfDP6_DgxdkfO9IWSqcB5_6bNLHK3M-wqG6JFLcEFXNC0YqDHbJyUM8Wz5AfMrXwG-A0muL4ARLDIeE8HmlU6wy153xSW-Kh9Wk1j1fQlu-Fp2_zuq3j_r9PZQtFHi7ObR71JB0EVYFX93lxjIrshF4I4YAIEa0Sb-yolsbdWnhlTEbC9t3mN7ts6CDG-0fqv-CUI9EVW_vhzgJKPIPmB8GqDqFNGNXCLEf2Tcq44lsyHpZuL3_kLyZbQ.jpg

{Reactions}
üëç (2) 

[10/04/2021 1:08 AM] GemoneyCoin#6289
when my node is running others on the network see it???


[10/04/2021 1:24 AM] bobby3535#8117
trying to understand what happened here https://ergoplatform.org/en/blog/2021-05-13-bearwhale-saga/
i get the oracle attack
but the next two i dont understand
could some1 explain this one:  "they discovered a loophole that allowed a mimicking of the SigmaUSD treasury, interjecting when someone was making a transaction, selling SigRSV to users while pocketing the fee."
not very clear what happened here, and what the person was exploiting
and how was this exploit patched
also this one: "next was spamming the proxy addresses that ERG move through while being swapped for Sigma. This prevented the redemption of SigmaRSV and allowed the cycle into a short position, and keep the reserve ratio locked at 400%."
could some1 explain in more detail
and why a patch was necessary here


[10/04/2021 3:32 PM] Jedaka#1930
do you need to run an ergo node to execute an ergo smartcontract?


[10/04/2021 3:40 PM] MrStahlfelge#0042
no


[10/04/2021 4:30 PM] terrapin#5455
i am working on getting things working with testnet, but dont have any funds in my test wallet. Here is my address: 3WymVC5JQA2HzJBohhRgAPxWjXN83UfWr83fi6ozTf3zxruvRBjE


[10/04/2021 4:39 PM] Apextheory#6577
sent you some https://testnet.ergoplatform.com/en/transactions/aa865a63eb66ad220383001192132284d17b1016affef3a84a32d120f087b3ce


[10/04/2021 4:40 PM] terrapin#5455
thanks!


[10/04/2021 4:43 PM] MrStahlfelge#0042
I've added some kushtie and SigUSD tokens, always good to have https://testnet.ergoplatform.com/en/transactions/64cf14f60fcef00c825c04c58931d1792710b5dcdbe75ca20701314a37e443a1


[10/04/2021 4:47 PM] terrapin#5455
thanks! is there a way to implement some sort of automation mechanism to make it easier for new devs to get funds in a test wallet? i dont mind coming to discord to get that, but maybe some might not know to come here to get what they need.


[10/04/2021 4:48 PM] MrStahlfelge#0042
see the posts 28 hours ago in this channel üòâ


[10/04/2021 4:49 PM] terrapin#5455
lol, i guess im a little late to that party. didnt see that one. ill check it out, thanks üôÇ


[10/04/2021 11:33 PM] magz#3097
any devs here have any 5G edge computing experience? or edge computing coding ? hit me up


[10/05/2021 8:06 AM] Luivatra#9076
I am losing my mind here, why can I not use getHeight? I can see it being used in other ergoscript examples but for some reason it doesnt work here. Any ideas?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/894843039628001280/unknown.png


[10/05/2021 8:31 AM] Luivatra#9076
Nvm, apparently scastie was using an older version of playgrounds, my bad


[10/05/2021 8:54 AM] abchris#8522
Yes, otherwise it wouldn‚Äôt be a ‚Äúnode‚Äù, i.e part of a network


[10/05/2021 5:01 PM] GemoneyCoin#6289
sorry let me say this how much ERG do I need if any???


[10/05/2021 5:11 PM] Apextheory#6577
you don't need any ERG to run a node.  the node software comes with a wallet if you wish to hold ERG there


[10/05/2021 7:50 PM] GemoneyCoin#6289
I have it running was just making sure it was right


[10/05/2021 7:50 PM] GemoneyCoin#6289
I am mining ERG through Minerstat


[10/05/2021 10:50 PM] magz#3097
Any devs here know anything about Multi-Access Edge Computing 5G, ML Distribution towards Edge Nodes etc etc, working on a huge project and would love to have a chat with someone who was knowledge or expertise in this area. or could point me towards someone - finders fee available.
Blockchain connotations too, Thanks


[10/06/2021 7:46 PM] Hindsight Lad#6942
Hey guys. I‚Äôm trying to setup a node in my RPi 8GB as a service. The pi is running Ubuntu. I‚Äôve been trying to look for a way to manage the amount of logs the node creates to prevent the logs from taking over the entire disk. Any suggestions?


[10/06/2021 7:46 PM] Hindsight Lad#6942
I did not see any indication this could be done with the config file


[10/06/2021 7:53 PM] glasgowm#9381
https://logtail.com/tutorials/how-to-manage-log-files-with-logrotate-on-ubuntu-20-04/

{Embed}
https://logtail.com/tutorials/how-to-manage-log-files-with-logrotate-on-ubuntu-20-04/
How To Manage Log Files With Logrotate On Ubuntu 20.04
The log files size must be controlled because their size always grows over time. Each system has limited resources, and too many logs lead to performance and memory problems. Linux solves this problem with a concept called logrotate.
https://images-ext-1.discordapp.net/external/H4fQ-XbWkkh4ozHGI_5BowBIVDjZhZiF8k3xVAUTAEs/https/logtail.com/tutorials/content/images/2021/04/01-Logtail-1.png

{Reactions}
üëç 

[10/06/2021 7:56 PM] Hindsight Lad#6942
Ah, this looks promising. I‚Äôll dive into it this evening‚Ä¶


[10/06/2021 7:57 PM] Hindsight Lad#6942
Also, Glasgow, I stopped the service that I had created, reloaded the unit file, and started it again. Now it is behaving like it should. The node is currently syncing at a decent pace‚Ä¶


[10/06/2021 7:57 PM] Hindsight Lad#6942
Have no clue what going on before


[10/07/2021 5:07 AM] Kayyyy#6800
I'm working on writing a package for Ergo for Alpine Linux. It's running into the same issue that Mac OS was facing before this PR was merged: https://github.com/ergoplatform/ergo/pull/1207 I was wondering if a PR adding a check for Alpine Linux here would be welcome, or if I should just patch the code for the Alpine package and not submit upstream?

{Embed}
https://github.com/ergoplatform/ergo/pull/1207
Fix for #1067 : crash on OpenJDK11 and Oracle JDK 8 on macOS by kus...
The node is crashing on MacOS due to problems LevelDB-JNI.
This PR is about to fix it by using pure-Java LevelDB on MacOS.
https://images-ext-2.discordapp.net/external/WeQD2TOGtStpBlAEyq5wWFk-3qZK2-f-yhQy7TVe7Ds/https/opengraph.githubassets.com/4c5d56de6951bc0227b9cd95b0636eb16fa3d59dbb4529798d41f8f0aaab850d/ergoplatform/ergo/pull/1207


[10/07/2021 7:32 PM] Hindsight Lad#6942
Hey guys. I left my newly created node to sync but it's crashing every so often after this error


[10/07/2021 7:33 PM] Hindsight Lad#6942
```
[ERROR] [SECURITY][10/07/2021 12:30:53.797] [ergoref-akka.actor.default-dispatcher-22] [akka.actor.ActorSystemImpl(ergoref)] Uncaught error from thread [ergoref-akka.actor.default-dispatcher-22]: Java heap space, shutting down JVM since 'akka.jvm-exit-on-fatal-error' is enabled for ActorSystem[ergoref]
java.lang.OutOfMemoryError: Java heap space
        at scala.collection.mutable.ResizableArray.ensureSize(ResizableArray.scala:106)
        at scala.collection.mutable.ResizableArray.ensureSize$(ResizableArray.scala:96)
        at scala.collection.mutable.ArrayBuffer.ensureSize(ArrayBuffer.scala:49)
        at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:100)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:274)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:290)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:290)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:290)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:290)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
        at scorex.crypto.authds.avltree.batch.BatchAVLProver.packTree$1(BatchAVLProver.scala:291)
```


[10/07/2021 7:34 PM] Hindsight Lad#6942
```
at scorex.crypto.authds.avltree.batch.BatchAVLProver.generateProof(BatchAVLProver.scala:311)
        at scorex.crypto.authds.avltree.batch.PersistentBatchAVLProver.generateProofAndUpdateStorage(PersistentBatchAVLProver.scala:26)
        at org.ergoplatform.nodeView.state.UtxoState.$anonfun$applyModifier$2(UtxoState.scala:114)
        at org.ergoplatform.nodeView.state.UtxoState$$Lambda$2048/0x0000000840c2f040.apply(Unknown Source)
        at scala.util.Success.$anonfun$map$1(Try.scala:255)
        at scala.util.Success.map(Try.scala:213)
        at org.ergoplatform.nodeView.state.UtxoState.$anonfun$applyModifier$1(UtxoState.scala:111)
        at org.ergoplatform.nodeView.state.UtxoState$$Lambda$1399/0x0000000840904840.apply(Unknown Source)
        at scala.util.Success.flatMap(Try.scala:251)
        at org.ergoplatform.nodeView.state.UtxoState.applyModifier(UtxoState.scala:110)
        at org.ergoplatform.nodeView.state.UtxoState.applyModifier(UtxoState.scala:35)
        at scorex.core.NodeViewHolder.$anonfun$applyState$1(NodeViewHolder.scala:257)
        at scorex.core.NodeViewHolder$$Lambda$2555/0x0000000840dbf840.apply(Unknown Source)
        at scala.collection.TraversableOnce.$anonfun$foldLeft$1(TraversableOnce.scala:162)
        at scala.collection.TraversableOnce.$anonfun$foldLeft$1$adapted(TraversableOnce.scala:162)
```


[10/07/2021 7:34 PM] Hindsight Lad#6942
Any ideas on what causes this?


[10/07/2021 7:35 PM] Hindsight Lad#6942
The station has 16GB memory... is that not enough to run an Ergo node?


[10/07/2021 8:04 PM] Apextheory#6577
@Hindsight Lad  try running with -Xmx3g or higher


[10/07/2021 8:04 PM] Apextheory#6577
this will increase the heap space allocated by the JVM


[10/08/2021 12:43 AM] code_For_Uss#1058
@greenhat 
I have prepared an example of how to use dataInputs with the help of Appkit, but when I moved it to the playground for using in repo `ergoscript-by-example` I noticed this require https://github.com/ergoplatform/ergo-playgrounds/blob/0fd15a64b5efb9cce2f0126349f98390a8aab22a/playground-env/src/main/scala/org/ergoplatform/playgroundenv/utils/TransactionVerifier.scala#L31, is it possible for you to update it?

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/0fd15a64b5efb9cce2f0126349f98390a8aab22a/playground-env/src/main/scala/org/ergoplatform/playgroundenv/utils/TransactionVerifier.scala
ergo-playgrounds/TransactionVerifier.scala at 0fd15a64b5efb9cce2f01...
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/5ZlHRUX4MB1n8MMYEJtRXw_IM1EQI-FiG1LLtUjwhBw/https/opengraph.githubassets.com/75dd7d63f36b2d0a2c8357213d6078be7a6649079c06b41a406695164edd34b9/ergoplatform/ergo-playgrounds


[10/08/2021 12:48 AM] code_For_Uss#1058
Is it enough to check existence dataInputs (Ids) in `boxes` https://github.com/ergoplatform/ergo-playgrounds/blob/0fd15a64b5efb9cce2f0126349f98390a8aab22a/playground-env/src/main/scala/org/ergoplatform/playgroundenv/models/DummyBlockchainSimulationImpl.scala#L24 or need more conditions?

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/0fd15a64b5efb9cce2f0126349f98390a8aab22a/playground-env/src/main/scala/org/ergoplatform/playgroundenv/models/DummyBlockchainSimulationImpl.scala
ergo-playgrounds/DummyBlockchainSimulationImpl.scala at 0fd15a64b5e...
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/5ZlHRUX4MB1n8MMYEJtRXw_IM1EQI-FiG1LLtUjwhBw/https/opengraph.githubassets.com/75dd7d63f36b2d0a2c8357213d6078be7a6649079c06b41a406695164edd34b9/ergoplatform/ergo-playgrounds


[10/08/2021 5:18 AM] greenhat#6562
@code_For_Uss I'll take a look. We need to pass data input boxes in ctx to verifier. How urgent is this?


[10/08/2021 8:42 AM] code_For_Uss#1058
Maybe this example can help the participants in the hackathon, is there any other way besides playground to create an example in ergoscript-by-example?


[10/08/2021 8:49 AM] greenhat#6562
No, I don't think so. I'll take a look at data inputs later today.


[10/08/2021 8:53 AM] code_For_Uss#1058
thanks


[10/08/2021 9:42 AM] Leif Erickson#8939
not sure this is the right place for this question, but I'm trying to find a way to query sigUSD and sigRSV for a wallet (I think this is how that works).  I can't seem to find an API, but have found AgeUSD which has a CLI that may work but I can't even get past `cargo build` as it complains about a missing dependency from ergo-lib ... am I even on the right path? I've added the minimum and the latest version of elliptical-curve (and even the ergo* libs) in the cargo.toml files (2 in this workspace).  Thanks for any help!?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/895954249312272395/unknown.png


[10/08/2021 10:00 AM] glasgowm#9381
Not sure but I would've thought the associated github for https://ergo.watch/ would help

https://github.com/abchrisxyz/ergowatch

{Embed}
https://ergo.watch/
ErgoWatch
Ergo Blockchain Stats & Monitoring

{Embed}
https://github.com/abchrisxyz/ergowatch
GitHub - abchrisxyz/ergowatch: Ergo blockchain stats
Ergo blockchain stats. Contribute to abchrisxyz/ergowatch development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/m9EGMVtxSoIaMkotkFYKP92FleMZ9VPUQfAU0adqZFU/https/opengraph.githubassets.com/0e6f0a5965bfed72e942f531f408fb85de33d0a629fbb40b38ae274659d2682c/abchrisxyz/ergowatch


[10/08/2021 10:05 AM] Leif Erickson#8939
That looks like it can provide point-in-time values, which I also need, thank you!  I will dig deeper tomorrow but I don't see a way to get wallet balances.


[10/08/2021 10:08 AM] glasgowm#9381
Ah I see, sure one of the @ERGOHACK Mentor will know

{Reactions}
üíØ 

[10/08/2021 10:18 AM] greenhat#6562
I'm updating oracle-core dependencies. You can check out https://github.com/ergoplatform/oracle-core/pull/12 . It builds just fine. To query tokens of a wallet you need node/explorer API. For Rust we have https://github.com/ergoplatform/ergo-node-interface-rust

{Embed}
https://github.com/ergoplatform/oracle-core/pull/12
update ergo-lib and ergo_offchain_utilities; by greenhat ¬∑ Pull Req...
https://images-ext-1.discordapp.net/external/GersafCTDIyZGQbYJULkV4Teq0jzipgD7EGXjF-KOjU/https/opengraph.githubassets.com/e8980182fb19582eb41fccc9200847072abd9074e33591f25cbed1f7abfb667e/ergoplatform/oracle-core/pull/12

{Embed}
https://github.com/ergoplatform/ergo-node-interface-rust
GitHub - ergoplatform/ergo-node-interface-rust: A Rust library whic...
A Rust library which makes interacting with and using an Ergo Node simple. Developed by EMURGO and Ergo Platform - GitHub - ergoplatform/ergo-node-interface-rust: A Rust library which makes interac...
https://images-ext-1.discordapp.net/external/NP4QWpw5S_bDDMGnrzmm8dmxzigtj87VCIj-PgqWdhE/https/opengraph.githubassets.com/b071a1a1394f4c493652dee37d51a9292c2cd053b56bd6e55ea25075b56b45b5/ergoplatform/ergo-node-interface-rust


[10/08/2021 10:55 AM] greenhat#6562
I added support for tx.dataInputs - https://github.com/ergoplatform/ergo-playgrounds/pull/20 . Try the published snapshot.

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/pull/20
add tx.dataInputs support; by greenhat ¬∑ Pull Request #20 ¬∑ ergopla...
https://images-ext-1.discordapp.net/external/aPQtOadUM2wl0qM1DkRvqRs4l1eISfY2XdwoCs_2zng/https/opengraph.githubassets.com/2f05532d51e54aa180cc78b68b1017013ad9e52a32fccd605e8f3c81ff9230e8/ergoplatform/ergo-playgrounds/pull/20


[10/08/2021 11:03 AM] code_For_Uss#1058
thanks, I think `TransactionDsl` should be updated as well for support dataInputs.


[10/08/2021 11:16 AM] greenhat#6562
Oops. Thanks for catching this. Added - https://github.com/ergoplatform/ergo-playgrounds/pull/20/checks?check_run_id=3837346966

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/pull/20/checks?check_run_id=3837346966
add tx.dataInputs support; by greenhat ¬∑ Pull Request #20 ¬∑ ergopla...
https://images-ext-1.discordapp.net/external/kexik41bAep9mHJFGSKnvsJOteca3j5Wx3Bke3v6ljM/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/180349

{Reactions}
üëç 

[10/08/2021 5:59 PM] Leif Erickson#8939
Thanks!


[10/08/2021 11:04 PM] Cheese Enthusiast#0548
Hey does anybody know how to get ERG for testing on the testnet?


[10/08/2021 11:05 PM] Cheese Enthusiast#0548
The link on this github page doesn't seem to work anymore


[10/08/2021 11:05 PM] Cheese Enthusiast#0548
https://github.com/ergoplatform/ergo/wiki/Ergo-Testnet

{Embed}
https://github.com/ergoplatform/ergo/wiki/Ergo-Testnet
Ergo Testnet ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - Ergo Testnet ¬∑ ergoplatform/ergo Wiki
https://images-ext-1.discordapp.net/external/6TGjgaEegszO3i2-OTP__HbQ8kJB_sX3YFCR25nnNkY/https/opengraph.githubassets.com/837147cd514650d0753843a342ac40cdd9231843ff21e06e829fc7c7ef66159e/ergoplatform/ergo


[10/08/2021 11:10 PM] Cheese Enthusiast#0548
I found the new website that works for anybody else who may not have found it: https://testnet.ergofaucet.org/

{Embed}
https://testnet.ergofaucet.org/
Ergo Faucet
Ergo Faucet


[10/08/2021 11:17 PM] zargarzadehmoein#2928
@kushti @MrStahlfelge please update link of testnet faucet in wiki and wallet-android repo.

{Reactions}
üëç 

[10/09/2021 12:23 AM] Marty#4039
Anyone good at doing recursion in javascript? I'm trying to add up values from an object array


[10/09/2021 12:24 AM] Marty#4039
`[{"x":"Ergo","y":9266.827215408302},{"x":"WT_ADA","y":8000},{"x":"Tulip","y":4437.5},{"x":"Petunia","y":1000},{"x":"kushti","y":3510}]`


[10/09/2021 12:24 AM] Marty#4039
the Y values are (number of coins * price of coin) theoretically, but i want to add all the Y values for total portfolio value


[10/09/2021 12:26 AM] themiurge#0558
Looks like something a .reduce() would be perfect for


[10/09/2021 12:26 AM] themiurge#0558
See https://stackoverflow.com/a/23249575

{Embed}
https://stackoverflow.com/a/23249575
Better way to sum a property value in an array
I have something like this:
$scope.traveler = [
            {  description: 'Senior', Amount: 50},
            {  description: 'Senior', Amount: 50},
            {  description: 'Adult', Amount: 75...
https://images-ext-1.discordapp.net/external/VbfwnzN2MM794XNccNxDzrB1YeuPrxR53y11bwRfflY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon%402.png


[10/09/2021 12:26 AM] Marty#4039
i agree, but i'm having an issue putting it together since it's an array of multiple objects


[10/09/2021 12:26 AM] Marty#4039
so you can't use object.reduce


[10/09/2021 12:26 AM] Marty#4039
let me check that link


[10/09/2021 12:27 AM] Marty#4039
oh yeah that link seems like it'll work, thanks


[10/09/2021 12:28 AM] themiurge#0558
Np


[10/09/2021 12:29 AM] Marty#4039
it worked! combining .map with .reduce.. clever


[10/09/2021 12:29 AM] themiurge#0558
üòÅ


[10/09/2021 1:24 AM] Cheese Enthusiast#0548
Does anybody know how long on average it takes for a node to sync with the testnet? I've been running it for a few hours now and it still says active synchronization on the dashboard.


[10/09/2021 3:04 AM] Marty#4039
Depends on the cpu I think. Took like 1/3 of a day on my raspberry Pi, a couple hours on my desktop


[10/09/2021 5:48 AM] kii#8888
Hi, I'm trying to understand the logic of UTXO transactions and dumb it down to a layman understandable concepts.

Currently I'm trying to understanding ErgoAddressEncoder.fromProposition. For this function, would it be correct to say:
We want to create a box that is now owned by anyone, so we use a script to generate an address and send the box there. When the user pay that address, the box is created with that script.

In a way, creating from Proposition essentially creates a box as a middleman for transactions to occur


[10/09/2021 7:19 AM] greenhat#6562
This does not sound right to me. One creates a box with a transaction and box's script protects/guard that box. So whoever can make the script to be evaluated to true can spend that box. Address is a script representation form, serialized ErgoTree(script) with a few header bytes.


[10/09/2021 7:35 AM] kii#8888
if thats the case, when we send ergs to an address by converting a script to its address. How would you describe that scenario?


[10/09/2021 7:36 AM] kii#8888
And then we use that box for different transaction. If I'm not mistaken, its a proxy contract. But what does that mean in terms of boxes.


[10/09/2021 10:06 AM] vegycslol#1714
Let's say person A wants to send 10 erg to person B from utxo that has 7 erg. He creates a tx with 2 boxes:
1.  A box containing 5 erg whose script can be unlocked by the person who knows the private key of person B's addreess (that's obviously person B)
2.  A box containing 2 erg which can be unlocked by person A's private key (he gets his change back)


[10/09/2021 10:22 AM] vegycslol#1714
Note that i ignored the fees, so the 2 erg box would actually be 1.99 erg box if fees are 0.01 erg


[10/09/2021 10:58 AM] kii#8888
That makes sense.


[10/09/2021 10:58 AM] kii#8888
Can ergoscript store maps?


[10/09/2021 10:59 AM] kii#8888
I've only seen it been used with Collections, but i'm not sure about maps yet


[10/09/2021 11:46 AM] greenhat#6562
No maps. You can store a key and a value as a tuple in a collection and theoretically access it by key via Coll.find but that would drive script cost way too high. What do you need maps for? Maybe we can find an alternative.


[10/09/2021 11:48 AM] kii#8888
We are thinking of using maps to store the lenders and the amount they lend to a lending fund, so that we can repay them the right amount.


[10/09/2021 12:13 PM] kii#8888
Essentially it‚Äôs used to verify the amount needed to return to each address that has lended ergs


[10/09/2021 12:33 PM] greenhat#6562
AVL tree might be a good fit for that. Check out ICO contracts - https://github.com/ScorexFoundation/sigmastate-interpreter/blob/c863a9b1a82589e47b15f76f3affdb30a475e740/sigmastate/src/test/scala/sigmastate/utxo/examples/IcoExample.scala#L254-L303

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/c863a9b1a82589e47b15f76f3affdb30a475e740/sigmastate/src/test/scala/sigmastate/utxo/examples/IcoExample.scala
sigmastate-interpreter/IcoExample.scala at c863a9b1a82589e47b15f76f...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/IcoExample.scala at c863a9b1a82589e47b15f76f3affdb30a475e740 ¬∑ ScorexFoundation/sigmastate-i...
https://images-ext-2.discordapp.net/external/wmnl-VHxe1schXxnvWCZCQaWfDEL4VgZBp0zcqD7My0/https/opengraph.githubassets.com/de340f6dbfe589cec6537495007dd81f4a3dd4a4d72ca3f4b6be98fcee02c1b1/ScorexFoundation/sigmastate-interpreter


[10/09/2021 4:13 PM] Ghazi#3339
Any documentation/tutorial on how to connect frontend (angular) with the smart contract?


[10/09/2021 5:25 PM] glasgowm#9381
There's general TS library and a JS template for dApp development but not sure of anything specific in interacting with a smart-contract @root7Z  ?


[10/09/2021 5:39 PM] root7Z#8699
i think this one is with react app, does it work? https://github.com/ergoplatform/ergo-node-interface

{Embed}
https://github.com/ergoplatform/ergo-node-interface
GitHub - ergoplatform/ergo-node-interface: Interface for Ergo node
Interface for Ergo node. Contribute to ergoplatform/ergo-node-interface development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/CHpXVvWUXqfrudqqT3RG-LtGwNHpZxfAWQz6l95bsX0/https/opengraph.githubassets.com/a241ee0e394aca27e20484beb5f768999675aaddb5f1f07807c3e793d6b26e88/ergoplatform/ergo-node-interface


[10/09/2021 5:41 PM] glasgowm#9381
Think that's the interface for the node panel


[10/09/2021 6:08 PM] Thales#6915
Hi there, the examples we have found do not make use of prepare input boxes, but they are just using unspentboxes like this for example userParty.selectUnspentBoxes(toSpend = userFunds).

how can we put a custom box as input to the transaction 

val participantBox = Box(value = 4000000L,
                          script = contract(userParty.wallet.getAddress.pubKey))

val ticket = Box(value = 1000000L,
                script = ticketContract,
                register = (R4 -> pinNumber.getBytes()),
                 token = (quidToken -> 20)
                )


val purchaseTransaction = Transaction(
      inputs       = List(participantBox.outputs(0)),
      outputs      = List(ticket),
      fee          = MinTxFee,
      sendChangeTo = userParty.wallet.getAddress
    )

we get a "value outputs is not a member of org.ergoplatform.ErgoBoxCandidate" error

{Reactions}
üòÜ 

[10/09/2021 6:55 PM] code_For_Uss#1058
Hi
You can not use a box that does not exist on the simulated blockchain as input
first, generate an initial fund with `alice.generateUnspentBoxes(` and then create your custom box using it.

{Reactions}
üëç 

[10/09/2021 7:01 PM] Thales#6915
okay doing that now

{Reactions}
üëç 

[10/09/2021 8:33 PM] kii#8888
GitHub.com/ergoraffle/raffle-front end


[10/09/2021 9:05 PM] Thales#6915
how to put multiple tokens into one box?

val ticket = Box(value = 1000000L,
                script = ticketContract,
                registers = Map(R4 -> pinNumber.getBytes(), R5 -> pinNumber.getBytes(), R6 -> pinNumber.getBytes(), R7 -> pinNumber.getBytes()),
                 token = (quidToken -> 20)
                )

{Reactions}
üëÄ 

[10/09/2021 9:05 PM] Thales#6915
tokens = Map(quidToken -> 20, quidToken2 -> 21) doesnt work


[10/09/2021 9:15 PM] D3473R#7900
Hi, has anyone succeded importing ergo-ts (https://github.com/coinbarn/ergo-ts) into angular yet? I've got problems with the commonjs module

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/896491182497103962/Screenshot_from_2021-10-09_21-17-52.png

{Embed}
https://github.com/coinbarn/ergo-ts
GitHub - coinbarn/ergo-ts
Contribute to coinbarn/ergo-ts development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/npvXEHPVqCf3sRbvSYvOgr5aR0tC0ZoaeHaBtbgiOkM/https/opengraph.githubassets.com/94e2da6dd501c0a231d0d1988eba78ad15e23d72e9c8a51053ad94592ca9e43d/coinbarn/ergo-ts

{Reactions}
üëÄ 

[10/09/2021 10:26 PM] code_For_Uss#1058
@greenhat  please review https://github.com/ergoplatform/ergo-playgrounds/pull/21

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/pull/21
Update BoxDsl for support tokens by code-for-uss ¬∑ Pull Request #21...
Added tokens parameter to BoxDsl
https://images-ext-1.discordapp.net/external/WaxWtdLaYHcnjfwrhbjYGHJ5Qild8PbXfjK02c_HVBk/https/opengraph.githubassets.com/ce57ddc2abcc05427eb6f58e9ff4d1949081441aada40f3c34f49ef412be8e5f/ergoplatform/ergo-playgrounds/pull/21

{Reactions}
üçâ ü¶æ 

[10/09/2021 11:40 PM] abdi#0075
any devs awake?


[10/10/2021 12:44 AM] Thales#6915
this would be great, if we would get this feature, we are unfortunately blocked by this as we need two tokens to emit from one block


[10/10/2021 1:04 AM] kii#8888
Can i assume that a box can have 0 value, but have a contract script.


[10/10/2021 1:07 AM] kii#8888
If every script results to an address. Does that mean that every address results to a script?


[10/10/2021 5:14 AM] greenhat#6562
Thank you! Merged. Here is the snapshot version - `0.0.0-88-a781666a-SNAPSHOT` after the merge (including merged tx data inputs PR #21). /cc @Thales

{Reactions}
üëç (2) 

[10/10/2021 6:39 AM] fateme.r#4033
1- Each box must have a minimum erg value. (It's about 10000 nano ergs)
2- every valid address, results to a script (it may be a public key). Every random string is not a valid address.


[10/10/2021 10:56 PM] RobertLucian#5498
Regarding @Jumei 's linked example, I'm also attempting to run the freezecoin example. Did the following things in this particular order:
1. Started the node on the testnet and let it sync. Also set the API key.
2. Created the wallet from the mnemonic.
3. Draw funds from the faucet to my wallet. Waited for it to show up in the wallet.
4. In https://github.com/ApexTheory/appkit-by-example/blob/main/ergo_config.json, changed `apiUrl` to `http://localhost:9052/`, changed `apiKey` to the api key I set in step 1, set the mnemonic to the mnemonic configured in step 2 and set the `ownerAddress` to the derived address in the wallet (for which I've also confirmed the funds).
5. `sbt clean compile run` and then selected option 1. For this, I get the following error. Couldn't copy-paste the code because it would go over discord's limit.

Any idea why it's not seeing the ergs in the wallet?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/896878763365769226/Screen_Shot_2021-10-11_at_00.54.50.png


[10/10/2021 11:40 PM] kii#8888
Hi, i'm looking at the ergo-raffle code, and within this code, theres raffle = {
    token = {
        nft = "00ee077...ebef"
    }
}

How can we generate something like this for our own code?


[10/10/2021 11:54 PM] zargarzadehmoein#2928
Hi
token key is a config in our project
I don't understand what's your problem? Issue NFT token?


[10/10/2021 11:56 PM] kii#8888
i'm still new to the ecosystem, so thanks for being patient with me in advanced.

I'm interested in doing something similar, to have a nft token. But I assume the string that came after the nft = 
Is generated somewhere or in some ways. How do we generate them?


[10/11/2021 12:01 AM] zargarzadehmoein#2928
Are you familiar with issuing tokens other than nft?


[10/11/2021 12:01 AM] kii#8888
i went through ergo-utils. but i didnt thought that was the one


[10/11/2021 12:01 AM] kii#8888
I'm like super new to this, tryna hack my way into understanding while building stuff haha

{Reactions}
üëç 

[10/11/2021 12:02 AM] zargarzadehmoein#2928
Maybe this will give you more insight into the assets
https://github.com/ergoplatform/eips/blob/master/eip-0004.md

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0004.md
eips/eip-0004.md at master ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/f1SAWdF3WGW2BlCeevFS7f0mJqjKC-V3KDMzEM7v_Dk/https/opengraph.githubassets.com/2aa095a05f9eb2a8a36ed6a76041ecf63fdb54cd4f2850e04869de782f8c3a52/ergoplatform/eips


[10/11/2021 12:05 AM] Apextheory#6577
@RobertLucian node port should be 9052,  just a typo on your end?


[10/11/2021 12:06 AM] kii#8888
ill check that out


[10/11/2021 12:06 AM] kii#8888
thank you üôÇ


[10/11/2021 12:06 AM] RobertLucian#5498
It was a typo. It was set to 9052 indeed.


[10/11/2021 12:07 AM] Apextheory#6577
Can you run it in debug mode and confirm the ErgoWallet is retrieved from context?


[10/11/2021 12:22 AM] RobertLucian#5498
Would that be `-d`, `-debug-inc` or `-v`? Also, where should I expect to see the wallet being retrieved? I suppose once I select the option, right?


[10/11/2021 12:30 AM] zargarzadehmoein#2928
The simplest way to issue a token is, with the help of ergo-utils or your ErgoNode Panel, but if you want to issue your own token without the need this tools (manually), you can do this using tools such as your Ergo Node API or appkit, etc.
I think the main difference between NFT tokens and other tokens is that they are unique, In the case of raffle we use nft token as a token that identifies the Raffle service box


[10/11/2021 12:31 AM] zargarzadehmoein#2928
Tell me if you needed anything else


[10/11/2021 12:31 AM] kii#8888
Thats exactly what I'm tryna do. trying to figure out how to generate the hash or something. I dont know what that string is called


[10/11/2021 12:33 AM] kii#8888
Also, is there a way for us to test our app with testerg or something. if so how?


[10/11/2021 12:35 AM] zargarzadehmoein#2928
This hash is Token Id (token identifier),
```
A transaction can create out-of-thin-air tokens in its outputs if the token identifier is equal to the identifier of the first input box of the transaction. As the box identifier is cryptographically unique, there's no chance to have the second token with the same identifier while the hash function being used is collision-resistant. This rule also means that only one new token per transaction can be created. 
```


[10/11/2021 1:05 AM] kii#8888
Did you generate the service box independently when ergo-raffle was first started?


[10/11/2021 7:32 AM] fateme.r#4033
Yes. All token issues were done at the initialization phase.


[10/11/2021 7:41 AM] Marty#4039
does anyone know if there's more than one sigRSV token? or are people just making their own fakes


[10/11/2021 7:41 AM] Marty#4039
https://explorer.ergoplatform.com/en/addresses/9fzbB9JftKcNQkUmSijaW42KwX7yxQoXoyW4Jg41jzY8GAvrqTJ


[10/11/2021 7:42 AM] Marty#4039
https://explorer.ergoplatform.com/en/addresses/9fzbB9JftKcNQkUmSijaW42KwX7yxQoXoyW4Jg41jzY8GAvrqTJ


[10/11/2021 8:05 AM] glasgowm#9381
Yeah there was 2 versions of Sigmausd.io


[10/11/2021 8:05 AM] glasgowm#9381
I believe those two links are identical tho


[10/11/2021 8:19 AM] abchris#8522
There are some test tokens and a funny one as well. Search for sigrsv on ergotokens.org.


[10/11/2021 8:40 AM] Marty#4039
woops one sec


[10/11/2021 8:41 AM] Marty#4039
this site doesn't seem to work atm


[10/11/2021 8:42 AM] Marty#4039
here's the other wallet with two 
https://explorer.ergoplatform.com/en/search?query=9ggp7PZZouKj8gZ4c1BEKBPDcDKwU1Nm9XVuhqQpGFzDJAf8ygi


[10/11/2021 8:50 AM] abchris#8522
Seems broken on mobile, but works fine on laptop. I see two SigRSV tokens, one created at block 432896, the other at 453031, that's the one I linked to earlier.


[10/11/2021 9:23 AM] Marty#4039
i got this address from your link


[10/11/2021 9:24 AM] Marty#4039
but when i put it into sigmarsv website, it actually puts the sum of both as if both are valid sigrsv tokens


[10/11/2021 9:24 AM] Marty#4039
so i'm making the assumption there's two, one from V1


[10/11/2021 9:39 AM] abchris#8522
I just put that address (9ggp7PZZ) in sigmausd.io, shows 31500, so that would be V2. With old.sigmausd.io it shows 240000, that's V1.
Not for today but you try to look at the sigmausd.io frontend to see how it tells them apart?


[10/11/2021 9:40 AM] abchris#8522
Unless it just picks a random one üôÉ


[10/11/2021 9:40 AM] Marty#4039
It was only showing me dollar value at $305


[10/11/2021 9:45 AM] abchris#8522
In the header?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/897042189929025567/Screen_Shot_2021-10-11_at_9.44.32_PM.png


[10/11/2021 4:41 PM] MGpai#4313
are there any smart contracts for minting nfts?


[10/11/2021 4:44 PM] MGpai#4313
does ergo utils use smart contracts to mint?


[10/12/2021 1:42 AM] MGpai#4313
Can someone share the smart contract used to mint nfts?


[10/12/2021 3:34 PM] Thales#6915
Hi folks, where do you host your scala backends? Heroku? Or is there a preferred provider to host our ergoscala apps? THANKS


[10/12/2021 4:20 PM] glasgowm#9381
https://hetzner.com/ has worked well for me

{Reactions}
üëå 

[10/12/2021 10:18 PM] Leif Erickson#8939
Hey, anyone willing to help me orient a bit with intellij and sbt with ergo?  I got to a good place to debug and digging in to code, and having spent way too much time trying to get things going with vscode/metals (and WSL goofed me up a bit) lol...anyway, I'm getting there just nice to hear from other devs so I can focus on the actual code. Thanks!


[10/12/2021 10:48 PM] Marty#4039
Question for devs who've worked with this. If I'm checking a token to see if it's an NFT, will R7 ever have something besides `0e020101` for an image or `0e020102` for audio? Are there other things to look out for in R7, or a better way to confirm i'm dealing with an NFT?


[10/12/2021 10:49 PM] Marty#4039
Yes ergo utils builds your smart contract for you based on everything you enter/upload


[10/12/2021 10:51 PM] MGpai#4313
and how can I view the code for this smart contract also


[10/12/2021 10:52 PM] MGpai#4313
also what are .scala files?


[10/12/2021 10:52 PM] Marty#4039
You can check their github


[10/12/2021 10:52 PM] Marty#4039
I don't recall off the top of my head exactly where in the code it does this.


[10/12/2021 10:53 PM] MGpai#4313
are the smart contract file extensions .sc?


[10/12/2021 10:55 PM] Marty#4039
i dont think it's seperate. it's generated in the page, with javascript, IIRC


[10/12/2021 10:55 PM] MGpai#4313
oh ok


[10/12/2021 10:55 PM] Marty#4039
you aren't interacting with a smart contract on the website


[10/12/2021 10:55 PM] Marty#4039
you're just building the smart contract, by adding your image or audio data, adding what address the smart contract should send the NFT to, etc


[10/12/2021 10:56 PM] Marty#4039
the code builds that smart contract with your relevant data, and gives you the smart contract hash


[10/12/2021 10:56 PM] MGpai#4313
right that makes sense


[10/12/2021 10:56 PM] Marty#4039
you then send the relevant number of erg to cover the fee to that hash as a transaction, adn that then processes the contract on chain


[10/12/2021 10:56 PM] Marty#4039
i may be wrong about this, i'm no expert, but that's what it looked like to me when i checked into it before briefly. please follow up though and DYOR


[10/12/2021 10:57 PM] MGpai#4313
ok and with ergo dex you interact with smart contracts right?


[10/12/2021 10:57 PM] Marty#4039
doesn't it just make a transaction hash for you?


[10/12/2021 10:57 PM] Marty#4039
i only used the beta once


[10/12/2021 10:58 PM] Marty#4039
i don't have yoroi nightly on this computer to confirm that for you


[10/12/2021 10:59 PM] MGpai#4313
ok I will just ask the devs


[10/12/2021 10:59 PM] MGpai#4313
thanks for your insight!


[10/12/2021 10:59 PM] Marty#4039
try it out, see what happens


[10/12/2021 11:00 PM] MGpai#4313
üëç


[10/12/2021 11:06 PM] glasgowm#9381
what are you trying to do? I'd recommend sdkman for managing jdk/sbt.


[10/12/2021 11:12 PM] Leif Erickson#8939
I think I'm just making things harder than they need to be...simple things like is sbt 1.5.2 ok, or use the one from build which is 1.3.4, and just use latest jdk?  Then any common settings (i.e. sbt build tool, and scala compiler)...for some reason intellij keeps tryiung to use the wsl jdk but I'm not using wsl for this work, just doing it locally.  Anyway, I keep kinda restarting when something breaks to understand, and thought I'd ask all of you beautiful people so I don't waste time üôÇ


[10/12/2021 11:13 PM] Leif Erickson#8939
I'm checking out sdkman now!


[10/12/2021 11:16 PM] Leif Erickson#8939
also, am I making it harder working on Win10?  I can use my laptop with ubuntu also


[10/12/2021 11:28 PM] glasgowm#9381
aye its a PITA but I think the latest ones should work fine, sdkman makes it a lot easier to manage


[10/12/2021 11:29 PM] glasgowm#9381
win10 should be fine I think


[10/12/2021 11:29 PM] glasgowm#9381
but commands and stuff might be different of course if you're following tutorials


[10/12/2021 11:40 PM] Leif Erickson#8939
ya, lived in linux/win world for a bit, that part doesn't scare me üôÇ


[10/12/2021 11:58 PM] Leif Erickson#8939
ah, looks like sdkman is linux or wsl for windows, which is causing me issues currently.  I'll stick with just latest version there I think.


[10/13/2021 12:01 AM] Leif Erickson#8939
I am really digging intellij...I've been a big fan of vscode for years, but there are just some really amazing features, and the layout is impressive!


[10/13/2021 12:02 AM] glasgowm#9381
yeh its really a must for jvm projects imo, vscode for everything else ^^


[10/13/2021 12:27 AM] Leif Erickson#8939
I'm currently getting this on build
`[error] (update) sbt.librarymanagement.ResolveException: Error downloading org.mongodb:casbah_2.12.10:3.1.1` , I found this and added it to libraryDependencies in build.sbt (although don't think this is necessary), rebuilt...just learning curve stuff, hope it's ok to put that here?  I can figure this out on my own, esp. if I'm the only one in the learning curve right now


[10/13/2021 12:43 AM] glasgowm#9381
yeah you can get intelliJ to grab them automatically but its a pain to setup iirc


[10/13/2021 1:58 AM] Leif Erickson#8939
Ok, thanks for the hints!  ...it was working before Ergohack pretty well, so shouldn't be too hard to get going again


[10/13/2021 2:40 AM] Leif Erickson#8939
...just trying not to miss anything basic


[10/13/2021 6:55 AM] MGpai#4313
I am currently solo mining testnet erg @150 mhs


[10/13/2021 6:55 AM] MGpai#4313
it it worth it?


[10/13/2021 6:56 AM] MGpai#4313
or is there a faucet somewhere?


[10/13/2021 7:43 AM] zargarzadehmoein#2928
testnet.ergofaucet.org


[10/13/2021 2:53 PM] MGpai#4313
nevermind I got 18k from mining lmao


[10/13/2021 6:00 PM] Luivatra#9076
is it possible to see in one of the registers of an nft box whether it is an image or something else?


[10/14/2021 7:06 PM] Luivatra#9076
@anon_real how do you figure out the mint address of nft? I looked at the input box of the first tx with the nft in it, but it seems to not always be correct.


[10/15/2021 1:57 AM] Marty#4039
yeah you can determine that


[10/15/2021 1:59 AM] Marty#4039
box R7 will be `0e020102` for audio, `0e020101` for image, usually


[10/15/2021 1:59 AM] Marty#4039
i've seen some that don't follow that scheme, but i'm not sure if they're considered valid


[10/15/2021 2:14 AM] Marty#4039
Are there docs that elaborate on this? https://www.ergoforum.org/t/ergo-terminology-a-box-and-a-register/32

{Embed}
https://www.ergoforum.org/t/ergo-terminology-a-box-and-a-register/32
Ergo terminology: a Box and a Register
Ergo has Bitcoin-like UTXO transactional model: a transaction is spending one-time objects and creating new one-time objects. We call this object a box. A box is immutable object which could be only created or removed. A box is not simply a coin, rather, it is contains registers with data (and code). Even more, there‚Äôs nothing in box but registe...


[10/15/2021 2:15 AM] Marty#4039
could explain various registers and how NFTs use them


[10/15/2021 8:20 AM] anon_real#2768
I am not sure if I understand the question. You mean when you mint using ergoutils?


[10/15/2021 8:23 AM] Luivatra#9076
No when you look at an existing nft, but I think I figured it out, look up the token with api/v1/tokens/{tokenId}, then the box with api/v1/boxes/{boxId}, then tx with api/v1/transactions/{tx_id} and take the address of the input box


[10/15/2021 8:23 AM] Luivatra#9076
is that how you do it in the auction house or is there an easier way?


[10/15/2021 8:26 AM] anon_real#2768
So you want the address that issued the token?


[10/15/2021 8:27 AM] anon_real#2768
You can do `api/v1/boxes/{tokenID}` to  get the first input box in the  tx that has issued the token.


[10/15/2021 9:56 AM] Leif Erickson#8939
can someone help me understand SigmaBoolean? I'm getting things to work, but I'm not real clear yet.


[10/15/2021 1:15 PM] code_For_Uss#1058
@greenhat 
Is the possible to sign an unsigned transaction with two wallets (Party) in ergo-playground env?


[10/15/2021 1:25 PM] greenhat#6562
Do you mean distributed signatures? No, it's not supported yet.


[10/15/2021 1:29 PM] code_For_Uss#1058
Yes, I have a transaction that has two input boxes, one for Alice and the other for Bob


[10/15/2021 1:34 PM] greenhat#6562
Oh, that's not distributed sig that's  different wallet per input. But no, although it's easier to implement there is no support for this yet.


[10/15/2021 1:35 PM] code_For_Uss#1058
um ok, thanks for your help


[10/16/2021 8:48 PM] Jedaka#1930
Anyone have a link to a simple mainnet execution hello world tutorial?


[10/16/2021 8:48 PM] Jedaka#1930
Pinlock or anything like that, seems like a gap between ergobyexample tutorials where you can test in the playground and how to actually execute something.


[10/16/2021 8:58 PM] Marty#4039
https://github.com/ergoplatform/ergoscript-by-example


[10/16/2021 8:58 PM] Marty#4039
the first one is a pin lock contract


[10/16/2021 8:59 PM] Marty#4039
https://www.youtube.com/watch?v=8l2v1asHgyA


[10/16/2021 8:59 PM] Marty#4039
https://www.youtube.com/watch?v=Wn_w9F_MX8w


[10/16/2021 9:01 PM] Jedaka#1930
So from the pinlock example, the send transaction would be blockchainSim.send(depositTransactionSigned)


[10/16/2021 9:01 PM] Jedaka#1930
how do you connect to the mainnet to send that transaction in reality?


[10/16/2021 9:02 PM] Marty#4039
if you put the script in the playground, you'll see it spits out a hashed version


[10/16/2021 9:02 PM] Marty#4039
you send ergo to that hash


[10/16/2021 9:02 PM] Jedaka#1930
// Create a simulated blockchain (aka "Mockchain")
val blockchainSim = newBlockChainSimulationScenario("PinLock Scenario")


[10/16/2021 9:02 PM] Marty#4039
oh, yeah in that version they simulate the transactions


[10/16/2021 9:03 PM] Marty#4039
sorry i meant something different


[10/16/2021 9:03 PM] Marty#4039
in a real scenario, you have to send ergo to those smart contracts


[10/16/2021 9:03 PM] Jedaka#1930
ah I see, val contractAddress = Pay2SAddress(pinLockContract.ergoTree)
println("Pin Lock Contract Address: " + contractAddress)


[10/16/2021 9:03 PM] Marty#4039
`val pinLockScript = s"""
  sigmaProp(INPUTS(0).R4[Coll[Byte]].get == blake2b256(OUTPUTS(0).R4[Coll[Byte]].get))
""".stripMargin`


[10/16/2021 9:03 PM] Marty#4039
that's the smart contract


[10/16/2021 9:04 PM] Marty#4039
so if you read the top section, under "Create Pin Lock Contract", it explains


[10/16/2021 9:04 PM] Jedaka#1930
how does the withdraw box get executed? println(withdrawTransaction)


[10/16/2021 9:06 PM] Marty#4039
I think if you watch the youtube videos, you'll see how it works


[10/16/2021 9:06 PM] Marty#4039
i don't know it well enough to explain, sorry

{Reactions}
üëç 

[10/16/2021 9:06 PM] Marty#4039
some of it is code meant to just generate the transactions in the simulator


[10/16/2021 9:07 PM] Marty#4039
but in a real contract, you'd send a transaction with certain data and that would execute the deposit side of the contract, and then a second transaction would be sent with certain data to execute the withdrawl transaction


[10/16/2021 9:07 PM] Marty#4039
those contracts can be generated. so like if i made a website where you can put your address in, and the pin code, then it'll generate the hash for you


[10/16/2021 9:08 PM] Marty#4039
you send the correct amount of ergo to that hash, it'll execute the deposit, based on the code you wrote into the form of the website.


[10/16/2021 9:08 PM] Marty#4039
you then need to create a second form which would generate the withdrawal contract as well


[10/16/2021 9:08 PM] Marty#4039
if you check the github for things like ergoutils, you'll see how they generate the contracts in the page, and then you have to go to your wallet and manually send the transaction


[10/16/2021 9:09 PM] Jedaka#1930
the first part seems like it makes sense, I could just send a transaction through yoroi to fund the contract


[10/16/2021 9:09 PM] Marty#4039
yeah but it's gotta contain certain data


[10/16/2021 9:09 PM] Marty#4039
like the pin code


[10/16/2021 9:09 PM] Marty#4039
since yoroi doesn't have that functionality, you generate that with a website or an app


[10/16/2021 9:10 PM] Jedaka#1930
do you generally submit the transaction to your own node?


[10/16/2021 9:10 PM] Marty#4039
in my experience, using ergoutils, all i had to do was fill the form, it made the utxo with all the required data and gave me a hash

{Reactions}
üëç 

[10/16/2021 9:11 PM] Marty#4039
i then sent the correct amount of ergo to that hash, as if i was sending erg to another wallet, and it executed the smart contract with the data i wanted


[10/16/2021 9:11 PM] Marty#4039
in that case, i was making a token, so i put the name of the token, number to mint, how many decimals. the person who built ergoutils figured out how that smart contract would function and created a web form that builds it using my inputs.


[10/16/2021 9:12 PM] Jedaka#1930
appreciate the help, going to look at the stuff you mentioned


[10/16/2021 9:13 PM] Marty#4039
np good luck


[10/16/2021 9:14 PM] Marty#4039
i've yet to really learn it


[10/16/2021 9:14 PM] Marty#4039
they're slowly building lots of great examples


[10/16/2021 9:15 PM] Jedaka#1930
here we go, here's docs I am more comfortable with


[10/16/2021 9:15 PM] Jedaka#1930
https://github.com/ergoplatform/ergo-appkit

{Embed}
https://github.com/ergoplatform/ergo-appkit
GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot D...
Appkit: A Library for Polyglot Development of Ergo Applications - GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/9DZXenZxlnFHtTl5a4BC4ncUV6G0R7aKrfCkNC2I8XE/https/opengraph.githubassets.com/2ca5c78e0a8cff79d8cd3a88b9bc6f0029295c5d33626e66f24220b768f888cf/ergoplatform/ergo-appkit


[10/16/2021 9:17 PM] Marty#4039
oh, i get you


[10/16/2021 9:18 PM] Marty#4039
do you know scala?


[10/16/2021 9:19 PM] Jedaka#1930
no, python, c#, javascript, java - they all kinda look the same


[10/16/2021 9:19 PM] Jedaka#1930
really what I was looking for was a clear 'instantiate this object pointing at that api with keys'


[10/16/2021 9:21 PM] Marty#4039
oh ok, then maybe to your previous question you'd run a full node as part of the backend you'll need


[10/16/2021 9:21 PM] Marty#4039
i think they detail that in the appkit you found

{Reactions}
üëç 

[10/16/2021 11:25 PM] Apextheory#6577
https://www.youtube.com/watch?v=Md5s-XV6-Hs
I show you how to send the pinlock to testnet using a local node and appkit in this video


[10/16/2021 11:27 PM] Apextheory#6577
I think it's exactly what you're looking for


[10/17/2021 12:44 AM] Leif Erickson#8939
Heya, Im in a similar position I think.  I spent waaaay too much time trying to get ergo running in vscode, then switched to intellij and spent waaaay too much time trying to tweak sbt, but have a pretty decent setup now and working on a bounty that has introduced me to some really interesting parts of the code.  I'm pretty close to complete, but happy to help with what I just learned.  If you are really interested and catch up quick, happy to split any bounty I receive.  Some of the info is prob good for this channel, but some is likely better in DM so feel free anytime, most nights last couple weeks I've been either working on the bounty or researching something interesting in the IDE or SCALA!


[10/17/2021 12:46 AM] Leif Erickson#8939
Also, @Apextheory , thanks for the video, this is fantastic!!

{Reactions}
üëç (3) 

[10/17/2021 11:43 AM] zargarzadehmoein#2928
@greenhat 
Hi, I wanted to use `Travis` for my team projects (CI stack, github release (maybe different OS) and docker release) but I realized that ergoplatform repositores have changed from `Travis` to `Github Actions` I wanted to know why, Travis had a limit or is it something else?


[10/17/2021 11:52 AM] greenhat#6562
Travis after it was acquired gone done the "maximize the profits" route gradually closing its free offering to open source projects until it became a joke. GA meantime has grown into a full-fledged CI/CD suite well fitted into github ecosystem(obviously).

{Reactions}
‚úÖ 

[10/17/2021 11:55 AM] greenhat#6562
The last time I look at Travis they were giving some monthly points to open-source projects that you can spend on jobs that are no longer free. üôÇ


[10/17/2021 11:56 AM] greenhat#6562
I cannot think of any job type which Travis can do but GA cannot.


[10/17/2021 11:59 AM] zargarzadehmoein#2928
thanks for the tips


[10/17/2021 3:43 PM] Jedaka#1930
Awesome, thank you!


[10/18/2021 12:06 AM] Leif Erickson#8939
Hey all, I am pretty close to first PR ergo, and I am trying to use signMessage method from sigmastate.interpreter, and I can get the message from the API already, but not sure where to get the private key.  Can someone help? Ideally it will be a sigmaTree or the object type is sigmaBoolean, but I basically need the private key to find the signature.  I have most of the code written and just need to output a signature. Anyone able to help me a little here? Thanks!

{Reactions}
üíØ (2) 

[10/18/2021 11:55 AM] kushti#0978
Secrets are stored inside  ErgoProvingInterpreter instance which is in turn is inside the wallet (see WalletVars). I guess you just need to call an ErgoProvingInterpreter's method to sign


[10/18/2021 5:02 PM] code_For_Uss#1058
@greenhat 
I think adjusting the creationHeight in `BoxDsl` is forgotten in the implementation of setHeight and getHeight, https://github.com/ergoplatform/ergo-playgrounds/blob/d5d297df1d4369a94d0b95b3fa3ee1d856aa19c6/playground-env/src/main/scala/org/ergoplatform/playgroundenv/dsl/BoxDsl.scala#L45
after send transaction in simulated blockchain `creationHeight` of outputs is `0`, while the height of 100 is set before creating outboxes (`blockchainSim.setHeight(100)`)

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/d5d297df1d4369a94d0b95b3fa3ee1d856aa19c6/playground-env/src/main/scala/org/ergoplatform/playgroundenv/dsl/BoxDsl.scala
ergo-playgrounds/BoxDsl.scala at d5d297df1d4369a94d0b95b3fa3ee1d856...
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/-f9kDBaVEuLsjdzMqDDqXoYgQckXZtCg4SC9OHhVV-k/https/opengraph.githubassets.com/974775303777a50d5771513ac143679e6690cd0447daa952814e1623232122ef/ergoplatform/ergo-playgrounds


[10/18/2021 5:58 PM] greenhat#6562
Yes, you are right. Although adding one more parameter to Box ctor will get us closer to combinatorial explosion. I think decorating ErgoBoxCandidate with a setter is a better approach. Scala class extension might help us here.


[10/18/2021 9:24 PM] code_For_Uss#1058
Excuse me, I'm a little confused. Can you show me an example of this structure (I do not understand what you mean by `decorating ErgoBoxCandidate`)? 
Now I have this PR https://github.com/ergoplatform/ergo-playgrounds/pull/22

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/pull/22
Improve CreationHeight setter by code-for-uss ¬∑ Pull Request #22 ¬∑ ...
https://images-ext-2.discordapp.net/external/fvm1tQA-40q_YhojPeBcjwZnFdJv16f9jJiz5VTOAP4/https/opengraph.githubassets.com/b8858636d406b2fd1f299c61b83d836a65631f9af59f6ed3558a348e45c976b7/ergoplatform/ergo-playgrounds/pull/22


[10/19/2021 12:40 AM] Kurikun#6941
I'm trying to understand some of the mechanics of token creation on Ergo, so I apologize if the question seems too basic.

I'm contemplating creating a collection of EIP-004 tokens (not NFTs)  that would be issued over a period of time (e.g. months or years), not in the same transaction.  Each token would be the same, but with perhaps two R register differences. Each token with a specific R9 for example, would be unique.

I want to understand how a person who receives a token could verify it was authentic.  I'm assuming I would be creating a smart contract to issue the tokens.  Would the SC provide some identifier in the issuing transaction that could be used to verify the token?

And, if I'm later querying the blockchain, would the same identifier be used to find all of the issued tokens?  And from there, I assume I could locate the token (e.g. which wallet it was in) through another API call.

Please let me know where I may be lacking in background, and I'll be happy to do further research.  thanks!

p.s. Is TokenId required to be unique? I think it may not be, which may be a way to group these.  How do I ensure that my SC is the only one that can issue a token with that ID?


[10/19/2021 6:46 AM] greenhat#6562
I thought of a class extension for ErgoBoxCandidate to "add" a method returning a new instance with creationHeight set. Never mind, your approach is much better! I left a comment.


[10/19/2021 6:58 AM] greenhat#6562
Token id of the minted token is the id of the first input box in the token minting transaction. This is checked in node's transaction validation - https://github.com/ergoplatform/ergo/blob/246ac2918028462a07dff19ea1ca35e4e15bb5e0/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala#L197-L197
Thus, you cannot mint more tokens with the same id. You can mint all the token amount once and lock it with a smart contract with a defined release scheme of some sort.

{Embed}
https://github.com/ergoplatform/ergo/blob/246ac2918028462a07dff19ea1ca35e4e15bb5e0/src/main/scala/org/ergoplatform/modifiers/mempool/ErgoTransaction.scala
ergo/ErgoTransaction.scala at 246ac2918028462a07dff19ea1ca35e4e15bb...
Ergo protocol description & reference client implementation - ergo/ErgoTransaction.scala at 246ac2918028462a07dff19ea1ca35e4e15bb5e0 ¬∑ ergoplatform/ergo
https://images-ext-2.discordapp.net/external/F6PM7cjo9X_F1L_Z4fPaCnNtLRTfNEx09u-pZs9nVvQ/https/opengraph.githubassets.com/8a0c02479ed61c311705b7f982cd73966c11d1e19f3a8140d6ce420d941df302/ergoplatform/ergo


[10/19/2021 7:47 AM] Kurikun#6941
Thank you, I understand about the token Id.
I'm not guessing it will be possible to mint the tokens all at once because they will have a register setting that will not be known at mint time.
For example, a purchaser of a token will supply a custom value at purchase time "foo bar", and that value will be recorded in a register, among others.

While the tokens are all minted at different times, I want to be able to be able to show these as a "collection" or group of tokens and identify them with a common value that is not able to be created by another token developer, if that makes sense.


[10/19/2021 8:19 AM] greenhat#6562
From the top of my head. You could first mint one "authority" token(NFT) and then include it in the first input box when minting a "target" token returning it to your wallet(address) on each "target" mint. Then, all the "target" token ids would correspond to spent boxes with NFT "authority" token. So the check if "target" token is genuine would be to find the spent box with "target" token id and check if NFT "authority" token was there. 
Keep in mind that the token does not have registers, only the box does.

{Reactions}
üëç 

[10/19/2021 9:10 AM] code_For_Uss#1058
According to your comment, is the process of set height in the BoxDsl and BlockchainSimulation separate or do you have any other solution in mind?


[10/19/2021 9:11 AM] code_For_Uss#1058
For example, we can set height by a function in https://github.com/ergoplatform/ergo-playgrounds/blob/develop/playground-env/src/main/scala/org/ergoplatform/playground.scala

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/blob/develop/playground-env/src/main/scala/org/ergoplatform/playground.scala
ergo-playgrounds/playground.scala at develop ¬∑ ergoplatform/ergo-pl...
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/-f9kDBaVEuLsjdzMqDDqXoYgQckXZtCg4SC9OHhVV-k/https/opengraph.githubassets.com/974775303777a50d5771513ac143679e6690cd0447daa952814e1623232122ef/ergoplatform/ergo-playgrounds


[10/19/2021 9:12 AM] greenhat#6562
I think they should be separate. Think of BoxDsl a factory producing box candidates. It should not be tight coupled with BlockchainSim.


[10/19/2021 9:18 AM] code_For_Uss#1058
Updated PR


[10/19/2021 9:26 AM] greenhat#6562
Thanks! Merged.

{Reactions}
üëç 

[10/19/2021 10:44 AM] SpaceCityCowboy88#0714
Where would one go to learn more about this? Specifically what I've circled.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/899956207643672586/unknown.png


[10/19/2021 10:47 AM] SpaceCityCowboy88#0714
Are there any ergo block explorer docs?


[10/19/2021 10:51 AM] zargarzadehmoein#2928
I think this can help you
https://github.com/ergoplatform/ergo/wiki#anatomy-of-an-ergo-transaction

{Embed}
https://github.com/ergoplatform/ergo/wiki
Home ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - Home ¬∑ ergoplatform/ergo Wiki
https://images-ext-2.discordapp.net/external/F6PM7cjo9X_F1L_Z4fPaCnNtLRTfNEx09u-pZs9nVvQ/https/opengraph.githubassets.com/8a0c02479ed61c311705b7f982cd73966c11d1e19f3a8140d6ce420d941df302/ergoplatform/ergo

{Reactions}
üëç 

[10/19/2021 10:51 AM] SpaceCityCowboy88#0714
thanks


[10/19/2021 8:10 PM] Leif Erickson#8939
I think have this correct already, but I'm getting a response I'm not familiar with.  I may not be using the ergotree/SigmaBoolean param correctly (used in signMessage function of ProvingInterpreter). I'm still doing a lot of reading and orienting on codebase...I don't have rights to push branch to show where I'm at (if this is helpful, I can just publish to my own GitHub site).  The new API routes should be mostly complete, and I'm just trying to understand what I'm doing wrong with sign and verify calls.


[10/19/2021 9:42 PM] kushti#0978
can you show your code ?


[10/19/2021 9:43 PM] kushti#0978
you can issue all tokens at once (with the same id) and lock them in a UTXO which contract is specifying how tokens can be released (registers, releasing schedule etc)


[10/19/2021 9:50 PM] NoahErgo#4349
Hi guys. I am not a developer but I made a logo for the ergofaucet.org page and I was wondering if you could help me figure out who is in charge of the website so they could add it

I have a nice SVG I can share. This is just a mockup image below

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/900123719513538650/ErgoFaucet_Mockup.png

{Reactions}
üëè 

[10/19/2021 10:09 PM] kushti#0978
@mhs_sam ^


[10/19/2021 11:23 PM] Leif Erickson#8939
Here is a fork and just the changes, https://github.com/WinterTFG/ergo/tree/i1392

{Embed}
https://github.com/WinterTFG/ergo/tree/i1392
GitHub - WinterTFG/ergo at i1392
Ergo protocol description & reference client implementation - GitHub - WinterTFG/ergo at i1392
https://images-ext-1.discordapp.net/external/z2qs53zOJcBoBfMsoYyFJCCU3lMqkA7C5hiouFRc9SY/https/opengraph.githubassets.com/7878d0410dcff515a3b9fce29a2365cfd9c939ad04950e07beb6103acf35289b/WinterTFG/ergo


[10/19/2021 11:28 PM] Leif Erickson#8939
when I unlock the wallet and query to API route `r.post("http://localhost:9052/wallet/signMessage", headers=headers, json={'message': 'helloworld'}).content`, I get this: `{"signature" : "org.ergoplatform.nodeView.wallet.ErgoWalletActor$$anonfun$org$ergoplatform$nodeView$wallet$ErgoWalletActor$$loadedWallet$1$$Lambda$2963/0x00000008016fad80@71da9d9c"}` (the r.post is python, just using for quicker and more scripted debugging for now)


[10/19/2021 11:30 PM] Leif Erickson#8939
I have tried other combinations, including seeing if I could get `org.ergoplatform.wallet.interpreter.ErgoProvingInterpreter`.sign(...) to work, but the signMessage() you recommended is where I'm at now.


[10/19/2021 11:32 PM] Leif Erickson#8939
I have not spent any time yet on verify...other than configuring the route


[10/20/2021 11:58 AM] kushti#0978
@Leif Erickson please check how signTransaction(...) is implemented, your code would be similar, just .signMessage to be called from a prover, not .sign

Please add public key to sign and hints (for distributed signing support) to the signMessage API method

Public key in case of Ergo's Generalized Schnorr signatures is about SigmaBoolean type, see sigmaBooleanEncoder / sigmaBooleanDecoder for json encoder/decoder needed for the API method

{Reactions}
üíØ 

[10/20/2021 4:09 PM] Apextheory#6577
I am getting this error when running the node...settings not loaded correctly?
```
[ERROR] [10/20/2021 15:00:35.386] [ergoref-akka.actor.internal-dispatcher-4] [akka://ergoref/user/$b] null
akka.actor.ActorInitializationException: akka://ergoref/user/$b: exception during creation
        at akka.actor.ActorInitializationException$.apply(Actor.scala:196)
                    ...
Caused by: java.lang.reflect.InvocationTargetException
                    ...
Caused by: java.lang.NullPointerException
        at scala.collection.mutable.ArrayOps$ofRef$.length$extension(ArrayOps.scala:204)
        at scala.collection.mutable.ArrayOps$ofRef.length(ArrayOps.scala:204)
        at scala.collection.IndexedSeqOptimized.isEmpty(IndexedSeqOptimized.scala:30)
        at scala.collection.IndexedSeqOptimized.isEmpty$(IndexedSeqOptimized.scala:30)
        at scala.collection.mutable.ArrayOps$ofRef.isEmpty(ArrayOps.scala:198)
        at org.ergoplatform.nodeView.ErgoNodeViewHolder.restoreState(ErgoNodeViewHolder.scala:107)
        at scorex.core.NodeViewHolder.$init$(NodeViewHolder.scala:57)
        at org.ergoplatform.nodeView.ErgoNodeViewHolder.<init>(ErgoNodeViewHolder.scala:29)
        at org.ergoplatform.nodeView.UtxoNodeViewHolder.<init>(ErgoNodeViewHolder.scala:280)
        ... 19 more
```


[10/20/2021 4:11 PM] Apextheory#6577
Null pointer here ```if (ErgoHistory.historyDir(settings).listFiles().isEmpty)```


[10/20/2021 6:06 PM] code_For_Uss#1058
@greenhat 
I have a transaction that its inputs protected by script, is there option sign transaction without specific wallet sign method in playground?


[10/20/2021 9:58 PM] kushti#0978
do you have full log ? settings are null? what are in first lines of the log ?


[10/20/2021 10:14 PM] Apextheory#6577
```Picked up _JAVA_OPTIONS: -Xmx3G
20:45:24.379 INFO  [main] org.ergoplatform.ErgoApp - Running with args: Args(Some(/etc/ergo.conf),Some(TestNet))
20:45:24.402 INFO  [main] o.e.settings.ErgoSettings$ - Running in testnet network mode
20:45:25.488 INFO  [main] org.ergoplatform.ErgoApp - Working directory: /home/ergo/.ergo
20:45:25.488 INFO  [main] org.ergoplatform.ErgoApp - Secret directory: /home/ergo/.ergo/wallet/keystore
20:45:26.003 INFO  [ctor.default-dispatcher-8] s.c.n.NetworkController - Declared address: None
20:45:26.037 INFO  [ctor.default-dispatcher-6] s.c.n.NetworkController - Successfully bound to the port 9020
20:45:26.084 INFO  [tor.default-dispatcher-12] s.c.n.NetworkController - Registering handlers for List((1,GetPeers message), (2,Peers message))
[ERROR] [10/20/2021 20:45:26.093] [ergoref-akka.actor.internal-dispatcher-3] [akka://ergoref/user/$b] null
```


[10/20/2021 10:24 PM] kushti#0978
[ERROR] [10/20/2021 20:45:26.093] [ergoref-akka.actor.internal-dispatcher-3] [akka://ergoref/user/$b] null - what is this about ?


[10/20/2021 10:25 PM] kushti#0978
please keep me updated!


[10/21/2021 1:54 AM] Apextheory#6577
This was my own stupidity üòÖ permissions issue on the .ergo directory (I had moved my node to docker)

{Reactions}
üëçüèª 

[10/21/2021 6:15 AM] greenhat#6562
What do you mean by "without specific wallet sign method"? If inputs are protected by scripts that reduce to booleans it means the proofs will be empty so prover(wallet) does not have to have secrets. Technically we don't need a prover for this case, but you can't tell until you evaluate the scripts.


[10/21/2021 2:10 PM] Marty#4039
Have you solved this yet? When you mint a token, it'll always show the address that minted it. Perhaps you could create a specific ergo wallet that only mints these tokens? Any token made by this wallet belongs to your unique nft group


[10/21/2021 7:42 PM] Kurikun#6941
I am still working though learning more and looking at the available api methods on my node.

I was reminded by @greenhat  that registers are properties on a box, not a token, which was useful.

Following that revelation, when a token is minted, I assume you can add properties to the initial box and they will persist in new boxes as the token's box is spent and transferred to another address. 

But I think that any registers added after initial mint might not be permanent and can be updated or deleted as boxes are spent and new boxes is created. True?

I need to have either one of two things be possible:

* I need to mint a large number of tokens in an initial mint, and then permanent stamp a register that cannot be altered or removed as a token is moved out of the initial box to another address.  This would be ideal because all tokens would have the same id, making querying easy.

* Tokens would be minted one at a time over a period of days/weeks/months.  At mint time I add the custom register value.  In this scenario, potentially we could use the minting address to verify authenticity. 

I will need to check and see what the query time is like to find tokens like this.  In my requirements, I need to be able to find one of these tokens in a wallet that has a specific register value within one second or less.

For example, assume there are 100,000 tokens issued and in wallets.  I need to be able to find the specific token I've issued where R9 contains the string "foo" and return the mailbox, ideally very quickly.  R9 can never be modified or changed.  Fun times!


[10/21/2021 7:47 PM] Marty#4039
You can search tokens by minting address is what I'm suggesting


[10/21/2021 7:48 PM] Marty#4039
So if your smart contract always mints tokens from the same address, you can just search all tokens minted by that address


[10/21/2021 7:48 PM] Marty#4039
I'm pretty sure nft registers don't change either? For example, an image NFT is minted with R7 being 0x20102 (something like that) and that stays even if they're transferred


[10/21/2021 11:33 PM] Kurikun#6941
I assumed that registers that were established on mint couldn't/wouldn't change, but is it possible to create/update/delete new registers on subsequent transfers which create new boxes?  For example, the NFT you mention will always have the R7 value that it was minted with.  But could I hypothetically add an R9 after minting if a new box was created, and how permanent would that be?

I just need more time in the Ergo Playground üôÇ


[10/22/2021 9:28 AM] kushti#0978
Register is box-specific, so R7 can be cleared in subsequent transactions (in UTXO model, every UTXO  aka box is individual).


[10/22/2021 8:42 PM] weskinner#4666
https://explorer.ergoplatform.com/en/transactions/ab02be44c8aa133a588f658bd0ee411beb295fc3d5ecd967c7a30ffa995ed453

Any idea why this new asset isn't showing up under Issued Tokens page?


[10/22/2021 10:00 PM] kushti#0978
@Ilya | Spectrum ^


[10/22/2021 10:50 PM] Kurikun#6941
Do you mind if I dm you? I will be brief.  I have been researching an approach for an Ergo Name Service (aka friendly wallet names) and would appreciate feedback.


[10/22/2021 10:52 PM] kushti#0978
Sure, DM me


[10/22/2021 11:14 PM] Ilya | Spectrum#0494
Results aren't sorted by issue date on this page, so it is there but somewhere deep in the list. 
https://api.ergoplatform.com/api/v1/tokens/search?query=3c06458a


[10/23/2021 2:27 AM] weskinner#4666
gotcha thanks


[10/23/2021 8:42 AM] Leif Erickson#8939
@kushti for 1392, signing a message I have tried a few scenarios (partly just to learn the codebase better and not rush a solution, esp. my first on this project).  I have been able to sign a message and I thought maybe to create the case class for ErgoMessage, but it seems kind of expensive to build this out completely and sign a message.  However, without actually signing an unsigned transaction, this new class cannot inherit from ErgoLikeTransaction.  There are a couple ways to solve this, but I wanted to ask.  I'll keep working on a minimal solution and move on to verifySignature and change later if needed.  Thanks!


[10/23/2021 8:47 AM] Leif Erickson#8939
Also, a more general question about issue 1392 (sign/verify an arbitrary message) is that there are some libraries offering alternative to jwt with blockchain wallet.  It seems like this might be handy to include and may also  need to add some jwt-like info to the hash?  Does this seem reasonable?  Is this something worth adding to the issue?


[10/25/2021 12:22 AM] Cheese Enthusiast#0548
Does anyone know if the testnet is up? I'm having trouble connecting to it


[10/25/2021 2:47 AM] Leif Erickson#8939
I see an error 522 currently on testnet explorer


[10/25/2021 2:56 PM] kushti#0978
why do you need for ErgoMessage to be inherited from ErgoLikeTransaction ?


[10/25/2021 2:57 PM] kushti#0978
what is jwt ?


[10/25/2021 6:33 PM] Kurikun#6941
jwt is Json Web Tokens.  A way of exchanging claims in a claim-based authentication system.  https://jwt.io/introduction

{Embed}
https://jwt.io/introduction
JWT.IO - JSON Web Tokens Introduction
Learn about JSON Web Tokens, what are they, how they work, when and why you should use them.
https://images-ext-1.discordapp.net/external/w7OFQE89LO0MXIlFviNcdQS6hPg18Ays0HR-Iog0BBg/http/jwt.io/img/twitter-card.png


[10/25/2021 10:47 PM] kushti#0978
Interesting, so you propose to use them in node's wallet ?


[10/26/2021 6:59 AM] Leif Erickson#8939
Yes. I think that the sign/verify issue 1392 would work well here. An example goal for web3.js or web3.py is to include ERGO as an authentication option (alternative to JWT).  I'm still getting familiar with the codebase, so I may need help if I'm taking too long.


[10/26/2021 7:35 AM] Leif Erickson#8939
@kushti I just rewrote the sign and verify code from your comments last week; also upd to 4.0.15. If this looks good, then please ignore my earlier question about ErgoLikeTransaction. I still need a little more understand of ergo signing, and currently can sign and get a reasonable looking response but I don't think it's correct yet.  I can also verify and it returns false. https://github.com/WinterTFG/ergo .. I have a python script I have been testing with if useful I'll add to repo.  Thanks!!

{Embed}
https://github.com/WinterTFG/ergo
GitHub - WinterTFG/ergo: Ergo protocol description & reference clie...
Ergo protocol description & reference client implementation - GitHub - WinterTFG/ergo: Ergo protocol description & reference client implementation
https://images-ext-1.discordapp.net/external/z2qs53zOJcBoBfMsoYyFJCCU3lMqkA7C5hiouFRc9SY/https/opengraph.githubassets.com/7878d0410dcff515a3b9fce29a2365cfd9c939ad04950e07beb6103acf35289b/WinterTFG/ergo


[10/26/2021 7:56 AM] kii#8888
Hi @zargarzadehmoein , would we be able to access a testnet panel? 

If we're building a dapp, and wants to use testnet. Would we just change these to the testnet configuration?

node.url = "http://213.239.193.208:9053/"
node.networkType = "MAINNET"
explorer.url = "https://api.ergoplatform.com/"
explorer.front = "https://explorer.ergoplatform.com/"


to 

node.url = "http://213.239.193.208:9052/"
node.networkType = "TESTNET"
explorer.url = "https://testnet.ergoplatform.com/"
explorer.front = "https://explorer.ergoplatform.com/"


Would these be all we need to do to setup our backend to run against testnet?

If we want to start transaction, lets say we initiated a proxy contract, and it asks for 15 testERG, we can just send the 15 testERG, and everything will carry out similar to interacting with the real API, but it will be for testnet right?

Are there anything else we need to know/be aware of?


[10/26/2021 7:57 AM] kii#8888
Also, I'm trying to access the faucet and testnet.ergoplatform.com, but it seems server is down? Error 521 for testnet.ergoplatform, and 503 for faucet.


[10/26/2021 8:54 AM] kushti#0978
any help needed ?


[10/26/2021 8:57 AM] Leif Erickson#8939
Yes, I'm not if I'm calling sign and verify properly.  I start with an unsigned transaction and add a message...that seems to give a result, but any help would be really great!


[10/26/2021 9:03 AM] kushti#0978
ok , is your code updated ?


[10/26/2021 9:11 AM] Leif Erickson#8939
Yes, updated. I pushed about an hour ago to the fork above (don't have perms on ergo platform, not sure you want that anyway)


[10/26/2021 9:20 AM] kushti#0978
eventually, why not )


[10/26/2021 9:21 AM] Leif Erickson#8939
No problem, just let me know where you want me to push!


[10/26/2021 12:13 PM] MrStahlfelge#0042
you can make a PR without having access rights

{Reactions}
üíØ 

[10/26/2021 12:22 PM] zargarzadehmoein#2928
@Dmitry Usov 
@Ilya | Spectrum 
guys, testnet explorer is down, please check

{Reactions}
üëç 

[10/26/2021 12:26 PM] zargarzadehmoein#2928
Hi
Yes, changing this configuration is enough to change the network. In Raffle, we use the node only to broadcast our transactions in the network, so there is no need to set up a separate node, and any public node can be used in the network.


[10/26/2021 12:36 PM] zargarzadehmoein#2928
also you are right about proxy contact and there is nothing other than the different addresses of the testnet network compared to the mainnet network.
now I have no other point to help you, if something comes to my mind I will let you know
also for access panel, DM me to give you access to a testnet node


[10/26/2021 12:54 PM] glasgowm#9381
https://www.reddit.com/r/ergonauts/comments/qg3fus/how_do_i_get_the_current_price_of_erg_with_the_api/

{Embed}
https://www.reddit.com/r/ergonauts/comments/qg3fus/how_do_i_get_the_current_price_of_erg_with_the_api/
r/ergonauts - How do I get the current price of ERG with the API?
0 votes and 1 comment so far on Reddit


[10/26/2021 1:13 PM] zargarzadehmoein#2928
I think there are two solutions:
- Oracle ERG-USD
- API of Coingecko


[10/26/2021 2:09 PM] MrStahlfelge#0042
yeah, Android wallet uses Coingecko because it can return a lot of currencies (fiat and crypto)

{Reactions}
üëå 

[10/26/2021 5:04 PM] Ilya | Spectrum#0494
Testnet API is up
https://api-testnet.ergoplatform.com/blocks


[10/26/2021 5:43 PM] zargarzadehmoein#2928
now front is down


[10/26/2021 6:15 PM] Dmitry Usov#0134
testnet is alive


[10/26/2021 6:39 PM] kii#8888
Sent you friend request

{Reactions}
üëç 

[10/26/2021 9:36 PM] kushti#0978
I'm confused, https://github.com/WinterTFG/ergo up-to-date with ergoplatform's master

{Embed}
https://github.com/WinterTFG/ergo
GitHub - WinterTFG/ergo: Ergo protocol description & reference clie...
Ergo protocol description & reference client implementation - GitHub - WinterTFG/ergo: Ergo protocol description & reference client implementation
https://images-ext-1.discordapp.net/external/z2qs53zOJcBoBfMsoYyFJCCU3lMqkA7C5hiouFRc9SY/https/opengraph.githubassets.com/7878d0410dcff515a3b9fce29a2365cfd9c939ad04950e07beb6103acf35289b/WinterTFG/ergo


[10/26/2021 9:51 PM] Leif Erickson#8939
Apologies, I must have screwed something up.  I'll create a pull request from my i1392 branch (local) into the remote dev branch on ergoplatform when I get home


[10/26/2021 10:22 PM] kushti#0978
ping me then please


[10/27/2021 12:01 AM] Leif Erickson#8939
Is there a common use for community devs?  I feel like I've used git/github in so many different ways that I prob just doing something funny cause how I've used it before


[10/27/2021 2:12 AM] Leif Erickson#8939
I created a PR and also sent you a DM, thanks!


[10/27/2021 2:26 AM] Cheese Enthusiast#0548
Hey guys, I'm running into issues with using flatMap in ergoscript and am wondering I could get some help.


[10/27/2021 2:33 AM] Cheese Enthusiast#0548
I currently have a ```Coll[Coll[(SigmaProp, Coll[Byte])]]``` that I am simply trying to flatten into a ```Coll[(SigmaProp, Coll[Byte])]```
I tried ```flatMap{ (x : Coll[(SigmaProp, Coll[Byte])]) => x }``` but am running into an error that says: ```Unsupported lambda in flatMap: allowed usage `xs.flatMap(x => x.property)```


[10/27/2021 2:40 AM] Cheese Enthusiast#0548
I experimented a bit and it seems that while method calls like ```x.filter()``` do not work, simple properties like ```x.size``` do.  I suppose this is expected as per the langspec and error, but is there really no way to simply flatten the collection? I tried using fold to achieve the same result and got a different error.


[10/27/2021 2:46 AM] Cheese Enthusiast#0548
Since my original collection came from a pair, I also tried flatMap on a collection of pairs(of collections) by doing ```flatMap{x => x._1}``` but got the same unsupported lambda error as before


[10/27/2021 6:28 AM] Kurikun#6941
Hi, I'm looking for the source for classes like org.platform.ErgoAddressEncoder, org.platform.ErgoAddress, etc.  They are documented here: https://www.javadoc.io/static/org.scorexfoundation/sigma-state_2.11/3.2.1/index.html#org.ergoplatform.ErgoAddressEncoder but I can't seem to find them in the ergo or ergo-appkit repos.  Are they in a different library?

Sorry, scala not my first language üôÇ  Any pointers?  thankd


[10/27/2021 7:27 AM] Kurikun#6941
Here? --> https://github.com/ScorexFoundation/sigmastate-interpreter/blob/fada073b82a16a928c457693b888da4c0310aca6/sigmastate/src/main/scala/org/ergoplatform/ErgoAddress.scala

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/fada073b82a16a928c457693b888da4c0310aca6/sigmastate/src/main/scala/org/ergoplatform/ErgoAddress.scala
sigmastate-interpreter/ErgoAddress.scala at fada073b82a16a928c45769...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/ErgoAddress.scala at fada073b82a16a928c457693b888da4c0310aca6 ¬∑ ScorexFoundation/sigmastate-...
https://images-ext-1.discordapp.net/external/WH_FGQ9ChBI_-zpvFF7A7xCC5m2uRxSXBc-f4BzNZ2o/https/opengraph.githubassets.com/55ffb326779e212354605281f894cbf18091f2ad81f5c19480d2795abb42e48c/ScorexFoundation/sigmastate-interpreter


[10/27/2021 7:29 AM] greenhat#6562
I'm surprised that simple returning x does not work. @morphic  any ideas?


[10/27/2021 7:29 AM] greenhat#6562
Yes


[10/27/2021 7:36 AM] kii#8888
Still getting this for getting testnet erg

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/902807978464378900/Screen_Shot_2021-10-26_at_11.35.58_PM.png


[10/27/2021 8:02 AM] zargarzadehmoein#2928
now faucet available here -> testnet.ergofaucet.org


[10/27/2021 8:03 AM] kii#8888
It says invalid wallet address when i use my yoroi address. Am I suppose to use a different one?


[10/27/2021 8:05 AM] zargarzadehmoein#2928
In testnet network you need an address with type testnet.


[10/27/2021 8:06 AM] Cheese Enthusiast#0548
For what it's worth, I think this is the relevant piece of code which I got from the stacktrace. It seems to be in sigmastate.evals.CostingRules. If I'm reading it right, I don't think passing x by itself is possible.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/902815567398965308/Capture.PNG


[10/27/2021 8:06 AM] kii#8888
That makes sense. i'm running a testnet node now. Is the port to testnet node same as ergoplatform node?


[10/27/2021 8:07 AM] zargarzadehmoein#2928
for `explorer.url` in testnet `http://api-testnet.ergoplatform.com/`
explorer.front `https://testnet.ergoplatform.com`


[10/27/2021 8:10 AM] kii#8888
Actually can confirm that its not the same ü§£


[10/27/2021 8:10 AM] Cheese Enthusiast#0548
I believe it's 9052 for testnet

{Reactions}
üëå (2) 

[10/27/2021 8:13 AM] kii#8888
yay! Thank you!


[10/27/2021 8:23 AM] greenhat#6562
yes, you're right. I meant that the whole idea of restricting lambda to only certain ops in flatMap was to not allow complex nested ops (DoS attacks, etc.). I don't see how restricting "return x" helps. Seems like we should've allowed it.


[10/27/2021 8:30 AM] Cheese Enthusiast#0548
Ah okay thats a sensible reason for the restriction. Since using flatMap and returning x won't be working, do you think there might be a way around this using fold? I tried using fold with the append function and element 0 of the collection and instead got a ```java.util.NoSuchElementException: key not found: Item```


[10/27/2021 9:36 AM] greenhat#6562
I'd say it should work. Something like this:
```
 collcoll.fold(Coll[(SigmaProp, Coll[Byte])](), {(acc: Coll[(SigmaProp, Coll[Byte])], b: Coll[(SigmaProp, Coll[Byte])]) =>
    acc.append(b)
})
```
Although, I'm not sure for zero (empty coll). Alternatively, for zero first `collcoll` element might be used.


[10/27/2021 9:39 AM] greenhat#6562
_summon_ @morphic for help with fold üôÇ


[10/27/2021 10:20 AM] kushti#0978
@morphic can provide more details (and maybe rules are documented somewhere, due to current ahead-of-time cost estimation, there are limits for arguments of functions which complexity can be exploded. Will be different after 5.0 soft-fork coming with just-in-time costing


[10/27/2021 10:21 AM] kushti#0978
Yeah!


[10/27/2021 3:12 PM] morphic#4133
flatMap expects lambda to have x => x.property shape. Everything else is forbidden, including x => x, which is probably by mistake and should be relaxed in the future soft-forks.


[10/27/2021 3:27 PM] morphic#4133
Here is how flatMap methods are handled by AOT costing https://github.com/ScorexFoundation/sigmastate-interpreter/blob/27c1d6bfa208eadd52c601e3f56e61a5e70f85a3/sigmastate/src/main/scala/sigmastate/eval/CostingRules.scala#L631


[10/27/2021 3:30 PM] morphic#4133
I remember I forbidded using Append inside Fold to avoid creating really big collections.


[10/27/2021 3:30 PM] morphic#4133
But I cannot find the code üôÇ


[10/27/2021 4:13 PM] greenhat#6562
@morphic I couldn't find it as well. :) I hope fold will do the job.


[10/28/2021 5:55 PM] Zeydenn#1909
hi ergonauts üòÑ i'm an artist and i want to create NFT on ergo to contribute to it. But i'm not a dev, did you think this can work to generate images with multiple layers ? https://github.com/benyaminahmed/nft-image-generator

{Embed}
https://github.com/benyaminahmed/nft-image-generator
GitHub - benyaminahmed/nft-image-generator
Contribute to benyaminahmed/nft-image-generator development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/xt-BnX1NXgE19SbAa_CwhpHC6WoF3i4gn6amngp29iQ/https/opengraph.githubassets.com/b2fc01cccf99075123f0239a98abe7075170836f5bee881a8c4609b2f53b9625/benyaminahmed/nft-image-generator


[10/29/2021 2:43 PM] Lucas-Gaming#2484
Hello, i'm working on ERGO v4.0.13 on testnet network, 
I would like to understand how to send transaction on testnet network.
I initialize two wallets, i mined with one of them and I want to send 1 ERGO to the another one. 

I tried the method  `/wallet/payment/send` via swagger API. I got this error
```
 NotEnoughTokensError(not enough boxes to meet token needs Map(4ab9da11fc216660e974842cc3b7705e62ebb9e0bf5ff78e53f9cd40abadd117 -> 100000) (found only Map()))
```

Here's my Body request
```
data := Payload{
     {
    Address: "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
    Value:   100000,
    Assets: []Assets{
        {
                "4ab9da11fc216660e974842cc3b7705e62ebb9e0bf5ff78e53f9cd40abadd117",
            100000,
        },
     },
     Register: Registers{
"100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301",
      },
   },
}
```

Structure of the payload
```
type Payload []struct {
    Address   string    `json:"address"`
    Value     int       `json:"value"`
    Assets    []Assets  `json:"assets"`
    Register Registers `json:"registers"`
}
type Assets struct {
    TokenID string `json:"tokenId"`
    Amount  int    `json:"amount"`
}
type Registers struct {
    R4 string `json:"R4"`
}
```

I  also tried `wallet/transaction/send` and I also got an error
```
{
  "error": 400,
  "reason": "bad.request",
  "detail": "The request content was malformed:\nCan not find suitable decoder: MoveRight,DownArray,DownField(requests)"
}
```

That I learn is I have to create an UTXO by myself but I don't understand how it works

Could you tell me which method is the best one between `wallet/transaction/send` and `wallet/payment/send`
And It it's possible to have a working example ?

Thanks by advance


[10/29/2021 2:50 PM] glasgowm#9381
Think you want payment/send. 
https://glasgowm148.github.io/ergodocs/node/withdraw/
transaction/send is for dApps

https://glasgowm148.github.io/ergodocs/dev/scs/crowdfunding/#how-to-collect-donations


[10/29/2021 2:54 PM] Lucas-Gaming#2484
OK thanks a lot, I'll check it out


[10/29/2021 3:09 PM] Lucas-Gaming#2484
I solved several steps but now after tested the method `/wallet/payment/send` with this params
```
{
   "address":"3WxKUzXhJq4bhZxhF9WeqaLticbTRHRyPGUtuHTsQ1HDp8gGmsDi",
   "value": 100000000
}
```

Here's my error now
```
{
  "error": 400,
  "reason": "bad.request",
  "detail": "The request content was malformed:\nC[A]"
}


[10/30/2021 11:06 AM] kushti#0978
send 

[
{
   "address":"3WxKUzXhJq4bhZxhF9WeqaLticbTRHRyPGUtuHTsQ1HDp8gGmsDi",
   "value": 100000000
}
]


[10/30/2021 11:06 AM] kushti#0978
so with [] brackets


[10/31/2021 12:18 AM] Marty#4039
Is this still the most up to date token standard on Ergo? 
https://github.com/ergoplatform/eips/blob/master/eip-0004.md

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0004.md
eips/eip-0004.md at master ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/f1SAWdF3WGW2BlCeevFS7f0mJqjKC-V3KDMzEM7v_Dk/https/opengraph.githubassets.com/2aa095a05f9eb2a8a36ed6a76041ecf63fdb54cd4f2850e04869de782f8c3a52/ergoplatform/eips


[10/31/2021 12:25 AM] Marty#4039
I may have answered my own question as some sample NFTs i'm looking at state "type":"EIP-004"


[10/31/2021 1:36 AM] kyosaur#0665
Anyone know of the best way to write dApps for cardano and ergo? Im just getting back into programming (mostly did c++). Not sure if learning Plutus and Ergoscript is the only way or not. Ideally I'd learn a single language (functional programming is intimidating as is) and a framework to target both
[5:11 PM]
Is that to greedy of an ask?


[10/31/2021 1:38 AM] Marty#4039
ergoscript and plutus are different, and ergo is written in scala, while cardano is haskell. ergo has an appkit that allows dev in other languages, so you may be able to get it done. Both use eUTXO so the principals that work in one will sometimes work in the other. someone with more experience than i have can probably give you more detail but that's a start


[10/31/2021 1:40 AM] Marty#4039
Here's some helpful resources
https://github.com/ergoplatform/ergoscript-by-example
https://www.ergoforum.org/t/multi-platform-development-stack/2874
https://www.ergoforum.org/t/tx-assembler-service-bypassing-node-requirement-for-dapps/443
https://github.com/ergoplatform/ergo-appkit


[10/31/2021 2:09 AM] weirdhousenoisesat837pmeveryday#4778
Hello, is it possible for the oracle to report an array of values per transaction rather than a single number? Sorry if dumb/not well worded question, I dont have any coding experience and didn‚Äôt get any response when I asked on oracle-pools


[10/31/2021 2:09 AM] weirdhousenoisesat837pmeveryday#4778
For instance, if I had a smart contract that needed eth/usd and btc/usd, would you save on transaction fees by looking at a single oracle containing both rates rather than looking up each rate individually in separate oracles?


[10/31/2021 10:49 AM] glasgowm#9381
You'd use an oracle pool which would pull from multiple oracles. I don't see why you couldn't use an array - but not sure that's currently built in and you'd need all the other oracles in the pool to do the same


[10/31/2021 2:26 PM] weirdhousenoisesat837pmeveryday#4778
Thanks for the answer. I‚Äôll try to get more acquainted with it. I am thinking of a project in which I‚Äôd have to pull hourly data for two locations daily (so 48 data points per day) hence my question.


[10/31/2021 2:27 PM] weirdhousenoisesat837pmeveryday#4778
Thanks again üôè


[10/31/2021 10:50 PM] kushti#0978
To develop a dapp on Ergo:

1) develop contracts in ErgoScript  on top of simulated blockchain using Ergo Playground (see https://github.com/ergoplatform/ergoscript-by-example  repo)
2) develop offchain app to find inputs for your contracts, using Ergo Headless Dapps Framework (Rust), Ergo Blockchain Scanner  (agnostic) https://github.com/ergoplatform/scanner , Ergo AppKit (JVM languages)
3) develop UI, some examples available are https://www.ergoforum.org/t/multi-platform-development-stack/2874 , https://github.com/anon-real/ergo-js-template


[10/31/2021 10:52 PM] kushti#0978
I believe one of @mhs_sam 's students worked on oracle pools on arbitrary data (aiming to get consensus on IPFS hashes, so whether some content is available on IPFS)

{Reactions}
üôè 

[10/31/2021 11:55 PM] Cheese Enthusiast#0548
Unfortunately, it seems that the code you provided throws the same ```java.util.NoSuchElementException: key not found: Item``` error. I'm not sure if this is related to what @morphic mentioned earlier in regards to append not working in fold.


[11/01/2021 6:39 AM] greenhat#6562
Well, that sucks. Yeah, if append is forbidden in fold this option is off the table. I'm out of ideas.


[11/01/2021 6:42 AM] greenhat#6562
@morphic Any ideas on how to flatten coll of colls above with flatMap and fold+append out of the question?


[11/01/2021 6:57 AM] greenhat#6562
I made https://github.com/ScorexFoundation/sigmastate-interpreter/issues/744 /cc @morphic @Cheese Enthusiast

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/issues/744
Allow return `x` in `flatMap` (e.g. `flatMap { (x: ...) => x }`) ¬∑ ...
From discord https://discord.com/channels/668903786361651200/840313005064585246/902729968331685988 : I currently have a Coll[Coll[(SigmaProp, Coll[Byte])]] that I am simply trying to flatten into a...
https://images-ext-2.discordapp.net/external/yF0Cc1EvSB6T5cj5-ejW-4v_T0hT1543cMhuMfcqIVY/https/opengraph.githubassets.com/f5f60d56f2cd6ce4f1421320304cde31acbf9086a1ecdf062eae5c18a0afa20c/ScorexFoundation/sigmastate-interpreter/issues/744


[11/01/2021 7:12 AM] Cheese Enthusiast#0548
I looked at the available functions and thought about how flatMap works, and I think I've found a temporary way to get around this issue. Given the constraints for flatMap, I think I should be able to do the following:
```val flatIndices = collcoll.flatMap{ (x : Coll[(SigmaProp, Coll[Byte])]) => x.indices}```
This should give me a flattened list of the indices which I can then build off of. I'm thinking that I can then use the original `collcoll` and its indices along with `flatIndices.indices` to create some function that returns some pairs of indices `(x, y)` such that each element in `flatIndices` will map to a unique item in `collcoll` equal to `collcoll(x)(y)`. I'll try making this tomorrow, hopefully it works out.

I appreciate the pull request though, it will definitely make flattening a lot easier and my code a lot simpler üôÇ

{Reactions}
üëè 

[11/01/2021 7:17 AM] greenhat#6562
Hey! Cool idea! I believe it should work. BTW, I made an issue and not a PR. :)


[11/01/2021 9:26 AM] amsk#6884
Hello...Yes it's possible for Oracle pools to provide arbitrary data...Depending on the size and type of your data, you can make changes in oracle core  and smart contracts to run your own oracle pool...
So you may have an oracle pool that provides String type date...BTW in your case if you need an oracle pool to provide two numbers (Long or Int),  you can make minor changes in smart contracts and oracle core to achieve this functionality...

{Reactions}
üôè 

[11/01/2021 9:34 AM] amsk#6884
If you are working with numbers as data, you can use current oracle pools...You should only put each datapoint in one register inside boxes and then get consensus on each datapoint separately...


[11/01/2021 1:32 PM] weirdhousenoisesat837pmeveryday#4778
What is the limit on the amount that can be stored per register? I was looking here (https://github.com/ergoplatform/ergo/wiki/ErgoScript-Overview#storing-data) but wasn‚Äôt finding it.

{Embed}
https://github.com/ergoplatform/ergo/wiki/ErgoScript-Overview
ErgoScript Overview ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - ErgoScript Overview ¬∑ ergoplatform/ergo Wiki
https://images-ext-1.discordapp.net/external/Io4hQeBxJ_qUFOazLcje5FGqBVygvIlvkZwDngRdvM0/https/opengraph.githubassets.com/97c3657927793a22ba9ceb7e8b7da884d5e29b8701a2c0a845c0514a17089c1f/ergoplatform/ergo


[11/01/2021 1:40 PM] zargarzadehmoein#2928
https://discord.com/channels/668903786361651200/669989266478202917/884350030058758144


[11/01/2021 1:48 PM] weirdhousenoisesat837pmeveryday#4778
Perfect. Thank you.


[11/01/2021 2:03 PM] morphic#4133
Nope, but it seems append is not forbidden explicitly. So maybe some other reason prevents the example work. It may be one of the quirks of AOT costing.


[11/02/2021 6:28 PM] Thales#6915
Anybody faced the issue that Yoroi is returning a transaction ID after submitting, but the transaction is neither on the mempool nor on any mined blocks? Gas Fees are properly set.


[11/02/2021 6:36 PM] Thales#6915
Stramge thing is that the connector shows that the funds are gone, but in my wallet I can see that funds are still there... after some while the connector shows the real value, probably the tx is rolled back along the way...


[11/02/2021 6:40 PM] kushti#0978
no per-register limit, there's only per-UTXO 4kb limit

{Reactions}
üôè 

[11/02/2021 6:41 PM] kushti#0978
so connector issue ?


[11/02/2021 6:45 PM] Thales#6915
maybe, we are also sending some assets in the tx @anon_real, did it work for AH V2? Do we have any further means to debug the connector?


[11/02/2021 6:48 PM] anon_real#2768
This is a known issue in the Yoroi wallet and its biggest bug IMO. I am not sure if anyone is working on a fix @anon_br?
If you send some funds and it either doesn‚Äôt send or says that funds are not sufficient the following two may help:
1- Open your wallet and go to transaction table and wait for it to get updated, if this doesn‚Äôt resolve the issue then:
2- Open your wallet and send all your funds to yourself.

{Reactions}
üëÄ 

[11/02/2021 6:50 PM] Thales#6915
interesting, will try this out. We'd be interested getting this fixed!


[11/02/2021 6:51 PM] anon_real#2768
Yes, I‚Äôve seen some UI improvements in Yoroi nighty lately. But honestly these kinds of bugs are the most important and should be the top priority.

{Reactions}
üëç (2) ‚ô•Ô∏è üíØ 

[11/02/2021 7:49 PM] MrStahlfelge#0042
this behaviour is on the android wallet as well and is caused by the underlying explorer api, issue is open https://github.com/ergoplatform/explorer-backend/issues/137


[11/02/2021 7:52 PM] anon_real#2768
I see but in Yoroi's case, the issue is not always related to mempool boxes! Even when all txs are mined, it won't work sometimes.
@Zimulakra experienced this recently.


[11/02/2021 7:53 PM] MrStahlfelge#0042
ah okay, that's weird


[11/02/2021 7:53 PM] anon_br#2282
Weird, will take a look at this

{Reactions}
üëç (2) 

[11/02/2021 7:58 PM] anon_br#2282
Hey, Thales, can you provide more details about this issue?


[11/02/2021 8:02 PM] ilya | dappstep#9261
Hi! I'm trying to run a node with docker. this is my command docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /Users/ilyalibin/Dev/ergo/node-data:/home/ergo/.ergo ergoplatform/ergo
I'm using the mainnet config file from the ergo repo. 
getting this error
java.lang.Exception: Cannot readSecretStorage: dir '/home/ergo/.ergo/wallet/keystore' doesn't exist
Full screenshot:

Can anyone help please?


[11/02/2021 8:02 PM] ilya | dappstep#9261


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/905185116018606160/unknown.png


[11/02/2021 8:09 PM] anon_real#2768
If it helps, it mostly gets resolved if you send all your funds to yourself in the wallet.

{Reactions}
üëçüèº 

[11/02/2021 8:19 PM] ilya | dappstep#9261
How to do so? I can't even start the node, don't have access to the wallet


[11/02/2021 8:30 PM] kushti#0978
this is okay actually, just says that you don't have a file with encrypted secret (so wallet is not initialized). Can make log output not so bizarre)


[11/02/2021 8:44 PM] ilya | dappstep#9261
But the 127.0.0.1:9053 is not available so it looks like it's not running


[11/02/2021 8:46 PM] kushti#0978
you didn't provide config and --mainnet, so running a testnet node, which is bound to :9052 by default


[11/02/2021 8:49 PM] ilya | dappstep#9261
Well I'm not sure what to do then.. Just followed the readme on ergo repo with different combinations.
tried this `docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /Users/ilyalibin/Dev/ergo/node-data:/home/ergo/.ergo ergoplatform/ergo -c mainnet.conf --mainnet`
getting another error
```
20:47:34.612 WARN  [main] o.e.settings.ErgoSettings$ - NO CONFIGURATION FILE WAS PROVIDED. STARTING WITH DEFAULT SETTINGS!
Exception in thread "main" com.typesafe.config.ConfigException$Missing: /tmp/mainnet.conf: 1: No configuration setting found for key 'ergo.directory'
```


[11/02/2021 8:53 PM] ilya | dappstep#9261
why is config file suppose to be in /tmp dir?


[11/02/2021 8:55 PM] kushti#0978
what's in the .conf ?


[11/02/2021 8:57 PM] ilya | dappstep#9261


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/905198917849845770/unknown.png


[11/02/2021 8:57 PM] ilya | dappstep#9261
with this command: `docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /Users/ilyalibin/Dev/ergo/node-data:/home/ergo/.ergo ergoplatform/ergo -c ergo.conf --mainnet`


[11/02/2021 8:58 PM] ilya | dappstep#9261
@kushti


[11/02/2021 8:59 PM] ilya | dappstep#9261
Also I tried with this config. no success...
https://github.com/ergoplatform/ergo/blob/master/src/main/resources/mainnet.conf

{Embed}
https://github.com/ergoplatform/ergo/blob/master/src/main/resources/mainnet.conf
ergo/mainnet.conf at master ¬∑ ergoplatform/ergo
Ergo protocol description & reference client implementation - ergo/mainnet.conf at master ¬∑ ergoplatform/ergo
https://images-ext-2.discordapp.net/external/-SfWrtcqa0RmITPoQODxS_gm5OcbyCRTSWYI7eny-uk/https/opengraph.githubassets.com/73189ad069e836ce68a209fef36b83e0ab6594b6b3ae0d9580a6fc719e8c2475/ergoplatform/ergo


[11/02/2021 9:59 PM] kushti#0978
please try something like


[11/02/2021 9:59 PM] kushti#0978
ergo {
  directory = "/home/ergo/mainnet/.ergo" 

  networkType = "mainnet"

  node {
    mining = false 
  }

}

scorex {

 restApi {    
    # Hex-encoded Blake2b256 hash of an API key. Should be 64-chars long Base16 string.
    # Below is the hash for "hello" API key (with no quotes) 
    apiKeyHash = "324dcf027dd4a30a932c441f365a25e86b173defa4b8e58948253471b81b72cf"
  }

}


[11/02/2021 9:59 PM] kushti#0978
and so create /home/ergo/mainnet


[11/02/2021 10:20 PM] zargarzadehmoein#2928
I think he has forgotten, bind the local config file into the docker


[11/02/2021 11:36 PM] Thales#6915
sure, can I give you some logs? Or do you want to know input, contract and output boxes?


[11/03/2021 4:07 AM] terrapin#5455
what are the minimum system reqs for running a local node? i keep running into issues trying to run mainnet in docker


[11/03/2021 7:23 AM] glasgowm#9381
runs on a pi, just need a couple gb of ram and 10gb hd space

{Reactions}
üëç 

[11/03/2021 11:10 AM] anon_br#2282
yeah, some logs should help a lot! you can send them to me via DM or email sigmanon@protonmail.com


[11/03/2021 12:57 PM] kushti#0978
2GB should be enough, with default settings and full mode, with digest mode we tested on 512 MB successfully


[11/03/2021 12:57 PM] kushti#0978
please use -Xmx flag, needed for some JVMs


[11/03/2021 12:58 PM] kushti#0978
java -jar -Xmx3G  ergo-4.0.15.jar  --mainnet -c mainnet.conf


[11/03/2021 2:54 PM] terrapin#5455
yeah, i am including the `-e MAX_HEAP=3G`  in the docker command, but seems like i keep getting java heap errors. if 2gb is enough, probably something wrong with my config somewhere. ill keep trying to troubleshoot


[11/04/2021 1:54 PM] Frosty#7344
Is anyone working on wrapping btc on ergo? If not, I can pursue it


[11/04/2021 2:09 PM] glasgowm#9381
Not afaik although probably available via gravity. Taproot should allow for trustless schnorr swaps also.


[11/04/2021 3:34 PM] Frosty#7344
Cool. Thank you


[11/04/2021 5:29 PM] kushti#0978
What approach do you have in mind ?


[11/04/2021 5:54 PM] Frosty#7344
A similar approach to Interlay, wrapped BTC on DOT: https://eprint.iacr.org/2018/643.pdf


[11/04/2021 5:54 PM] Frosty#7344
@kushti


[11/04/2021 7:53 PM] Deleted User#0000
The assembler is currently not working for the airdrop tool in Ergo Utils. I believe i need anon_real to look at it?


[11/04/2021 8:11 PM] Deleted User#0000
works again.


[11/05/2021 4:03 PM] ilya | dappstep#9261
Isn't it the right way to point to the configuration file?
`-c ergo.conf` 

I'm still can't make it run. Thanks for the help thought üòÑ
this is the error
`docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /Users/ilyalibin/Dev/ergo/mainnet/.ergo:/home/ergo/.ergo ergoplatform/ergo -c ergo.conf --mainnet`

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906212085342543882/unknown.png


[11/05/2021 4:07 PM] zargarzadehmoein#2928
docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /Users/ilyalibin/Dev/ergo/mainnet/.ergo:/home/ergo/.ergo ergoplatform/ergo -c /etc/ergo.conf  -v ./ergo.conf:/etc/ergo.conf --mainnet


[11/05/2021 4:07 PM] zargarzadehmoein#2928
Try this


[11/05/2021 4:11 PM] ilya | dappstep#9261


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906214136344641566/unknown.png


[11/05/2021 4:13 PM] ilya | dappstep#9261
@zargarzadehmoein


[11/05/2021 4:48 PM] zargarzadehmoein#2928
```
docker run --rm -p 9030:9030 \
    -p 127.0.0.1:9053:9053 \
    -v {YOUR_PATH}/.ergo-data:/home/ergo/.ergo \
    -v {YOUR_PATH}/my-node-config.conf:/etc/ergo.conf \
    -e MAX_HEAP=3G \
    ergoplatform/ergo:latest --mainnet -c /etc/ergo.conf
```

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906223525478662165/screen-test.png


[11/05/2021 4:50 PM] zargarzadehmoein#2928
This may also help you

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906224067735068672/docker-compose.yml


[11/05/2021 5:00 PM] ilya | dappstep#9261
@zargarzadehmoein looks better now, but still failing cause can't find the dir.

The dir is specified in the conf file like that.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906226403245166693/unknown.png


[11/05/2021 5:00 PM] ilya | dappstep#9261
This is my config

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906226522778648636/unknown.png


[11/05/2021 5:00 PM] ilya | dappstep#9261
Can you share your conf file please?


[11/05/2021 5:07 PM] zargarzadehmoein#2928
For directory you should set a path inside docker , not host system


[11/05/2021 5:08 PM] zargarzadehmoein#2928
ex:
`directory = "/home/ergo/.ergo/"`


[11/05/2021 5:19 PM] zargarzadehmoein#2928
my-node-config.conf


[11/05/2021 5:19 PM] zargarzadehmoein#2928


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906231254058410074/my-node-config.conf


[11/05/2021 5:25 PM] ilya | dappstep#9261
@zargarzadehmoein OMG it finally worked! Thank you for the help! How do I access the ui now? I've tried http://127.0.0.1:9053 but getting redirected to the swagger. Is UI has a different repo that need to be run?


[11/05/2021 5:27 PM] ilya | dappstep#9261
Nevermind, I've found it!

{Reactions}
üëç 

[11/05/2021 5:30 PM] ilya | dappstep#9261
@zargarzadehmoein  And where do I get the API key?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906234031048384532/unknown.png


[11/05/2021 5:48 PM] zargarzadehmoein#2928
Default is: hello

https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node#compute-the-hash-of-your-secret

{Embed}
https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node
Set up a full node ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - Set up a full node ¬∑ ergoplatform/ergo Wiki
https://images-ext-1.discordapp.net/external/-bp8V17GFhBVEDJEKms4MgUyBy4EXZyhBJYdtv0BGq8/https/opengraph.githubassets.com/260cd360ee6f4722d77288d2583398527236953a29d293d12114e0b9736ba48b/ergoplatform/ergo


[11/05/2021 7:41 PM] Cheese Enthusiast#0548
Hi guys, I have a few questions about estimating time on the blockchain in smart contracts:

Is using the block height the best way to deal with a timed fund or any sort of smart contract dealing with time?

I believe the average time for a block to be mined is around 2 minutes on ERGO. How often does the block time deviate from this standard? 

If the mining time for a block does vary quite often, how can I ensure that my smart contracts work as planned? For example, if I have a timed fund that unlocks itself in 30 minutes, is it reasonable to assume that it would take 15 blocks for that timed fund to release? Or would such a short timeframe be more vulnerable to deviations from the standard block time? How about if I had a timed fund that unlocks in 10080 mins(1 week). Would it be accurate to say that it would take 5040 blocks before the timed funds are released?

Finally, would it be possible to use oracles/oracle pools for time keeping? Could I set up a new oracle to tell me the exact time at any given moment? Or if that's too much data, could I use an oracle to get the current hour/day/week etc?


[11/05/2021 7:50 PM] Marty#4039
When looking at erg address anatomy described here https://ergoplatform.org/en/blog/2019_07_24_ergo_address/

It talks about serialization, base58 encoding, and blake2b256 encoding. The prefix bytes it talks about don't show up on a typical address. I tried a base58 decode but it didn't work as expected. What is the process to validate and decode an ergo address?

{Embed}
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/
Ergo Addresses
In today‚Äôs article, we ‚Ä¶
https://images-ext-1.discordapp.net/external/QJxdCwzrxWhHSmIVn523mq-21UJYJFjFnu0m1tpMIb0/https/ergoplatform.org/img/blog/address.jpg


[11/05/2021 7:50 PM] greenhat#6562
There is CONTEXT.preHeader.timestamp. It's used in the auction contract - https://github.com/ergoplatform/eips/pull/39/files

{Embed}
https://github.com/ergoplatform/eips/pull/39/files
EIP-0022 Auction Contract by anon-real ¬∑ Pull Request #39 ¬∑ ergopla...
This EIP proposes the auction contract.
https://images-ext-1.discordapp.net/external/ipQrVKfmlPTmSOY7l1jLEMnTzfKpEyS4aWEi1MOm0MA/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/68861503


[11/05/2021 7:53 PM] Cheese Enthusiast#0548
Whoa did not know about this at all. This is perfect for what I need, thanks!

{Reactions}
üôå 

[11/05/2021 8:23 PM] Cheese Enthusiast#0548
I also have a few questions about tokens on ergo:

It seems every token has a unique id associated with it. How would I go about generating an id for a new token(From something like appkit, not from ergoutils)? 

Does the only information about a token come from its id? Is there any way to store some metadata about a token?

Could I create a "class" of tokens? Lets say I have 3 tokens, T1, T2, and T3. Lets say I consider T2 and T3 to be "subtokens" of T1. If I had a smart contract that requires tokens of type T1, would such a smart contract also be compatible with tokens T2 and T3? Would such a classification be arbitrary? Or would I be able to check if some random tokens are of type T1 by using information from the id? 

What are the creation / burning rules for tokens in an ergo transaction?

Tokens seem to also have a value field. How exactly does this value field work? Is a token's value unchangeable after its creation?

How do we verify a token is "real"? For example, if I know the id for SIGUSD, what is stopping or preventing me from minting however many SIGUSD tokens I want without interacting with the Sigusd website? Would someone be able to verify that these tokens are not real? Or would I be unable to generate SIGUSD like that in the first place?


[11/05/2021 8:42 PM] glasgowm#9381
Not sure about appkit but the eip is here 

https://github.com/ergoplatform/eips/blob/master/eip-0004.md

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0004.md
eips/eip-0004.md at master ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/jBlX9J_qH939gqkutR3KsGMzPz8yfSzQv6S20NRXsl4/https/opengraph.githubassets.com/72b28253687354790a515d797671dd59bb6fe80c0d98a64c707735d7a5facb77/ergoplatform/eips


[11/05/2021 8:45 PM] glasgowm#9381
https://www.ergoforum.org/t/issuing-a-new-token-using-kiosk/234

{Embed}
https://www.ergoforum.org/t/issuing-a-new-token-using-kiosk/234
Issuing a new token using Kiosk
Kiosk has been updated to use (a mod of) appkit for signing.  This gives us the ability to do almost everything Ergo provides. The only thing missing is the ability to set context variables for inputs being spent. Hopefully this will be added in the coming weeks.  This post will demonstrate how to create a token using Kiosk. The token issuance w...
https://images-ext-1.discordapp.net/external/CD302NOMTP24tkOaVR5CptHibGBHJ9jQLGblK8xMzkM/https/aws1.discourse-cdn.com/standard14/uploads/ergoforum/optimized/1X/fdb755c23ebfda55878a56e99baf39ca225c7e4b_2_1024x188.png


[11/05/2021 9:55 PM] DreamsMoney#1427
Hello all.  I was wondering if anyone could help me with a working example on the `/transactions` method of the node API? - The delivered example returns a 400 status code with the message "The request content was malformed".


[11/06/2021 12:39 AM] sankRian#7431
Is there any different between issuing token from kiosk and from the node wallet dashboard??


[11/06/2021 5:54 AM] greenhat#6562
Yes. You can only mint a token with an id equal to the id of the first input box in a transaction.

Yes. No, token does not have fields. We have EIP-4 to store token metadata in the registers of the box that issued the token.

There are no token classes/types. You can store/read class info in/from the registers of an issuing box or hardcode all T1, T2, T3 token ids in smart contract.

Minting: only token with id = id of the first input box can be created out of thin air (otherwise token outputs <= token inputs tx validation rule). Burning: any token, there is no rule on token preservation in a tx.

No. See EIP-4 as a convention to store token metadata. The total token amount is fixed on minting. You cannot mint "more" tokens of the same id later.

Usually, token id is hardcoded in the contract. You cannot mint more tokens of the same id.

{Reactions}
üëè (2) 

[11/06/2021 6:48 AM] soysor#6001
Noobie/silly question/probably not ergo specific:

If the token amount is fixed on minting does that have any implications for stable coins? Possible to run out of supply?

Given the nature of the fiat currency they're pegged to being inflationary but the stable coin having a limit/deflationary (USD <-> SigUSD for example)


[11/06/2021 7:33 AM] greenhat#6562
You can mint i64::MAX and lock them with a contract.

{Reactions}
üëç 

[11/06/2021 7:40 AM] sankRian#7431
Sorry to ask,. Need some help cuz I'm noob here.. I try to running test my contract from IDE and keep getting this error, when I click the problem it pointing to api client on ergo appkit lib,. My question is, is there are some miss in my contract, my simulation step or not proper when importing library,.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/906448008672063528/IMG_20211106_143620_598.png


[11/06/2021 8:28 AM] Cheese Enthusiast#0548
It seems like the address you were trying to get unspent boxes for had nothing inside it. Try checking on the explorer to confirm.


[11/06/2021 10:56 AM] MrStahlfelge#0042
as greenhat said, token id is spending box id. 
Minting a token in appkit is like:

``` 
                        // id of the issued token has to be the same as the box id of the first input box
                        // see https://github.com/ergoplatform/eips/blob/master/eip-0004.md
                        List<InputBox> boxesToSpend = BoxOperations.selectTop(unspent, amount + MinFee);
                        long tokenAmount = 1;
                        ErgoToken token = new ErgoToken(boxesToSpend.get(0).getId(), tokenAmount);
                        UnsignedTransactionBuilder txB = ctx.newTxBuilder();
                        OutBox newBox = txB.outBoxBuilder()
                                .value(amount)
                                .mintToken(token, "Fake NFT", "", 0)
                                .contract(new ErgoTreeContract(address.getErgoAddress().script()))
                                .build();
                        UnsignedTransaction tx = txB
                                .boxesToSpend(boxesToSpend).outputs(newBox)
                                .fee(MinFee)
                                .sendChangeTo(address.getErgoAddress())
                                .build();
                        SignedTransaction signed = prover.sign(tx);
```

{Reactions}
ergo_orange 

[11/06/2021 5:39 PM] Lgmeister#4538
Hello I placed an auction item up 8 hours ago and it isn't on the auction house. Explorer confirms both NFT and correct amount of erg was sent. Any devs here to help? 9ecL6TWxgWCXKepzsSYKPoGSwDR656vVkarFgV1iHmQfV98VoZe


[11/06/2021 8:51 PM] Marty#4039
What wallet did you use to send to auction house?


[11/06/2021 8:51 PM] Lgmeister#4538
Yoroi


[11/06/2021 8:52 PM] Marty#4039
Ok the bug I experienced that I knew a solution to was to do with not using yoroi. @anon_real may be able to help you


[11/06/2021 8:54 PM] Lgmeister#4538
Well, I initially used ergo Android wallet


[11/06/2021 8:54 PM] Lgmeister#4538
And it got transfered back to me after 20 min or so


[11/06/2021 8:57 PM] anon_real#2768
Refund has been sent. That was weird.
Please let me know if you run into the issue again in DM.


[11/06/2021 8:58 PM] Lgmeister#4538
@anon_real thanks. I'm going to try again if you think it's ok


[11/06/2021 8:58 PM] Lgmeister#4538
It doesn't matter the order of NFT or fund sent does it?


[11/06/2021 8:59 PM] anon_real#2768
Also, better to use #auction-house channel since people are more  experienced about auctions there.

{Reactions}
üëç 

[11/06/2021 8:59 PM] anon_real#2768
In some cases, it does, unfortunately. I'd suggest sending ERGs first.
Hopefully, in V2 (soon) all these issues are resolved for good.


[11/06/2021 9:00 PM] Lgmeister#4538
I'm super excited for v2!


[11/06/2021 9:01 PM] Lgmeister#4538
I heard it was supposed to come out late October. Is there a new timeframe?


[11/07/2021 7:39 PM] Marty#4039
any convention to use a specific register for a token icon image or svg?


[11/07/2021 8:51 PM] MrStahlfelge#0042
everything regarding such things is in eip4 for now


[11/07/2021 10:12 PM] Cheese Enthusiast#0548
Is testnet acting strange for anyone else?


[11/07/2021 10:13 PM] Cheese Enthusiast#0548
The timestamps on each block are a few minutes ahead for some reason


[11/07/2021 10:17 PM] Cheese Enthusiast#0548
Its also being slow and I can't tell if my transactions are going through properly. Mempool is also empty(but that has been happening for a few days now).


[11/07/2021 10:17 PM] Cheese Enthusiast#0548
Is it because the hashrate went down from 54 to 26?


[11/07/2021 10:19 PM] zargarzadehmoein#2928
@Ilya | Spectrum


[11/07/2021 10:35 PM] zargarzadehmoein#2928
Now I put Miner on the testnet


[11/07/2021 10:52 PM] Cheese Enthusiast#0548
Thanks a lot, looks like it fixed the problem üôÇ

{Reactions}
üëç 

[11/08/2021 3:00 AM] Cheese Enthusiast#0548
I've also run into another issue that has me completely stumped. I am able to send my transaction successfully, the ergoscript seemingly evaluates to true and the json text of the transaction is returned to me in the console.


[11/08/2021 3:00 AM] Cheese Enthusiast#0548
However after waiting and waiting, the transaction never shows up. I've tried many different configurations and restarting all of the steps but no matter what I do, the transaction never ends up showing in the explorer. Other transactions I send work fine, it is only when I try to spend a box protected by my smart contract that this occurs.


[11/08/2021 3:06 AM] Cheese Enthusiast#0548
The only thing I can think of is that the script protecting my box takes the current block height into consideration. Specifically, I am storing the height of the transaction in R6 of the output. I am verifying that by doing: ```OUTPUTS(1).R6[Int] == HEIGHT```


[11/08/2021 3:09 AM] Cheese Enthusiast#0548
So maybe when I'm storing the height in R6 on the client side, the script evaluates to true. But because testnet lags behind a little bit, when its evaluated by others it evaluates to false?


[11/08/2021 3:13 AM] Cheese Enthusiast#0548
It's weird though because when I was testing the contract earlier that statement was giving me no issues. The transactions that spent this script were showing up earlier, its only now that they are not going through(despite evaluating to true on my side).


[11/08/2021 3:29 AM] Cheese Enthusiast#0548
For anyone wondering, it was indeed the statement above that was causing me errors. I've learned the importance of giving a little bit of leeway for context dependent variables like HEIGHT üôÇ


[11/09/2021 6:18 AM] sankRian#7431
Is there any example for inputting data when the tx already submitted and before the deadline height of the transaction? I want to test my contract first but it need oracle data feed but I didn't set up it yet.. Thanks.. üòÅ


[11/09/2021 9:44 AM] Blakeonions11111#4740
are there any third parties that are doing Ergo nodes?


[11/09/2021 9:44 AM] Blakeonions11111#4740
I keep trynig to set up a node on my macos M1 and the node just keeps forgeting my API or soemthing


[11/09/2021 9:44 AM] Blakeonions11111#4740
is there any middleware for Ergo?


[11/09/2021 9:44 AM] Blakeonions11111#4740
like I just deploy contract


[11/09/2021 9:44 AM] Blakeonions11111#4740
and connect to a middleware to interact with the contract?


[11/09/2021 1:02 PM] glasgowm#9381
https://github.com/ergoplatform/ergo-appkit

{Embed}
https://github.com/ergoplatform/ergo-appkit
GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot D...
Appkit: A Library for Polyglot Development of Ergo Applications - GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/-HBMfZ8Q54xSwCRz5Rpntp6TlwEXKmPKyKcknIYKxeY/https/opengraph.githubassets.com/b4147cad91bac644975414bbffe1c4cdbeed0ebc72b820f9507e2fd39ee97da2/ergoplatform/ergo-appkit


[11/09/2021 1:03 PM] glasgowm#9381
can happen when the DB corrupts. Turn off sleep mode/screensaver - sync from scratch - make sure the height goes up.


[11/09/2021 1:03 PM] glasgowm#9381
also the assembler, dApp connector, depends what you're trying to do.


[11/09/2021 5:54 PM] weskinner#4666
Is there an easy way to speed up chain-grabber sync?


[11/09/2021 6:14 PM] HazeyOneKenobi#2091
hi, trying to burn tokens using the node api and getting the error message ```  "detail": "The request content was malformed:\nString: DownArray,DownField(inputsRaw)"``` - my request is attached if anyone can help

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/907694767545143347/token_burn_test.txt


[11/10/2021 1:00 AM] abchris#8522
Have you tried playing with the config settings?


[11/10/2021 3:35 AM] Blakeonions11111#4740
I give up


[11/10/2021 3:35 AM] Blakeonions11111#4740
lol


[11/10/2021 3:35 AM] Blakeonions11111#4740
I get the same issue whenever I turn off my pc.


[11/10/2021 4:07 AM] greenhat#6562
inputsRaw is expected as:
```
        inputsRaw:
          description: List of inputs to be used in serialized form
          type: array
          items:
            type: string
            description: hex-encoded serialized box bytes
```
and given the handler, it should be a serialized ErgoBox in base16 encoding - https://github.com/ergoplatform/ergo/blob/95139ec990fc91f8f4c70a61468edf8834143329/src/main/scala/org/ergoplatform/http/api/WalletApiRoute.scala#L202-L203

{Embed}
https://github.com/ergoplatform/ergo/blob/95139ec990fc91f8f4c70a61468edf8834143329/src/main/scala/org/ergoplatform/http/api/WalletApiRoute.scala
ergo/WalletApiRoute.scala at 95139ec990fc91f8f4c70a61468edf88341433...
Ergo protocol description & reference client implementation - ergo/WalletApiRoute.scala at 95139ec990fc91f8f4c70a61468edf8834143329 ¬∑ ergoplatform/ergo
https://images-ext-2.discordapp.net/external/QCHDJnQEEvtb524FBrCUrLNBHMQvunpuof9a1CLbj2w/https/opengraph.githubassets.com/8991eba0bdba5b3a49d7666f89695b6be67e1e9f1f2a3b51172879294fd4002b/ergoplatform/ergo

{Reactions}
üëç ü§ù hdclapparty 

[11/10/2021 7:29 AM] HazeyOneKenobi#2091
Thanks bud


[11/10/2021 7:29 AM] Cheese Enthusiast#0548
Hey guys, I'm getting a weird error I've never seen before when trying to sign my transaction. I'm not entirely sure what this error means, but looking through the stack trace makes me think it originates from me calling fold on a collection of integers in my smart contract. I don't see any syntactic errors and it doesn't seem like the collection I have is empty or anything. Any idea what it could be?

```Caused by: scala.MatchError: ValUse(26,((SInt$,SInt$)) => SInt$) (of class sigmastate.Values$ValUse)
    at sigmastate.eval.RuntimeCosting.$anonfun$evalNode$8(RuntimeCosting.scala:1366)
    at scalan.primitives.Functions.lambda(Functions.scala:387)
    at scalan.primitives.Functions.mkLambda(Functions.scala:349)
    at scalan.primitives.Functions.mkLambda$(Functions.scala:344)
    at scalan.Scalan.mkLambda(Scalan.scala:19)
    at scalan.primitives.Functions.fun(Functions.scala:50)
    at scalan.primitives.Functions.fun$(Functions.scala:50)
    at scalan.Scalan.fun(Scalan.scala:19)```


[11/10/2021 7:34 AM] Cheese Enthusiast#0548
The error originates on this line in RuntimeCosting.scala


[11/10/2021 7:34 AM] Cheese Enthusiast#0548


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/907895944220147732/Capture.PNG


[11/10/2021 7:37 AM] Cheese Enthusiast#0548
I call fold quite a few times on collections of integers so I'm not sure which specific line of my script is causing the error.


[11/10/2021 1:10 PM] greenhat#6562
Weird. Looks like fold lambda was not fetched from environment. Could you share your script?


[11/10/2021 8:03 PM] sankRian#7431
is https://ergoutils.org/ down right now??


[11/10/2021 8:55 PM] MrStahlfelge#0042
seems so


[11/11/2021 5:36 AM] shadows#6753
Why do some nodes have `:9053/swagger` exposed and others do not? It seems that about half of the nodes have it open on port `9053` which is the default config


[11/11/2021 1:55 PM] hghghghg#8839
Hey! I'm having trouble with my node on macos: "dead letters encountered". Is this a common issue?


[11/11/2021 1:57 PM] glasgowm#9381
I (think) it happens when you're system goes to sleep but the akka threads don't shut down in time. Unless it manages to move past the error you'll probably need a resync.


[11/11/2021 1:59 PM] hghghghg#8839
ah. That makes sense. Let me try to disable sleep and see.


[11/11/2021 2:12 PM] hghghghg#8839
Still stopping with dead letters. I just restarted the node. Do I need to do something special to trigger a resync?


[11/11/2021 2:14 PM] hghghghg#8839
Ah, I might be out of memory.


[11/11/2021 2:17 PM] glasgowm#9381
```
rm -rf .ergo/state
rm -rf .ergo/history
```

and restart with `java -jar -Xmx3G`


[11/11/2021 2:29 PM] hghghghg#8839
Fixed it! thanks!


[11/12/2021 7:14 AM] Cheese Enthusiast#0548
Hey so after a bit of research I think it's coming back to my custom flatMap function haha.


[11/12/2021 7:15 AM] Cheese Enthusiast#0548
Here is the ergoScript for the flatMap function I made.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/908615932178464788/customFlatMap.txt


[11/12/2021 7:21 AM] Cheese Enthusiast#0548
I believe the relevant lines are:  ```val foldedSlice = slicedColl.fold(0, {(accum: Int, otrIdx: Int) => accum + otrIdx})```
not entirely sure what's wrong with them though.


[11/12/2021 8:04 AM] greenhat#6562
I have no ideas why it fails on ValUse here. Paging @morphic


[11/12/2021 1:30 PM] Thales#6915
messaged you the link to our dapp


[11/12/2021 3:54 PM] morphic#4133
Nested loops are not supported (like filter inside map). Also, this script looks over complicated. I believe it can be simplified. The role of each script is to verify some box spending condition. This condition should be as simple as possible. In many cases, it can be simplified by offloading computations to off-chain code, by requiring some context variable to be present. So I would start from rethinking the logic and draw a different line between what can be computed off-chain, passed in as a context variable and then which condition is verified on-chain (i.e. in the contract).


[11/12/2021 3:59 PM] Marty#4039
What is that app called where you can paste ergoscript into it and it gives you the compiled output?


[11/12/2021 4:00 PM] Marty#4039
not the playground, it was just a little web form. i cant find it now


[11/12/2021 4:11 PM] Marty#4039
found it https://wallet.plutomonkey.com/p2s/

{Reactions}
üëç (2) 

[11/12/2021 10:50 PM] kushti#0978
likely fee is missed, maybe you're using fee address from the mainnet in the testnet, then the tx is correct but not propagated by the nodes

{Reactions}
üëç 

[11/12/2021 10:52 PM] kushti#0978
Any errors you're getting in the log ?


[11/12/2021 10:52 PM] kushti#0978
On MacOS the node is using alternative LevelDB implementation which is not very stable, but maybe it is not about the database


[11/12/2021 10:56 PM] kushti#0978
expected to be closed on normal nodes. There are some public nodes with open API, used by some apps, such as mixer, to submit transactions


[11/13/2021 4:03 PM] taikatytto#0493
Does anyone know how to fix imports of scala classes in java files, using vscode + metals?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/909111172366745630/unknown.png


[11/13/2021 4:23 PM] glasgowm#9381
Sdkman normally helps, not sure about vscode you'll need to find your sbt path and put it in the plug-in settings likely.


[11/13/2021 4:29 PM] taikatytto#0493
You mean metals plugin? Sbt & scala code works, its just java.


[11/13/2021 4:34 PM] glasgowm#9381
The output window should tell you what path it's missing


[11/13/2021 4:49 PM] taikatytto#0493
But it does not tell anything, except all error over java file. It compiles in metals. The problem in vscode


[11/13/2021 4:51 PM] taikatytto#0493
Oh, its a metals problem that's not resolved right now it seems. https://github.com/scalameta/metals-feature-requests/issues/5

{Embed}
https://github.com/scalameta/metals-feature-requests/issues/5
Interoperability with Java language servers ¬∑ Issue #5 ¬∑ scalameta/...
Metals is a language server for Scala, but it&#39;s very common for a project to have either Java dependencies or Java sources. When jumping to a definition and landing on a Java source file, y...
https://images-ext-2.discordapp.net/external/3xdcsRUwKxmsXNMUYOeBURta91-NMcuTi3oGyXTyjME/https/opengraph.githubassets.com/16c100f73c75d55011a56ff3abf0deea42d359c612c633cc5f735e417004ed1d/scalameta/metals-feature-requests/issues/5


[11/13/2021 10:39 PM] sankRian#7431
I don't know if it's help.,. But i also have similar problem with vscode when imorting java file in scala,. But I'm using intelj And it works fine.. mybe you can try with it,.


[11/15/2021 10:53 AM] HazeyOneKenobi#2091
Hate to pull you back up on this! But after reading up it looks like to specify boxes to spend, you have to do it in scala? Somehow replicate / intercept the node's 'get boxes' response, and feed it into inputsRaw?


[11/15/2021 11:09 AM] greenhat#6562
Presuming you're doing it in JS I think adding `ergo_box.sigma_serialize_bytes()` should allow you to build the JSON needed for `inputsRaw` yourself(encode bytes with base16). Does it sound right?


[11/15/2021 11:31 AM] HazeyOneKenobi#2091
Just so I've got this right, I can convert the box JSON to base16, add a '0x' preceding it, and that should work?

I am doing this in java, will give that a try later though!


[11/15/2021 12:18 PM] greenhat#6562
No, forget about box JSON format. In this case ErgoBox should be serialized into a byte array first.
Ignore what I wrote above, I thought you're using sigma-rust. I believe you're using ergo-appkit, right? Do you have boxes as InputBox'es?


[11/15/2021 1:20 PM] HazeyOneKenobi#2091
I'm not using any Ergo developed tooling, just making rest calls in java into a node I run locally


[11/15/2021 1:21 PM] HazeyOneKenobi#2091
Didn't see a need for appkit for my requirements yet :) maybe this is the first requirement that needs it


[11/15/2021 1:25 PM] greenhat#6562
I don't think you can get serialized boxes from node API. The boxes you get in JSON format need to be parsed into ErgoBox type and then serialized into bytes. It's a huge task. I think it's time to look into ergo-appkit. üôÇ


[11/15/2021 1:26 PM] HazeyOneKenobi#2091
Sounds good! Thanks for all the help :)

{Reactions}
üôå 

[11/16/2021 3:36 AM] CypherPet#3447
metadata question, what would be the best way to create a token with an svg stored in it's metadata? how many bytes can a token hold?
can't find anything about this and my node won't let me paste base64(svg) in the "description" when minting a token.
I suppose it should be stored in r4-r9 but I'm not ready to learn how to create TX, sign them and send them just yet.. is there an easier way?


[11/16/2021 8:18 AM] greenhat#6562
There is a 4k max size limit for a box. It does not leave you much space.


[11/16/2021 12:58 PM] Ahmet Isci#5033
Hi, can I create a Token and use it in game made by unity  with Ergoplatform?


[11/16/2021 2:16 PM] MrStahlfelge#0042
sure you can, but there is no example yet. you will probably have to use some kind of backend server, do you already have one?


[11/16/2021 2:57 PM] Ahmet Isci#5033
Don't have a backend server yet, where i  can found  links for sdk and documentation?


[11/16/2021 3:10 PM] MrStahlfelge#0042
sdk depends on what language your server will run. we have ergo-appkit for JVM or a sigma-rust sdk for JS


[11/16/2021 3:33 PM] CypherPet#3447
yes I know there's some serious limitation to what can be stored, i've been playing storing jpgs and svg in metadata on ethereum and I had never compressed/optimized images and svg that much haha. 

Any recommandation on how to input this data in a token? I'm a little confused about this but r4-r9 are Box registers right? I suppose a token would be different but I can't find an exemple of a transaction that actually mints a token. I managed to do it on cardano  using the cardano-cli with my node but I don't think the documentation is available for ergo. I saw this node "submit transaction" function.. but I doubt the goal here is to manually fill the boxID, spendingProox, proofbytes etc..

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/910190978223181914/unknown.png


[11/16/2021 5:29 PM] Ahmet Isci#5033
I use c# with Unity ( a gamemaker software)


[11/16/2021 5:39 PM] greenhat#6562
There is no node API call for minting a token. You need to assemble a transaction. The only requirement for a minted token is its id = first input box id. Here is an example in JS - https://github.com/ergoplatform/sigma-rust/blob/e2a912db99d637897ed9b4c8782eb3c5514d2a50/bindings/ergo-lib-wasm/tests/test_transaction.js#L78-L111

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/e2a912db99d637897ed9b4c8782eb3c5514d2a50/bindings/ergo-lib-wasm/tests/test_transaction.js
sigma-rust/test_transaction.js at e2a912db99d637897ed9b4c8782eb3c55...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/test_transaction.js at e2a912db99d637897ed9b4c8782eb3c5514d2a50 ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/XYD1KlU-KKv-kJx4PzIkLFqFJu9zvzTDPqGNDfdFyI4/https/opengraph.githubassets.com/753370d2dcf63b146c79be67072d19a34e3b29dca5e69556ea0212cfe62fe5be/ergoplatform/sigma-rust


[11/16/2021 5:41 PM] MrStahlfelge#0042
yeah, I know Unity, I've made games myself. üôÇ
You will have a backend server handling user rewards. that backend server is independant from the language in your game client. there are different tech stacks for such servers. I use JVM with Spring on the backend servers for my games, but other people roll something on Node JS.


[11/17/2021 12:29 AM] styn2g#4881
Wanted to propose something, im a programming student that s willing to learn how the blockchain world works, and get closer to ergo so that one day I can create dApps under ergo blockchain, but I find it hard to begin, and to find documents and get to read them etc, i ve always been the kind of guy that needs to be pushed a little bit, I was wondering if there was any developer here that was willing to create a new developer, I guess all he would have to do is send documents and just say:
read this, understand it, and do this, once you have done it, message me again, good luck.

I guess you guys can understand what im trying to say, so if anyone is up to that, I would gladly be his "pupil" I guess, it would take almost no time from him.

Thank u guys!


[11/17/2021 12:35 AM] Leif Erickson#8939
Interesting stuff that I'm trying to figure out also! How are Devs typically minting tokens now, just using ergoscript?  I see AppKit is maybe a recommended solution?


[11/17/2021 12:38 AM] Leif Erickson#8939
@styn2g there is also a good discord community, Consensus, which may be helpful?  What is your focus in school?


[11/17/2021 12:51 AM] styn2g#4881
Never heard about that disc community


[11/17/2021 12:52 AM] styn2g#4881
I mainly focus on learning a decent base of everything, so that when it comes to learning a new language i have the structure already learnt it s all about learning how language may differ from others


[11/17/2021 2:23 AM] Leif Erickson#8939
Nice! What are you learning currently with ergo?


[11/17/2021 5:20 AM] Apextheory#6577
Can't take you under my wing at this time, but start with this and see where it takes you. https://www.youtube.com/watch?v=Md5s-XV6-Hs

{Embed}
Apex Theory
https://www.youtube.com/watch?v=Md5s-XV6-Hs
AppKit by Example
Interacting with the Ergo blockchain using AppKit
Clone the repository on Github: https://github.com/ApexTheory/appkit-by-example
https://images-ext-2.discordapp.net/external/nWixLA9IxgdOziOru48X4ev9gs5qkZjJyrx0NqjRmcY/https/i.ytimg.com/vi/Md5s-XV6-Hs/maxresdefault.jpg

{Reactions}
ergo_orange 

[11/17/2021 5:55 AM] torchTheMall#9228
question - if the @ergolabs/ergo-sdk is to be used on the front end with stuff like yoroi - webpack has a fit about using fs


[11/17/2021 5:56 AM] torchTheMall#9228
well i guess thats not a question


[11/17/2021 5:56 AM] torchTheMall#9228
lol


[11/17/2021 5:57 AM] torchTheMall#9228
seems like ergodex got it to play nice with webpack - https://github.com/ergolabs/ergo-dex-frontend/blob/b27c5f7b139b534575bf55f0609f81e85c241a8c/src/context/WalletContext.tsx

{Embed}
https://github.com/ergolabs/ergo-dex-frontend/blob/b27c5f7b139b534575bf55f0609f81e85c241a8c/src/context/WalletContext.tsx
ergo-dex-frontend/WalletContext.tsx at b27c5f7b139b534575bf55f0609f...
Contribute to ergolabs/ergo-dex-frontend development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/GGl0xk29DcBgq4zG87OrdgiwQgrmtxhBVZIladh3mes/https/opengraph.githubassets.com/b36c17378d03710f4ddbeed5349165bc533a0baa5cee5679ad223f6853874ca2/ergolabs/ergo-dex-frontend


[11/17/2021 5:57 AM] torchTheMall#9228
however this is going to be a pain point for everyone trying to use it id assume


[11/17/2021 5:58 AM] torchTheMall#9228
maybe i didnt read the docs correctly - sorry just kinda copy paste mashing and im a little drunk


[11/17/2021 6:06 AM] torchTheMall#9228
eh idk - nextjs throwing errors for wasm, ill try tomorrow


[11/17/2021 6:50 AM] MrStahlfelge#0042
I have an appkit script ready to run, yes.


[11/17/2021 7:15 AM] Leif Erickson#8939
what language are you running appkit in? I played with the python implementation but it is a bit funky, so I just ended up using APIs. You're using the assembler as well?


[11/17/2021 7:16 AM] MrStahlfelge#0042
Appkit is the JVM SDK. Naturally you use it with Java, I normally use it with kotlin


[11/17/2021 7:22 AM] Leif Erickson#8939
makes sense! I had never used graal, and wasn't able to get it working anyway...outside of wrapping the node's REST API, does it do more? Seems like something I don't do through the node's API is find tokens/ergs in other wallets, I only query for wallet associated with apikey.  Is there funcationality for that in appkit?


[11/17/2021 8:47 AM] MrStahlfelge#0042
it does not wrap the node's rest api, only when you submit transactions or need to fetch blockchain data a node is used. constructing boxes/tokens and compiling ergoscript is done in appkit. @morphic may correct me if I said something wrong.
Finding tokens and wallet balance is done with the help of ergo explorer in appkit.

{Reactions}
üëç 

[11/17/2021 8:52 AM] Leif Erickson#8939
interesting, thanks! I am creating tokens with an ergoscript...I suppose that is likely doing the same thing, but do you avoid the actual script with appkit, or do you still need to write that?  I'm also using the ergo explorer to get wallet info, just calling the API.


[11/17/2021 8:53 AM] MrStahlfelge#0042
you don't need to write an ergoscript, there is a mintToken() method that call when building the outbox


[11/17/2021 8:57 AM] Leif Erickson#8939
when you call it, what causes the box to execute?  I call the node to make a payment against the ergoscript, since as I understand a transaction is required to perform this operation?  Or, maybe there's another way?


[11/17/2021 9:04 AM] MrStahlfelge#0042
you sign the transaction and submit it to a node

{Reactions}
üíØ 

[11/17/2021 9:52 AM] Leif Erickson#8939
That makes sense...just sign an unsigned tx with the wallet address rather than the smart contract I suppose? I'll give it a shot üòâ


[11/17/2021 9:54 AM] MrStahlfelge#0042
search for "mintToken" in this channel to see some example code or take a look at https://github.com/ergoplatform/ergo-dex/blob/50596a92a465f52904b5d8015e8ae0d62e414176/src/main/scala-2.12/org/ergoplatform/dex/commands/IssueTokenCmd.scala


[11/17/2021 10:37 AM] Leif Erickson#8939
Yes! This is perfect, I was building and wasn't sure all the required info...it worked (although I was surprised it worked without a fee, and the link you gave also indicates you may need a fee), so I guess I'm close, thanks for your help!


[11/17/2021 10:38 AM] MrStahlfelge#0042
it should not work without a fee üòÑ maybe on testnet

{Reactions}
üíØ 

[11/17/2021 10:38 AM] Leif Erickson#8939
...ohhh, I see the fee, minfee, etc...ok, I just need to put those back.


[11/17/2021 10:39 AM] Leif Erickson#8939
ya, cause need to spend in UTXO, lol...all in the name I guess


[11/17/2021 12:42 PM] styn2g#4881
thank you, I will ask to be under your wing in the future üòâ


[11/17/2021 2:30 PM] kushti#0978
if you know box ids, use /utxo/getBoxByIdBinary API method (you can check it in the Swagger interface)


[11/17/2021 2:33 PM] HazeyOneKenobi#2091
This should work great! I didn't realise there was a util for getting box binary. You've truly thought of everything! Thanks my dude

{Reactions}
üòç 

[11/17/2021 2:40 PM] kushti#0978
There are some utils like TokenMinter, ErgoUtil etc


[11/17/2021 2:46 PM] HazeyOneKenobi#2091
The best way is to run a node and perform your own rest calls in my opinion, but I havent tried appkit.

Ergoscript and smart contracts aren't needed for minting tokens really


[11/17/2021 2:53 PM] Leif Erickson#8939
Ya, I didn't realize how close I was to doing that...but, have a script now that seems to work. Is there a how-to for that somewhere? I have been slowly building a library of useful stuff like this in python, guess I can just push to a repo somewhere, heh

{Reactions}
üëçüèª 

[11/17/2021 4:43 PM] JOFLITO#9983
that's my code and I am getting trouble on the line 77 ( If you uncomment it you get an error) 
I am assigning tokenReciever to founder1, but I am not sure how to use that as a boolean 
if anybody can shed some light it would be greatly appreciated


[11/17/2021 4:43 PM] JOFLITO#9983
I posted this on the ergoscript-support channel


[11/17/2021 4:43 PM] JOFLITO#9983
I can delete if it is considered spamming


[11/17/2021 4:44 PM] JOFLITO#9983
üòÖ


[11/17/2021 4:46 PM] HazeyOneKenobi#2091
This is a fine place to post I think. A few people who might have an idea are @LADOPIXŒ£L @Luivatra and @fateme.r


[11/17/2021 4:46 PM] HazeyOneKenobi#2091
And probably all of the ergo core devs :)


[11/17/2021 4:47 PM] JOFLITO#9983
thanks Hazey sir


[11/17/2021 7:36 PM] JOFLITO#9983
https://scastie.scala-lang.org/cC4UBUmNSgm8R2dLv0wHzA

{Embed}
https://scastie.scala-lang.org/cC4UBUmNSgm8R2dLv0wHzA
Scastie - An interactive playground for Scala.
//this code is based on Luivatra‚Äôs code for a self replicating contract
// https://github.com/ergoplatform/ergoscript-by-example/blob/main/selfReplicatingTokenSale.md
//remember kids, it is not plagiarism if you provide the source
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
...
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[11/17/2021 7:58 PM] Luivatra#9076
That is a lot of erg!


[11/17/2021 7:59 PM] Luivatra#9076
77 is not commented?


[11/17/2021 8:02 PM] JOFLITO#9983
I think I just corrected it


[11/17/2021 8:03 PM] JOFLITO#9983
sorry sir, this is the old one https://scastie.scala-lang.org/KEQcZrgMQKO4sAiK1kNoMg

{Embed}
https://scastie.scala-lang.org/KEQcZrgMQKO4sAiK1kNoMg
Scastie - An interactive playground for Scala.
//this code is based on Luivatra‚Äôs code for a self replicating contract
// https://github.com/ergoplatform/ergoscript-by-example/blob/main/selfReplicatingTokenSale.md
//remember kids, it is not plagiarism if you provide the source
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
...
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[11/17/2021 8:04 PM] JOFLITO#9983
I updated it and I think now it does what I wanted


[11/17/2021 8:04 PM] Luivatra#9076
See that is why we ignored you, so you can figure it out yourself!


[11/17/2021 8:05 PM] Luivatra#9076
üòÖ


[11/17/2021 8:05 PM] Luivatra#9076
Yes, looks right now.


[11/17/2021 8:06 PM] JOFLITO#9983
time is the best teacher


[11/17/2021 8:06 PM] JOFLITO#9983
and also the cruelest, it kills all his students


[11/17/2021 8:07 PM] JOFLITO#9983
sorry for wasting your time üòÖ


[11/17/2021 8:07 PM] Ergo Tipper Bot[BETA]#0902
@JOFLITO sent a tip of 100000 COMET to @Luivatra!


[11/17/2021 8:10 PM] Ergo Tipper Bot[BETA]#0902
@Luivatra sent a tip of 100 thisguyfucks to @JOFLITO!


[11/17/2021 8:11 PM] JOFLITO#9983
üòé


[11/18/2021 7:33 AM] vlad555#4636
Hi, developers, please help me figure out the situation. How can I figure out if I got the block in solo or not? Mined ERGO on the field woolypooly.com the logminer showed the accepted share, the complexity is higher than the network. At the same time, another miner found the block.


[11/18/2021 7:33 AM] vlad555#4636


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/910794811982897223/Stale_share.png


[11/18/2021 7:36 AM] vlad555#4636
block 621836


[11/18/2021 8:59 AM] glasgowm#9381
#‚ùì‚îÇmining-support


[11/18/2021 9:01 AM] vlad555#4636
Thanks


[11/18/2021 5:30 PM] J - The Ergod#0899
can someone help - i got charged a 146 fee when sending 350 from yoroi to nightly


[11/19/2021 9:32 PM] Leif Erickson#8939
hey all, I'm working through some transactions for ergopad...I'm a little stuck on the boxes for sending tokens in exchange for ergs.  Got minting and burning, and sending ergs, but I'm missing something and hoping someone can help me?  I'm using assembler, although using the node directly makes sense.  I'm trying to build the boxes for the transaction, so say I'm sending 10 tokens from A to B, I have something like, `theBox = {
  'address': theWalletWithTokens.address,
  'value': txFee,
  'assets': [{ 
    'tokenId': tokenId,
    'amount': qtyTokens
  }]
}`, and then I build the request using a smart contract and returning to the buyers wallet.  Help!? and Thanks!!


[11/19/2021 9:34 PM] Leif Erickson#8939
I'm not sure if this is helpful or a tangent, but the problem I run in to most is the node complains with: `NotEnoughTokensError(not enough boxes to meet token needs Map(...`


[11/19/2021 10:10 PM] 6directions#1089
Are `boxes` on Ergo essentially UTXOs?


[11/20/2021 5:55 AM] soysor#6001
Is there any full documentation for nodes p2p protocol? (message ids/structure/usage/etc)

This was the closest I could find but appears to be WIP: https://github.com/ergoplatform/ergo/wiki/P2P-Protocol


[11/20/2021 6:40 AM] greenhat#6562
@soysor good question! I want to know this as well. :) I'm using node's code as a reference implementation.

{Reactions}
üëç (2) ergo_orange üíØ 

[11/20/2021 1:03 PM] glasgowm#9381
Some more stuff here but has been the hardest section to find anything for. Lots of improvements in the last year and docs still a WIP.

http://docs.ergoplatform.org/dev/p2p/

{Reactions}
üëç ergo_orange 

[11/20/2021 8:40 PM] Leif Erickson#8939
is there a good way to find an unspent box with a particular asset? Or, just have to return all unspent boxes from node API and search?


[11/20/2021 10:12 PM] glasgowm#9381
https://www.reddit.com/r/ergonauts/comments/qyczj4/announcing_ergolearn_come_learn_the_beginnings_of/

{Embed}
https://www.reddit.com/r/ergonauts/comments/qyczj4/announcing_ergolearn_come_learn_the_beginnings_of/
r/ergonauts - Announcing ErgoLearn!! Come learn the beginnings of y...
49 votes and 18 comments so far on Reddit
https://images-ext-2.discordapp.net/external/tWKTwDD9H8Q_IMssW9C-hUWg7Ois2NcKnlnREnr4wE8/%3Fauto%3Dwebp%26s%3D182ef2c79c48f1eb9fd0accc883a59248a6658d4/https/external-preview.redd.it/0T9xa4b0vQXd-3p3nbHrtyW5wBPzXzCau33x59UPV-Y.jpg

{Reactions}
ergo_white üëçüèª 

[11/21/2021 6:48 AM] torchTheMall#9228
So I ended up getting nextjs to build with the ergo SDK WASM module - however I get a boat load of failed imports ? 
im sorta new to using WASM modules - anyone seen this before

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/911870651667722270/unknown.png


[11/21/2021 6:48 AM] torchTheMall#9228


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/911870769808699432/unknown.png


[11/21/2021 6:54 AM] torchTheMall#9228
ok seems to be fixed - here is my next.config.js in case anyone wants to know

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/911872210090721341/unknown.png


[11/21/2021 7:02 AM] torchTheMall#9228
can you use yoroi nightly and dapp connector on a testnet?


[11/21/2021 7:03 AM] torchTheMall#9228
just wondering how i can get some ergs on a testnet to do some development


[11/21/2021 7:04 AM] torchTheMall#9228
would love a tool like ganache for ergo


[11/21/2021 2:49 PM] andee#4722
https://testnet.ergofaucet.org/

{Embed}
https://testnet.ergofaucet.org/
Ergo Faucet
Ergo Faucet


[11/21/2021 3:30 PM] Marty#4039
Thanks for sharing. Should make a tutorial on using this and get a bounty

{Reactions}
üëç 

[11/21/2021 10:30 PM] kushti#0978
yes


[11/21/2021 10:35 PM] kushti#0978
@greenhat @soysor I made simple parsers in the testing code some time ago, next step is to write a spec based on them, and it is not done, sadly:

HandshakeSpecification - for handshakes
InvSpecification - inv message
ModifiersSpecification - modifiers message
RequestModifiersSpecification - requestModifiers message
ErgoSyncInfoSpecification - sync message (v1 only atm)

{Reactions}
ergo_orange üëç 

[11/21/2021 10:41 PM] kushti#0978
the node is not supporting by-asset index, only explorer has it.

However, you can use EIP to implement custom scan which will store all the boxes and transactions for (for blocks AFTER scan was registered, or call /wallet/rescan API method to scan from genesis block)

alternatively, you can use Scanner for that : https://github.com/ergoplatform/scanner 

Scanner readme contains an example for tracking an asset specifically, node's requests format are the same and described in EIP-1 https://github.com/ergoplatform/eips/blob/master/eip-0001.md

{Reactions}
üíØ 

[11/21/2021 10:42 PM] kushti#0978
https://testnet.ergofaucet.org/

{Embed}
https://testnet.ergofaucet.org/
Ergo Faucet
Ergo Faucet

{Reactions}
ü¶æ 

[11/21/2021 11:37 PM] soysor#6001
At a super basic high level is this how third party full/spv node wallet infrastructure is setup:

- there's a gui app that shows balances/transactions/etc
- gui app starts a full/spv node locally to query for data
- the gui retrieves data from node via some kind of IPC (rest API in ergos case)


[11/22/2021 12:16 AM] Deleted User#0000
i found a p2p exploit that can crash all or a lot of the network


[11/22/2021 12:16 AM] Deleted User#0000
i emailed the team almost 2 weeks ago - no response


[11/22/2021 12:16 AM] Deleted User#0000
i inquired about a bug bounty


[11/22/2021 12:16 AM] Deleted User#0000
https://twitter.com/123456/status/1462572899085258764

{Embed}
pad (@123456)
https://twitter.com/123456/status/1462572899085258764
i emailed @ergoplatformorg 11 days ago about a remote p2p crash and they haven't responded. if i don't hear anything this week i'm going to release the exploit publicly. it is possible to spider the ergo network and crash nodes through p2p ports.

#infosec #ergo $erg https://t.co/P3cLpHL8oy
https://images-ext-1.discordapp.net/external/2Vz6HNEx64LwkOtWoPsiu36BuUH0Mqg78b4uTY4mN7M/https/pbs.twimg.com/tweet_video_thumb/FEwaS2bXIAY5-F2.jpg
Twitter


[11/22/2021 12:17 AM] Deleted User#0000
but they didn't dignify me with a response


[11/22/2021 12:17 AM] Deleted User#0000
so the email was either missed or they don't care about the security of the software whatsoever


[11/22/2021 12:18 AM] Marty#4039
There are bug bounties


[11/22/2021 12:20 AM] Deleted User#0000
maybe chris the contributor can lead me in the right direction


[11/22/2021 12:20 AM] abchris#8522
Is a P2PK address always 51 characters long?

{Reactions}
ergo_orange 

[11/22/2021 12:21 AM] Deleted User#0000
or not


[11/22/2021 12:21 AM] Deleted User#0000
https://google.com/search?q=ergo%20bug%20bounty self link


[11/22/2021 12:21 AM] Deleted User#0000
nadda


[11/22/2021 12:21 AM] Marty#4039
someone will answer you here I'm sure


[11/22/2021 12:22 AM] Deleted User#0000
üôè üôè


[11/22/2021 1:20 AM] Leif Erickson#8939
I'm kinda curious also


[11/22/2021 1:21 AM] Deleted User#0000
well i emailed them 11 days ago

{Reactions}
ü§° 

[11/22/2021 1:21 AM] Deleted User#0000
tagged them on twitter


[11/22/2021 1:21 AM] Deleted User#0000
reaching out now as well


[11/22/2021 4:06 AM] Marty#4039
@glasgowm do you know who on the team would be the best person to ask about what @Deleted User is mentioning?


[11/22/2021 4:06 AM] Deleted User#0000
@Marty i emailed them the vulnerability and am giving them time to push a hotfix


[11/22/2021 4:06 AM] Deleted User#0000
i don't expect a bug bounty based on how they've handled this


[11/22/2021 4:06 AM] Deleted User#0000
(total silence)


[11/22/2021 4:07 AM] Marty#4039
i'm surprised that's what you're getting because everyone is pretty active here usually.


[11/22/2021 4:30 AM] Deleted User#0000
https://tenor.com/view/tumbleweed-silence-gif-19279803

{Embed}
https://tenor.com/view/tumbleweed-silence-gif-19279803
https://images-ext-2.discordapp.net/external/OiOZCfkdLRk-ciUU6ZQlnUQWElcDv5_GkOVrHtV2GGA/https/media.tenor.co/images/192beeb9e5fdcba88b88ee35069e930c/tenor.png


[11/22/2021 7:23 AM] andee#4722
someone will get back to you in here, they just have to finish sleeping üôÇ


[11/22/2021 7:37 AM] glasgowm#9381
I passed it to the core Devs at the time


[11/22/2021 7:50 AM] glasgowm#9381
Original email was this. Not very professional, we receive tons of emails like this and there's no substance to make anyone think it's anymore than spam but Devs were looking into it regardless.

```
I‚Äôve found remote crashes in more blockchains than I can count, and do it as a side hustle:

Since it‚Äôs possible to spider all peers that makes it particularly dangerous. Straight to the meat and potatoes ‚Äî what is a bug like this worth to you? Industry standards for critical bugs can be found at¬†https://immunefi.com¬†(~$50k - $2m) ‚Äî what‚Äôs this one worth to you?
```

{Reactions}
üëç ü§î 

[11/22/2021 8:51 AM] kushti#0978
Yes, as serialized pubkey is always of 33 bytes

{Reactions}
üôè 

[11/22/2021 8:53 AM] kushti#0978
Please specify whether it is about P2P or API (which should not be available for most of the peers and exposed for some public nodes only to make them supporting apps like ErgoMixer, and so not DoS-resistant).  
You can DM me.


[11/22/2021 10:09 AM] pragmaxim#0778
is it possible to explicitly clean the GH actions cache ? 
https://github.com/ergoplatform/ergo/blob/master/.github/workflows/ci.yml#L39
https://github.com/ergoplatform/ergo/runs/4275088353?check_suite_focus=true


[11/22/2021 10:11 AM] pragmaxim#0778
this :
```
key: ${{ runner.os }}-sbt-cache-v2-${{ hashFiles('**/*.sbt') }}-${{ hashFiles('project/build.properties') }}
```
looks like the cache is flushed when the build files change


[11/22/2021 2:47 PM] DreamsMoney#1427
Hello everyone.  ‚òÄÔ∏è I was wondering anyone is available to support with mining pool development? - Ive been stuck on a particular topic over the weekend. Could use some help! üôÇ


[11/22/2021 6:15 PM] abchris#8522
Cheers. Then it seems P2S(H) addresses can also start with `9`, like this one: https://explorer.ergoplatform.com/en/addresses/9XTSyutEvDyUpmwfe2p4v7iY8KMe2UeQapDncrm6bEeMUAQz3PAU24E69aseU9Ag3K8D4b5uKYU8rZVT9KtrMv12z77v7vS9fjawe8C9kgbVuxVRkz62TPMvEw413vxXwZpWrhjSRbb6zM4WjVqjcho9ZAdLDv9hNfCfgW2XZzaC6ecDcGfVFUQcXeXGWHfELzQtbTgqqKMCibkBwChtsfSPSjAh9sh7mytHLfu1yuM9zg4mxKcWAAGAYiD7EnCvNEGy7qXuBkKWWAv8zfoLnb8d68Sh4QFTSaRRm8GbCJLgyvvFJbTcywzmQs7X4Ww7vLEJ3qVtrsUPGo1RGnGYitWAp9xqg6ZWeymBjvjhDHoT7LkdK9sKadr9Vf27ss3fpFikprxvenVh7ZxrycnVf2PmStFNswdwKp1mqKuRcp5S5njf1dH8pA9ixNF2EEHmAPymc9B8VSkG7yvJkx1TScoHx8pP


[11/22/2021 7:28 PM] Deleted User#0000
are you fucking kidding me with this level of disrespect? i gave you the bug for free


[11/22/2021 7:28 PM] Deleted User#0000
you are a team member?


[11/22/2021 7:29 PM] Deleted User#0000
and you just drop a private business email?


[11/22/2021 7:31 PM] Deleted User#0000
@glasgowm


[11/22/2021 7:31 PM] Deleted User#0000
am i the only one that saw this?


[11/22/2021 7:31 PM] Deleted User#0000
tf is wrong with you haha


[11/22/2021 7:40 PM] HazeyOneKenobi#2091
Nah man I'm seeing it. If it is a critical bug it shouldn't even be being discussed in public, right?


[11/22/2021 7:41 PM] Deleted User#0000
it will be now


[11/22/2021 7:41 PM] Deleted User#0000
they've had time to push a hotfix


[11/22/2021 7:41 PM] Deleted User#0000
if they're lax on security that's them


[11/22/2021 7:42 PM] Deleted User#0000
i don't appreciate the treatment i received after finding a crit and then giving it away for free


[11/22/2021 7:42 PM] Deleted User#0000
that's not industry standard lol


[11/22/2021 7:42 PM] HazeyOneKenobi#2091
I don't speak for ergo platform at all but I completely understand where you're coming from


[11/22/2021 7:42 PM] Deleted User#0000
thank you for that


[11/22/2021 7:43 PM] HazeyOneKenobi#2091
As I understand it ergo is quite well battle tested, built ground up and has a fair few bad actors who have tried to exploit contracts etc


[11/22/2021 7:44 PM] HazeyOneKenobi#2091
But thankyou for your contribution, I appreciate


[11/22/2021 7:52 PM] Deleted User#0000
p2p


[11/22/2021 7:53 PM] Deleted User#0000
public disclosure this week


[11/22/2021 7:56 PM] glasgowm#9381
Nothing I posted not in the original tweet


[11/22/2021 7:56 PM] glasgowm#9381
kushti said to dm him - but he doesn't think it's critical based on what you've sent through.


[11/22/2021 7:56 PM] Deleted User#0000
ROFL\


[11/22/2021 7:56 PM] Deleted User#0000
RIP


[11/22/2021 7:57 PM] Deleted User#0000
0DAY


[11/22/2021 7:57 PM] Deleted User#0000
UH OHHHH


[11/22/2021 7:57 PM] Deleted User#0000
have fun patching hundreds or thousands of nodes


[11/22/2021 7:57 PM] Deleted User#0000
before a bad actor turns them all off


[11/22/2021 7:58 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/912431780932489256/unknown.png


[11/22/2021 7:58 PM] Deleted User#0000
@glasgowm caused this


[11/22/2021 7:58 PM] Deleted User#0000
oh


[11/22/2021 7:58 PM] Deleted User#0000
well uh


[11/22/2021 7:58 PM] Deleted User#0000
it still crashes a bunch of nodes in the network


[11/22/2021 7:59 PM] Deleted User#0000
i thought it was a non issue


[11/22/2021 7:59 PM] Deleted User#0000
why delete


[11/22/2021 7:59 PM] glasgowm#9381
gj, maybe wait more than a couple days next time. Those 11 days spanned 2 weekends and 5 timezones.


[11/22/2021 8:24 PM] callie#3352
what is the vulnerability is? If it's just DOS on node, not sure if it's critical one since when we talk or report via Bug Bounty, DOS is something not priority. If you really on Bug Bounty Peeps.


[11/22/2021 8:27 PM] callie#3352
If you find rce, lfi, ssrf or BOF then that would be critical. But Dos type bug is not critical for me.


[11/22/2021 8:30 PM] HazeyOneKenobi#2091
What is needed to secure node from this vulnerability?


[11/22/2021 8:33 PM] callie#3352
maybe  multiple request of DOS via network. If that's the case, they just need to ratelimit it.


[11/22/2021 8:33 PM] callie#3352
anyway if it's something like DOS on software, sometimes it can lead to Buffer overflow that can lead to rce.


[11/22/2021 8:53 PM] glasgowm#9381
Just make sure the port isn't open and close it otherwise - there's also a setting to restrict api connections.


[11/22/2021 8:56 PM] callie#3352
I get it now, normal dos only for lot's of connections.


[11/22/2021 8:56 PM] glasgowm#9381
https://github.com/ergoplatform/ergo/wiki/Node-Configuration-File

{Embed}
https://github.com/ergoplatform/ergo/wiki/Node-Configuration-File
Node Configuration File ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - Node Configuration File ¬∑ ergoplatform/ergo Wiki
https://images-ext-2.discordapp.net/external/c_JdzLJNG-zKq3eonw0cbrC-3msFErQPQdLY9GlBntc/https/opengraph.githubassets.com/6b5bdd71ca1a9ecabee57c5f6ab354fc3a105da71b2a0814ab814742d5e75ee3/ergoplatform/ergo


[11/22/2021 8:59 PM] callie#3352
yeah, just rate limit it.


[11/22/2021 9:02 PM] Deleted User#0000
i'm dead


[11/22/2021 9:02 PM] Deleted User#0000
with all due respect you have no idea what you're talking about glasgow


[11/22/2021 9:02 PM] Deleted User#0000
do you know who i am?


[11/22/2021 9:03 PM] Deleted User#0000
the underground has the bug now


[11/22/2021 9:03 PM] Deleted User#0000
as i stated, it would be released this week. they've had nearly 2 to address the issue


[11/22/2021 9:03 PM] Deleted User#0000
shit happens


[11/22/2021 9:04 PM] Deleted User#0000
like being total dicks to a guy who gave you a free bug


[11/22/2021 9:04 PM] Deleted User#0000
i'd categorize that as shit


[11/22/2021 9:04 PM] callie#3352
you do Bug Bounty I guest just like how hackerone and bugcrowd newbie members who cry for reporting a bug.


[11/22/2021 9:04 PM] Deleted User#0000
ok thanks


[11/22/2021 9:05 PM] callie#3352
underground? Bug Bounty but the way you talk is unethical.


[11/22/2021 9:05 PM] callie#3352
That's not how Bug Bounty doing.


[11/22/2021 9:06 PM] callie#3352
FYI I reported critical issue on Google, Facebook and Apple but I didn't do something like this one. You can just pm them and push the vulnerability that you reported.


[11/22/2021 9:06 PM] callie#3352
If you truly a whitehat, but I guest it's just someone I'm talking to newbie.


[11/22/2021 9:08 PM] callie#3352
if you're name is todayisnew then I will truly respect you but the way you do is not a top hacker.


[11/22/2021 9:11 PM] Deleted User#0000
ok thanks


[11/22/2021 9:31 PM] HazeyOneKenobi#2091
If pad here has just came to ergo and freely gave info on a critical bug, then asked in a very direct way if it's worth anything to them, that's OK in my book


[11/22/2021 9:32 PM] HazeyOneKenobi#2091
Top hacker or not, who cares? If this results in an improvement to ergo we should be grateful


[11/22/2021 9:32 PM] Deleted User#0000
i asked what it was worth to them prior to. i didn't mean for it to come off as disrespectful. it was just a blunt question.


[11/22/2021 9:32 PM] Deleted User#0000
they didn't respond for almost 2 weeks so i just gave them the exploit


[11/22/2021 9:33 PM] Deleted User#0000
then had the email leaked after


[11/22/2021 9:33 PM] Deleted User#0000
and kind of smacked around a bit


[11/22/2021 9:33 PM] Deleted User#0000
haha


[11/22/2021 9:33 PM] HazeyOneKenobi#2091
Oh I see, messy situation if ergo thought it could just be spam I suppose


[11/22/2021 9:33 PM] Deleted User#0000
i'm really only pissed at glasgow


[11/22/2021 9:33 PM] glasgowm#9381
Always greatful for bug reports - not so much for publicly plastering them on twitter when you don't get a response on time. Then threatening to send dirty cops after me (?)


[11/22/2021 9:34 PM] Deleted User#0000
he probably shouldn't have done like 5 things


[11/22/2021 9:34 PM] Deleted User#0000
the only dirty cop here is you you shit mod


[11/22/2021 9:34 PM] Deleted User#0000
anyway jokes aside


[11/22/2021 9:34 PM] Deleted User#0000
bad response from the team


[11/22/2021 9:42 PM] callie#3352
Asking money without reporting the bug and then report it after since there is no response lol. Unethical way, I'm not proud to fellow bug bounty hunter doing like that


[11/22/2021 9:44 PM] callie#3352
Here look at the email, this kind of email is unethical and I bet this self proclaim bug bounty hunter will not ask like this on top company when reporting a bug.


[11/22/2021 9:45 PM] callie#3352
Asking money without reporting a exploit is a shitty bug bounty hunter.


[11/22/2021 9:45 PM] callie#3352
You can be jail for what you doing


[11/22/2021 9:46 PM] callie#3352
Manifesto of bug bounty hunter and whitehat


[11/22/2021 9:46 PM] callie#3352
Lol


[11/22/2021 9:46 PM] andee#4722
can everyone that have nothing to do with this just be quiet?


[11/22/2021 9:46 PM] callie#3352
What a dumbass


[11/22/2021 9:46 PM] HazeyOneKenobi#2091
I thought that email clipping was from the end, after the bug was explained, as it has details of the bug


[11/22/2021 9:46 PM] callie#3352
Self proclaim bug bounty hunter doing email like that


[11/22/2021 9:48 PM] glasgowm#9381
no that's the full email I just cut out his name


[11/22/2021 9:48 PM] callie#3352
If I received that email I will not reply too.


[11/22/2021 9:50 PM] HazeyOneKenobi#2091
Yeah same, my bad


[11/22/2021 9:50 PM] glasgowm#9381
We would've replied. Came in on a friday night or something - by the time devs seen it and responded we had AMAs and all sorts going on


[11/22/2021 9:52 PM] kushti#0978
@Deleted User @glasgowm the issue is not in p2p, in the first place. Open API can be ddosed, there are many ways to do that, it is not a secret. 
Please check API port is closed for public (via nginx etc), if node should be public, add akka.http.server.max-connections = 4 or like that to config

{Reactions}
üëè 

[11/22/2021 9:53 PM] Deleted User#0000
i didn't dive in too deeply then. i've been on a tear


[11/22/2021 9:53 PM] Deleted User#0000
api crash then


[11/22/2021 9:53 PM] Deleted User#0000
y/w


[11/22/2021 9:53 PM] kushti#0978
@Deleted User try to learn blockchain clients architecture for starters


[11/22/2021 9:53 PM] callie#3352
yep, api can be ddos and it's easily to do that. just need to rate limit it.


[11/22/2021 9:53 PM] Deleted User#0000
pardon?


[11/22/2021 9:54 PM] Deleted User#0000
@kushti


[11/22/2021 9:54 PM] Deleted User#0000
you have no idea who you're talking disrespectfully to


[11/22/2021 9:54 PM] Deleted User#0000
it's not wise to do that


[11/22/2021 9:54 PM] Deleted User#0000
i promise


[11/22/2021 9:55 PM] kushti#0978
it is not wise to call API layer P2P also. If you capable to find anything serious in P2P, welcome


[11/22/2021 9:55 PM] Deleted User#0000
yes i mistaked the api port for the p2p port


[11/22/2021 9:55 PM] kushti#0978
There could be good bounties for that for sure


[11/22/2021 9:55 PM] Deleted User#0000
i pen test like 10 blockchains at a time


[11/22/2021 9:55 PM] Deleted User#0000
i find p2ps all the time


[11/22/2021 9:55 PM] Deleted User#0000
got confused or something


[11/22/2021 9:55 PM] Deleted User#0000
that was 1 report of like 82394532489


[11/22/2021 9:55 PM] Deleted User#0000
anyway fuck you


[11/22/2021 9:56 PM] Deleted User#0000
"learn blockchain artichtecture for starters"


[11/22/2021 9:56 PM] Deleted User#0000
clunky distributed databases w/ cryptographic trails and crypto bottlenecks aren't complex


[11/22/2021 9:56 PM] callie#3352
unethical, shame on you pad who self proclaim bug bounty hunter. We are not like you.


[11/22/2021 9:56 PM] Deleted User#0000
callie for the love of god


[11/22/2021 9:56 PM] Deleted User#0000
whoever you are


[11/22/2021 9:56 PM] Deleted User#0000
you're so annoying


[11/22/2021 9:56 PM] callie#3352
if I only know your username on bugcrowd and hackerone I can easily ban you there.


[11/22/2021 9:57 PM] Deleted User#0000
padillac


[11/22/2021 9:57 PM] Deleted User#0000
https://hackerone.com/padillac

{Embed}
https://hackerone.com/padillac
HackerOne profile - padillac
-
https://images-ext-1.discordapp.net/external/2xjAE-IrTVPHk1exKY1yLzvLf_bDbBPkaxvOX_KWkNA/%3Fresponse-content-disposition%3Dinline%253B%2520filename%253D%2522chainlink-crash.png%2522%253B%2520filename%252A%253DUTF-8%2527%2527chainlink-crash.png%26response-content-type%3Dimage%252Fpng%26X-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Credential%3DASIAQGK6FURQTOLS2FFY%252F20211122%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20211122T215708Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEG4aCXVzLXdlc3QtMiJHMEUCICLHt4T60aLfJ%252BN0nCYbu7Dvp4HkwMCNhUTu4kNLv7ReAiEAtItb42u3nDZ5jHZ8NXbV77AckL2EUfQZRv7wEjeExuMq%252BgMINxACGgwwMTM2MTkyNzQ4NDkiDFVjP4r55ngv5gy3jyrXA8aihDkbUz%252BrLPFAsdFpJp1MTHoqz3CF0UtMY38f2kl5ToHcT7517Zu4zU8svH4axkA2Kbzz5ODihHUG8uruCB1Xj%252Bs5jpba94pmTRtWQH%252BnmP0S7RQtvk9w9uUt%252F64XDotvnBkpPbTMzXrDsOBdZADmV8z0Z9K7OtXEBlFx%252B63MAFz2FHx9tsIS3dxYCeBNT1oDU1qo93QXZpVVxXCiEes%252FEu%252Fnj4vwG9%252Bh3vVs89i1RpsfhZhPp8P5BqOPf4gntyVdX7v99rJgMR4IIvdSzDIfGoGoZLMSI5XD1tnpBUkhnK%252BW%252F2hrWWWWYj0QFE%252BjKvrvhzihSnk2SgpMMkE0F6uicaHcy4WlPEnD%252Fl4irKz0YYoyIxYmfQGKQi6Y0U2FrBHtpPnxC41N%252FZaO9L83l2Aarpo8XLtW%252Bf0YhSWRDPvoRJpdRjBMyanZKEv94dGW8jKKPt0S1kXexeuUOIGNzPSmxhEZoeL111SxCON61K1MLSY4ELzVW0FcKT27%252Fh7Mthb6eHp%252FnJjbVBfDlISZt%252FCNz5Wdnkp3Ngyq2uXBbGcKXPUIITdHPOX5WZztuR%252BwMBaB4yFH1ln26I3f5%252Fgjfo2VFtwjw%252BBFepvrn5okaY9KLRGqQeR%252BpjDynvCMBjqlASlCD%252FksF3FTTmM%252B1QpUGJ%252BceEzfHDdVLZbbwpz8EzJtAJlbm1%252F41oT%252FryCQK9ajtur%252BRc%252FYqv6eoqnhjYxI5WnA%252F4USU2TX9YZaQ3EN73GYZ%252B2PXWCLw8uM5TvHWaAbeOlQi8jQGECyL7lYVj0NG2zi8zEaR5%252FRsEO3QufZ2Pk1uz8NB4iZw7WHzfOn4mHgTThSDaCUFvhdmz3aofq80oC5WNbSHg%253D%253D%26X-Amz-SignedHeaders%3Dhost%26X-Amz-Signature%3Db132045bfb5b3b186d6505f894c790736b66476cca15a42fd966b3a9dcb09b0b/https/hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/variants/d9wdskgec8t5or527p6rdl6nhjz8/c11036e2d3f8b05af4b5da5984ccdec6f786b763c8abceb4e68042e10dcdae85


[11/22/2021 9:57 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/912461742456578058/unknown.png


[11/22/2021 9:57 PM] Deleted User#0000
waiting


[11/22/2021 9:57 PM] callie#3352
great, I can post you now how unethical you are haha


[11/22/2021 9:57 PM] callie#3352
gotcha hahaha


[11/22/2021 9:58 PM] Deleted User#0000
ok good luck with that


[11/22/2021 9:58 PM] Deleted User#0000
i don't use hackerone


[11/22/2021 10:00 PM] glasgowm#9381
go get the bearwhale plenty of rewards for that


[11/22/2021 10:01 PM] Deleted User#0000
i go direct and use brokers


[11/22/2021 10:01 PM] Deleted User#0000
going direct in this case was a fail


[11/22/2021 10:01 PM] Deleted User#0000
kushti got me re: p2p/api port


[11/22/2021 10:02 PM] Deleted User#0000
totally missed that


[11/22/2021 10:02 PM] andee#4722
so the critical bug is basically getting node ip's and flooding 9053?


[11/22/2021 10:02 PM] kushti#0978
@Deleted User if you can find something really interesting in p2p , would be happy to discuss.


[11/22/2021 10:02 PM] Deleted User#0000
there is no limit on a specific request's response body


[11/22/2021 10:02 PM] Deleted User#0000
so it's not really flooding it's like


[11/22/2021 10:03 PM] Deleted User#0000
3 requests


[11/22/2021 10:03 PM] Deleted User#0000
and the node goes down


[11/22/2021 10:03 PM] Deleted User#0000
```
GET /blocks/lastHeaders/1000000000 HTTP/1.1
Host: nodeip:9053
Connection: close
```


[11/22/2021 10:03 PM] Deleted User#0000
it shouldn't read that massive number


[11/22/2021 10:04 PM] Deleted User#0000
api bugs are lame - i thought it was a hybrid p2p/api thing


[11/22/2021 10:04 PM] Deleted User#0000
sec


[11/22/2021 10:05 PM] Deleted User#0000
so what that does, naturally


[11/22/2021 10:05 PM] Deleted User#0000


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/912463886261846096/unknown.png


[11/22/2021 10:05 PM] Deleted User#0000
is cause the process to freak out and crash


[11/22/2021 10:08 PM] Deleted User#0000
```
java.lang.OutOfMemoryError: Java heap space
        at akka.io.TcpConnection$$Lambda$1809/0x0000000840a49840.get$Lambda(Unknown Source)
        at java.base/java.lang.invoke.DirectMethodHandle$Holder.invokeStatic(DirectMethodHandle$Holder)
        at java.base/java.lang.invoke.Invokers$Holder.linkToTargetMethod(Invokers$Holder)
        at akka.io.TcpConnection.$anonfun$postStop$5(TcpConnection.scala:411)
        at akka.io.TcpConnection.$anonfun$postStop$5$adapted(TcpConnection.scala:411)
        at akka.io.TcpConnection$$Lambda$1808/0x0000000840a4e840.apply(Unknown Source)
        at scala.Option.foreach(Option.scala:407)
        at akka.io.TcpConnection.postStop(TcpConnection.scala:411)
        at akka.actor.Actor.aroundPostStop(Actor.scala:556)
        at akka.actor.Actor.aroundPostStop$(Actor.scala:556)
        at akka.io.TcpConnection.aroundPostStop(TcpConnection.scala:33)
        at akka.actor.dungeon.FaultHandling.finishTerminate(FaultHandling.scala:240)
        at akka.actor.dungeon.FaultHandling.terminate(FaultHandling.scala:197)
        at akka.actor.dungeon.FaultHandling.terminate$(FaultHandling.scala:167)
        at akka.actor.ActorCell.terminate(ActorCell.scala:410)
        at akka.actor.ActorCell.invokeAll$1(ActorCell.scala:519)
        at akka.actor.ActorCell.systemInvoke(ActorCell.scala:535)
        at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:295)
        at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:273)
        at akka.dispatch.Mailbox.run(Mailbox.scala:231)
        at akka.dispatch.Mailbox.exec(Mailbox.scala:243)
        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)
        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)
        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)
        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)
        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)
22:08:36.605 INFO  [ergoref-api-dispatcher-8] o.e.n.w.ErgoWalletActor - Closing wallet actor
22:08:36.605 INFO  [ergoref-api-dispatcher-8] o.e.n.w.ErgoWalletActor - Wallet actor stopped
```


[11/22/2021 10:11 PM] andee#4722
my pi is at 50-80% with 10 requests, not more than normal?


[11/22/2021 10:11 PM] Deleted User#0000
your pi?


[11/22/2021 10:11 PM] Deleted User#0000
are you running DoS mode in intruder


[11/22/2021 10:12 PM] andee#4722
a raspberry pi, from what you wrote you made it look like 3 GET requests was enough


[11/22/2021 10:12 PM] Deleted User#0000
thought it would be. could be wrong


[11/22/2021 10:13 PM] Deleted User#0000
try 10 from burp intruder


[11/22/2021 10:16 PM] Deleted User#0000
well now i have to find a p2p bug i guess


[11/22/2021 10:17 PM] ziggomatic#9335
cringe my dude


[11/22/2021 10:17 PM] MrStahlfelge#0042
213.239.193.208:9053 is not reachable at the moment, is that due to your tests? @kushti


[11/22/2021 10:18 PM] curak123#9487
Cringe is hating capitalism and being a hefty comrade


[11/22/2021 10:18 PM] callie#3352
I agree, glassglow is unethical also. what the fuck is saying about bearwhale.


[11/22/2021 10:20 PM] Deleted User#0000
@callie who appointed you the ergo ethical oversight committee

{Reactions}
gasp 

[11/22/2021 10:20 PM] Deleted User#0000
you're beyond annoying


[11/22/2021 10:20 PM] Deleted User#0000
go kill my hackerone


[11/22/2021 10:20 PM] Deleted User#0000
bet you can't


[11/22/2021 10:20 PM] callie#3352
lol noob, asking money without reporting a bug first is unethical in a bug bounty. what a moron.


[11/22/2021 10:21 PM] Deleted User#0000
>noob


[11/22/2021 10:21 PM] Deleted User#0000
>asking what it's worth = asking for money


[11/22/2021 10:21 PM] Annoyinmous#0600
all this would have been avoided if glasgow didn't have a massive ego :Shrug:


[11/22/2021 10:21 PM] Deleted User#0000
^^^^^^^^^^^^^^^


[11/22/2021 10:21 PM] callie#3352
asking money without reporting a bug, what a disgrace of bug bounty community.


[11/22/2021 10:21 PM] kushti#0978
guys, this channel is for supporting developers, can you please relocate to some other place, like #random


[11/22/2021 10:21 PM] Deleted User#0000
a community of which you are not a relevant part of


[11/22/2021 10:22 PM] callie#3352
a community which you are not part of it. what a noob newbie self proclaim bug bounty member


[11/22/2021 10:22 PM] Deleted User#0000
let's take it to #random


[11/22/2021 10:22 PM] callie#3352
asking money


[11/22/2021 10:22 PM] callie#3352
for bug without reporting it first


[11/22/2021 10:22 PM] callie#3352
go report it on google and facebook.


[11/22/2021 10:23 PM] Deleted User#0000
what's it worth to you callie


[11/22/2021 10:23 PM] andee#4722
please go brush your teeth and go to bed

{Reactions}
NM_Rude (3) üíØ (3) 

[11/22/2021 10:23 PM] Deleted User#0000
i'm 35 and rich


[11/22/2021 10:23 PM] Deleted User#0000
andee


[11/22/2021 10:24 PM] kushti#0978
up now


[11/23/2021 3:07 AM] ProSavage#7131


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/912539807828291604/unknown.png


[11/23/2021 3:07 AM] ProSavage#7131
getting constant crashes on ergo node


[11/23/2021 3:07 AM] ProSavage#7131
cpu usage pretty high too


[11/23/2021 3:07 AM] ProSavage#7131
Ive had to raise my cpu cores, historically its ran just fine on 2 threads


[11/23/2021 4:19 AM] soysor#6001
Are there any js sdks for interacting with ergo node API that function in the browser (I think browser rules out appkit?)

`ergo-sdk-js` looks pretty good but currently only has implementation for explorer backend as far as I can see


[11/23/2021 4:24 AM] Marty#4039
is this a result of Pad's activity?


[11/23/2021 4:32 AM] ProSavage#7131
my pool's node is pretty publicly avialable


[11/23/2021 4:32 AM] ProSavage#7131
I told everyone the ip and stuff, someone likely read it and just wrote a script, I watched the networking and it is what is going on


[11/23/2021 4:32 AM] ProSavage#7131
I just moved the node to a new server, ip, and subdomain


[11/23/2021 4:32 AM] ProSavage#7131
so fixed :shrug:


[11/23/2021 4:33 AM] ProSavage#7131
Setup firewalls for networking too, so the api can only be accessed by my stratums


[11/23/2021 5:16 AM] Marty#4039
yeah not too big a deal really


[11/23/2021 10:18 AM] andee#4722
I wasn't able to crash my node, but the API became unavailable and didn't seem to recover. was also unable to shutdown the container properly, had to do a reboot


[11/23/2021 10:24 AM] glasgowm#9381
maybe JDE or Kiosk web?

http://docs.ergoplatform.org/dev/stack/jde/


[11/23/2021 10:50 AM] HazeyOneKenobi#2091
There is a wasm library, bound from rust.


[11/23/2021 10:51 AM] HazeyOneKenobi#2091
Sounds complicated but it isn't so much, you can check it out if you Google 'ergo-lib-wasm' I think. That's what the auctionhouse uses I think


[11/23/2021 10:56 AM] soysor#6001
Thanks for the suggestions, I have a way forward üôÇ


[11/24/2021 1:02 AM] Marty#4039
Is it possible to frontrun on ergo by paying a higher fee, or does it differ from eth in that sense?


[11/24/2021 8:08 AM] MrStahlfelge#0042
possible


[11/24/2021 1:45 PM] Marty#4039
Any way to protect regular users against bots?


[11/24/2021 2:00 PM] glasgowm#9381
https://discord.com/channels/668903786361651200/669989266478202917/913055853236613122


[11/25/2021 5:18 AM] Cheese Enthusiast#0548
Is there any way to cancel a transaction or have it removed from mempool? I had a tx with a subpooling smart contract that(I now know) used way too low of a tx fee. Transaction has been stuck in mempool for a while and has made my wallet unusable for me.


[11/25/2021 5:21 AM] Marty#4039
recommending i take a closer look at ergodex code?


[11/25/2021 6:27 AM] Cheese Enthusiast#0548
I'm also kind of wondering, does this mean yoroi accounts could be locked for days by people maliciously sending low fee but computationally heavy transactions? Since the tx is always stuck in mempool and yoroi does not let you spend any ergo if you have a pending tx, it could be a way to prevent people from spending their wallets. Probably an expensive, unlikely and easy-to-fix attack but still a possibility with the way Yoroi is currently set up.


[11/25/2021 7:01 AM] MrStahlfelge#0042
Had that discussion some while ago. You can't cancel, but you can outbid by spending the same box with a higher fee. Tx with higher fee will be mined and the other one discarded


[11/25/2021 7:06 AM] Cheese Enthusiast#0548
When I was making that contract, I had required that the contract could only evaluate to true if all output boxes were correct (including the tx fee being set to minimum).  This means that it is impossible to outbid this transaction because any attempt to outbid it will simply cause the script to evaluate to false.


[11/25/2021 7:07 AM] MrStahlfelge#0042
Outbidding works on your inbox. Just send your inbox to another address


[11/25/2021 7:10 AM] Cheese Enthusiast#0548
By inbox do you mean the box being used as the tx input? In that case all of the tx inputs are protected by the same smart contract and so they cannot be spent unless they evaluate to true.


[11/25/2021 7:15 AM] Cheese Enthusiast#0548
Anyways I can always just code a tx to send the money to another address by picking exactly what boxes I want. I was hoping I could avoid that but if that's not the case I'll just make something quick for my own usage in appkit. If there is really no other way to do this though then it may be worth looking into to change how Yoroi deals with pending tx's or maybe how mempool deals with transactions that get stuck(I was under the impression stuck transactions would get dropped after 2 weeks but it seems like this one has been here for longer).


[11/25/2021 7:23 AM] Cheese Enthusiast#0548
Also wondering if AOT vs JIT costing would affect how this tx works and whether or not it could be cancelled or outbid.


[11/25/2021 7:24 AM] Cheese Enthusiast#0548
Or is that purely just a difference in how the script is costed and no difference in the order or way that it is evaluated?


[11/25/2021 10:52 AM] morphic#4133
yes, this is just different internal cost estimation logic of the new interpreter. On average the same transactions will have smaller costs.


[11/25/2021 10:53 AM] morphic#4133
Functionally, the new interpreter is equivalent to the old one.


[11/26/2021 10:30 AM] jsjs77#1210
Hi, I'm new to Ergo and interested in writing and deploying smart contracts but not sure where to begin as I would like to have the Smart Contract example for my reference. Also, where can I deploy the smart contract? Anyone can guide me here?


[11/26/2021 10:43 AM] glasgowm#9381
http://docs.ergoplatform.org/dev/scs/ergoscript/ - ergoscript by example here


[11/26/2021 10:49 AM] jsjs77#1210
Thanks.


[11/26/2021 2:45 PM] √Ör√ñhB√™#8289
Who handles pull requests for Sigmaverse?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/913802754437300224/IMG_0135.png


[11/26/2021 3:02 PM] glasgowm#9381
@Dmitry Usov


[11/26/2021 3:17 PM] Dmitry Usov#0134
Yep I saw it. Thanks.


[11/26/2021 4:54 PM] √Ör√ñhB√™#8289
Thank you


[11/26/2021 7:46 PM] soysor#6001
Anyone able to demystify a few things for me please üôÇ

1. How do wallets retrieve all transactions specific to that wallet from the chain? Is it a matter of scanning every single transaction and checking if the address was derived from that wallets root key? (however that's done)
~~2. Going further, how would wallet then break each transaction down to "accounts" (`m / 44' / 429' / account' / change / address_index`), is there a way to reverse the derivation path and retrieve the `account'` from an address?~~


[11/27/2021 12:09 AM] soysor#6001
The answer to 2 seems to be `account discovery` in bip44


[11/27/2021 12:40 AM] soysor#6001
I think I found the answer to 1:
- generate a 'stop gap' number of addresses using wallet key
- scan chain for transactions using those addresses to build transaction list
- repeat until no new transactions in stop gap range

Please correct me if im wrong or missing something üôÇ


[11/27/2021 6:15 AM] greenhat#6562
You're right about addresses. There is a scan endpoint in node API.

{Reactions}
ergo_orange 

[11/28/2021 6:16 PM] haileypdll#3353
Hello, is there a way to identify that two smart contrats (compiled Ergo tree) have the same Ergo script but were compiled with different values for the symbols ?


[11/28/2021 7:28 PM] Marty#4039
@anon_real any idea whats happening with auction house? It's frozen


[11/28/2021 7:28 PM] Marty#4039
can we create custom transactions somehow?


[11/28/2021 9:00 PM] anon_real#2768
Should be fixed now. Hopefully will never happen again.

{Reactions}
üëç 

[11/28/2021 9:47 PM] Marty#4039
What triggered the error?


[11/28/2021 10:36 PM] Cheese Enthusiast#0548
Hey so I'm wondering if there's any updates on what I was talking about here. I've got a node set up and working so I personally no longer need to use Yoroi, but the other people who got outputs from that transaction are still unable to do anything with their Yoroi wallets. Is there *anything* that can be done to either remove this transaction from mempool or at least allow these people to spend the boxes in their wallet that are not related to the bugged output box they received.


[11/28/2021 10:42 PM] curbsideprophet#5083
Silly question (but mostly confirming): what language do I need to become an Ergo blockchain developer? Is it Scala?


[11/28/2021 10:45 PM] Cheese Enthusiast#0548
In general I am not too sure why these transactions lock them out of the wallet in the first place. No boxes of ours are used as inputs, we only received outputs in the transaction. I can understand why pending tx's that spend our own boxes should prevent us from making new transactions. But I can't really see why pending txs where we only receive outputs are able to lock us out. Maybe I am missing something?


[11/28/2021 10:46 PM] Cheese Enthusiast#0548
I personally started with Scala/Java, but I believe you can also work in any java-based language if you use appkit.


[11/28/2021 10:46 PM] glasgowm#9381
Depends what you're wanting to do - but not scala necessarily 

http://docs.ergoplatform.org/dev/


[11/28/2021 10:47 PM] curbsideprophet#5083
Mostly curious about backend work and smart contracts (working knowledge of python right now)


[11/28/2021 10:47 PM] curbsideprophet#5083
Thank you!


[11/28/2021 10:47 PM] glasgowm#9381
Using Appkit Ergo applications can be written in one of the languages supported by GraalVM (i.e. Java, JavaScript, C/C++, Python, Ruby, R) and using this library applications can communicate with Ergo nodes via unified API and programming model provided by Appkit


[11/28/2021 10:48 PM] curbsideprophet#5083
The ‚Äúsmart contracts‚Äù link is broken on that page


[11/28/2021 10:50 PM] glasgowm#9381
yeh just noticed - missing a `/`


[11/28/2021 10:50 PM] glasgowm#9381
http://docs.ergoplatform.org/dev/scs/ergoscript/


[11/28/2021 10:50 PM] curbsideprophet#5083
You are the best thank you so much üôè

{Reactions}
üëç 

[11/28/2021 10:51 PM] Cheese Enthusiast#0548
Yeah, if you're going to be doing smart contracts I would suggest learning some Scala, regardless of what language you end up using for the off-chain code. ErgoScript is pretty similar to Scala and I found that learning Scala helped me immensely in understanding ErgoScript much quicker. Just my personal opinion though.


[11/28/2021 10:52 PM] glasgowm#9381
Did you already know Java?


[11/28/2021 10:52 PM] curbsideprophet#5083
I‚Äôm a data scientist by trade (python and SQL) so i want to learn how to help the ergo ecosystem on the side


[11/28/2021 10:53 PM] glasgowm#9381
on-chain analysis pls


[11/28/2021 10:53 PM] curbsideprophet#5083
How to get the data? Build a node? That‚Äôs where I‚Äôm trying to wrap my head around


[11/28/2021 10:53 PM] glasgowm#9381
yeah - and there's a chain-grabber in the explorer-backend


[11/28/2021 10:54 PM] curbsideprophet#5083
Setup node > tap API > data analysis > profit?

{Reactions}
peperead (2) 

[11/28/2021 10:54 PM] glasgowm#9381
Don't need to build the node btw, but sync one yes


[11/28/2021 10:54 PM] curbsideprophet#5083
Ok.


[11/28/2021 10:55 PM] curbsideprophet#5083
Thank you @glasgowm and @Cheese Enthusiast I‚Äôll come back with more questions

{Reactions}
üëç (2) 

[11/28/2021 10:55 PM] glasgowm#9381
There is https://ergo.watch/

{Embed}
https://ergo.watch/
ErgoWatch
Ergo Blockchain Stats & Monitoring


[11/28/2021 10:55 PM] glasgowm#9381
and https://explorer.ergoplatform.com/en/charts


[11/28/2021 10:56 PM] curbsideprophet#5083
But what is wrong with them ?


[11/28/2021 10:56 PM] curbsideprophet#5083
Maybe more in depth info or market analysis


[11/28/2021 10:56 PM] glasgowm#9381
yeh, nr of wallets, whale-movements, etc


[11/28/2021 10:56 PM] glasgowm#9381
https://datastudio.google.com/u/0/reporting/3136c55b-635e-4f46-8e4b-b8ab54f2d460/page/k5r9B

{Embed}
https://datastudio.google.com/u/0/reporting/3136c55b-635e-4f46-8e4b-b8ab54f2d460/page/k5r9B
Cardano Blockchain Insights
Google Data Studio turns your data into informative dashboards and reports that are easy to read, easy to share, and fully customizable.
https://images-ext-1.discordapp.net/external/kNMcfG1l7kwxsaGOhadPuuB6q6zvYauNPU7zw15s6BI/%3Fsz%3Dfull%26feature%3Dopengraph/http/datastudio.google.com/reporting/3136c55b-635e-4f46-8e4b-b8ab54f2d460/page/k5r9B/thumbnail


[11/29/2021 9:58 AM] curbsideprophet#5083
i am now working on compiling the `explorer-backend` for the `chain-grabber` but when i run `sbt test` getting a bunch of unsuccessful runs. how should i resolve this? (no idea how to work with scala)

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/914817536174981190/unknown.png


[11/29/2021 10:20 AM] andee#4722
do you have any output from the tests?


[11/29/2021 10:23 AM] curbsideprophet#5083
Yeah I think there is an xml file in the chain-grabber module folder


[11/29/2021 2:34 PM] weskinner#4666
just download the latest zip from the release and you'll have precompiled jars https://github.com/ergoplatform/explorer-backend/releases/tag/9.4.3

{Embed}
https://github.com/ergoplatform/explorer-backend/releases/tag/9.4.3
Release Ergo Explorer Backend 9.4.3 ¬∑ ergoplatform/explorer-backend
Basic mempool API v1
Reliability of transactions broadcasting improved
https://images-ext-1.discordapp.net/external/3rE09Xyq86xFqEPAzuS-hgXCSlz51HRitjS7fDAFb6Y/https/opengraph.githubassets.com/624df0a3c4ab90af85e0a471736c99a4027a18d2fdb93276d14e1edd3d7f0e50/ergoplatform/explorer-backend/releases/tag/9.4.3


[11/29/2021 5:17 PM] curbsideprophet#5083
getting the same issues when i run `sbt test` in that folder

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/914928174629011546/Screen_Shot_2021-11-29_at_9.17.38_AM.png


[11/29/2021 5:19 PM] weskinner#4666
Just use the chain-grabber jar included in the zip like `java -jar ChainGrabber-X.X.X.jar modules/chain-grabber/src/main/resources/application.conf`


[11/29/2021 5:20 PM] weskinner#4666
no need to run the tests


[11/29/2021 5:35 PM] curbsideprophet#5083
ok i think this is working now but going in a fail loop due to port issues lol

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/914932541394403388/Screen_Shot_2021-11-29_at_9.34.46_AM.png


[11/29/2021 10:01 PM] Cheese Enthusiast#0548
Hey guys is testnet working properly / being mined to at all? It seems the last block was 3 days ago. I tried using my own node to mine to it but am getting syncing issues.


[11/29/2021 10:05 PM] curbsideprophet#5083
finally got this bad boy `chain-grabber` to sync (in progress) and huge kudos to @abchris and @weskinner for their help

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/915000621780852786/unknown.png

{Reactions}
ü§© (2) üëç 

[11/30/2021 11:07 PM] kushti#0978
If you are about that tx which stuck in the mempool for many days to the moment, need to check why it is not included.

To replace it (if you use the node), there are few ways, maybe the simplest is to set ergo.node.minimalFeeAmount = 2000000 , restart the node, do new tx with fee of 0.002 ERG (2000000 nanoERG) , or more, after successful replacement around the network better to go back to default settings


[11/30/2021 11:07 PM] kushti#0978
@zargarzadehmoein are you mining ?


[12/01/2021 4:33 AM] Kurikun#6941
What types of on-chain analysis do you believe are needed?


[12/01/2021 9:08 AM] kushti#0978
Dropping old transactions sounds good. Not implemented now

{Reactions}
üëç (2) 

[12/01/2021 10:42 AM] glasgowm#9381
The ones that are most frequently requested are things like # of active wallets, movement of top 100 wallets, average erg holdings, miner sell pressure, etc.

{Reactions}
üëçüèª (4) ergo_orange 

[12/01/2021 2:49 PM] zargarzadehmoein#2928
Fixed problem, but explorer is lagging behind

{Reactions}
üëç ergo_orange 

[12/01/2021 6:26 PM] √Ör√ñhB√™#8289
@Cheese Enthusiast @AllCloudy | GetBlok.io FYI


[12/01/2021 6:26 PM] √Ör√ñhB√™#8289
Thanks @zargarzadehmoein

{Reactions}
üëç 

[12/02/2021 8:23 AM] ilya | dappstep#9261
Hi, need some help in understanding the extension wallet architecture. I want to build a basic chrome extension wallet.
1. How and where to save a generated private key? Is it save to save it in chrome.storage encrypted?
2. Does the wallet password used to encrypt/decrypt the private key? What's the best way to encrypt decrypt the private key?
3. Do I have to run a node in order to see all transactions associated with my wallet addresses or is there any public available API?
4. How do I sign/submit transactions? Is it happens on BE or FE?


[12/02/2021 8:09 PM] kushti#0978
now looks good. Maybe in future testnet it makes sense to have blocks every 20 seconds ?


[12/02/2021 8:11 PM] kushti#0978
node is not needed, wallets are working with explorers. you can check Coinbarn source code, it is much simpler than Yoroi I guess https://github.com/coinbarn/coinbarn-extension

{Embed}
https://github.com/coinbarn/coinbarn-extension
GitHub - coinbarn/coinbarn-extension
Contribute to coinbarn/coinbarn-extension development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/hbwV5ubKI19gGNW2wey7xK_lC2aaQO14n9Zp9jK0a70/https/opengraph.githubassets.com/eefa5d503a1b1ba72e21cbecea3108e866b5bbee813c8419c21accef6d86b0df/coinbarn/coinbarn-extension


[12/02/2021 9:22 PM] MrStahlfelge#0042
I think current speed is okay, it is more of a problem that mempool does not show on explorer

{Reactions}
üëç 

[12/02/2021 10:15 PM] ilya | dappstep#9261
Thanks Alex! I also found the ergo desktop wallet that uses sigma-rust to sign transactions.


[12/03/2021 12:10 AM] Leif Erickson#8939
I noticed my assembler is not connecting to my mainnet node, although swagger and panel are working.  I'm looking through the logs and see this: `00:06:58.585 INFO  [tor.default-dispatcher-12] s.c.n.peer.PeerManager - /159.65.11.55:9030 penalized, penalty: NonDeliveryPenalty`, although I'm not sure it's me or another node...I'm assuming it's probably me.  I reset yesterday and it was happy for a little bit and thought I'd just ask.  I also have another mainnet node to help testing ergoscripts and testing API calls for ErgoPad.  I'm currently using testnet, and could really use some help so I can react quickly if this happens in production!?  Thank you!


[12/03/2021 12:12 AM] Leif Erickson#8939
...seems testnet is now failing in similar manner.  I'm going to poke around the assembler (v1.1, latest stable) a little as well


[12/03/2021 7:29 AM] Cheese Enthusiast#0548
I have a few questions relating to how miners receive rewards:

From what box or address do the mining rewards come from? Is there a contract or number of contracts that control how mining rewards are distributed?

It takes 720 confirmations(72 in testnet) for mining rewards to be received? Where did this number come from and what prevents the rewards from being used earlier? Can this number be changed or is it a hardcoded value in the contract or protocol?

I noticed that there is a minerPK field in each block header. Does this mean that mining rewards can only be sent to P2PK addrsses? Is it possible to have mining rewards directly sent to a P2S address instead?


[12/03/2021 7:30 AM] Cheese Enthusiast#0548
I am also wondering if anybody has examples on how to use AVL trees in ErgoScript, especially in conjunction with Appkit.


[12/03/2021 7:50 AM] Cheese Enthusiast#0548
I also have a few other questions about ErgoScript and designing things in the eUTXO environment:

Is it possible for me to access the transaction history of a certain box inside a smart contract? Can I get information about what Inputs were used to create a certain box? 

When designing a smart contract, what kinds of things would I want to keep on-chain and what kinds of things would I want to keep off-chain? ErgoScript gives me the ability to spend a smart contract if some booleans / sigprops evaluate to true, but how can I ensure that what is verified in the smart contract is actually necessary to keep on-chain? Is this just a matter of intentions?

How can I determine an appropriate fee for a smart contract before actually sending the transaction?


[12/03/2021 12:40 PM] Krasavice Blasen#4574
Is it possible to create a token that when users send it, some percentage of it is burnt automatically. Like the token is minted with this built in characteristic?


[12/03/2021 1:53 PM] MrStahlfelge#0042
I doubt that you can tie this to the token, but instead of sending the token to the user's p2pk address you can send it to a smart contract address with such enforcements


[12/03/2021 4:05 PM] kushti#0978
hmm , the error is about a message not got from one of seed nodes, so likely the problem is elsewhere


[12/03/2021 5:30 PM] Leif Erickson#8939
Ok, thank you. The node does seem to be fine from the panel, and I've tweaked memory from some of your previous recommendations.


[12/03/2021 6:00 PM] Leif Erickson#8939
Also, is there a way to minimize traffic (or perhaps just output) of a node?  I'm hoping to run one on an AWS EC2 instance and would like to keep bandwidth as low as possible


[12/03/2021 11:18 PM] Krasavice Blasen#4574
So say some tokens are sent to a P2S address, the script ensures some tokens are burnt and the rest goes to say Alice's PK. Is it possible to prevent Alice from then sending her tokens directly to a P2PK (avoiding the burn)? And to force her to use the smart contract? Thanks


[12/05/2021 1:13 AM] davidcodes#2138
This video is the best overall guide I could find regarding the  workflow of coding a contract and interacting with the blockchain .
https://youtu.be/Md5s-XV6-Hs

{Embed}
Apex Theory
https://www.youtube.com/watch?v=Md5s-XV6-Hs
AppKit by Example
Interacting with the Ergo blockchain using AppKit
Clone the repository on Github: https://github.com/ApexTheory/appkit-by-example
https://images-ext-2.discordapp.net/external/nWixLA9IxgdOziOru48X4ev9gs5qkZjJyrx0NqjRmcY/https/i.ytimg.com/vi/Md5s-XV6-Hs/maxresdefault.jpg

{Reactions}
ergo_orange üëçüèª 

[12/05/2021 7:41 PM] kushti#0978
Yes, your node can have less connections, and send less messages also. Is it pool node, or just personal, so we can do more brave experiments?


[12/05/2021 7:43 PM] kushti#0978
In this case you have to send not to Alice's PK but more complex contract


[12/06/2021 4:50 AM] Krasavice Blasen#4574
The /wallet/transaction/generateUnsigned endpoint creates a transaction, but it won't appear in the explorer until the box owner signs it right?


[12/06/2021 4:51 AM] blackinsecure#3693
Hi, is there any whitepaper on the query complexity of the Autolykos algorithm?


[12/06/2021 4:58 AM] blackinsecure#3693
I new here, I don't know if this is the right place to ask


[12/06/2021 5:30 AM] blackinsecure#3693
There is no analysis of complexity in the Autolykos description on Ergo's website


[12/06/2021 8:13 AM] kushti#0978
what could be that about ? any example for another algo ?


[12/06/2021 8:14 AM] kushti#0978
yes, unsigned tx wont' be propagated

{Reactions}
üëç 

[12/06/2021 9:08 AM] blackinsecure#3693
Complexity of the algorithm's runtime. How many query it has to make as a function of parameters of the algorithm like bitstring size, subset size, size of the list, etc


[12/06/2021 9:11 AM] blackinsecure#3693
Since Autolykos is based on the k-sum problem I assume complexity is the runtime it takes to solve k-sum as a function of the aforementioned params + runtime to execute getIndexes J times plus something I may be missing now


[12/06/2021 9:12 AM] blackinsecure#3693
I was looking for at least an asymptotic result


[12/06/2021 9:15 AM] blackinsecure#3693
I'm not sure if oother crypto algos have this analysis published by their own teams, but as an example for the k-sum problem it looks like something like this https://drops.dagstuhl.de/opus/volltexte/2016/6376/pdf/LIPIcs-ESA-2016-25.pdf


[12/06/2021 9:30 AM] glasgowm#9381
Not sure the exact O notation but your assumptions sound correct. 

Why out of curiosity? Are you performing some sort of comparison?


[12/06/2021 9:53 AM] blackinsecure#3693
I'm thinking about it, to be honest. But if it's even woth a try would depend on these numbers I'm looking for


[12/06/2021 9:53 AM] blackinsecure#3693
Full disclosure I'm a PhD Physics student, more specifically in Quantum Computing

{Reactions}
üôå 

[12/06/2021 9:54 AM] blackinsecure#3693
So I guess you can already infer where my mind is going


[12/06/2021 10:02 AM] glasgowm#9381
This I think? üôÇ 

https://discord.com/channels/668903786361651200/668903786902847502/834861333731475476


[12/06/2021 10:16 AM] blackinsecure#3693
I'm coming less from the encryption-breaking side and more from the side of "how a quantum version of Autolykos perform against its classical peer"


[12/06/2021 10:19 AM] blackinsecure#3693
I think the results would be very interesting either way


[12/06/2021 11:18 AM] kushti#0978
@Cheese Enthusiast found that your tx has too high complexity to be included into blocks


[12/06/2021 11:18 AM] kushti#0978
weird that it is propagated still


[12/06/2021 11:18 AM] kushti#0978
but I can ask some pool to raise complexity a bit


[12/06/2021 11:18 AM] kushti#0978
then it will be included into a block


[12/06/2021 11:44 AM] Cheese Enthusiast#0548
Ah was it that old transaction causing the problem? I am not surprised, it had been acting very strangely for a while now.


[12/06/2021 11:46 AM] Cheese Enthusiast#0548
It is not particularly important if the transaction goes through or not, so you can choose whatever method you wish to deal with it. If you need a pool operator then I‚Äôm sure @AllCloudy | GetBlok.io could probably help if he is free.


[12/06/2021 11:50 AM] Cheese Enthusiast#0548
I am however interested in what caused the complexity to be so high and how it can be prevented in the future. I have a few ideas myself but I‚Äôm wondering if you know more about how it could have happened.


[12/06/2021 12:30 PM] AllCloudy | GetBlok.io#1273
I‚Äôm here is something still needed?


[12/06/2021 6:31 PM] kushti#0978
got into block


[12/06/2021 6:31 PM] kushti#0978
https://explorer.ergoplatform.com/en/transactions/adb6b64ba575ce4fff1a65266a12a4d02998321fa67ddcb8d8d8a6a9ff5af2b3


[12/06/2021 6:31 PM] kushti#0978
one pool raised complexity limit


[12/06/2021 6:32 PM] kushti#0978
Complexity corresponds to execution (control flow) graph density, basically


[12/06/2021 6:43 PM] ds199966#3007
Does ergo-js only support transactions? Am I not able to make a wallet app using ergo Js library, or do I have to use ergoscript with scala


[12/06/2021 6:45 PM] ds199966#3007
Also REST API and JS can't make a wallet app? Not sure about how I would start making a mobile wallet with JS


[12/06/2021 7:06 PM] Kurikun#6941
From my recollection, ergo-ts only supports working against the node APIs or the Explorer APIs.  It can't create a wallet on its own.

You may want to look at ergo-appkit https://github.com/ergoplatform/ergo-appkit, which you can configure to work with Javascript.


[12/06/2021 7:12 PM] Kurikun#6941
My own question:

This question might be a little out there, but I am looking at the node messaging starting with the handshake format.  I've reviewed this document from the wiki https://github.com/ergoplatform/ergo/wiki/P2P-Handshaking, which seems to imply that the public address appears in the message, and then the mode features appear after that.  The PeerSpecSerializer.scala file in ergo source seems to support this as well.

However, if you look at this hex string version of a handshake message

8b8a86ded82f076572676f72656604000f136572676f2d746573746e65742d342e302e31350003100400010001030e020000028cd8a0bce2e8f28ed8010206c0a8f581bc46

the public address begins in position 64 of the 69 total bytes.  Bytes 64-67 are the address, and 68-69 are the port.  The features appear prior to byte 64.

So can anyone shed any insight on how the message appears this way and if the wiki is no longer up to date?

{Embed}
https://github.com/ergoplatform/ergo/wiki/P2P-Handshaking,
Home ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - Home ¬∑ ergoplatform/ergo Wiki
https://images-ext-1.discordapp.net/external/5atYSwnd27uTkObGjQ7disRL0O8fQwB8S1RmzjJF6Ug/https/opengraph.githubassets.com/4a613505b02d2801ecdf13da6cc2ca03f65079dbe6be4f514cf2b72cc483382b/ergoplatform/ergo


[12/06/2021 7:32 PM] Leif Erickson#8939
Just a personal node, to be used by assembler service in projects involving ergoscripts


[12/06/2021 7:33 PM] soysor#6001
I'm not sure if it's completely up to date but it looks really close. What makes you think that the bytes prior to 64 are the features? It looks like your byte string starts with the documented stuff `[6 timestamp] [1 agent name size] [{agent name size} name..]` to me https://imgur.com/JSz6Yj4

{Embed}
https://imgur.com/JSz6Yj4
https://images-ext-2.discordapp.net/external/aD0ucNhyQhZzf4QpGEkOsUO_lep62Yl3Lj1HziXtMbY/https/i.imgur.com/JSz6Yj4.png


[12/06/2021 7:41 PM] Kurikun#6941
Byte 39 shows that there are 3 features, byte 40 is the start of the client capabilities feature, and byte 46 is the start of the session peer feature, as described on the wiki.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/917501117439549490/unknown.png


[12/06/2021 7:43 PM] Kurikun#6941
I'm unsure what the third feature is; haven't investigated at all.


[12/06/2021 7:58 PM] Kurikun#6941
Ah!  The public address stuff is now a feature, and that's the third feature indicated by the marker.  The feature ID of this feature is '2', and is found in position 62 of the bytes represented by this hex string.  There is also a marker in the next position showing the length of the feature.  Makes sense!

Is the wiki updated by a pull request also?


[12/06/2021 8:20 PM] soysor#6001
Nice work! :) 

Not at my pc so can't look but I'm pretty sure its one or the other. The public address stuff can still be there but if its not then there should be a local address feature


[12/07/2021 1:15 AM] abashai#9101
Hello. I was trying to redeem SigUSD using the Android mobile wallet. I'm not sure what happened, I copied the address for the contract but I have not received the ERG back.  It went to this address - 2Q6YZQL7Tg81drne4RRhpfiH1R2RQWuHZ2pYAHm41aUpJXPSBgga9bSXdF1VtuyYXzS3gT3GapG5vQRtF32AcyThRHWNkL7TeriopURte6ewT5hQP9vafeqxKJRYKpkrNbUYQKfmvHtAYzssEfX1nzhwFg2dVT3FL9wy5Qyu5wjCuJyovVjmdqHrv9wjWQPGuoLKXhCQWU6Gw4M9B79LYSbgGjHwavrVqXjRFVCeN2ngD51CFoVapK8bCABX66VHR3ryUX5WSXs5LmxHK3MuvZ5BowwroKbhPPtrefgGPh78kJtNHv6xF3gVbJSsjVgLDooiAsMz4aTWpNk9CZuPQ47tRkwwyWSd7uNbztKD1kp4414vMhiJd1ouLK1hwU1z7Z9CDGm9CdGENaY4kzjpeon1ehbadA8jnSquCWyVsSnpHo4DmKP9jx2XDFErYAKkfNf5ixGyciJZsYax2hPyMDd4APFJDyh48jAzqFx5A1LCRofmW1wrZDeE98NVTj55HZjEktqCCVEXxjwGkxj8yzVbQfjvWx44QpfkqPah6NFTbU7rA6AWT2KyFwZy3hBJ2NUxbzXgt21nRm3z62RuVpveYfp3uFXZ4DYCDJsT4ffir2prdzM5MFNv5Na6pG4mTztpoiVoyp4aCSF4G2yvL8sKHDfgf


[12/07/2021 1:15 AM] abashai#9101
Is it gone? It was 200 SigUSD


[12/07/2021 1:31 AM] √Ör√ñhB√™#8289
@MrStahlfelge


[12/07/2021 1:32 AM] √Ör√ñhB√™#8289
He may be able to help.  You can also try #üí≥„Éªwallets.  Becareful with DMs scammers my target you.


[12/07/2021 1:35 AM] abashai#9101
thank you


[12/07/2021 1:50 AM] abashai#9101
I think I need to submit a refund, but I get an error when doing so. I don't know what it says.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/917593796651417670/unknown.png


[12/07/2021 1:50 AM] abashai#9101
This is on the sigmausd.io site


[12/07/2021 3:05 AM] MrStahlfelge#0042
What is the error message?


[12/07/2021 3:07 AM] abashai#9101
I posted it above. I can only see a portion of it. Something about "minimal ERG"


[12/07/2021 3:08 AM] abashai#9101
I've never submitted a refund before. Not sure how it works.


[12/07/2021 3:08 AM] MrStahlfelge#0042
Probably you've sent 0.001 erg with your SigUSD?


[12/07/2021 3:08 AM] abashai#9101
Yes. Someone told me to do that.


[12/07/2021 3:09 AM] MrStahlfelge#0042
Sent 0.002 erg to the address


[12/07/2021 3:10 AM] abashai#9101
Ok, the same address?


[12/07/2021 3:10 AM] MrStahlfelge#0042
Or be safe and send 0.005. SigUSD needs some erg to move the stuff around. Yes same address


[12/07/2021 3:10 AM] abashai#9101
Sweet! Thank you!


[12/07/2021 3:23 AM] abashai#9101
I sent the .005 I get a syntax error now.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/917617344623308850/Screenshot_20211206-222302_Chrome.jpg


[12/07/2021 3:25 AM] MrStahlfelge#0042
Sorry can't help with this, maybe @glasgowm knows what to do. We had the problem with too less erg before


[12/07/2021 3:26 AM] abashai#9101
I just tried again and it worked. USD returned. Maybe it wasn't fully mined. Man, thank you so much!

{Reactions}
üëç 

[12/07/2021 5:49 AM] greenhat#6562
Take a look at ergo-lib-wasm - https://github.com/ergoplatform/sigma-rust

{Embed}
https://github.com/ergoplatform/sigma-rust
GitHub - ergoplatform/sigma-rust: Alternative and simple implementa...
Alternative and simple implementation of ErgoTree interpreter - GitHub - ergoplatform/sigma-rust: Alternative and simple implementation of ErgoTree interpreter
https://images-ext-1.discordapp.net/external/LP9rpmWmEIY6KCXtrY7bEXiGVCXG2Bf9-EOtkANlHiU/https/opengraph.githubassets.com/9eb86aab73d5329a8475eac70ac38ff6ab3bb1cc97411e3b090d412dd4ccec49/ergoplatform/sigma-rust


[12/07/2021 6:26 AM] Krasavice Blasen#4574
If I have a box guarded by a simple script,  say ```PK(ALICE) || PK(BOB) ```


[12/07/2021 6:28 AM] Krasavice Blasen#4574
Can a third party spend the box if they send it to Alice or Bob?


[12/07/2021 6:28 AM] Krasavice Blasen#4574
Effectively choosing who gets it


[12/07/2021 6:30 AM] Krasavice Blasen#4574
Or can only Alice or Bob spend the box, and they can send it to any address they like.


[12/07/2021 6:31 AM] Cheese Enthusiast#0548
A script like this could only be spent by alice or bob.


[12/07/2021 6:32 AM] Cheese Enthusiast#0548
But I'm not sure what you mean by sending the box


[12/07/2021 6:33 AM] Krasavice Blasen#4574
Well what constitutes spending a box? Is it not sending it?


[12/07/2021 6:37 AM] Krasavice Blasen#4574
Also then, do you know how Yoroi addresses can spend boxes guarded by a script? Havent fully looked into that yet üôÇ


[12/07/2021 6:40 AM] Cheese Enthusiast#0548
Spending a box just means that the transaction conditions that allow the box's script to evaluate to true have been met. If that happens, it means the spent box no longer exists and that there is now a new box under whatever addresses were in the outputs of the transaction.

{Reactions}
üëç 

[12/07/2021 6:40 AM] Krasavice Blasen#4574
Ok that definitely means a third party cant spend it even if the outputs are alice or bob


[12/07/2021 6:44 AM] Cheese Enthusiast#0548
Yeah, what your script is essentially saying is that this box can only be spent if the transaction it is being spent in is signed by either alice or bob


[12/07/2021 6:46 AM] Cheese Enthusiast#0548
However, that is technically all your script guarantees


[12/07/2021 6:47 AM] Krasavice Blasen#4574
oooo for the third party example I could have a script spendable by anyone provided, the outputs meet some conditons? i.e. send to alice or bob


[12/07/2021 6:47 AM] Cheese Enthusiast#0548
Theoretically, alice or bob could build a transaction that spends the box and creates an output to some other persons address.


[12/07/2021 6:48 AM] Cheese Enthusiast#0548
Yep, that would be a perfect example of a third party being able to sign the transaction and spend the boxes, but not being able to control where the boxes go to

{Reactions}
üëç 

[12/07/2021 6:49 AM] Krasavice Blasen#4574
Do you know the answer to this or some resource to look at?


[12/07/2021 6:49 AM] Cheese Enthusiast#0548
Yeah, it really depends on how complex your script is.


[12/07/2021 6:52 AM] Cheese Enthusiast#0548
A standard yoroi transaction is really just a normal transaction that is signed by you. You can control the amount of erg you send, the fee, the tokens/assets that are sent and where all of the erg and tokens will go. So if your script only relies on that information then you should be able to use yoroi and interact with your smart contract by sending transactions to it.


[12/07/2021 6:53 AM] Cheese Enthusiast#0548
If your script is more complex and requires information from registers 4 - 9, then using normal yoroi probably won't work.


[12/07/2021 6:56 AM] Cheese Enthusiast#0548
Yoroi is developing a dApp connector for website to be able to build more complex transactions, but it's currently still in beta. If you are coding in a java based language then you could use Ergo Appkit to assemble to transactions instead.


[12/07/2021 6:59 AM] Krasavice Blasen#4574
Yeah this good for the inputs of the contract. But is there a way you can spend a box guarded by a smart contract in Yoroi? Because yoroi won't know the boxid, I dont think it knows it has funds it can spend in some box.


[12/07/2021 7:01 AM] Cheese Enthusiast#0548
Ah yea that is not possible with yoroi. With a wallet you can only really spend the boxes under your p2pk address


[12/07/2021 7:02 AM] Cheese Enthusiast#0548
At least until the dApp connector is fully live. I think it should be possible on do on the beta if you want to try working with that.


[12/07/2021 7:03 AM] Krasavice Blasen#4574
hmmm ok, ill try to look into that


[12/07/2021 7:03 AM] Krasavice Blasen#4574
Appkit is mainly useful for assembling transactions yeah?


[12/07/2021 7:04 AM] Cheese Enthusiast#0548
Its a general purpose toolkit for developing dApps on ergo. You can grab transaction and block info, build transactions, sign transactions, make and restore wallets using seed phrases


[12/07/2021 7:07 AM] Cheese Enthusiast#0548
Pretty much everything you would need for most dApps besides the frontend stuff.


[12/07/2021 7:09 AM] Krasavice Blasen#4574
So it can sign transactions on behalf of a user?


[12/07/2021 7:14 AM] Cheese Enthusiast#0548
Yeah, so for example if you wanted to sign a smart contract transaction with your yoroi wallet, you could restore the wallet using the seedphrase in appkit. Inside appkit you can create a prover built from that seed phrase the lets you sign the transaction. You would choose whatever input and output boxes you need for the transaction. Then you could have the prover sign the transaction and spend the smart contract box to make a new output


[12/07/2021 7:16 AM] Krasavice Blasen#4574
yeah ok cool. Thanks heaps for your help btw


[12/07/2021 7:16 AM] Cheese Enthusiast#0548
no problem, let me know if you have anymore questions

{Reactions}
üòÉ 

[12/07/2021 8:08 AM] soysor#6001
For HD wallets when are public derivation path branches or master keys or whatever (`M/`) used?

Having a tough time finding anything on google that doesn't detail private ones (`m/`) - I may also be googling the wrong terms so let me know if that doesn't make sense


[12/07/2021 8:17 AM] MrStahlfelge#0042
https://github.com/ergoplatform/eips/blob/master/eip-0003.md does this one help?

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0003.md
eips/eip-0003.md at master ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/viX8AGkip2HBW3NxTUufUKcHVMaaV5GWOgP78kC2PTE/https/opengraph.githubassets.com/baabfed815ab9d2f3a2da7dbd5888f297a518ae5c7644b2972262e2b7798fa16/ergoplatform/eips


[12/07/2021 8:26 AM] soysor#6001
Thanks for the link but I don't think so

As far as I can see it's possible for the `m` in the paths there to be `M`, just wondering when that is the case

My guess is it's a way of signifying the derivation path is linked to a xpub or xprv key but not sure


[12/07/2021 8:50 AM] greenhat#6562
I had the same thoughts when I did ext pub key derivation. I did not find M paths in Google as well. :)


[12/07/2021 9:22 AM] soysor#6001
So I'm not going crazy then üòÑ

It looks like there might be some conditions around it in node/ergo-wallet


[12/07/2021 10:17 AM] andee#4722
uppercase is xpub


[12/07/2021 10:21 AM] soysor#6001
üëç Thanks

What's it used for though (any links would be great!)? I'm trying to learn/understand why it's relevant to the derivation path or just the bigger picture I guess


[12/07/2021 10:39 AM] andee#4722
I dont have any good material, hd wallet + xpub might give you some scattered information. could be used for tax software that tracks mining income as one example, basically it allows for viewing but not spending

{Reactions}
ergo_orange 

[12/07/2021 10:44 AM] soysor#6001
Gotcha, thanks


[12/07/2021 12:35 PM] ds199966#3007
Ty this helped


[12/07/2021 9:14 PM] kushti#0978
no , that would be another contract, roughly like OUTPUTS(0).R1 == pkAliceBytes || OUTPUTS(0).R2 == pkBobBytes 

PK(ALICE) | | PK(BOB) means basically "can be spent if proof of a secret key corresponding to whether Alice's or Bob's pubkey is presented"

{Reactions}
üëç 

[12/08/2021 12:49 PM] 2pB8n#8584
can I confirm user wallet ownership just by using explorer api?


[12/08/2021 6:56 PM] Leif Erickson#8939
@anon_real I'm having trouble connecting the assembler to testnet...I'm connected to mainnet on a different instance of assembler, and I'm probably doing something silly but was hoping you might be able to help troubleshoot a little? mayebe there is a debug flag or something...I'm getting this `assembler  | [error] services.Jobs - Current active node http://ergonode:9052 is not OK, stopped functioning. Will try to switch...` and it looks like the height and header height are being compared in scala, likely the cause of this, but the node is accessible (tested with different apikey or invalid node and err messages are different).  Help?!  Thanks!!


[12/08/2021 7:09 PM] anon_real#2768
Hey! Assembler is trying to find out if your node is synced. To do that, it checks your node's height against the explorer and other nodes defined for it. So basically the testnet node won't be marked as OK since the height is less.
You will have to change the public nodes in the config to testnet nodes. Also, you should change the explorer API url in the config to a explorer working in the testnet.


[12/08/2021 7:11 PM] Leif Erickson#8939
This? `node.public = ["http://213.239.193.208:9052/"] // testnet`


[12/08/2021 7:12 PM] Leif Erickson#8939
ohh...


[12/08/2021 7:12 PM] Leif Erickson#8939
ok, that public node has a higher block than my current node for some reason


[12/08/2021 7:13 PM] Leif Erickson#8939
looks like that public node is 4.0.13... I guess I need a better public node, or is it ok to just use the same internal node for testing?


[12/08/2021 7:18 PM] kushti#0978
http://37.156.20.158:9055 , but it is on the same height


[12/08/2021 7:23 PM] Leif Erickson#8939
dang, so my ergo testnet node is not at the correct height?  It says sync'd in panel, and just resetup with 4.0.16.1 ... what's a good way to reset? just delete .ergo folder and let it resync?


[12/08/2021 7:24 PM] Leif Erickson#8939


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/918221509493915688/unknown.png


[12/08/2021 7:28 PM] Leif Erickson#8939
it does look like the assembler is somehow getting the transactions in to testnet...even with my height issue: https://testnet.ergoplatform.com/en/transactions/b63ec3b4922a3de3fdf13fc81448efeafd0f8301c193e6fa94dbc699c68d9cbd


[12/08/2021 7:37 PM] Leif Erickson#8939
...my other testnet node is at proper height so rebuilding, I'll look for this in the future


[12/08/2021 7:37 PM] Leif Erickson#8939
thanks @anon_real @kushti !


[12/08/2021 7:38 PM] anon_real#2768
@Leif Erickson let me know if you run into any other issues.


[12/08/2021 11:50 PM] Cheese Enthusiast#0548
Hey guys, is it possible to store a Box in a register? If so, what happens to the register if the box it is referring to is spent?


[12/09/2021 2:16 AM] abchris#8522
I guess you can always store the boxid in a register. If that box gets spent, it becomes a null pointer üòÑ


[12/09/2021 2:18 AM] abchris#8522
If you want to ensure you‚Äôre including a specific box in a tx, you can use an NFT for that.


[12/09/2021 6:30 AM] danza#2629
Hello, I have a question about dapp backends. Currently, dapps like auction house don't use a dapp connector, you just send funds to the specified address. But I guess it is not sent directly to the script as you probably need to build the box on the script address with correct data. Is the usual approach that the funds are sent to an ordinary wallet that the backend uses and there is a service on the backend that monitors this wallet and builds and submits correct txs from there? Or is this solved differently?


[12/09/2021 7:08 AM] greenhat#6562
I don't think so. There are tx data inputs where you can pass boxes.


[12/09/2021 9:47 AM] glasgowm#9381
https://github.com/anon-real/ergo-assembler

{Embed}
https://github.com/anon-real/ergo-assembler
GitHub - anon-real/ergo-assembler: For dApps to bypass node require...
For dApps to bypass node requirement for users. Contribute to anon-real/ergo-assembler development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/XgwYkJ0r1vzUgrS9pz_tvOJIAkrI5DBpcnYcQakBxAE/https/opengraph.githubassets.com/b1a5b57a891b619ab42d49bf8397d005ab1f3b7f25c078ecbe5e1eb067ee7414/anon-real/ergo-assembler


[12/09/2021 9:48 AM] danza#2629
Thanks!


[12/09/2021 4:09 PM] kushti#0978
It is possible to use box, even spent, in register. @anon_real is using that in AuctionHouse for royalty


[12/09/2021 6:32 PM] anon_real#2768
What is stored in registers are just data. They have no connection to other things. So if the box is spent, the register (and the box) have no way of knowing that.


[12/09/2021 6:32 PM] anon_real#2768
But yes, you can store any box (spent/not spent) in registers.


[12/09/2021 8:03 PM] kushti#0978
In case of AH, the funds are sent to address (so script) which can only construct a needed box for the app , or perform a refund

{Reactions}
üëç 

[12/09/2021 8:14 PM] ArqTras#1644
hmm anyone can explain why ergo cored dump on ubuntu 20.04 10 cores 64 GB ram vps with ssd drive , and java 11 ?


[12/09/2021 8:14 PM] ArqTras#1644
specially when verify blocks ?


[12/09/2021 8:15 PM] ArqTras#1644
first step of headers go smooth than verify and core dump


[12/09/2021 8:15 PM] ArqTras#1644
tested ergo 15 16 16.1 16.2 as weel as java 8 and 11


[12/09/2021 9:01 PM] kushti#0978
hard to say, what the log says? 

cat ergo.log | grep xception


[12/09/2021 9:01 PM] ArqTras#1644
actually started with limited memory to 16 GB waiting for crash


[12/10/2021 2:51 AM] AllCloudy | GetBlok.io#1273
Found that it doesn't like large memory allocations.  Been successful with 2GB and 4GB. 6 and higher i run into node getting stuck in synchronization, FYI.  16 and 16.2 releases.


[12/10/2021 7:40 AM] kushti#0978
you mean -Xmx flag ?


[12/10/2021 7:41 AM] ArqTras#1644
Ok


[12/10/2021 1:19 PM] AllCloudy | GetBlok.io#1273
Yes.


[12/10/2021 5:43 PM] Cheese Enthusiast#0548
Hey guys, how does the loop level work when validating a script?


[12/10/2021 5:45 PM] Cheese Enthusiast#0548
For example, something like this gives me an error and says that the loop level is greater than one and the script could not be validated:

```scala
          boxValueMap.forall{
            (boxVal: (Coll[Byte], Long)) =>
                OUTPUTS.exists{
                  (box: Box) => box.propositionBytes == boxVal._1 && box.value == boxVal._2
                }
          }
```


[12/10/2021 5:48 PM] Cheese Enthusiast#0548
However, this old piece of code I have works fine:

```scala
val filteredPoolState = poolStateList.map{
  (poolState: Coll[(SigmaProp, Long)]) => 
    poolState.filter{
      (poolStateVal: (SigmaProp, Long)) => poolStateVal._1 == pk
    }(0)
  }
```


[12/10/2021 5:51 PM] Cheese Enthusiast#0548
From what I can tell by reading ValidationRules.scala, map, filter, forall, and exists are all loop operations that increase the loop level. How come only one of these code blocks caused a validation error?


[12/10/2021 6:02 PM] Cheese Enthusiast#0548
This other piece of code also seems to work, and is a lot more similar to the first codeblock:

```scala
val doOutputsFollowConsensus = MinerPKs.forall{
       (pk: SigmaProp) =>
         val pkConsensusValue = getValueFromConsensus(pk)
         if(pkConsensusValue != 0){
           OUTPUTS.exists{
            (box: Box) =>
              pkConsensusValue == box.value && 
box.propositionBytes == pk.propBytes
            }
         }else{
          true
         }
       }
```


[12/11/2021 6:42 AM] davidcodes#2138
üëãüèª  I am learning the ergo basics and for that I am reading the ergoauctions code. 
Particularly I am reading the mint nft code (issue new artwork [1]).
I can see that in the outputbox generating the nft there is a `quantity` variable. I wonder:

1.  what is its semantics when we are talking about a nft and `quantity>1` 

2. why does ergoauction has a variable for it and not simply set it to a fixed value:  `quantity=1`


[1] https://github.com/anon-real/ErgoAuctionHouse/blob/master/src/auction/issueArtworkAssm.js#L29

{Embed}
https://github.com/anon-real/ErgoAuctionHouse/blob/master/src/auction/issueArtworkAssm.js
ErgoAuctionHouse/issueArtworkAssm.js at master ¬∑ anon-real/ErgoAuct...
Decentralized auction on top of ERGO. Contribute to anon-real/ErgoAuctionHouse development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/sgERoRxazvkx8fQMF_vr2rHRGUB3znlQC30Guf5ePeU/https/opengraph.githubassets.com/b19c14143cfe70e4df95dd7c402be48b71e1dcd292ced4682514f5dd2c8c48df/anon-real/ErgoAuctionHouse


[12/11/2021 12:35 PM] morphic#4133
this lambda (poolStateVal: (SigmaProp, Long)) => poolStateVal._1 == pk doesn't depend on poolState, so it is taken out of the map loop and then AOT costing doesn't complain on the nested structure.


[12/11/2021 1:28 PM] Krasavice Blasen#4574
What kind of information can be put into dataInputsRaw, anyone know any examples?


[12/11/2021 5:44 PM] MarantzCube#4825
cos some artists ask anon_real about opportunity of minting fungible tokens (versus NFT with quantity = 1).


[12/11/2021 5:48 PM] MarantzCube#4825
u can see this option in minting modal "Create Artwork"

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/919284646976552970/unknown.png


[12/11/2021 10:41 PM] Cheese Enthusiast#0548
Thanks! That explains it


[12/11/2021 11:16 PM] lgd#5847
I had a question about what a good workflow would be for developing on Ergo. This may be a noob question but I'm confused about the headless dapp framework in rust vs appkit? What's the difference? Should one be used over the other? Aside from ergoscript, should scala be used over headlessdapp framework? Thanks


[12/11/2021 11:47 PM] Cheese Enthusiast#0548
I am wondering how to precalculate transactions using appkit. I'm trying to convert my outbox into an inbox using the tx id of the unconfirmed tx, but I get some weird error about the hex string being invalid.


[12/12/2021 12:57 AM] davidcodes#2138
Thanks for the reply. This means it would be more like having tokens associated with an NFT?.. would this be the equivalent of something like fracada in cardano . https://github.com/dcSpark/fracada

{Embed}
https://github.com/dcSpark/fracada
GitHub - dcSpark/fracada: Fractionalized Cardano NFT protocol in Pl...
Fractionalized Cardano NFT protocol in Plutus. Contribute to dcSpark/fracada development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/5ZYP26FOmovjrPMxkPfDT2lnT7di33afjUypT2fFpMc/https/opengraph.githubassets.com/79e0806d05dc475a8cc068a8abbaff7602ac20d51363227ed70b073905b89e85/dcSpark/fracada


[12/12/2021 9:33 AM] morphic#4133
It is hard to tell anything without looking at the code üôÇ


[12/12/2021 9:34 AM] morphic#4133
I assume you are using convertToInputWith method, right?


[12/12/2021 9:44 AM] MrStahlfelge#0042
It depends what you want to do!


[12/12/2021 10:21 AM] morphic#4133
Appkit is for Java/Kotlin/Scala stack. HDF is based on Rust, so can be used across platforms. Also HDF provides some additional abstractions on top of original ergo API. 
Appkit, on the other hand, reflects Ergo programming model and provides Java friendly interfaces to interact with Ergo.
There is also JS SDK from Ergo Labs https://github.com/ergolabs/ergo-dex-sdk-js

{Embed}
https://github.com/ergolabs/ergo-dex-sdk-js
GitHub - ergolabs/ergo-dex-sdk-js: JS Ergo DEX SDK
JS Ergo DEX SDK. Contribute to ergolabs/ergo-dex-sdk-js development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/f2L3kdp9-_dE7jtmIm9KMRhkpCz_--DdZkoguW0pUYs/https/opengraph.githubassets.com/5269a01f4103aa23b20bfc3d66dbc349967a45074673e183a5db864d3f7b8372/ergolabs/ergo-dex-sdk-js

{Reactions}
üëç 

[12/12/2021 12:03 PM] MarantzCube#4825
As I see fracada is something more complicated (for example ergo NFTs has no "Return the NFT" part). I think for u it's better to tag anon_real here.

Plus u can see eips for assets
https://github.com/ergoplatform/eips/blob/master/eip-0004.md
and auction 
https://github.com/ergoplatform/eips/blob/master/eip-0022.md

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/919560071518748682/unknown.png

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0004.md
eips/eip-0004.md at master ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/viX8AGkip2HBW3NxTUufUKcHVMaaV5GWOgP78kC2PTE/https/opengraph.githubassets.com/baabfed815ab9d2f3a2da7dbd5888f297a518ae5c7644b2972262e2b7798fa16/ergoplatform/eips

{Embed}
https://github.com/ergoplatform/eips/blob/master/eip-0022.md
eips/eip-0022.md at master ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/viX8AGkip2HBW3NxTUufUKcHVMaaV5GWOgP78kC2PTE/https/opengraph.githubassets.com/baabfed815ab9d2f3a2da7dbd5888f297a518ae5c7644b2972262e2b7798fa16/ergoplatform/eips

{Reactions}
üëçüèª 

[12/12/2021 4:53 PM] JOFLITO#9983
I am trying to create a box with two tokens, on line 143 from this script https://scastie.scala-lang.org/x0LkB0J3SOCkXXWcJXhu0A It looks like I can only have a tokenAmount type, but since I want to have two tokens it throws an error, can someone help me out please?


[12/12/2021 10:48 PM] Walrus#9577
Is there any reason to use ErgoTree over ErgoScript besides for developing ErgoScript? 

Like if I write in ErgoTree are there certain optimisations I can do that aren't possible with this compiler?


[12/13/2021 10:42 AM] greenhat#6562
I don't know any. 
The compiler is doing some optimizations (e. g. CSE) but a human can probably outsmart it. :)


[12/13/2021 8:03 PM] morphic#4133
ErgoTree is like assembler (or bytecode). You basically can create an instance of it and then serialise into bytes. It has some operations like DeserializeContext, which are not supported by ErgoScript compiler. Also, while creating ErgoTree you can embed any Constant node into it, which is not possible with ErgoScript compiler for types other than numeric and Boolean.


[12/13/2021 8:20 PM] Walrus#9577
What is a constant node? And what does it mean to embed one


[12/13/2021 10:25 PM] alexandru#0679
Hello, I have a noob question, I found the source code of  Auction House here https://github.com/anon-real/ErgoAuctionHouse , but I'm not used with this type of code. If I upload it to my website domain, how can I run it? Can someone tell me a few steps that I should follow to have my own nft marketplace ? Thanks

{Embed}
https://github.com/anon-real/ErgoAuctionHouse
GitHub - anon-real/ErgoAuctionHouse: Decentralized auction on top o...
Decentralized auction on top of ERGO. Contribute to anon-real/ErgoAuctionHouse development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/ezI9jwhDsRENRcTRM3y25eTeqzT0NazwjwkNnOvZQ74/https/opengraph.githubassets.com/2abf1a200ec6a382395ddb515cddd0d4c512cdbbb3edc89f997f3fdbc0c6fdcf/anon-real/ErgoAuctionHouse


[12/14/2021 3:34 AM] davidcodes#2138
@anon_real sorry I am trying to dig what are the semantics of minting an nft whose quantity >1. Does this mean we are creating a new token whose number of coins is greater than one ? .  I look at the contracts in the auction house . I am trying to get a conceptual understanding. Thanks


[12/14/2021 4:01 AM] anon_real#2768
There are a few components that you need to set up. Not straightforward honestly.
- You need to have some global config boxes for your AH
- You need to have ergo assembler running
- And then finally run the AH


[12/14/2021 4:01 AM] anon_real#2768
If you follow the AH thread on forum and related EIPs, you will be able to do that.


[12/14/2021 4:03 AM] anon_real#2768
Yes, you can issue tokens with any quantity you like.
Each token is essentially an ID and a quantity. The meaning of this quantity is application-dependent. For example, in the case of the SigmaUSD token, each token is one cent (1/100$). So SigmaUSD token is issued with a very large quantity (billions). Not sure if I answered your question.


[12/14/2021 4:23 AM] Cheese Enthusiast#0548
Hey guys, to whoever is working on appkit, it seems like ctx.sendTransaction returns a txId that has string quotations in it


[12/14/2021 4:24 AM] Cheese Enthusiast#0548
I printed out some various Id's to see why outBox.convertToInputWith was failing and this is what I got: 

```
Command Id: 096074c958572fc0e4411da975617affd8eb3f42822807ded4a3968fda098b54
Tx Id: "3594c7068cf082d8a33a9d25237e65ec8823a3f873976eada23b3a742c59e121"
Box Id: 096074c958572fc0e4411da975617affd8eb3f42822807ded4a3968fda098b54
```


[12/14/2021 9:41 AM] morphic#4133
@MrStahlfelge I remember you already fixed that?


[12/14/2021 9:43 AM] MrStahlfelge#0042
yeah, we need a new release üôÇ @Cheese Enthusiast use the snapshot


[12/14/2021 11:20 AM] morphic#4133
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/074fc8f07d4c183e7a1d91497d6cba57374ebb09/sigmastate/src/main/scala/sigmastate/Values.scala#L317
Embedding means you can take Scala value of type Int, wrap it into ConstantNode and add that node to the ErgoTree


[12/14/2021 2:24 PM] davidcodes#2138
what does `IR` in `ErgoTree IR`  stands for?


[12/14/2021 2:44 PM] greenhat#6562
Intermediate Representation. Like AST, but has different levels: High (HIR), Medium(MIR).

{Reactions}
üëç (2) 

[12/14/2021 3:01 PM] davidcodes#2138
I am eye balling this issue as a first starter:
https://github.com/ergoplatform/sigma-rust/issues/488

I was messing with the code but I see many interdependencies. would types such as `SigmaParsingError` and `Constant` be part of `ergo-chain-types` ? 
With my limited understanding I would guess that `ergo-chain-types` should ideally contain only the types described in https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md

{Embed}
https://github.com/ergoplatform/sigma-rust/issues/488
[100 SigmaUSD] Move Header type from ergotree-ir to ergo-chain-type...
Along with JSON serialization and Arbitrary implementation (behind arbitrary feature).
https://images-ext-2.discordapp.net/external/mSp9Z7ekK7-rZyG0ZqxC8wAdl4OwRggcHxT7c9QoQQg/https/opengraph.githubassets.com/471b615297d900fe615c679a509af668c059564646f2e99db877fc08e26723d6/ergoplatform/sigma-rust/issues/488

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md
sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/si...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/sigmastate-interpreter
https://images-ext-1.discordapp.net/external/n8hqJtO4MnNFrL-spJu60yZMmC41RzHnj0WTbWyx_BU/https/opengraph.githubassets.com/6c8d2d33ca8868b4547eb1b27bdab18c195ac4cc1b750c3b873a4cdb1e2f592e/ScorexFoundation/sigmastate-interpreter


[12/14/2021 3:06 PM] greenhat#6562
No, Constant is definitely not a chain type. By chain types I meant types you see in the blockchain such as blocks, transactions, boxes, etc.

{Reactions}
üëç 

[12/14/2021 7:02 PM] Kurikun#6941
Sorry for the Intellij noobish question, but if you want to run the Ergo reference node in Intellij under the debugger, what is the configuration that you add to the Run/Debug Configurations dialog?


[12/14/2021 7:15 PM] kushti#0978
something like this

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/920393595574423662/idea.png

{Reactions}
üëç 

[12/14/2021 7:27 PM] Kurikun#6941
Beautiful, thanks


[12/14/2021 8:04 PM] alexandru#0679
Hello, i finally synced ergo node, but now my erg balance is 0.  What should I do to show my true balance ?
Also the address provided by node wallet is different from my old yoroi one, is this right ?


[12/14/2021 8:10 PM] Kurikun#6941
When you deployed your Ergo node you had the option to create a new wallet or restore an existing one using the seed phrase.  If you used your Yoroi seed phrase and restored that in the Ergo node, then both wallets will be looking at the same data.

Based on the fact that your balance is zero, I believe you likely created a new wallet in your Ergo node, and now you have two wallets.


[12/14/2021 8:11 PM] alexandru#0679
nope, restored the yoroi one


[12/14/2021 8:11 PM] alexandru#0679
but I think maybe it's the same issue that the ios app has? I have 2 address on recieve tab on yoroi,


[12/14/2021 8:12 PM] glasgowm#9381
The address shouldn't be different, you can have multiple addresses under a wallet though.


[12/14/2021 8:13 PM] Kurikun#6941
Each address is a derivation of your private key; you can have multiple of them as @glasgowm  says.


[12/14/2021 8:13 PM] glasgowm#9381
Also are you sure your node is properly synced? Does the height match explorer ?


[12/14/2021 8:13 PM] alexandru#0679
yep, 641407


[12/14/2021 8:17 PM] glasgowm#9381
use /wallet/deriveNextKey to derive the extra keys


[12/14/2021 8:22 PM] alexandru#0679
I don't know how


[12/14/2021 8:28 PM] glasgowm#9381
http://docs.ergoplatform.org/node/swagger/


[12/14/2021 8:56 PM] alexandru#0679
nothing changed


[12/14/2021 8:57 PM] alexandru#0679
I mean, I have a new address now, but my balance is still 0


[12/14/2021 8:59 PM] glasgowm#9381
Think you need to call `/wallet/rescan` to have it recognise the ergs in it


[12/14/2021 9:14 PM] andee#4722
node and yoroi uses the same derivation path, so the 2 addresses should match the ones you have in yoroi if the seed is the same


[12/14/2021 9:34 PM] alexandru#0679
still nothing


[12/15/2021 12:04 AM] soysor#6001
under what circumstance would a miner pk not be provided and dlog group identity be used in Autolykos v2? https://github.com/ergoplatform/ergo/blob/master/src/main/scala/org/ergoplatform/mining/AutolykosSolution.scala#L34

how would a miner be rewarded if they don't provide their pk? (i know basically nothing about it right now so maybe silly questions)


[12/15/2021 8:02 AM] kushti#0978
if pk is not provided, the node takes it from the inbuilt wallet

{Reactions}
ergo_orange 

[12/15/2021 11:19 AM] kushti#0978
Devs, as an exercise try to spend first output of https://explorer.ergoplatform.com/en/transactions/af8cb0602f0bf7c18a51c56f4a9524ec4416ffa5ed1fa68efee4c2e2a7b35845


[12/15/2021 2:09 PM] haileypdll#3353
Could we know the script protecting it ?


[12/15/2021 2:17 PM] kushti#0978
well , that's the challenge

{Reactions}
üòÇ 

[12/15/2021 6:18 PM] haileypdll#3353
the script  was { INPUTS(0).value > 100000000000 }, I would have feel like a hacker after having powned the CIA if the 10 ERG were not sent to a random (or at least not mine address) üò¢ : https://explorer.ergoplatform.com/en/transactions/8f4758d9fd25ba80dbec7ae309048b1f22261d2e605c934c0da4cecc33ccde03

{Reactions}
üëè 

[12/15/2021 8:23 PM] danza#2629
Nice! Would you share how did you find out what the script was? Also, how should the TradeOgre be helpful with this?


[12/15/2021 9:43 PM] alexandru#0679
I found the solution guys!! /// When you restore wallet, you need to enter password only for the wallet, if you enter a mnemonic password somehow another wallet appears üòÑ Thank you for your time, I'm so happy it's finally working!!

{Reactions}
üòÉ (2) 

[12/16/2021 12:46 AM] haileypdll#3353
I added the box to the node wallet to be able to try to spend it doing a "payment send."
The Payment send error message was including, for that box the decoded ergotree: 

  "ErgoTree(16,WrappedArray(IntConstant(0), LongConstant(100000000000)),Right(BoolToSigmaProp(GT(ExtractAmount(ByIndex(Inputs$(164),ConstantPlaceholder(0,SInt$),None)),ConstantPlaceholder(1,SLong$)))),907,[B@30431707,Some(false))"

Which gives in another pseudo langage: with constants 0(int) 100000000000(long): GreaterThan(ExtractAmount(INPUTS(0)),100000000000L)
Trying to compile it, it gave the same address with: sigmaProp(INPUTS(0).value > 100000000000L)

Question: Would you know another way to have such nice error message for the contract evaluation failure signing the transaction ?
In swagger the error message trying to use the box was something like: "Evaluated to false".

{Reactions}
üëç (2) üëÄ 

[12/16/2021 9:04 AM] MrStahlfelge#0042
so I guess you need 100 erg to grap additional 10?


[12/16/2021 9:11 AM] haileypdll#3353
Yes, a bit expensive and risky for a test. hopefully I got the 100 ERGs back. With more attention I could have gotten also the 10 more.


[12/16/2021 11:31 AM] kushti#0978
Mnemonic pass is not used by Yoroi and other wallets, we should hide it in the panel by default I guess


[12/16/2021 11:33 AM] kushti#0978
what should be printed in addition to "Evaluated to false" ? which is saying that everything is okay, just the input with false result is not spendable


[12/16/2021 12:31 PM] haileypdll#3353
What would be convenient for debugging smart contract execution, in my point of view:
  - The box(es) that was(were) evaluated to false
  - The deserialized Ergotree that evaluated to false, like the "Payment send" of the node wallet does.
  - The chunk of deserialized ergotree that evaluated to false (cherry on the cake)


[12/17/2021 5:58 AM] soysor#6001
Is there a particular reason for this? (I'm making a wallet that allows optional mnemonic passes, so curious)


[12/17/2021 9:30 AM] MrStahlfelge#0042
I decided to skip it because it would confuse users. Onboarding new users is confusing enough without mnemonic pass. Additionally, it is safe without using the password anyway


[12/17/2021 9:35 AM] soysor#6001
Makes sense, I was thinking about putting it behind an "advanced user" flag or something

I've seen other wallets like trezor advertise it as a way of using just one mnemonic phrase for all your wallets/coins, not sure about that though ü§î


[12/17/2021 9:42 AM] MrStahlfelge#0042
I also don't understand the reasoning behind this ü§î


[12/17/2021 4:55 PM] abchris#8522
Trezor (and Ledger) allow you to pick a word or phrase to be appended to your mnemonic, which results in a whole new wallet. Say you want a separate wallet for your little nephew Bobby, you can just append the word Bobby without needing to manage a whole new mnemonic. Killer feature really.


[12/17/2021 8:13 PM] MrStahlfelge#0042
that's something different, you can do so with wallet app and node as well. it is just changing the mnemonic. mnemonic pass somehow encrypts it.


[12/17/2021 8:16 PM] abchris#8522
Gotcha. TIL


[12/17/2021 8:17 PM] andee#4722
feature 2 is local address, this is what I got from your handshake: `[{"agent_name": "ergoref", "version": "4.0.15", "node_name": "ergo-testnet-4.0.15", "public": false, "ip_geo": {}, "port": 0, "feature": {"16": {"state": "utxo", "verifying": true, "NiPoPoW": false, "blocks": "all"}, "3": {"magic": [2, 0, 0, 2], "session_id": "665127386703503412877313"}, "2": {"ip": "192.168.245.129", "port": 9020}}}]`


[12/17/2021 8:32 PM] andee#4722
There is some stuff that is not documented, port is 2-3 bytes and VLQ encoded. You have to subtract 4 of public address length byte (IPV4). Peers message has peer count after checksum


[12/17/2021 8:34 PM] Kurikun#6941
Thanks... I've gotten all of this working at this point.  I hooked into the reference client using the debugger which allowed me to get a lot of examples of messages, and then I just started working thru them byte by byte.


[12/17/2021 8:35 PM] andee#4722
Nice! What are you working on?


[12/17/2021 8:36 PM] Kurikun#6941
A spider for nodes that will go out and query the node universe, and then produce analytics regarding deployments by geography, version, etc


[12/17/2021 8:37 PM] Kurikun#6941
I write in c#, so I am reverse engineering everything to .net


[12/17/2021 8:38 PM] andee#4722
Working on the same thing, but using python üòÖ  Have you started collecting any data?


[12/17/2021 8:39 PM] Kurikun#6941
Amazing coincidence!


[12/17/2021 8:39 PM] Kurikun#6941
Not yet, I'm working on some issues regarding c#'s use of the tcp client and sockets.... nothing blocking from ergo.


[12/17/2021 8:40 PM] Kurikun#6941
I think the ergo reference client likes to keep connections open, and c#'s implementation is more of an open...close...open again approach.


[12/17/2021 8:40 PM] Kurikun#6941
That seems to be making the reference node unhappy.


[12/17/2021 8:41 PM] Kurikun#6941
Not sure what python does.


[12/17/2021 8:42 PM] andee#4722
ü§î  I have no idea about how either of them work, but I think python keeps it open until I do soc.close()


[12/17/2021 8:43 PM] Kurikun#6941
My user agent string is ergo-spyder, btw.


[12/17/2021 8:44 PM] andee#4722
I only do a handshake, request peers then close right away after getting peers. Want to do a deep dive and try to sync later on


[12/17/2021 8:45 PM] Kurikun#6941
That's all that I was planning on doing as well, initially.  I had thoughts of doing the block and transaction summarization similar to that other module (name escapes me rn).  Then I could use these summarizations for additional analytics


[12/17/2021 8:46 PM] andee#4722
mine: ```node_data = {"agent_name": "crawler",
             "node_name": "ergo-crawler",
             "protocol_version": bytes([4, 0, 16])}```

{Reactions}
üëç 

[12/17/2021 8:47 PM] Kurikun#6941
Chain-grabber was what I was thinking of --> https://github.com/ergoplatform/explorer-backend/tree/master/modules/chain-grabber

{Embed}
https://github.com/ergoplatform/explorer-backend/tree/master/modules/chain-grabber
explorer-backend/modules/chain-grabber at master ¬∑ ergoplatform/exp...
Ergo Blockchain Explorer. Contribute to ergoplatform/explorer-backend development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Z2mRG5TKi70USzdtzlZ0qdWulCbqhJSjuoyFhdg_QoU/https/opengraph.githubassets.com/24a1412a109cdac0408f482871090b61cf0300c916c32c28c274f655097c54b9/ergoplatform/explorer-backend


[12/17/2021 8:48 PM] Kurikun#6941
I could write this tool and then implement support for various types of sql-backends (SQL Server, MySQL, etc.)... would be useful for people who want to get started with analytics


[12/17/2021 9:02 PM] abchris#8522
If you want to bounce off ideas, you‚Äôre welcome in #ergo-watch. The current chain-grabber is becoming hard to bootstrap from scratch.

{Reactions}
ergo_orange 

[12/17/2021 9:05 PM] Kurikun#6941
Thanks Chris, I've visited that channel in the past, but I should be spending more time there.  That's my focus area as well.

{Reactions}
üëç (2) 

[12/17/2021 9:12 PM] Kurikun#6941
I had been taking a different approach with my implementation that I think caused me my current problems.  My app is currently structured just like a node... it can listen for tcp inbound connections and react accordingly based on what message is received.  

However, if I opened a specific tcp channel to a node and then threaded out to others, perhaps I could work around my current blockage.


[12/17/2021 9:22 PM] andee#4722
Ah, yeah I keep it as simple as possible for now. I only have handshake and getpeers implemented, so its of no use to receive anything else than what I request, threading  peer requests is next on the list


[12/17/2021 9:23 PM] andee#4722
spent too much time on the parser, and its still messy (but functional üòÖ )


[12/18/2021 10:17 PM] Kurikun#6941
@andee In your investigations, have you found that there is a specific byte value that represents the boundary of one message in the tcp stream from another?  I switched my implementation and am just seeing a spew of incoming bytes in the tcp stream.  But I think this approach is likely the better approach ultimately.


[12/18/2021 10:21 PM] andee#4722
sadly no, when doing embedded stuff I have always used consistent overhead byte stuffing and were hoping that there was some kind of delimiter to go by in these messages


[12/18/2021 10:22 PM] andee#4722
haven't gone through how I will handle receiving one part peers message, one inv, rest of peers message.


[12/18/2021 10:22 PM] andee#4722
might just throw exception and go to next peer


[12/18/2021 10:26 PM] andee#4722
did redo header parser the other day, so it might work just fine. had some problems with socket timeout not working great, so have to find some library to handle it. kind of stuck until then


[12/18/2021 10:27 PM] andee#4722
default timeout is way too long, but setting a custom one seems to affect many parts of the socket giving me duplicate payloads etc


[12/18/2021 10:28 PM] andee#4722
and yadadayada üòÖ


[12/18/2021 10:34 PM] andee#4722
https://termbin.com/ett6

{Reactions}
üêç 

[12/19/2021 3:34 AM] G. de Balboa#0001
hi! @andee sorry for the ping, but is this a trusted ergo wallet? https://ergowallet.io/

{Embed}
https://ergowallet.io/
ERG
One wallet for whole Ergo.


[12/19/2021 4:14 AM] √Ör√ñhB√™#8289
It is an older wallet that is no longer supported as far as I know.   There are the wallets currently supported  https://ergoplatform.org/en/wallets/

{Embed}
https://ergoplatform.org/en/wallets/
Wallets | Ergo

{Reactions}
üëç 

[12/19/2021 4:21 AM] G. de Balboa#0001
thanks


[12/20/2021 10:30 AM] Krasavice Blasen#4574
What is the minimum fee per byte?  Some txs I have signed have successfully been submitted into the mempool, but after some time are removed and they are not mined. Im not sure if it may be due to insufficient fee per byte


[12/20/2021 11:02 AM] Krasavice Blasen#4574
Can a P2S begin with '9'?


[12/20/2021 2:52 PM] √Ör√ñhB√™#8289
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/

{Embed}
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/
Ergo Addresses
In today‚Äôs article, we ‚Ä¶
https://images-ext-1.discordapp.net/external/QJxdCwzrxWhHSmIVn523mq-21UJYJFjFnu0m1tpMIb0/https/ergoplatform.org/img/blog/address.jpg


[12/20/2021 3:08 PM] Buddhini#5071
Hi, how would i convert the difficulty provided as the "b"-value in the stratum protocol as described here: <https://github.com/mhssamadani/ErgoStratumServer> to an actual integer difficulty value?


[12/20/2021 3:42 PM] Buddhini#5071
answered, ty


[12/20/2021 5:21 PM] andee#4722
fee has to be at least 0.001ERG, cannot remember seeing anything about per byte


[12/20/2021 5:52 PM] abchris#8522
Seems so, found a couple of 9 addresses with length other than 51


[12/20/2021 9:05 PM] kushti#0978
Maybe no fee just ? No min value per tx byte, but for an output (box), current limit is 360 nanoERG / byte


[12/21/2021 1:11 PM] Hindsight Lad#6942
Hello all. I'm building a small app for personal use that would track Ergo transactions and their values on transaction dates. I'm planning on using the APIs available in the explorer to fetch that information. However, I'm not sure I understand the roles of `inputs` and `outputs` in the responses of the API. Using my own addy as a test account, I can see that deposits are in `outputs`. To this end, do that mean that debits appear in `inputs`?


[12/22/2021 8:29 AM] Krasavice Blasen#4574
Yeah I believe this is essentially correct, inputs are boxes that are spent in a transaction and outputs are boxes that are created.


[12/22/2021 12:23 PM] Leif Erickson#8939
Hi all, I have been troubleshooting a problem that works sending ergs and tokens from the node to a smart contract but using yoroi it doesn't. I'm using the assembler which expects an exact amount and I the problem seems to be there is more being sent than expected and I'm not sure how to figure out exactly what yoroi is requesting for fees. I can give plenty more information but didn't want to get to crazy right away! Thanks!!


[12/22/2021 12:40 PM] glasgowm#9381
Yoroi sends 0.01 as the fee IIRC @anon_br - but you should be able to see in the tx ?


[12/22/2021 3:12 PM] anon_br#2282
Yeah, Yoroi sends 0.01 as a minimal amount of ERG per box


[12/22/2021 7:10 PM] Leif Erickson#8939
Ok, that's what it's showing and what we expect but the assembler is suggesting that it's sending more than expected.  It may be something else I'm doing, so I'll try to restart everything from scratch and see if I can get .01 to work. Thank you!


[12/26/2021 8:46 AM] Leif Erickson#8939
Is there a good way to reduce logging file size in production for full node?


[12/26/2021 8:54 AM] abchris#8522
If you run it as a docker container you can set max log file size and number of log files to keep through docker-compose


[12/26/2021 8:56 AM] andee#4722
Do you know of a way to disable the nodes own logging? It logs to the container users home directory with default settings


[12/26/2021 8:58 AM] abchris#8522
I use something like this:

logging:
    options:
        max-size: "100m"
        max-file: "10"

In docker-compose that is. Otherwise no idea ü§∑üèº‚Äç‚ôÇÔ∏è


[12/26/2021 8:59 AM] abchris#8522
Would have to look at the scala source


[12/26/2021 9:01 AM] andee#4722
can you run `docker exec -it ergo_container bash -c 'du -hs ~/*.gz'`  ?


[12/26/2021 9:02 AM] andee#4722
I recreated my container two days ago, so I am unable to check if it saves more than a week of logs


[12/26/2021 9:03 AM] abchris#8522
‚Äòbout to sleep now, but I‚Äôll come back to it later

{Reactions}
üëç 

[12/26/2021 4:08 PM] NoahErgo#4349
https://dav009.medium.com/learning-ergo-101-development-workflow-aa17dd63ef6

{Embed}
https://dav009.medium.com/learning-ergo-101-development-workflow-aa17dd63ef6
Learning Ergo 101¬†: Development Workflow
Needed local setup, tooling and development workflow for Smart contracts on the Ergo blockchain
https://images-ext-2.discordapp.net/external/yKiqOU2ncf-iEretZncxPEL5QxPNG_Ym5yOfX0_9bHI/https/miro.medium.com/max/795/0%2A6L1hKYmCA2bLBKdT.png


[12/26/2021 5:50 PM] MrStahlfelge#0042
Hi, appkit is the SDK to use for all JVM languages, Java, kotlin etc. (Kotlin is mentioned for the sigma-rust which might be okay for kotlin native but for kotlin JVM you should use appkit).
You could link to the get started with Gradle guide on the appkit wiki or even better try yourself üòÄüëç


[12/26/2021 7:00 PM] NoahErgo#4349
Not my guide i think that it is by @davidcodes from the ergolearn discord. I will forward your message to him

{Reactions}
üëç (3) 

[12/26/2021 11:14 PM] soysor#6001
Anyone able to give me a tl;dr for wallet dapp connectors or any links

- what are they used for? Providing a way for dapps to do things like transactions on the users behalf?
- what does the interface usually look like? What actions does the wallet dapp connector provide?
- im assuming there's a communication layer, rest api or other?

Thanks


[12/27/2021 1:19 AM] abchris#8522
It keeps the logs of the last 5 days, each in a separate `*.gz`.


[12/27/2021 4:22 AM] davidcodes#2138
üëç gonna amend my post . Thanks for the correction


[12/27/2021 6:26 AM] kii#8888
Hey guys, question. When I run this:

```
    val prover: ErgoProver = ctx.newProverBuilder().withMnemonic(
      SecretString.create(nodeConfig.getWallet.getMnemonic),
      SecretString.create(nodeConfig.getWallet.getPassword)
    )
      .withEip3Secret(addressIndex)
      .build()

    val p2pk = prover.getP2PKAddress
    val address = prover.getAddress
```

The addresses i get is different from the wallet address. Does anyone know why that is so? 

For password and Mnemonic, i used the ones I created on TestNet

```
    "wallet": {
      "mnemonic": "15 words phrase",
      "password": "Password inputed",
      "mnemonicPassword": "{left empty}"
    },
```

Is this correct?


[12/27/2021 8:22 AM] MrStahlfelge#0042
to calc the eip3 address you need to use this code https://github.com/ergoplatform/ergo-wallet-app/blob/7463b488ded2b9de2d2ac42564a2e6e20d3c12a3/common-jvm/src/main/java/org/ergoplatform/ErgoFacade.kt#L84


[12/27/2021 9:11 AM] Balb#7267
I have a question about storage rent. Do boxes that only contain tokens not pay storage rent?


[12/27/2021 9:22 AM] Leif Erickson#8939
Got a chance to check this out. The docker logging works great, thank you! I'm also curious about the ergo logs themselves if there is a way to limit or just use a docker exec function to manage like the suggestion above? Or perhaps a way to send logs to another utility that has management abilities?


[12/27/2021 9:39 AM] MrStahlfelge#0042
boxes can't contain only tokens, a box needs at least 0.001 erg. so this box does also pay its rent


[12/27/2021 9:48 AM] Balb#7267
Oh interesting. So I guess if you had wrapped erg to another chain and then wrapped the already wrapped erg back you would have a double wrapped erg token. And then only have to pay storage rent for one box instead of many?


[12/27/2021 7:33 PM] abchris#8522
Not off the top of my head. Haven't looked at the node source much yet. There are tools such as `logrotate` that could help, but haven't used them. Just a cron job to `rm` the `*.gz` 's periodically could do the trick too.

{Reactions}
üëç 

[12/27/2021 9:38 PM] kii#8888
I'm not sure why, but when i use that address to get unspent box or covering boxes of 1 ERG, I always get 0. Even though my balance is 57 ERG (TestNet)


[12/27/2021 10:51 PM] kii#8888
Also, I'm getting this error when I'm trying to sign a tx: If the root of the tree is marked "simulated" then the prover does not have enough witnesses
    // to perform the proof. Abort.

I've got an ergo prover to sign it with my mnemonic and password, does it require something else?


[12/28/2021 10:30 AM] MGpai#4313
Hey guys I need help with Ergo pay


[12/28/2021 10:31 AM] MGpai#4313
I got the monitor voucher server up and running on my PC


[12/28/2021 10:31 AM] MGpai#4313
https://github.com/ThierryM1212/ergo-pay/tree/main/monitor-vouchers


[12/28/2021 10:31 AM] MGpai#4313
But how can I deploy this stand alone to a website


[12/28/2021 10:31 AM] MGpai#4313
generally there would be a way to get a build file


[12/28/2021 10:31 AM] MGpai#4313
like: `npm run build`


[12/28/2021 10:32 AM] MGpai#4313
but I don't see any way to build this


[12/28/2021 10:32 AM] MGpai#4313
any tips?


[12/28/2021 10:37 AM] MGpai#4313
-------


[12/28/2021 10:37 AM] MGpai#4313
another separate thing


[12/28/2021 10:37 AM] MGpai#4313
the api returns the ref and amount


[12/28/2021 10:38 AM] MGpai#4313
as such


[12/28/2021 10:38 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/925336877135953970/unknown.png


[12/28/2021 10:38 AM] MGpai#4313
is it possible for a dev to also add the address of the sender


[12/28/2021 10:39 AM] MGpai#4313
this would be incredibly useful


[12/28/2021 10:44 AM] MGpai#4313
@Thierry


[12/28/2021 11:02 AM] haileypdll#3353
The monitor voucher server cannot be distributed as a static webpage, it needs to run with node.js on the server like you did with your PC.


[12/28/2021 11:53 AM] haileypdll#3353
Please check the new version, I've added the sender address in the outputs: https://github.com/ThierryM1212/ergo-pay/commit/ca306660ec1782c0e69bb55bc8ad375006b2f348


[12/28/2021 11:54 AM] kushti#0978
java -jar -Xmx3G -Dlogback.stdout.level=WARN -Dlogback.file.level=WARN ergo-4.0.17.jar  --mainnet -c mainnet.conf


[12/28/2021 11:54 AM] kushti#0978
-Dlogback.stdout.level=WARN  to reduce console output to WARN and ERR messages only


[12/28/2021 11:54 AM] kushti#0978
-Dlogback.file.level=WARN - to reduce ergo.log


[12/28/2021 6:44 PM] Leif Erickson#8939
Thank you!


[12/28/2021 7:02 PM] MGpai#4313
Works well! Thank you so much!


[12/28/2021 10:22 PM] kii#8888
Ping


[12/28/2021 10:50 PM] kushti#0978
So what is the error exactly ?


[12/28/2021 10:50 PM] kushti#0978
Can you show the code ?


[12/28/2021 10:54 PM] kii#8888
Tree root should be real but was UnprovenSchnorr(ProveDlog(({some string},{some String},1)),None,None,None,true,0)


[12/28/2021 10:54 PM] kii#8888


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/925522105603334234/message.txt


[12/28/2021 11:26 PM] MGpai#4313
Guys is there a way to automatically send NFTs using the node or something


[12/28/2021 11:37 PM] MGpai#4313
If you were to send nfts to a different wallet without yorai how would you go about that


[12/29/2021 4:06 AM] Cheese Enthusiast#0548
What is the ErgoScript for the contract being used?


[12/29/2021 4:07 AM] Cheese Enthusiast#0548
It seems like there is an issue with the contracts SigmaProp


[12/29/2021 4:08 AM] kii#8888
I'm running the createNFT function. It essentially just creates a token and returns to the address. But I'm receiving that error when running it. 

The merger function is to merge the tokens together to create the service box for ErgoLend


[12/29/2021 4:09 AM] kii#8888
This is the main part that I'm running into issues for now:

```
    val txB: UnsignedTransactionBuilder = ctx.newTxBuilder()

    val token = new ErgoToken(boxesToSpend.get(0).getId, 100000000000000L)
    val tokensBox: OutBox = txB.outBoxBuilder()
      .value(amountToSend)
      .mintToken(token, tokenName, tokenDesc, 0)
      .contract(ErgoContracts.sendToPK(ctx, prover.getAddress))
      .build()

    val tx = txB
      .boxesToSpend(boxesToSpend)
      .outputs(tokensBox)
      .fee(Parameters.MinFee)
      .sendChangeTo(prover.getP2PKAddress)
      .build()
```


[12/29/2021 4:13 AM] Cheese Enthusiast#0548
And the boxes your spending are just from normal p2pk addresses right


[12/29/2021 4:15 AM] Cheese Enthusiast#0548
Are you sure that the owner address your spending boxes from is the correct one?


[12/29/2021 4:18 AM] Cheese Enthusiast#0548
Maybe instead of building the owner address like this:

```scala
    val ownerAddress: Address = Address.createEip3Address(
      0,
      Configs.networkType,
      SecretString.create(nodeConfig.getWallet.getMnemonic),
      SecretString.create(""))
```

you should try just using

```scala
  prover.getEip3Addresses.get(0)
```


[12/29/2021 4:21 AM] Cheese Enthusiast#0548
That 0 is not the EIP3 secret by the way, its the index of whatever EIP address you / the user will be using. So might be good to keep that as user-input or something.


[12/29/2021 4:30 AM] kii#8888
user-input or something?


[12/29/2021 4:36 AM] kii#8888
when i use the ergoprover with my mnemonic and password and use getEip3Addresses, it returns the wrong address.


[12/29/2021 4:41 AM] Cheese Enthusiast#0548
```scala
    val prover: ErgoProver = ctx.newProverBuilder().withMnemonic(
      SecretString.create(nodeConfig.getWallet.getMnemonic),
      SecretString.create("")
    )
      .withEip3Secret(addressIndex)
      .build()
```
Can you try this for the prover this and see if it works then?


[12/29/2021 5:17 AM] kii#8888
oh sweet. it works


[12/29/2021 5:18 AM] Cheese Enthusiast#0548
Is it just the correct address or does the tx work now too?


[12/29/2021 5:19 AM] kii#8888
the correct address and tx works. I'm trying to send the transaction now


[12/29/2021 5:19 AM] kii#8888
what happens if i stop the process before the transaction is completed?


[12/29/2021 5:22 AM] Cheese Enthusiast#0548
Nothing really happens. If you stop the process before the transaction is sent, then the transaction is never put on the blockchain. If you stop it after, then the transaction will be in the node's mempool and will still be put on the blockchain.

{Reactions}
love 

[12/29/2021 6:32 AM] kii#8888
Thanks for your help btw. It worked!


[12/29/2021 6:34 AM] kii#8888
I'm assuming that not being able to get the cover boxes even though I have 57 ergs on testnet is not normal. How can I debug this?


[12/29/2021 9:04 AM] Cheese Enthusiast#0548
What function are you using to get the covering boxes?


[12/29/2021 9:51 AM] Leif Erickson#8939
in this result from a public ergo node, what does the parameters section represent?  Specifically what does parameters.height represent? Thank you! http://159.65.11.55:9053/info  I'm trying to figure out what my node stops sync'ing every now and then, required that the .ergo folder be deleted and re-sync'd


[12/29/2021 9:53 AM] Leif Erickson#8939
...I suppose another question related to this could be, is there a way to kick start the node to sync if it's lower than what explorer shows as current height?  It just stays at a current height until I notice and reset


[12/29/2021 11:00 AM] andee#4722
Are you getting these problems after shutdown?


[12/29/2021 11:02 AM] andee#4722
If you are using docker/podman I recommend adding `--stop-signal=SIGINT`  to your run command and adding `--time 30` to the stop command. I think docker defaults to ~~SIGKILL~~ SIGTERM


[12/29/2021 12:30 PM] kushti#0978
that node got a problem with disk overflow

{Reactions}
ergo_orange 

[12/29/2021 12:32 PM] Leif Erickson#8939
Maybe, I just updated logging.  Since it's running in a docker, logs were pretty large...I adjusted with your advice in previous post and this is now fixed

{Reactions}
ergo_orange 

[12/29/2021 5:25 PM] kii#8888
I‚Äôm using the same function as above that I shared. I just switch to using testnet instead of Mainnet and changed the mnemonic


[12/29/2021 7:16 PM] Cheese Enthusiast#0548
You mean this?
```scala
ctx.getCoveringBoxesFor(ownerAddress, totalToSpend).getBoxes
```

I am surprised this did not throw an error for you on compilation. Am I running an older version of AppKit or something?
Anyways, when calling that method, the method signature(for me at least) requires a list of ErgoTokens that are to be covered as well.
Here's an example of how I did it for SmartPooling, I'm not specifically looking for any tokens so I just made an empty list:
```scala
ctx.getCoveringBoxesFor(holdingContract.getAddress, blockReward, List[ErgoToken]().asJava)
```


[12/29/2021 7:17 PM] kii#8888
I might have to try getting the new app kit first then


[12/29/2021 7:18 PM] Cheese Enthusiast#0548
What version are you running?


[12/29/2021 7:22 PM] Cheese Enthusiast#0548
I cannot for the life of me find where the develop snapshots for appkit are, so just wondering if you might know. I think @MrStahlfelge told me to upgrade to one earlier but the newest version I see on maven is 4.0.5 which is older than the current snapshot I'm on.


[12/29/2021 8:43 PM] MrStahlfelge#0042
Best is to check the GitHub action that recent run on the repo. It states the exact snapshot name.


[12/30/2021 5:28 AM] Leif Erickson#8939
When my node has issues rebuilding, I'm seeing a lot of this and things slow down a ton:

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/925983632148021278/unknown.png


[12/30/2021 8:28 AM] MGpai#4313
Any ideas on what to use to make a program automatically send out NFTs?


[12/30/2021 8:28 AM] MGpai#4313
Like based on a condition


[12/30/2021 8:28 AM] MGpai#4313
I assume there is some way to do this by calling the API  for the ergo node


[12/30/2021 8:33 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/926030271839625236/unknown.png


[12/30/2021 8:34 AM] MGpai#4313
One think it is one of these post calls


[12/30/2021 8:34 AM] MGpai#4313
which one would you use for NFTs?


[12/30/2021 11:17 AM] kushti#0978
getting blocks improperly encoded from 4.0.17/18 I guess


[12/30/2021 11:26 AM] andee#4722
try this to blacklist as soon as it encounters a 4.0.17/18 node, add within scorex{} ```    network {

    # Misbehaving peer penalty score will not be increased withing this time interval,
    # unless permanent penalty is applied
    penaltySafeInterval = 1.seconds

    # Max penalty score peer can accumulate before being banned
    penaltyScoreThreshold = 5
    maxDeliveryChecks = 2

     }```


[12/30/2021 7:10 PM] Leif Erickson#8939
Ok, thanks!


[12/30/2021 11:48 PM] LowKeyNerd#0001
If there is someone here willing to give me a general sense of if a TCG player owned ecosystem on Ergo is possible or will be possible in the coming years, please ping me here or on Reddit (something like Gods Unchained/Immutable X, except on Ergo). Based on what I know of our smart contract capability, there is nothing that stands out as being a major barrier. E.g., player takes "pack" token, exchanges "pack" token for 4+ pseudorandom "card" tokens and those card tokens are tied to NFTs. Those card tokens then integrate with a website/portal to display said user owned cards, and then eventually that same reference can be used in game when building their decks. https://www.reddit.com/r/ergonauts/comments/rsfng4/request_for_whitepaper_reviewers_ergo_game_blitz/

{Embed}
https://www.reddit.com/r/ergonauts/comments/rsfng4/request_for_whitepaper_reviewers_ergo_game_blitz/
r/ergonauts - Request for Whitepaper Reviewers: Ergo Game - Blitz TCG
0 votes and 0 comments so far on Reddit


[12/31/2021 5:27 AM] Cheese Enthusiast#0548
Hi guys, I'm running into a weird bug I've never seen before. Upon trying to send my transaction, I keep getting the following error:
```Malformed transaction: Every input of the transaction should be in UTXO. d65e8ea48104e1eda97b3a2670e4122aad1a08a3ab0075660dd74e9a81bd6a2e: 0 == 5```

Did some research into the protocol code and found that its likely related to an issue during transaction validation. I think it might be the following one but not sure:
```   // Just to be sure, check that all the input boxes to spend (and to read) are presented.
      // Normally, this check should always pass, if the client is implemented properly
      // so it is not part of the protocol really.
      .validate(txBoxesToSpend, boxesToSpend.size == inputs.size, s"$id: ${boxesToSpend.size} == ${inputs.size}")
```

Whatever it is, I'm not really sure how I could've gotten inputs that are not in UTXOs. I'm using appkit and simply doing
```
ctx.getWallet.getUnspentBoxes(blockReward + txFee)
```


[12/31/2021 2:49 PM] apiapason#9322
Hi, I'm taking some initial steps getting into building on Ergo. I want to start by getting the appkit-examples to run and I'm curious about this python example https://github.com/aslesarenko/ergo-appkit-examples/blob/master/python-examples/FreezeCoin.py . My question is, has anyone successfully used this java+python implementation? How do you setup your environment for this to work? Do you have to run this in jython?

{Embed}
https://github.com/aslesarenko/ergo-appkit-examples/blob/master/python-examples/FreezeCoin.py
ergo-appkit-examples/FreezeCoin.py at master ¬∑ aslesarenko/ergo-app...
Examples of using Ergo Appkit for Polyglot Development of Ergo Applications - ergo-appkit-examples/FreezeCoin.py at master ¬∑ aslesarenko/ergo-appkit-examples
https://images-ext-2.discordapp.net/external/P31tc4NZtivse4klPV4Wmi6B0oSXiq2bfOKrf7q3Zg8/https/opengraph.githubassets.com/dce7efcc237a4131e93cae66ea3b1d46389234efc34f86273fde08ba2b9d73f8/aslesarenko/ergo-appkit-examples


[12/31/2021 7:57 PM] Ch1n3du#7350
Please how can I compile and ergoscript contract in rust?


[12/31/2021 8:04 PM] Ch1n3du#7350
I'm trying to build a dapp using Ergoscript and rust, I'm wondering if it would be better to learn Scala at once because it seems to have better tooling(the blockchain simulator)?


[12/31/2021 9:41 PM] Marty#4039
You'll need some scala I think


[01/01/2022 7:15 AM] Eva Qing#8318
@qu0b please accept my invitation and add me to your friend list. Thank you!


[01/01/2022 8:12 PM] MGpai#4313
literally what I was wondering


[01/01/2022 8:12 PM] MGpai#4313
https://discord.com/channels/668903786361651200/669207683869573142/926558229562019850


[01/01/2022 8:13 PM] MGpai#4313
I uploaded it to a server

{Reactions}
ergo_orange 

[01/01/2022 8:13 PM] MGpai#4313
you can use this link to reach it


[01/01/2022 8:13 PM] MGpai#4313
https://api.ergosapiens.com/ERGOpay_API/?address=9ew97YCt7zQDwmLsytMAWGj2kockM11PFCnRvT2cz9LQaaB7uPG


[01/02/2022 12:29 AM] Marty#4039
There were some issues with node updates recently. What is the current stable release?


[01/02/2022 12:31 AM] √Ör√ñhB√™#8289
4.0.19 is the latest release before that 4.0.16.2


[01/02/2022 12:33 AM] Marty#4039
4.0.19 is stable and not having the mining issues?


[01/02/2022 12:34 AM] Marty#4039
17 and 18 were retracted then, but 19 is ok?


[01/02/2022 1:06 AM] √Ör√ñhB√™#8289
We seem to be ok with it.  I know other pools are using it.


[01/02/2022 1:06 AM] √Ör√ñhB√™#8289
Are you using it for mining or other purposes?


[01/02/2022 1:40 AM] Marty#4039
Not mining. Thanks, we did get the 19 to sync correctly


[01/02/2022 1:40 AM] Marty#4039
Just had a scorex issue

{Reactions}
ergo_black 

[01/02/2022 8:34 PM] alexandru#0679
Hi, I'm local testing Auction House and I was wondering If you can help me to  modify the " 2% of the final bid will go to the Ergo Auction House" into a 5% and also to add a new fee of 5% that would go to another address. I guess it can be done from consts.js but I don't wanna break something.  Thank you :ergo_orange:


[01/03/2022 11:46 AM] jes1#2003
Hi everybody! is there any beginner friendly tutorial for building a dapp on ergo?


[01/03/2022 12:13 PM] glasgowm#9381
https://medium.com/cryptostars/learning-ergo-101-development-workflow-aa17dd63ef6

Also tutorials for appkit/ergoscript

http://docs.ergoplatform.org/dev/stack/appkit/
http://docs.ergoplatform.org/dev/scs/ergoscript/

{Embed}
https://medium.com/cryptostars/learning-ergo-101-development-workflow-aa17dd63ef6
Learning Ergo 101¬†: Development Workflow
Needed local setup, tooling and development workflow for Smart contracts on the Ergo blockchain
https://images-ext-2.discordapp.net/external/yKiqOU2ncf-iEretZncxPEL5QxPNG_Ym5yOfX0_9bHI/https/miro.medium.com/max/795/0%2A6L1hKYmCA2bLBKdT.png


[01/03/2022 12:14 PM] jes1#2003
Thank you!


[01/04/2022 1:14 AM] JOFLITO#9983
Hey guys, super noob question


[01/04/2022 1:14 AM] JOFLITO#9983
https://scastie.scala-lang.org/Tgp6KdnDRoaiiGJkNYvb9g

{Embed}
https://scastie.scala-lang.org/Tgp6KdnDRoaiiGJkNYvb9g
Scastie - An interactive playground for Scala.
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
import org.ergoplatform.playground._
import org.ergoplatform.ErgoBox
import org.ergoplatform.settings.ErgoAlgos

///////////////////////////////////////////////////////////////////////////////////
// Prepare A Test Scenario //
////...
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[01/04/2022 1:14 AM] JOFLITO#9983
in that example in line 51


[01/04/2022 1:14 AM] JOFLITO#9983
is it the actual pubkey?


[01/04/2022 1:15 AM] JOFLITO#9983
or is it just the address?


[01/04/2022 10:48 AM] Pgr456#1839
Is there an issue with the current master branch of the https://github.com/ergoplatform/explorer-backend ? When I try to run the utx-tracker and the chain-grabber as docker I get the attached error in the logs. The container were built with the attached docker-compose config.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/927876193255034880/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/927876193636732958/unknown.png

{Embed}
https://github.com/ergoplatform/explorer-backend
GitHub - ergoplatform/explorer-backend: Ergo Blockchain Explorer
Ergo Blockchain Explorer. Contribute to ergoplatform/explorer-backend development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RIKGCXINZix3zK6suS4yK6OAcJG1YaCFSdOZ6FDcPdI/https/opengraph.githubassets.com/2e416ce117702da97204c481b96671f8afaad83bfdb48e8071afd540ad63abd6/ergoplatform/explorer-backend


[01/04/2022 4:57 PM] Pgr456#1839
nvm. fixed it on my own. If anyone else is having this issue:
I set the version of Http4sVersion to "0.22.0"
and changed the import of "import org.http4s.client.blaze.BlazeClientBuilder" to "import org.http4s.blaze.client.BlazeClientBuilder" in all Aplication.scala files


[01/04/2022 10:27 PM] soysor#6001
Could I please get a link to learn about stealth pools, having a hard time finding stuff about it on google/ergo websites


[01/05/2022 8:31 AM] soysor#6001
^ I'm guessing this is mostly the stuff in ergo-stealth but if there's any other context floating around that would be appreciated too üëç


[01/05/2022 11:20 AM] greenhat#6562
It's a pubkey hard coded into the contract.


[01/05/2022 5:46 PM] quokka#1273
I have this line in my ergoscript contract
`OUTPUTS(0).propositionBytes == auctionAddress`
and I replace auctionAddress with the P2S address of another contract, but I keep getting this error:
`sigmastate.lang.exceptions.InvalidBinaryOperationParameters: `
`line 10:       OUTPUTS(0).propositionBytes == auctionAddress`

Any ideas on what to do?


[01/05/2022 5:48 PM] quokka#1273
Here's the scastie playground link just in case: https://scastie.scala-lang.org/vQbxtxCRRA2VARIcR5mU9Q

{Embed}
https://scastie.scala-lang.org/vQbxtxCRRA2VARIcR5mU9Q
Scastie - An interactive playground for Scala.
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
import org.ergoplatform.playground._
import org.ergoplatform.Pay2SAddress
import sigmastate.eval.Extensions._ 
import scorex.crypto.hash.{Blake2b256}
import java.util.Base64
import java.nio.charset.StandardCharsets


//////////////...
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[01/05/2022 6:43 PM] code_For_Uss#1058
use `auctionAddress.propBytes` instead of `auctionAddress`


[01/05/2022 6:43 PM] quokka#1273
üôè  thank you

{Reactions}
üëç (2) 

[01/05/2022 7:00 PM] quokka#1273
Since auctionAddress is only a string this doesnt work. I tried wrapping it in PK  - `PK(auctionAddress).propBytes` but I'm getting a matchError. Is there a PK function for a p2s address or woul I hve to send some other version of the contract?


[01/05/2022 8:36 PM] code_For_Uss#1058
https://scastie.scala-lang.org/TWlB0hncT5SdYcTax3Wj5A
Line 318
probably this can help you

{Embed}
https://scastie.scala-lang.org/TWlB0hncT5SdYcTax3Wj5A
Scastie - An interactive playground for Scala.
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
import org.ergoplatform.playground._
import org.ergoplatform.playgroundenv.models.TokenAmount
import org.ergoplatform.{DataInput, ErgoBox}
import org.ergoplatform.appkit.JavaHelpers
import sigmastate.Values.{LongConstant, SigmaProp...
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[01/06/2022 2:19 AM] soysor#6001
is anyone else having issues with the testnet faucet?

when trying to get some erg the faucet site indicates that erg was successfully received but I never see the funds at my address (in testnet explorer or testnet node wallet), the transaction that is linked also doesn't appear in the explorer


[01/06/2022 4:46 AM] Leif Erickson#8939
is there a way to cleanup history on a node? I have 1 node with 8G and another with 13G in .ergo/history folder


[01/06/2022 4:53 AM] zargarzadehmoein#2928
In testnet, explorer don‚Äôt show transactions in mempool


[01/06/2022 4:57 AM] soysor#6001
Thanks! good to know

Still not having any luck with the testnet faucet though unless it can take many hours


[01/06/2022 4:59 AM] zargarzadehmoein#2928
Please give me your testnet address


[01/06/2022 5:00 AM] soysor#6001
`3WyCLbJTPeUj73dNhCv9A3F4ax1ZFV3WqA8wDLMWnTYWpTq16qpt`


[01/06/2022 7:03 AM] kii#8888
Is there a minimum value when creating a box, if there is, what is it?


[01/06/2022 7:20 AM] MrStahlfelge#0042
0.001


[01/06/2022 7:20 AM] kii#8888
Thank you!


[01/06/2022 8:19 AM] greenhat#6562
@kii Here are the details on how it is calculated - https://github.com/ergoplatform/sigma-rust/blob/95e533beb41ce3667766a1a869e11cc6ff3e1850/ergotree-ir/src/chain/ergo_box/box_value.rs#L32-L48

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/95e533beb41ce3667766a1a869e11cc6ff3e1850/ergotree-ir/src/chain/ergo_box/box_value.rs
sigma-rust/box_value.rs at 95e533beb41ce3667766a1a869e11cc6ff3e1850...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/box_value.rs at 95e533beb41ce3667766a1a869e11cc6ff3e1850 ¬∑ ergoplatform/sigma-rust
https://images-ext-1.discordapp.net/external/1emDOJ3qO0BuRRwt-ujLQwOlK8D8grg2OvEKgXq-C9E/https/opengraph.githubassets.com/7295874d78bf53877d5d184349af9d23290967a393cf7a662f14e47f3b537afb/ergoplatform/sigma-rust


[01/06/2022 9:03 AM] Pgr456#1839
Is there a way/parameter/config to speed up the explorer-backend chain-grabber? It is running on my server for 2 days already and has only reached block 389000. My setup already includes enough ram and cpu and is running on an SSD


[01/06/2022 9:23 AM] error#5683
drop indexes on large tables and recreate them afterwards


[01/06/2022 9:25 AM] error#5683
it should take about 1 day without the indexes üòâ


[01/06/2022 9:26 AM] greenhat#6562
Look into postgres logs. I remember WAL related tuning helped.


[01/06/2022 9:31 AM] Pgr456#1839
Thanks for the tip. Which indexes did you drop?


[01/06/2022 9:32 AM] Pgr456#1839
Will have a look at that as well thanks


[01/06/2022 10:18 AM] error#5683
I dropped all of them and recreated them afterwards, but I think the ones on the largest (inputs and outputs) tables are the offenders.

{Reactions}
üëç 

[01/06/2022 3:06 PM] kushti#0978
@anon-real ^ ?


[01/06/2022 3:11 PM] kushti#0978
@monyedavid @Ilya | Spectrum ^


[01/06/2022 3:11 PM] kushti#0978
https://www.ergoforum.org/t/stealth-address-contract/255

{Embed}
https://www.ergoforum.org/t/stealth-address-contract/255
Stealth Address Contract
Another solution for improving privacy is using stealth addresses. A stealth address preserves recipient privacy without per-transaction interaction needed (so receiver published an address e.g. on its website, and then sender can obtain some unique one-time address from it). This could be useful for privacy-preserving commerce, private donation...

{Reactions}
üëç 

[01/06/2022 3:12 PM] kushti#0978
what is ergo-stealth ?


[01/06/2022 3:13 PM] kushti#0978
probably different filesystems , with different block sizes, and as DB creates a lot of small files, you can get different DB sizes as well


[01/06/2022 3:14 PM] monyedavid#9386
yes there is, the issue happens when you try to run most of the modules there except the explorer-api, been looking for a solution to the error but its a classpath issue and can be caused by a whole bunch of things


[01/06/2022 3:15 PM] monyedavid#9386
when I find a fix I will notify you @Pgr456 @kushti


[01/06/2022 3:29 PM] Pgr456#1839
Maybe this helps:
I set the version of Http4sVersion to "0.22.0"
and changed the import of "import org.http4s.client.blaze.BlazeClientBuilder" to "import org.http4s.blaze.client.BlazeClientBuilder" in all Aplication.scala files


[01/06/2022 3:53 PM] Pgr456#1839
@monyedavid Created a PR https://github.com/ergoplatform/explorer-backend/pull/171


[01/06/2022 4:07 PM] monyedavid#9386
@Ilya | Spectrum


[01/06/2022 5:44 PM] Massaker#4565
how would i get testnet coins?
```You can get 60 testERG by sending a request to https://faucet.ergopool.io/payment/address/TESTNET_WALLET_ADDRESS (with your address replacing TESTNET_WALLET_ADDRESS)```
i tried this from the github page but i receive a "503 Service Unavailable"


[01/06/2022 6:58 PM] MrStahlfelge#0042
state your testnet address


[01/06/2022 7:00 PM] Massaker#4565
3Wx7Z8FywaL4ofunDCV1NaTJX5CpjTubMrjpCkEhnNBAgJLGfRcD


[01/06/2022 7:01 PM] Massaker#4565
i replaced it i copied wrong one at first


[01/06/2022 7:02 PM] MrStahlfelge#0042
no problem, do you need some test tokens as well?


[01/06/2022 7:02 PM] Massaker#4565
im not sure but i'll take them lol,   just learning


[01/06/2022 7:05 PM] MrStahlfelge#0042
https://testnet.ergoplatform.com/en/transactions/bf8c0aa47538ba3a1cb893fddae99cc200eaead6973fc51266a4d2c114910586 (testnet mempool does not work somehow, it will show when it is mined)


[01/06/2022 7:17 PM] Massaker#4565
@MrStahlfelge  ty all is well


[01/06/2022 7:18 PM] MrStahlfelge#0042
enjoy the Fake^WTest SigUSD


[01/06/2022 7:18 PM] Massaker#4565
haha nice


[01/06/2022 9:20 PM] soysor#6001
discord channel #stealth-addresses

{Reactions}
üëçüèª 

[01/06/2022 11:23 PM] JOFLITO#9983
thanks sir


[01/07/2022 9:20 AM] soysor#6001
whats the testnet explorer api endpoint?


[01/07/2022 9:23 AM] zargarzadehmoein#2928
https://api-testnet.ergoplatform.com


[01/07/2022 9:23 AM] soysor#6001
Thanks a lot

{Reactions}
üëç 

[01/08/2022 8:23 AM] Leif Erickson#8939
@kushti, continuing this here I looked through the log again and it looks like some sort of connection issue that perhaps ergo could not recover from? `Error during parsing a handshake` seems that the error shows up as an INFO level message, but I had captured with the default DEBUG setting (I have PROD set to only log ERROR to minimize disk IO).  There is also a `Failed to connect to` in INFO messages (line 19779) and about the time I restart the node.  The problem that has occurred multiple times is that the node shows that it is sync'd properly however the HEIGHT stops counting.  This can go on for days (as I noticed on a DEV node) and sometimes restarting will solve the problem, otherwise will rebuild the node. This is from 4.0.19/mainnet, although I noticed this starting around 4.0.16 (before .16, I didn't use mainnet as much) .. `java -jar -Xmx3G ergo.jar --mainnet -c mainnet.conf`

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929289181887352862/ergo-err.7z


[01/08/2022 9:09 AM] MGpai#4313
@haileypdll is it possible to remove the popup which forces users to immediately connect wallet


[01/08/2022 9:10 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929300952429772810/unknown.png


[01/08/2022 9:10 AM] MGpai#4313
like as soon as payment page loads it does this


[01/08/2022 9:10 AM] MGpai#4313
then if I click "x"


[01/08/2022 9:10 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929301063885029386/unknown.png


[01/08/2022 9:10 AM] MGpai#4313
I am forever stuck on this


[01/08/2022 9:10 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929301134651318272/unknown.png


[01/08/2022 9:11 AM] MGpai#4313
cannot click

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929301190280372234/unknown.png


[01/08/2022 9:11 AM] MGpai#4313
to fix I have to reload and click the pop-up on nightly


[01/08/2022 9:12 AM] MGpai#4313
rather I would like if I get the pop up after clicking "connect wallet"


[01/08/2022 9:13 AM] MGpai#4313
also if I click cancel instead of connect on nightly the loading screen still stays


[01/08/2022 9:44 AM] MGpai#4313
Other thing is it does not load in the things in the box such as erg and payment identifier until the nightly is connected


[01/08/2022 9:44 AM] MGpai#4313
So if that could be fixed too that would be great


[01/08/2022 10:51 AM] haileypdll#3353
The application needs Yoroi nightly to interact with the blockchain, it must to connect at some point, I've kept the connection try when opening that page but made it non-mandatory (cancellable).
Please check the new version, the waiting popup can now be cancelled and the payment page is loaded before trying to connect.
https://github.com/ThierryM1212/ergo-pay/commit/3e01f60d2b7dfa4e2be5f12b405396ad96064b2c

Maybe you have a miner wallet configured in Yoroi nightly ? 
For me having removed the miner wallet (and restarted Chrome) fixed most slownesses of Yoroi.


[01/08/2022 4:39 PM] MGpai#4313
almost works


[01/08/2022 4:39 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929414074507350046/unknown.png


[01/08/2022 4:39 PM] MGpai#4313
Does not load if wallet extension is not there


[01/09/2022 1:46 AM] JOFLITO#9983
Hey guys, when I try to use the Ergo P2S in ErgoScript playground, I get the following error 

line 5:         val whatToken_0 = OUTPUTS(0).tokens(0)._1 == 0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b
                                  ^
Unknown binary operation cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b

I am trying to check the token id on the transaction.


[01/09/2022 1:47 AM] JOFLITO#9983
https://wallet.plutomonkey.com/p2s/?source=ICB7ICAgdmFsIHI0ID0gU0VMRi5SNFtMb25nXS5nZXQKICAgICAgdmFsIGhlaWdodCA9IENPTlRFWFQuSEVJR0hUCiAgICAgIHZhbCBkZWZpbmVkID0gT1VUUFVUUy5zaXplID49IDIKICAgICAgc2lnbWFQcm9wIChpZiAoZGVmaW5lZCkgewogICAgICAgIHZhbCB3aGF0VG9rZW5fMCA9IE9VVFBVVFMoMCkudG9rZW5zKDApLl8xID09IDBjZDhjOWY0MTZlNWIxY2E5Zjk4NmE3ZjEwYTg0MTkxZGZiODU5NDE2MTllNDllNTNjMGRjMzBlYmY4MzMyNGIKICAgICAgICB2YWwgd2hhdFRva2VuXzEgPSBPVVRQVVRTKDEpLnRva2VucygwKS5fMSA9PSAwY2Q4YzlmNDE2ZTViMWNhOWY5ODZhN2YxMGE4NDE5MWRmYjg1OTQxNjE5ZTQ5ZTUzYzBkYzMwZWJmODMzMjRiCiAgICAgICAgdmFsIGZvdW5kZXIxT3V0cHV0ID0gT1VUUFVUUygwKS5wcm9wb3NpdGlvbkJ5dGVzID09IDA0ODhiMjFlMDAwMDAwMDAwMDAwMDAwMDAwMjQ2NzBkNWRlNzE3MjRhODlhYjEwYTg0NmMxYWJlOGFiNWE3ZTEwNTMzOTBjMTRlYmY2MTIwNmMyNzI0NTliMTAzZGE2MDI5M2Y0NjUzZDBhNWM0OGY5Y2E5YmZiMjI0ZWIwZDQwNzI2ZGJkZTZhM2YxNTdjMWQ5N2UzNGY4NThkNAogICAgICAgIHZhbCB0b2tlblF1YW50aXR5ID0gIDE0MjE4NzUwIDw9IE9VVFBVVFMoMCkudG9rZW5zKDApLl8yICYmIE9VVFBVVFMoMCkudG9rZW5zKDApLl8yIDwgKChoZWlnaHQgLSA2NTk1NTApICogNjU4IC0gcjQpCiAgICAgICAgdmFsIHNlbGZPdXRwdXQgPSAoT1VUUFVUUygxKS5wcm9wb3NpdGlvbkJ5dGVzID09IFNFTEYucHJvcG9zaXRpb25CeXRlcyAmJiBPVVRQVVRTKDEpLnRva2VucygwKS5fMiA9PSAoU0VMRi50b2tlbnMoMCkuXzIgLSBPVVRQVVRTKDApLnRva2VucygwKS5fMikpCiAgICAgICAgd2hhdFRva2VuXzAgJiYgd2hhdFRva2VuXzEgJiYgZm91bmRlcjFPdXRwdXQgJiYgdG9rZW5RdWFudGl0eSAmJiBzZWxmT3V0cHV0CiAgICB9IGVsc2UgeyBmYWxzZSB9ICkKICB9


[01/09/2022 2:08 AM] Cheese Enthusiast#0548
Try this: https://wallet.plutomonkey.com/p2s/?source=ICB7ICAgdmFsIHI0ID0gU0VMRi5SNFtMb25nXS5nZXQKICAgICAgdmFsIGhlaWdodCA9IENPTlRFWFQuSEVJR0hUCiAgICAgIHZhbCBkZWZpbmVkID0gT1VUUFVUUy5zaXplID49IDIKICAgICAgc2lnbWFQcm9wIChpZiAoZGVmaW5lZCkgewogICAgICAgIHZhbCB3aGF0VG9rZW5fMCA9IE9VVFBVVFMoMCkudG9rZW5zKDApLl8xID09IGZyb21CYXNlNjQoIjBjZDhjOWY0MTZlNWIxY2E5Zjk4NmE3ZjEwYTg0MTkxZGZiODU5NDE2MTllNDllNTNjMGRjMzBlYmY4MzMyNGIiKQogICAgICAgIHZhbCB3aGF0VG9rZW5fMSA9IE9VVFBVVFMoMSkudG9rZW5zKDApLl8xID09IGZyb21CYXNlNjQoIjBjZDhjOWY0MTZlNWIxY2E5Zjk4NmE3ZjEwYTg0MTkxZGZiODU5NDE2MTllNDllNTNjMGRjMzBlYmY4MzMyNGIiKQogICAgICAgIHZhbCBmb3VuZGVyMU91dHB1dCA9IE9VVFBVVFMoMCkucHJvcG9zaXRpb25CeXRlcyA9PSBmcm9tQmFzZTY0KCIwNDg4YjIxZTAwMDAwMDAwMDAwMDAwMDAwMDI0NjcwZDVkZTcxNzI0YTg5YWIxMGE4NDZjMWFiZThhYjVhN2UxMDUzMzkwYzE0ZWJmNjEyMDZjMjcyNDU5YjEwM2RhNjAyOTNmNDY1M2QwYTVjNDhmOWNhOWJmYjIyNGViMGQ0MDcyNmRiZGU2YTNmMTU3YzFkOTdlMzRmODU4ZDQiKQogICAgICAgIHZhbCB0b2tlblF1YW50aXR5ID0gIDE0MjE4NzUwIDw9IE9VVFBVVFMoMCkudG9rZW5zKDApLl8yICYmIE9VVFBVVFMoMCkudG9rZW5zKDApLl8yIDwgKChoZWlnaHQgLSA2NTk1NTApICogNjU4IC0gcjQpCiAgICAgICAgdmFsIHNlbGZPdXRwdXQgPSAoT1VUUFVUUygxKS5wcm9wb3NpdGlvbkJ5dGVzID09IFNFTEYucHJvcG9zaXRpb25CeXRlcyAmJiBPVVRQVVRTKDEpLnRva2VucygwKS5fMiA9PSAoU0VMRi50b2tlbnMoMCkuXzIgLSBPVVRQVVRTKDApLnRva2VucygwKS5fMikpCiAgICAgICAgd2hhdFRva2VuXzAgJiYgd2hhdFRva2VuXzEgJiYgZm91bmRlcjFPdXRwdXQgJiYgdG9rZW5RdWFudGl0eSAmJiBzZWxmT3V0cHV0CiAgICB9IGVsc2UgeyBmYWxzZSB9ICkKICB9


[01/09/2022 2:09 AM] Cheese Enthusiast#0548
You can't really interact with strings in ErgoScript, so there are functions like fromBase64 that let you convert strings into collections of bytes at compile time


[01/09/2022 8:56 AM] andee#4722
looks like you run out of peers ü§î and the node also tries to handshake its own API port?


[01/09/2022 9:04 AM] andee#4722
what does your config look like? I have never seen failed handshakes because of the node trying to connect to localhost:9053, P2P default port is 9030


[01/09/2022 9:05 AM] andee#4722
use /info to get peer count


[01/09/2022 9:06 AM] andee#4722
not that the node should be trying to connect to localhost either way, but that its trying to connect to the API port is even weirder


[01/09/2022 9:12 AM] Leif Erickson#8939
It's in a docker...I only open 9053, and have played with the config but don't do anything interesting usually https://github.com/ergo-pad/ergopad/blob/main/ergonode/ergonode.conf.template .. should I open 9030 also?

{Embed}
https://github.com/ergo-pad/ergopad/blob/main/ergonode/ergonode.conf.template
ergopad/ergonode.conf.template at main ¬∑ ergo-pad/ergopad
Contribute to ergo-pad/ergopad development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/hFM7kJODjsw7PRzOuDSw9METBTjFgN_dqohXuvdkdc8/https/opengraph.githubassets.com/db423dfbf8810603af9cd6bf5326edb91361cc16345754268e2423176a585b86/ergo-pad/ergopad


[01/09/2022 9:14 AM] andee#4722
I run in a container also, I bind 9053 to 0.0.0.0 so I can access it on my LAN. Only port open from the outside is a wireguard port, node works just fine


[01/09/2022 9:16 AM] andee#4722
`19:31:18.568 INFO  [ctor.default-dispatcher-7] s.c.n.PeerConnectionHandler - Handshake sent to ConnectionId(remote=/127.0.0.1:9053, local=/127.0.0.1:43872, direction=Outgoing)`


[01/09/2022 9:16 AM] Leif Erickson#8939
...hmm, something with my connection probably


[01/09/2022 9:17 AM] Leif Erickson#8939
Odd my node would try to access localhost as a peer


[01/09/2022 9:17 AM] andee#4722
Opening 9030 does help with having peers though, since nodes will be able to handshake you on their own initiative


[01/09/2022 9:19 AM] Leif Erickson#8939
Ok, might be good for a production node then


[01/09/2022 1:37 PM] Ludovit#4957
hey guys we got some problems on our mining nodes, any ideas on how to "force" synchro of node without deleting all the blokchain data ?


[01/09/2022 1:38 PM] Ludovit#4957
We got nodes on 4.0.16 that "think" they are synchro but we cant force them to research new peers, even after reboot


[01/09/2022 1:39 PM] Ludovit#4957
Could we maybe delete /data/peers folder so that it researches new peers ? (we're like 20-30 blocks behind the mainnet)


[01/09/2022 1:40 PM] Ludovit#4957
posting this on "node" rather I guess üôÇ


[01/09/2022 2:38 PM] Shano#6718
i am having issues with my erg wallet it wont let me send funds i moved from yoroi because it was rubbish but atleast it let me send my money am i missing something?


[01/09/2022 6:36 PM] Andrew P#6277
Hey guys. I purchased some erg on kucoin and sent to my Yoroi a few hours ago. Erg has not been received in Yoroi. Txn confirmed on kucoin side


[01/09/2022 6:42 PM] Œ£otiris#3516
anticipating the exact same problem


[01/09/2022 6:58 PM] ziggomatic#9335
have you looked up the transaction on explorer? https://explorer.ergoplatform.com/en/


[01/09/2022 7:04 PM] Œ£otiris#3516
yes, at first I could view it as unconfirmed, but now I can't view it at all


[01/09/2022 7:12 PM] Andrew P#6277
I noticed it comes and goes if you refresh


[01/09/2022 7:14 PM] Œ£otiris#3516
at first yes, now I can't view it at all even If I refresh


[01/09/2022 7:14 PM] Andrew P#6277
Oo lol well this is great


[01/09/2022 8:00 PM] JOFLITO#9983
thanks a lot!


[01/09/2022 9:51 PM] kii#8888
I know why I am  getting 0 now, it seems theres no erg in explorer: https://testnet.ergoplatform.com/en/addresses/3WxGn3mx6aAef4t8s8CkaSaNv6xFRULhTwgKmenNDvGntHW2cpwH

However It seems like I have ergs on my node. Weird.

Is this normal?

@zargarzadehmoein

This is testnet btw

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/929854832444047480/Screen_Shot_2022-01-09_at_1.50.40_PM.png


[01/09/2022 9:52 PM] Cheese Enthusiast#0548
Is that ERG you mined or ERG that was sent to your address?


[01/09/2022 9:53 PM] kii#8888
sent. This is testnet


[01/09/2022 9:57 PM] zargarzadehmoein#2928
can you check `changeAddress` key in `/wallet/status` node api ?


[01/10/2022 12:02 AM] andee#4722
not really fitting for this channel, but this sounds like a kucoin problem


[01/10/2022 3:58 AM] kii#8888
I dont understand this


[01/10/2022 4:08 AM] Cheese Enthusiast#0548
Are you using you're own node? Or someone else's?


[01/10/2022 4:09 AM] Cheese Enthusiast#0548
nvm, just realized you're using your own from the picture


[01/10/2022 4:11 AM] Cheese Enthusiast#0548
He's asking you to go into swagger on your node and do the /wallet/status request so that you can check what your current change address is


[01/10/2022 4:22 AM] kii#8888
hmm, i seem to be getting this:
"error": 403,
"reason": "forbidden",
"detail": "The supplied authentication is not authorized to access this resource"


[01/10/2022 4:23 AM] Cheese Enthusiast#0548
Go to the top of swagger, there's an authorize button


[01/10/2022 4:23 AM] Cheese Enthusiast#0548
Enter your api key and then try the command again


[01/10/2022 4:23 AM] Cheese Enthusiast#0548
After that the command should work and you should be able to see ur change address


[01/10/2022 4:24 AM] kii#8888
{
  "isInitialized": true,
  "isUnlocked": true,
  "changeAddress": "3WwehmXHbVxQyZ3thwutvQm1LWdBuR2RPCvMDM7mDBUC2bHCh72A",
  "walletHeight": 143342,
  "error": ""
}


[01/10/2022 4:24 AM] kii#8888
Thanks!


[01/10/2022 4:25 AM] Cheese Enthusiast#0548
I would check explorer now and figure out which of these addresses has the ERG that you're searching for


[01/10/2022 4:25 AM] kii#8888
it seems like the change address has the erg


[01/10/2022 4:26 AM] kii#8888
what does it mean by changeAddress btw


[01/10/2022 4:27 AM] Cheese Enthusiast#0548
Whenever you spend ERG from the main address, you have to spend the entire utxo. If there's any ERG in the utxo that isn't needed for the transaction, it gets sent to the change address


[01/10/2022 4:27 AM] kii#8888
would it be good to set the changeAddress as your main address?


[01/10/2022 4:28 AM] kii#8888
are we also able to spend the change address?


[01/10/2022 4:28 AM] Cheese Enthusiast#0548
Yeah I believe the change address can be used like any other address. I'm pretty sure it's just one of your EIP3 addresses, so you can use all the EIP3 methods to interact with it.


[01/10/2022 4:29 AM] Cheese Enthusiast#0548
I never bothered setting the change address to the main one, don't think its necessary but it might depending on what you're trying to do


[01/10/2022 4:36 AM] kii#8888
I'm trying this:

```
val prover2: Address = ctx.newProverBuilder().withMnemonic(
  SecretString.create(nodeConfig.getWallet.getMnemonic),
  SecretString.create("")
)
  .withEip3Secret(0)
  .build().getEip3Addresses.get(0)
```

When i change getEip3Addresses.get(0) to 1, it throws out of bound. When I change withEip3Secret to other values, i can't seem to get the change address


[01/10/2022 4:36 AM] kii#8888
I'm trying to get the boxes, but when i use the main one, there aint any there üò¶


[01/10/2022 4:40 AM] Cheese Enthusiast#0548
Can you go into your node swagger and try the wallet/addresses request


[01/10/2022 4:42 AM] Cheese Enthusiast#0548
Btw, if you're trying to get boxes straight from your node, you can also do ```ctx.getWallet.getUnspentBoxes(valueToSearch)```


[01/10/2022 4:43 AM] Cheese Enthusiast#0548
It returns an Option[Java.util.list<InputBoxes>] straight from the node wallet.


[01/10/2022 4:44 AM] Cheese Enthusiast#0548
I believe it should have access to your change address, eip3 addresses and any mining reward utxos you have


[01/10/2022 4:52 AM] kii#8888
[
  "3WxGn3mx6aAef4t8s8CkaSaNv6xFRULhTwgKmenNDvGntHW2cpwH"
]


[01/10/2022 4:53 AM] Cheese Enthusiast#0548
Weird, can you do wallet/deriveNextKey/ and see what address comes back?


[01/10/2022 4:54 AM] kii#8888
Yeah, I can do that instead i guess if I want to use testnet. I can run a testnet node. It'd be nice to figure this out though


[01/10/2022 4:55 AM] kii#8888
I clicked it like 15 times and i still dont get that address haha


[01/10/2022 4:57 AM] Cheese Enthusiast#0548
weird, okay in that case I would just set your changeAddress to the main one and get some Erg to it again.


[01/10/2022 4:58 AM] Cheese Enthusiast#0548
I'm wondering if you ever changed what wallet your node was using at one point. Maybe it never updated the changeAddress after switching to a new wallet. Not really sure though.


[01/10/2022 4:59 AM] kii#8888
I doubt so. I barely used it. Whats weird is that the erg does exists in my wallet when i run ctx.getWallet.getUnspentBoxes


[01/10/2022 5:02 AM] Cheese Enthusiast#0548
Did you try using withEipSecret(1)? It definitely seems to be an address linked to your wallet.


[01/10/2022 5:19 AM] kii#8888
i tried, it was something different


[01/10/2022 5:36 AM] kii#8888
How long does it take for a transaction to enter mempool via testnet?

I sent a transaction, but it doesnt seem to be in it. Could it be that it just wasnt sent?


[01/10/2022 7:00 AM] Cheese Enthusiast#0548
Mempool doesn't work in testnet for some reason


[01/10/2022 9:45 AM] CryptoMinerOS#1745
Is it normal for the Reward address and Reward pubkey to change after restoring from seed?


[01/10/2022 3:39 PM] andee#4722
No, did you set a mnemonic password when you created the wallet?


[01/10/2022 9:03 PM] kushti#0978
if your old version was between 4.0.13 and 4.0.16


[01/10/2022 9:22 PM] Marty#4039
Anyone ever see transactions get stuck and not confirm?


[01/10/2022 9:22 PM] Marty#4039
Is there a way to push them back? Un-do the transaction?


[01/10/2022 9:56 PM] Marty#4039
Seems if you just create a new transaction it resets


[01/11/2022 7:50 AM] kii#8888
Hi. I tried sending transactions to testnet but it doesn‚Äôt seem to come up. 

I tried the transactions on mainnet and it went through. 

Is anyone sending txs to testnet successfully?


[01/11/2022 9:45 AM] MrStahlfelge#0042
you need some patience on testnet, seems like mempool is still not showing. chances are high your tx is good and will be in the next block


[01/11/2022 10:36 AM] CryptoMinerOS#1745
I was restoring a wallet from 4.0.12. Why would it change if it was from old version? Would it also not show the correct balance? Because after syncing, my balance was 0.

What I did for now was I copied the `./.ergo/wallet` directory from the old node and then copied it to the new version node and then started it. Will there be any issues if I did that?


[01/11/2022 7:30 PM] curbsideprophet#5083
anyone else storing the ergo blockchain to a database? 

reason I ask: i'm looking at anetaBTC data (`token_id = '472c3d4ecaa08fb7392ff041ee2e6af75f4a558810a74b28600549d5392810e8'`) and noticed a 2nd address also received 1B $NETA tokens on 12/22. you can find that wallet here: https://explorer.ergoplatform.com/en/addresses/9ej3gtpWNeLZtWUFygWU1LVJmD9V3W1oFCcgmC8YkSdiGiSWg8Y

however if you go to `tokens > show` and scroll down it is relabeled as `testing` with 1B tokens and new token_id of `f7662290149e713867f9f4a2ae02e4aa28161bc8241626abf98b8b6e2e2125d5` instead.

can 1) anyone else confirm on their side and 2) why this might be happening and 3) how to fix? 

cc: @Frosty

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/930544267783454791/Screen_Shot_2022-01-11_at_11.24.55_AM.png


[01/11/2022 9:43 PM] code_For_Uss#1058
Is there any fake oracle pool in testnet?


[01/11/2022 11:39 PM] Leif Erickson#8939
is there a way to use the node's wallet/sendPayment endpoint without sync'ing the wallet to the node?  Or, perhaps a way to quick sync (ideally without taking down the node and resetting the /wallet folder)?


[01/12/2022 2:15 AM] abchris#8522
The tokens dropdown shows the current balance. 9ej3 did receive 1B NETA, but they got transferred to 9gJW.


[01/12/2022 2:17 AM] abchris#8522
The 1B testing has nothing to do with it and is just there to confuse you üòâ


[01/12/2022 3:06 AM] curbsideprophet#5083
Haha! No solution to handle in DB? The token IDs changed


[01/12/2022 3:07 AM] curbsideprophet#5083
I mean I guess should be fine just need to document on my side as a caveat


[01/12/2022 4:01 AM] kii#8888
Hmm i sent it yesterday though


[01/12/2022 4:07 AM] Krasavice Blasen#4574
When listing an item on AuctionHouse with Yoroi, why is the NFT being sent to some box first (first box does not use additional registers) which is then immediately spent (presumably by AH's node) to create a new box with additional registers? Can we not just circumvent the intermediary box and send the NFT to the final box initially? (The only reason I can think of is because Yoroi dapp connector does not support writing to registers?/ impose fees and royalties)


[01/12/2022 4:15 AM] curbsideprophet#5083
the above is solved thanks to @abchris and here is my TIL for others in the future:
```Ok, so node_assets contains all boxes, not only unspent ones. You're looking at spent outputs. You need to left join node_inputs on box_id and keep only those boxes that have no match in node_inputs. 
And that testing token is just something else that happens to have the 1B balance you were looking for. 
In other words, those 1B NETA boxes have been spent already```
cc: @Frosty


[01/12/2022 7:22 AM] GreenEggsAndSam#7091
Hi yall! I'm trying to start a local node via docker and seeing the current stack trace. Is the worker cleaning up the entire node or just the wallet? The expectation is still being able to ping `127.0.0.1:9053`
```
Picked up _JAVA_OPTIONS: -Xmx3G
07:18:16.512 INFO  [main] org.ergoplatform.ErgoApp - Running with args: Args(None,None)
07:18:16.526 WARN  [main] o.e.settings.ErgoSettings$ - Running without network config
07:18:17.155 INFO  [main] org.ergoplatform.ErgoApp - Working directory: /home/ergo/.ergo
07:18:17.156 INFO  [main] org.ergoplatform.ErgoApp - Secret directory: /home/ergo/.ergo/wallet/keystore
07:18:17.400 INFO  [ctor.default-dispatcher-4] s.c.n.NetworkController - Declared address: None
07:18:17.464 INFO  [tor.default-dispatcher-13] s.c.n.NetworkController - Registering handlers for List((1,GetPeers message), (2,Peers message))
07:18:17.465 INFO  [tor.default-dispatcher-13] s.c.n.NetworkController - Successfully bound to the port 9020
07:18:17.470 WARN  [ergoref-api-dispatcher-8] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
07:18:17.471 INFO  [tor.default-dispatcher-13] s.c.n.NetworkController - Registering handlers for List((55,Inv), (22,RequestModifier), (33,Modifier), (65,Sync))
07:18:17.489 INFO  [ctor.default-dispatcher-7] o.e.n.state.ErgoState$ - Generating genesis UTXO state
07:18:17.489 INFO  [ctor.default-dispatcher-5] scorex.db.LDBFactory$ - Loaded org.fusesource.leveldbjni.JniDBFactory with leveldbjni version 1.8
07:18:17.510 INFO  [ctor.default-dispatcher-5] s.c.n.peer.PeerManager - No peers in database, seeding peers database with nodes from config
07:18:17.553 INFO  [tor.default-dispatcher-12] s.c.u.NetworkTimeProvider - New offset adjusted: -1
07:18:17.624 INFO  [ctor.default-dispatcher-7] o.e.n.state.ErgoState$ - Genesis UTXO state generated with hex digest cb63aa99a3060f341781d8662b58bf18b9ad258db4fe88d09f8f71cb668cad4502
07:18:17.677 INFO  [ctor.default-dispatcher-7] o.e.n.history.ErgoHistory$ - History database read
07:18:17.716 INFO  [ergoref-api-dispatcher-8] o.e.n.w.ErgoWalletActor - Initializing wallet actor
07:18:17.790 INFO  [ergoref-api-dispatcher-8] o.e.n.w.ErgoWalletServiceImpl - Trying to read wallet in secure mode ..
07:18:17.793 WARN  [ergoref-api-dispatcher-8] o.e.n.w.ErgoWalletServiceImpl - Failed to read wallet. Manual initialization is required. Details: 
java.lang.Exception: Cannot readSecretStorage: dir '/home/ergo/.ergo/wallet/keystore' doesn't exist
    at org.ergoplatform.wallet.secrets.JsonSecretStorage$.readFile(JsonSecretStorage.scala:140)
    at org.ergoplatform.nodeView.wallet.ErgoWalletServiceImpl.readWallet(ErgoWalletService.scala:244)
    at org.ergoplatform.nodeView.wallet.ErgoWalletActor$$anonfun$emptyWallet$1.applyOrElse(ErgoWalletActor.scala:86)
    at akka.actor.Actor.aroundReceive(Actor.scala:537)
    at akka.actor.Actor.aroundReceive$(Actor.scala:535)
    at org.ergoplatform.nodeView.wallet.ErgoWalletActor.aroundReceive(ErgoWalletActor.scala:33)
    at akka.actor.ActorCell.receiveMessage(ActorCell.scala:577)
    at akka.actor.ActorCell.invoke(ActorCell.scala:547)
    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)
    at akka.dispatch.Mailbox.run(Mailbox.scala:231)
    at akka.dispatch.Mailbox.exec(Mailbox.scala:243)
    at java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)
    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)
    at java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)
    at java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)
    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)
07:18:17.835 INFO  [ctor.default-dispatcher-7] o.e.local.CleanupWorker - Cleanup worker started
```


[01/12/2022 8:22 AM] GreenEggsAndSam#7091
also it looks like testnet requires a conf from some other path altogether
```
08:22:01.238 WARN  [main] o.e.settings.ErgoSettings$ - NO CONFIGURATION FILE WAS PROVIDED. STARTING WITH DEFAULT SETTINGS!
Exception in thread "main" com.typesafe.config.ConfigException$UnresolvedSubstitution: /tmp/devnet.conf: 12: Could not resolve substitution to a value: ${ergo.directory}
```


[01/12/2022 4:23 PM] curbsideprophet#5083
Might be a silly question but I‚Äôll ask here: is everyone running all these services on a single device? Full node, oracle pool, ergodex execution bots, etc. or do y‚Äôall have a separate device for each ?


[01/12/2022 4:53 PM] GreenEggsAndSam#7091
I haven't tried setting up much besides a full node, but it would depend on the amount of compute available and what you're trying to solve. (e.g. dev env might want to keep them on same to avoid networking issues whereas one might want them separate for prod)


[01/12/2022 4:58 PM] curbsideprophet#5083
There is so much cool stuff and growing at a high rate I am just curious everyone dev setup hehe (and if I need an upgrade)


[01/12/2022 7:18 PM] andee#4722
try `/etc/myergo.conf`. the first log you posted is normal when you dont have a wallet


[01/12/2022 7:41 PM] GreenEggsAndSam#7091
Maybe I need to take a step back. From the dockerhub overview `sudo docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /path/on/host/to/ergo/data:/home/ergo/.ergo ergoplatform/ergo --mainnet` , what is expected to be in my local path to ergo data? So far I have an empty directory to an ergo.conf


[01/12/2022 7:41 PM] GreenEggsAndSam#7091
And how does this change as the flag toggles between mainnet, testnet, and devnet?


[01/12/2022 7:57 PM] andee#4722
@GreenEggsAndSam

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/930913323703205969/Screenshot_from_2022-01-12_20-56-35.png


[01/12/2022 7:58 PM] andee#4722
as long as you change networkid and use the right config it works just the same


[01/12/2022 9:23 PM] GreenEggsAndSam#7091
Thanks that helps - follow up: what if I want to run a private net of 1 node? Is it possible to configure scorex.network to have no peers?


[01/12/2022 9:33 PM] GreenEggsAndSam#7091
```CONTAINER ID   IMAGE                      COMMAND                  CREATED             STATUS                     PORTS                                                                                     NAMES
d706ef14f383   ergoplatform/ergo:latest   "java -jar /home/erg‚Ä¶"   14 minutes ago      Up 14 minutes              9020/tcp, 9052/tcp, 0.0.0.0:9030->9030/tcp, :::9030->9030/tcp, 127.0.0.1:9053->9053/tcp   unruffled_noyce
```
Should I expect to be able to hit the REST endpoint while syncing?


[01/13/2022 7:29 AM] andee#4722
yes, but ports are different. forget to tell you about that. API is 9052 on testnet, 9053 on mainnet. P2P port is 9020 on testnet, 9030 on mainnet


[01/13/2022 7:30 AM] andee#4722
I haven't tried, but I suppose running devnet with random magic bytes and no peers in config will do that


[01/13/2022 7:46 AM] GreenEggsAndSam#7091
Thanks for taking the time to answer these things. I'm gonna test this out and report back tomorrow. On a side note, happy to make a PR to capture some of this conversation in docs. The wiki seems to be the natural place to put this atm, but not very contributor friendly - any recommendations?


[01/13/2022 8:11 AM] andee#4722
I got no response when I asked about the wiki part, it is not very PR friendly, easiest is to add it to https://docs.ergoplatform.org/


[01/13/2022 8:13 AM] andee#4722
my testnet config: https://termbin.com/lcgby


[01/13/2022 8:14 AM] andee#4722
how I run mainnet node: https://termbin.com/uevw


[01/13/2022 8:15 AM] andee#4722
testnet ports```    -p 9020:9020 \
    -p 9052:9052 \```


[01/13/2022 8:16 AM] andee#4722
just replace podman with docker, or start using podman since its rootless by default üôÇ


[01/13/2022 8:21 AM] andee#4722
and I add `--time 60` to stop command to avoid container getting killed before proper shutdown, have had zero database corruptions after changing stopsignal and giving it more time to stop


[01/13/2022 10:23 PM] Leif Erickson#8939
@andee do you use this also https://github.com/ergoplatform/node-info-monitor ? Looks straightforward and would be nice to have and potentially restart on issues (didn't look to see if that was available, but easy enough to add).

{Embed}
https://github.com/ergoplatform/node-info-monitor
GitHub - ergoplatform/node-info-monitor: Ergo node API /info monito...
Ergo node API /info monitoring tool. Contribute to ergoplatform/node-info-monitor development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/EXODMMCmz3TYcszYDz9iOx7Txz4FDwpdLj3TIIm_Y7o/https/opengraph.githubassets.com/31baa7e52402f709e5db28756ad604f40a4a7a8da00ebfb7c3542759f297eb2b/ergoplatform/node-info-monitor


[01/14/2022 10:16 AM] HazeyOneKenobi#2091
hi all, any info on how to increase a tx fee after it's been submitted? I remember hearing it's possible from anon_real a while back


[01/14/2022 10:47 AM] MrStahlfelge#0042
submit the same tx with the same inboxes and higher fee


[01/14/2022 10:51 AM] HazeyOneKenobi#2091
wouldn't it need to spend the same input as the original too? to ensure you don't send the same tx twice?


[01/14/2022 11:05 AM] MrStahlfelge#0042
fixed my typo üòÑ


[01/14/2022 7:23 PM] andee#4722
never used it, restarting should be trivial to implement with a script that runs every x minutes checking if last height == current height though


[01/15/2022 3:30 AM] MGpai#4313
@haileypdll is it possible to get the content to load if the wallet isnt connected


[01/15/2022 3:30 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/931752112730296360/unknown.png


[01/15/2022 3:30 AM] MGpai#4313
because all the necessary info is in the url


[01/15/2022 3:48 AM] soysor#6001
Is it possible for there to be more than a single block at `n` height or for a block to have more than 1 header?

`/blocks/at/{blockHeight}` endpoint returns an array of header ids but I can't find a height where there's more than 1 on testnet


[01/15/2022 4:53 AM] kii#8888
Is there a way to calculate the transaction fee cost?


[01/15/2022 5:18 AM] Krasavice Blasen#4574
Miners sort transactions in the mempool based on fee per byte. In my experience somewhere around 0.001 erg/ kilobyte is a good min fee to set to be accepted in 1 block. Not sure of any automated ways of getting the current average fee per byte.


[01/15/2022 5:19 AM] kii#8888
I tend to use Parameters.MinFee. But I'm wondering if we can do a more exact calculation if it exceeds


[01/15/2022 5:22 AM] Krasavice Blasen#4574
Yeah Parameters.MinFee gives 0.001 ERG I believe, so it would depend on the size of your tx.


[01/15/2022 5:22 AM] Krasavice Blasen#4574
You can see this tx: https://explorer.ergoplatform.com/en/transactions/8037f65493902d567ea37dc5582fd395569234cb82e8d79a06fef738ed4f2217


[01/15/2022 5:22 AM] Krasavice Blasen#4574
Uses MinFee but has been in the mempool for 6 hours


[01/15/2022 5:24 AM] Krasavice Blasen#4574
personally for that tx I would use 0.0062 ERG fee so that the fee is about 0.001 erg/ kilobyte.


[01/15/2022 5:25 AM] kii#8888
Ah that makes sense. Thanks for explaining Kra!


[01/15/2022 5:26 AM] kii#8888
I'm getting this error:
scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s2607 -> MethodCall(s2606, scalan.Base$Ref special.collection.Colls$Coll.apply(scalan.Base$Ref), [s39], true))

It seems to mean failed evaluation, does that mean that the transaction failed to be evaluated as possible to go through? Possibly because the input boxes requirements are not met?


[01/15/2022 9:34 AM] haileypdll#3353
Please check the new version, it loads the page before trying to connect


[01/15/2022 4:51 PM] Cheese Enthusiast#0548
Usually means a runtime error that happened when you called a method. Might be preferable to handle such errors in the code so it says ‚Äúscript reduced to false‚Äù instead


[01/15/2022 5:50 PM] MGpai#4313
Perfect exactly what I was looking for!!


[01/15/2022 6:26 PM] abchris#8522
I guess it is possible for the last couple of blocks only, when the chain is forked. I assume the node would only return blocks from the main chain for older blocks as a fork becomes virtually impossible.

{Reactions}
üëç 

[01/15/2022 7:04 PM] kii#8888
So it basically means that the script did not pass then?


[01/15/2022 7:05 PM] kii#8888
Aka condition not met?


[01/15/2022 7:11 PM] Cheese Enthusiast#0548
Yeah, script failed to evaluate so automatically reduced to false and did not run. It seems like the method call you're doing is Coll.apply which indicates to me that you have an index out of bounds exception.


[01/15/2022 7:13 PM] Cheese Enthusiast#0548
One thing I do wish is for better error messages when a script crashes. Would help a lot in testing. One thing you can do though is run the debugger in whatever IDE you use and set a breakpoint right before the error is called. With this, you can go through each method in the stackframe piece by piece and figure out where your script crashed. Not ideal, but seems like the best way to debug such errors for right now.


[01/15/2022 7:19 PM] kii#8888
Yeah. I do believe that it will get better and better. That‚Äôs so exciting! We‚Äôre still early! :p


[01/16/2022 6:17 AM] kii#8888
Are there ways to find out which line of the ergoscript is causing it to fail when the script is reduced to false?


[01/16/2022 6:24 AM] Cheese Enthusiast#0548
Yeah, that's what I was talking about earlier. No real way to tell as far as I'm aware. The best thing you can do is setup the debugger and trace your steps back through the stacktrace.


[01/16/2022 6:25 AM] Cheese Enthusiast#0548
If you wanna send the error message I can try and figure out the issue, but again the messages aren't too descriptive unfortunately.


[01/16/2022 6:25 AM] Krasavice Blasen#4574
Or the more primitive way of removing dubious parts of the script


[01/16/2022 6:25 AM] kii#8888
I'm comparing the boxes and the script and I'm scratching my head like. How can this fail? hahaha


[01/16/2022 6:26 AM] kii#8888
This is the script. I'm trying to refund it. But am receiving that error:
  lazy val createSingleLenderLendBoxProxyScript: String =
    s"""{
       | // the amount of boxes as outputs, else return
       | if (OUTPUTS.size > 2) {
       |  val createLendConditions = {
       |    allOf(Coll(
       |      OUTPUTS(0).tokens(0)._1 == serviceNFT,
       |      OUTPUTS(1).tokens(0)._1 == lendToken,
       |      OUTPUTS(1).R4[Coll[Long]].get(0) == goal,
       |      OUTPUTS(1).R4[Coll[Long]].get(1) == deadlineHeight,
       |      OUTPUTS(1).R4[Coll[Long]].get(2) == interestRate,
       |      OUTPUTS(1).R4[Coll[Long]].get(3) == repaymentHeightLength,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(0) == projectName,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(1) == description,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(2) == borrowerPk
       |    ))
       |  }
       |
       |  sigmaProp(createLendConditions)
       | } else {
       |  val returnCreateLendFee = {
       |    allOf(Coll(
       |      OUTPUTS(0).value >= (INPUTS(0).value - minFee),
       |      OUTPUTS(0).propositionBytes == borrowerPk
       |    ))
       |  }
       |
       |  sigmaProp(returnCreateLendFee)
       | }
       |}
       |""".stripMargin


[01/16/2022 6:26 AM] Cheese Enthusiast#0548
Ah yeah that's the worst. Then you realize it's a dumb mistake that you spent way too long trying to debug üò≠


[01/16/2022 6:27 AM] kii#8888
I am waiting till i get to that part. Ah shit, I forgot an equals sign hahaha


[01/16/2022 6:27 AM] kii#8888
I don't even know which box is failing üò¢


[01/16/2022 6:28 AM] Cheese Enthusiast#0548
Ah, you're using .get(0)


[01/16/2022 6:28 AM] kii#8888
whattttttttttt


[01/16/2022 6:28 AM] Cheese Enthusiast#0548
Try just putting the parentheses there like this OUTPUTS(1).R4[Coll[Long]](0)


[01/16/2022 6:28 AM] Cheese Enthusiast#0548
Ah wait


[01/16/2022 6:28 AM] Cheese Enthusiast#0548
Im stupid


[01/16/2022 6:28 AM] kii#8888
does get not work?


[01/16/2022 6:28 AM] kii#8888
aint that the same


[01/16/2022 6:28 AM] kii#8888
lol


[01/16/2022 6:28 AM] Krasavice Blasen#4574
Besides, isnt the refund tx the one failing?


[01/16/2022 6:29 AM] kii#8888
both are failing. With different reasons.


[01/16/2022 6:29 AM] Krasavice Blasen#4574
ahhh ok


[01/16/2022 6:29 AM] Cheese Enthusiast#0548
Whats the error message its sending?


[01/16/2022 6:29 AM] kii#8888
The refundTx is failing with an error, creation is failing with reducing to false.


[01/16/2022 6:30 AM] kii#8888
Exception in thread "main" scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s2607 -> MethodCall(s2606, scalan.Base$Ref special.collection.Colls$Coll.apply(scalan.Base$Ref), [s39], true))


[01/16/2022 6:30 AM] Cheese Enthusiast#0548
Okay so for Coll.apply, that usually means an index out of bounds exception somewhere


[01/16/2022 6:30 AM] Cheese Enthusiast#0548
Maybe its the tokens?


[01/16/2022 6:31 AM] kii#8888
If its going into the refund else brace.


[01/16/2022 6:31 AM] Krasavice Blasen#4574
that error occurs when he issues a refund which output size 2 so only the refund block will run which looks fine?


[01/16/2022 6:31 AM] kii#8888
yeah, utterly confused


[01/16/2022 6:32 AM] Cheese Enthusiast#0548
Okay so I've actually had issues with this. I think if you use val statements at certain levels of the script, it will try to generate the val statements even if they're not in the part of the if statement that evaluates to true


[01/16/2022 6:33 AM] kii#8888
oh really?


[01/16/2022 6:33 AM] kii#8888
that would make sense


[01/16/2022 6:34 AM] Cheese Enthusiast#0548
```scala
 s"""{
       | // the amount of boxes as outputs, else return
       | val lendingConditions = if (OUTPUTS.size > 2) {
       |    allOf(Coll(
       |      OUTPUTS(0).tokens(0)._1 == serviceNFT,
       |      OUTPUTS(1).tokens(0)._1 == lendToken,
       |      OUTPUTS(1).R4[Coll[Long]].get(0) == goal,
       |      OUTPUTS(1).R4[Coll[Long]].get(1) == deadlineHeight,
       |      OUTPUTS(1).R4[Coll[Long]].get(2) == interestRate,
       |      OUTPUTS(1).R4[Coll[Long]].get(3) == repaymentHeightLength,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(0) == projectName,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(1) == description,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(2) == borrowerPk
       |    ))
       |  } else {
       |    allOf(Coll(
       |      OUTPUTS(0).value >= (INPUTS(0).value - minFee),
       |      OUTPUTS(0).propositionBytes == borrowerPk
       |    ))
       |  }
       |
       |  sigmaProp(lendingConditions)
       | }
       |}
       |""".stripMargin
```


[01/16/2022 6:34 AM] Cheese Enthusiast#0548
Can you try that out and see if it works?


[01/16/2022 6:35 AM] Cheese Enthusiast#0548
Didn't check the curly braces too closely, so sorry if that messed anything up lol


[01/16/2022 6:35 AM] kii#8888
ooo


[01/16/2022 6:35 AM] kii#8888
let me try that


[01/16/2022 6:36 AM] kii#8888
I'm excited for it to work. if it works haha


[01/16/2022 6:37 AM] Cheese Enthusiast#0548
Yeah but I've had issues in the past where it tries to generate the val statements anyway. I think it has to do with being at the root level of the script, where the sigmaProp is supposed to be returned.


[01/16/2022 6:38 AM] kii#8888
Oh nooo.. If that's the case, I'm afraid I've to recreate a service box üò¶


[01/16/2022 6:38 AM] kii#8888
I still love scala ‚ù§Ô∏è


[01/16/2022 6:39 AM] Cheese Enthusiast#0548
Lol yeah I had to restructure a huge ass script once I figured it out. Now I just try and keep everything in separate val statements and then call them at the end, seems to work a little better.


[01/16/2022 6:40 AM] kii#8888
so you structure it like this?


[01/16/2022 6:41 AM] Cheese Enthusiast#0548
Yeah essentially if I have an if branch, I just set the val equal to the if statement. Since it usually returns a boolean, I just call sigmaProp on the val and it works.


[01/16/2022 6:42 AM] kii#8888
dum dum dum


[01/16/2022 6:42 AM] kii#8888
Exception in thread "main" scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s2580 -> MethodCall(s2579, scalan.Base$Ref special.collection.Colls$Coll.apply(scalan.Base$Ref), [s39], true))


[01/16/2022 6:42 AM] kii#8888
same shit


[01/16/2022 6:44 AM] Cheese Enthusiast#0548
Hmm must be some other issue then. It definitely seems to be an index out of bounds exception, just not sure where it's happening.


[01/16/2022 6:44 AM] kii#8888
how do we know that coll.apply is an index out of bounds exception


[01/16/2022 6:45 AM] kii#8888
it says colls$coll.apply. Does that mean its in the Coll[Coll[Byte]]?


[01/16/2022 6:45 AM] Cheese Enthusiast#0548
Coll.apply just means calling an elem in the collection by index. It's the longer form of doing Coll(0) or Coll(1) etc.


[01/16/2022 6:46 AM] kii#8888
if its going into the first if statement during refund then there's definitely an index out of bounds lol


[01/16/2022 6:46 AM] Cheese Enthusiast#0548
I tend to have this issue with tokens the most, so I'm leaning towards that being the issue. Not really sure though, could theoretically be any of the collections. What you could do is add some if statement checks to ensure that the size of the tokens register is greater than 0 first.


[01/16/2022 6:47 AM] kii#8888
I'm gonna try something crafty. Switching up the if statements. Putting the refund up top


[01/16/2022 6:48 AM] kii#8888
good thing 0.003 ergs is only 12 cents hahah


[01/16/2022 6:49 AM] Cheese Enthusiast#0548
```scala
 s"""{
       | // the amount of boxes as outputs, else return
       | val lendingConditions = if (OUTPUTS.size > 2) {
       |   if(OUTPUTS(0).tokens.size > 0 && OUTPUTS(1).tokens.size > 0){
       |      allOf(Coll(
       |        OUTPUTS(0).tokens(0)._1 == serviceNFT,
       |        OUTPUTS(1).tokens(0)._1 == lendToken,
       |        OUTPUTS(1).R4[Coll[Long]].get(0) == goal,
       |        OUTPUTS(1).R4[Coll[Long]].get(1) == deadlineHeight,
       |        OUTPUTS(1).R4[Coll[Long]].get(2) == interestRate,
       |        OUTPUTS(1).R4[Coll[Long]].get(3) == repaymentHeightLength,
       |        OUTPUTS(1).R5[Coll[Coll[Byte]]].get(0) == projectName,
       |        OUTPUTS(1).R5[Coll[Coll[Byte]]].get(1) == description,
       |        OUTPUTS(1).R5[Coll[Coll[Byte]]].get(2) == borrowerPk
       |      ))
       |   }else{
       |      false
       |   }
       |  } else {
       |    allOf(Coll(
       |      OUTPUTS(0).value >= (INPUTS(0).value - minFee),
       |      OUTPUTS(0).propositionBytes == borrowerPk
       |    ))
       |  }
       |
       |  sigmaProp(lendingConditions)
       | }
       |}
       |""".stripMargin
```


[01/16/2022 6:49 AM] kii#8888
```
 lazy val createSingleLenderLendBoxProxyScript: String =
    s"""{
       | // the amount of boxes as outputs, else return
       | val lendingConditions = if (OUTPUTS.size == 2) {
       |    allOf(Coll(
       |      OUTPUTS(0).value >= (INPUTS(0).value - minFee),
       |      OUTPUTS(0).propositionBytes == borrowerPk
       |    ))
       | } else {
       |    allOf(Coll(
       |      OUTPUTS(0).tokens(0)._1 == serviceNFT,
       |      OUTPUTS(1).tokens(0)._1 == lendToken,
       |      OUTPUTS(1).R4[Coll[Long]].get(0) == goal,
       |      OUTPUTS(1).R4[Coll[Long]].get(1) == deadlineHeight,
       |      OUTPUTS(1).R4[Coll[Long]].get(2) == interestRate,
       |      OUTPUTS(1).R4[Coll[Long]].get(3) == repaymentHeightLength,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(0) == projectName,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(1) == description,
       |      OUTPUTS(1).R5[Coll[Coll[Byte]]].get(2) == borrowerPk
       |    ))
       | }
       |
       | sigmaProp(lendingConditions)
       |}
       |""".stripMargin
```


[01/16/2022 6:49 AM] Cheese Enthusiast#0548
That could work honestly, sometimes it's the small stuff that can make the difference


[01/16/2022 6:49 AM] kii#8888
this what I'm doing instead


[01/16/2022 6:50 AM] kii#8888
if that doesnt work. I'm trying yours


[01/16/2022 6:51 AM] Cheese Enthusiast#0548
Cool try it out, hopefully it works üôÇ


[01/16/2022 6:53 AM] kii#8888
failed with same error üò¶ trying yours now.


[01/16/2022 7:05 AM] Cheese Enthusiast#0548
Did anything end up working?


[01/16/2022 7:07 AM] kii#8888
I just tried yours. and I'm getting the same error üò¶


[01/16/2022 7:07 AM] kii#8888
have you wrote a working refund script before?


[01/16/2022 7:08 AM] kii#8888
would you mind sharing as a reference?


[01/16/2022 7:13 AM] Cheese Enthusiast#0548
Yeah at this point its time to pull out the debugger and get knee deep in the code. Haven't made a refund script specifically, but I've had similar issues to the ones you're having right now. Best thing you can do is ensure that everything you're calling is actually defined. Other than that, I'd get out the debugger and start tracing your steps back.


[01/16/2022 7:14 AM] kii#8888
Yeah i guess we'll have to do that


[01/16/2022 7:14 AM] Cheese Enthusiast#0548
I think I was having the same issues with the metadata box in the smartpool contracts. All I ended up doing was ensuring everything was defined first and then checking for it afterwards. A little tedious, but seemed to ensure that I either got a script reduced to false or true, rather than a weird error.


[01/16/2022 7:16 AM] Cheese Enthusiast#0548
For example, if its still going into those if branches then you're gonna have a lot of things to check besides the tokens.


[01/16/2022 7:16 AM] Cheese Enthusiast#0548
Since you're calling coll.apply on all of those boolean values


[01/16/2022 7:16 AM] Krasavice Blasen#4574
I would check the refund branch in isolation first


[01/16/2022 7:17 AM] Cheese Enthusiast#0548
Yeah that's a great idea too. Would help a lot in isolating where the issue is coming from.


[01/16/2022 7:17 AM] Cheese Enthusiast#0548
If it seems to work fine separately, then I guess you know for a fact that the issue is coming from the if statement


[01/16/2022 7:24 AM] kii#8888
I'm gonna try to isolate the refund branch first


[01/16/2022 7:30 AM] kii#8888
seems like refund in isolation works


[01/16/2022 7:33 AM] Cheese Enthusiast#0548
Seems like an if statement problem then


[01/16/2022 7:33 AM] Cheese Enthusiast#0548
Something to do with one of those collections being called without having anything in them


[01/16/2022 7:34 AM] Cheese Enthusiast#0548
Maybe check all the collections sizes along with making sure that each register is defined


[01/16/2022 7:34 AM] kii#8888
```
    s"""{
       | // the amount of boxes as outputs, else return
       | val lendingConditions = if (OUTPUTS.size == 2) {
       |    allOf(Coll(
       |      OUTPUTS(0).value >= (INPUTS(0).value - minFee),
       |      OUTPUTS(0).propositionBytes == borrowerPk
       |    ))
       | }
       |
       | sigmaProp(lendingConditions)
       |}
       |""".stripMargin
```


[01/16/2022 7:34 AM] kii#8888
I did this. So it seems like its going into the second evaluation even though i don't want it to


[01/16/2022 7:48 AM] kii#8888
i wonder if it could be my appkit version


[01/16/2022 7:55 AM] kii#8888
Does this error ring a bell? 
```scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s4104 -> ThunkForce(s4077))```


[01/16/2022 8:15 AM] Cheese Enthusiast#0548
I've run into it before. Unfortunately have no clue what it means other than I did something wrong.


[01/16/2022 8:16 AM] Cheese Enthusiast#0548
I doubt its appkit, since tx signing and costing is a network wide thing, would be weird to have an appkit specific error related to it.


[01/16/2022 8:17 AM] kii#8888
So I've been doing the eliminating process. It's the r5 part that is causing the issue


[01/16/2022 8:55 AM] kii#8888
The problem should be that Coll[Coll[Byte]] would have a different way of evaluating it, that I'm not familiar of. In Ergo Raffle, their script eliminates that check too.


[01/16/2022 12:07 PM] morphic#4133
The `if` statement should always have two branches


[01/16/2022 6:10 PM] kii#8888
That was an isolation test


[01/16/2022 6:30 PM] kii#8888
Hey guys. I‚Äôm debugging into the tree to figure out which part of the script is causing issue and failing.

Any helpful tips on that?


[01/16/2022 7:02 PM] Ch1n3du#7350
I'm not sure what's wrong I just made a new node on the testnet


[01/16/2022 7:02 PM] Ch1n3du#7350


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/932349174425485342/pic1.png
https://cdn.discordapp.com/attachments/840313005064585246/932349174651957338/pic2.png


[01/16/2022 9:36 PM] kushti#0978
no issues, but when you get 0 balance ?


[01/16/2022 9:51 PM] kushti#0978
yes, proxy service is used to support wallets not supporting registers


[01/16/2022 10:20 PM] kushti#0978
the stacktrace is okay, just says that keystore file does not exist


[01/16/2022 10:21 PM] kushti#0978
yes, you need for no peers and offlineGeneration = true


[01/17/2022 12:19 AM] jaun#5574
Trying to use the wasm library w/ react - but as Im trying to compile i get this error from the node module - `Could not find a declaration file for module './ergo_lib_wasm_bg.js'. `


[01/17/2022 1:45 AM] JOFLITO#9983
In the example transaction from the node wallet 

{
  "requests": [
    {
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
      "value": 1,
      "assets": [
        {
          "tokenId": "4ab9da11fc216660e974842cc3b7705e62ebb9e0bf5ff78e53f9cd40abadd117",
          "amount": 1000
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    },
    {
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
      "ergValue": "Unknown Type: int64",
      "amount": 1000000,
      "name": "TST",
      "description": "Test token",
      "decimals": 8,
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    }
  ],
  "fee": 1000000,
  "inputsRaw": [
    "string"
  ],
  "dataInputsRaw": [
    "string"
  ]
}


[01/17/2022 1:46 AM] JOFLITO#9983
the "value":1, means 1 nano erg is being sent?


[01/17/2022 2:40 AM] Krasavice Blasen#4574
yes


[01/17/2022 7:20 AM] greenhat#6562
Unfortunately, not much besides commenting out parts of the script to pinpoint the failing expression.


[01/17/2022 7:55 AM] soysor#6001
Are there any known issues with building ergo node with graalvm native-image?


[01/17/2022 7:57 AM] soysor#6001
Or has anyone tried it? What was the outcome?


[01/17/2022 8:52 AM] Pgr456#1839
I tried it. When building the native image from the ready build jar I had issues integrating the resource files (configs etc.) and when building from source with sbt-native-packager I got an dependency issue with an EOL dependency (mongodb-casbah)

{Reactions}
üëç 

[01/17/2022 9:01 AM] Pgr456#1839
@soysor are you working on it too? This was my build command if it helps you:
native-image -jar ergo-${ERGO_VERSION}.jar --allow-incomplete-classpath -R:MaxHeapSize=3G -H:IncludeResources='.*/resources($|/.*)'


[01/17/2022 9:09 AM] soysor#6001
Yeah I'm going to give it a shot

Thanks a lot!


[01/17/2022 9:10 AM] Pgr456#1839
Nice let me know if you get it running üôÇ

{Reactions}
üëç 

[01/17/2022 1:08 PM] kushti#0978
Yes


[01/17/2022 2:55 PM] ilya | dappstep#9261
Hi there!
Is it possible to see what wallet has signed the transaction, given a signed transaction json? Maybe there is some library that can be used in nodejs serverless app‚Ä¶


[01/17/2022 5:06 PM] apexpool#3878
The testnet faucet is not working üò¶ Error 503, `No server is available to handle this request.`


[01/17/2022 5:07 PM] zargarzadehmoein#2928
which url ?


[01/17/2022 5:08 PM] zargarzadehmoein#2928
new faucet is here 
https://testnet.ergofaucet.org/

{Embed}
https://testnet.ergofaucet.org/
Ergo Faucet
Ergo Faucet


[01/17/2022 5:08 PM] apexpool#3878
https://faucet.ergopool.io/payment/address/xxxx (found on Github)


[01/17/2022 5:09 PM] zargarzadehmoein#2928
Can you send github url ?


[01/17/2022 5:09 PM] apexpool#3878
https://github.com/ergoplatform/ergo/wiki/Ergo-Testnet

{Embed}
https://github.com/ergoplatform/ergo/wiki/Ergo-Testnet
Ergo Testnet ¬∑ ergoplatform/ergo Wiki
Ergo protocol description & reference client implementation - Ergo Testnet ¬∑ ergoplatform/ergo Wiki
https://images-ext-1.discordapp.net/external/x3qP3avfojdZEHCK6Z3R10c031ANKGTqhZR7cGYBPzs/https/opengraph.githubassets.com/f70e082eaba83f49eedc58e74f84a18a4b05b3f8a0a31178f13a2db4032d4a11/ergoplatform/ergo


[01/17/2022 5:09 PM] zargarzadehmoein#2928
@kushti 
please update wiki


[01/17/2022 5:10 PM] apexpool#3878
thanks, the new faucet worked (at least it displayed it). my node is syncing, so I cannot confirm yet.


[01/17/2022 7:00 PM] ilya | dappstep#9261
In continue, to my previous question. Here is an idea on how signed transactions can be verified against addresses pub key hash.
Now the question is how can it be achieved with tools available on Ergo. preferable some javascript based. 
https://cardano.stackexchange.com/questions/4365/using-cardano-for-authentication-signin
*"Theoretically yes, you can ask wallets like Nami to sign an arbitrary piece of information for you and verify that signature against the addresses pub key hash. Since this transaction would not have been submitted to the blockchain, no fees should be involved. Note, I haven't tried this myself."*

Now I understand that signing data is not possible in Ergo at the moment. But I can work with signing a regular transaction. Now, given a json of signed transaction and an address. How can I verify that this transaction was signed by the owner of this address?

Common guys need your best brains here.

{Embed}
https://cardano.stackexchange.com/questions/4365/using-cardano-for-authentication-signin
Using Cardano for authentication/signin
I am wondering: Is there another way to authenticate a user (wallet) on Cardano instead of sending ADA?
Obviously a beginner question, but I am just starting to wrap my head around all of this :)
https://images-ext-1.discordapp.net/external/HKgfqo59WdK2roxdfMA2hXDvAX8wSwroXZGD6ZBKKrk/%3Fv%3Ddf184df4e87b/https/cdn.sstatic.net/Sites/cardano/Img/apple-touch-icon%402.png

{Reactions}
‚òùÔ∏è 

[01/17/2022 7:25 PM] Marty#4039
I think this is important work we'll need to do for a lot of our dapps as well


[01/17/2022 7:26 PM] Marty#4039
Mr Stahlfelge is asking for collaborators as he designs ergoPay and the dapp connectors for android and iOS. This implementation could be part of the conversation


[01/17/2022 8:19 PM] kii#8888
Are there future development towards making it easier? Would be interested in helping that out once we get ErgoLend out.


[01/17/2022 8:33 PM] MrStahlfelge#0042
Yes but you won't be able to see what wallet has signed either. Tbh I don't understand why that's important.


[01/17/2022 8:34 PM] Marty#4039
As we develop things like decentralized ID, it will be helpful. Some dapps would like to tie user wallets to their volunteered identities. In DAOs that can be important, social apps, etc


[01/17/2022 8:38 PM] MrStahlfelge#0042
I don't know the exact application. With ErgoPay, you build the tx on your side and therefore know its id and outboxes. So you can exactly determine what tx belongs to whom of your users. Is that what you need?


[01/17/2022 8:38 PM] greenhat#6562
That'd be awesome! It causes some frustration and bad UX. I cannot remember any concrete plans though. I'm thinking something along the lines of debug prints. Maybe @morphic have one?


[01/17/2022 8:41 PM] morphic#4133
Maybe I have one üôÇ What do you mean exactly?


[01/17/2022 8:45 PM] greenhat#6562
debugging of a failing script - https://discord.com/channels/668903786361651200/840313005064585246/932340994433749042


[01/17/2022 8:58 PM] ilya | dappstep#9261
What you don't understand? The use case of verifying that the data was provided by the wallet owner and not someone else?


[01/17/2022 9:02 PM] MrStahlfelge#0042
yes, I don't understand the use case. If you have boxes that are secured with an OR phrase so multiple keys can sign them - why exactly is it needed to know who was the one signing?


[01/17/2022 9:04 PM] Marty#4039
One example I can think of would be in a DAO if you are tracking political activity


[01/17/2022 9:04 PM] Marty#4039
For example, a person could be generating community points for being more engaged in the process


[01/17/2022 9:06 PM] Marty#4039
Another example in the case of DID would be tracking if somebody logged in, based on their blockchain identity


[01/17/2022 9:06 PM] Marty#4039
rather than a user/password


[01/17/2022 9:07 PM] ilya | dappstep#9261
This


[01/17/2022 9:07 PM] Marty#4039
but its fair to say I don't understand the entire process and you might already be handling these cases


[01/17/2022 9:07 PM] MrStahlfelge#0042
I think the latter can be done with message signing?


[01/17/2022 9:08 PM] Marty#4039
Ilya seems to be discussing an off-chain version that doesn't require an on-chain transaction to sign


[01/17/2022 9:09 PM] ilya | dappstep#9261
A simple use case is I want to provide access to information/API to a wallet owner. Let's say I have an application that only gives access to the NFT owner. How will the backend know that the client requesting the access is an owner of this wallet and not just someone who has a walletId


[01/17/2022 9:09 PM] MrStahlfelge#0042
I doubt it! like I've said, the point about Ergo Pay is that you construct the transaction on your dapp backend and therefore know exactly what the transaction looks like. you determine the exact inboxes and outboxes.


[01/17/2022 9:10 PM] MrStahlfelge#0042
the one owning the NFT is the one that can sign a transaction spending the box. there's no need to extract the key that was used to sign.


[01/17/2022 9:12 PM] ilya | dappstep#9261
Ok, now I have some progress here. But what if the user doesn't want to send the NFT anywhere? So it can be just any box with erg from this wallet?


[01/17/2022 9:19 PM] MrStahlfelge#0042
could be any box, all boxes on the same address share the same contract securing them. you can check the validity of the signature of a tx without sending it to the network. That would mean that you would need to get the signed tx from the user. That's something we did not think of when drafting ErgoPay - at the moment, it is intended that the signing app sends directly to a node and the dapp should observe the blockchain for the tx to come.
However, I am not sure if we aren't just talking about message signing. From my understanding, that's what message signing is for, but someone knowing more about how it works on Erg should step in here.


[01/17/2022 9:22 PM] MrStahlfelge#0042
but for me it looks like it https://github.com/ScorexFoundation/sigmastate-interpreter/pull/685

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/pull/685
signMessage / verifyMessage for signing and verifying arbitrary mes...
In this PR discussed for a long time idea to use Generalized Schorr Signatures (so non-interactive version of Generalized Schnorr Protocols) has been implemented.
With this PR being merged, a prove...
https://images-ext-1.discordapp.net/external/4YlLi5yrbEsvzIfZ2aspdd54uToHFORuS0eW3GPDxx4/https/opengraph.githubassets.com/02bd21752278c8702f762355071f5835e1d919a912c26f053d69a7374592c073/ScorexFoundation/sigmastate-interpreter/pull/685


[01/17/2022 9:30 PM] MrStahlfelge#0042
@morphic can you say if the signMessage/verifyMessage methods can be used to sign a message for an ErgoContract? I am not sure what the difference between an ErgoContract and `sigmaTree: SigmaBoolean`  is and if one can be derived from the other


[01/17/2022 9:39 PM] ilya | dappstep#9261
Yes, message signing would help, but we don't have it at the moment (only at a low level according to Kushti). I'm not going to use the low level, because I'm an application developer and prefer to use abstracted layers, that's why I looking for available alternatives. Signing transactions can be a way to go, but in that case, a client has to trust the backend that he is not going to submit this signed transaction. With a small amount of erg in that transaction, it sounds like not a big risk. 

Anyway... I'm happy this conversation moved from the dead point thanks to @Marty . 
This is my feedback on this chat so far: It's super hard to get into development in the Ergo ecosystem from outside if you don't have a blockchain/ cryptography background. I'm not sure how other people do it. There is a lack of information to google on ergo and sometimes it's even hard to formulate the question so it will sound correct and use the correct terms.
Sometimes, instead of ignoring the question or saying "I don't know", just get involved in the conversation and ask what the person is trying to solve, what use case he is working on. It may make a huge difference.


[01/17/2022 9:47 PM] MrStahlfelge#0042
Message signing is in appkit, that's not very low level. A wallet can sign a message and you can verify it with appkit. The open question for me is if it can be used for Ergo trees (so all contracts a box can be secured with) or if we are limited to pk's (which helps a lot as well because most people will have their nft stored on a simple p2pk address)

My feedback is: don't ask a question how to solve a very specialized problem when this problem you try to solve is actually just one way you see to solve a more general problem üòâ


[01/17/2022 9:49 PM] MrStahlfelge#0042
Kushti probably refered with low level to the fact that you can't send a message on the blockchain


[01/17/2022 9:53 PM] ilya | dappstep#9261
How an existing wallet (yoroi dapp connector) can sign a message? Do I need to run a node with appkit?


[01/17/2022 9:55 PM] ilya | dappstep#9261
On your feedback, it's not the first time I'm asking questions in chat. Tried both: more specialized, more general. Didn't help. Someone on the other side has to take a step in your direction to have a conversation going


[01/17/2022 9:56 PM] MrStahlfelge#0042
Don't know if the dApp connector can do it, but it is definitely a use case that we should cover with ergo pay. Let's see what morphic answers to my question when he's back active

{Reactions}
üëç 

[01/17/2022 10:32 PM] morphic#4133
Think of SigmaBoolean as a generalized public key, which can contain many simple public keys connected with AND, OR, K-out-of-N logical operations. Signature generation (which is called "proof generation" or "proving") will require knowledge of some of the corresponding secrets (not necessarily all of them). 
The methods signMessage/verifyMessage from appkit can be applied to any SigmaBoolean and any message (byte array).
Once the signature is generated (using the secret keys) then it can be verified against the same message without knowing the secrete keys. 
SigmaBoolean is the result of evaluating ErgoContract, in this sense, yes, it is derivable from it (but I prefer to think in terms of evaluation rather than derivation). 
This signMessage/verifyMessage methods are not available from ErgoScript (or ErgoTree), in other words, there is no such operation in blockchain contracts. So it is not possible to generate signature and obtain it as Coll[Byte] in a contract. Likewise, having the signature and the message it is not possible to verify it in the contract. This is just not implemented in the ErgoTree format, but can be easily added via soft-fork, so not a fundamental limitation.


[01/17/2022 10:38 PM] MrStahlfelge#0042
that would mean we can easily add such a method to ergopay.


[01/17/2022 10:50 PM] morphic#4133
One way to do contracts debugging is using org.platform.dsl package in sigma-state library. 
Here is an example https://github.com/ScorexFoundation/sigmastate-interpreter/blob/eb1efe0e726203b2ebf8688f3d0f58557de386c5/sigmastate/src/test/scala/sigmastate/utxo/examples/AssetsAtomicExchange.scala#L28
This is suitable for Scala developers and was done before Appkit (however it is a bit heavy-weight).
Note, the buyerProp declaration has both Scala code and string literal which are mutual clones. This is by design, so one can write and debug Scala code and then once it is working, copy and paste it into string text.
There are many disclaimers though, like for example  the actual blockchain testing is still necessary.

{Reactions}
üôè 

[01/18/2022 1:23 AM] JOFLITO#9983
thanks sir


[01/18/2022 1:54 AM] Marty#4039
I don't know enough about what an ergotree functionality will provide above the level you're already implementing. Does that mean the dapp connector you're building can only sign messages for p2pk but not p2s transactions?


[01/18/2022 1:55 AM] Marty#4039
You don't need to run a node when using yoroi, yoroi software interact's with their own node(s)


[01/18/2022 1:57 AM] Marty#4039
@Luivatra here is an interesting thread to follow as we build the functionality we're envisioning


[01/18/2022 3:44 AM] MrStahlfelge#0042
It can sign p2s transactions. (Signing messages and signing transactions is a different functionality)


[01/18/2022 6:25 AM] Luivatra#9076
Thanks! @ilya | dappstep Now I get what you were asking the other day! I completely jumped to thinking on-chain instead of off-chain. Hadn't thought about this possibility, very interesting.


[01/18/2022 6:27 AM] kii#8888
I'll have to check this out.

@greenhat, do keep me up to date if we were to look into that. I'm putting my focus on finishing ErgoLend right now and have came up with a method of testing my scripts (basically running it transaction by transaction, and building it block by block, seems like a good way to ensure everything in the script is working for now) but after that, I'd be interested into digging deeper and understanding how to go through the ergoTree to find out which lines the transactions fail.

{Reactions}
üëç (2) 

[01/18/2022 7:48 AM] kii#8888
I wrote a script that will throw false under a certain condition. When i ran that condition, it did not throw an error and say "script reduce to false" as I expected. 

It logged the entire transaction with input and outputs annd txId. However, when I checked mempool, it says that it does not exists:

```
{
  "id": "78097b555f9b68483ca71fd78e8dcd9cc3a7ce92e5ecb6e622d8152e8cf6aeef",
  "inputs": [
    {
....
```

https://explorer.ergoplatform.com/en/transactions/78097b555f9b68483ca71fd78e8dcd9cc3a7ce92e5ecb6e622d8152e8cf6aeef

Does this mean it failed?


[01/18/2022 7:59 AM] Cheese Enthusiast#0548
I believe some scripts can fail weirdly depending on if it uses certain context variables. Certain context variables may not be available at the time of sending the tx, but become available later on when it is attempted to be included. Mempool probably drops txs that fail like this. What were the conditions used to fail the script?


[01/18/2022 10:19 AM] kushti#0978
Transaction has many inputs, and they can be signed by different parties . You mean find a pubkey  associated with a transaction input ?


[01/18/2022 10:24 AM] ilya | dappstep#9261
In more general. I want to be able, on backend, to verify that client is the owner of the wallet. I think it can be done if i get a post request with a signed transaction + walletId, and i say this transaction was signed by this public key and it belongs to this wallet id. 
I‚Äôm not strong in what‚Äôs the connection between public key, address, walletid, so i may mismatch some terms.


[01/18/2022 10:37 AM] MrStahlfelge#0042
Until when you'll need that btw


[01/18/2022 10:38 AM] ilya | dappstep#9261
Algorithm:
1. Client request an access to an API (jwt token) that only can be accessed by wallets that are holding a specific NFT

2. In order to get jwt token he signs a transaction + provide wallet address, and post it to /signin endpoint

3. Backend, do some magic to verify that the the signed transaction was indeed signed by a public key associated with a provided address, and if true, checks if that wallet holds an NFT

4. if true it response with jwt token so the user can use the api (old school centralized node js rest api)

{Reactions}
üî• 

[01/18/2022 10:38 AM] ilya | dappstep#9261
No deadline, but while it‚Äôs not implemented in the ideal way, i‚Äôd like to find some walk around


[01/18/2022 10:39 AM] ilya | dappstep#9261
While*


[01/18/2022 10:54 AM] ilya | dappstep#9261
@kushti @MrStahlfelge updated the  ‚Äúalgorithm‚Äù


[01/18/2022 11:56 AM] morphic#4133
The owner of a wallet is one who knows the secrets corresponding to the wallet's public keys. So, if the wallet = public key, then the client can sign some message and send both message and signature to the backend. The backend can check that signature agains the message. All this can be done in Appkit using the above mentioned signMessage/verifyMessage methods


[01/18/2022 11:59 AM] MrStahlfelge#0042
We could do a backend/wallet app request response scheme similar to ergopay. I'll draft an EIP for ergoauth

{Reactions}
üëç (5) 

[01/18/2022 2:02 PM] morphic#4133
I think it make sense to generalise to SigmaBoolean as a public key, so that all the necessary secrets should be proved to get an authToken


[01/18/2022 2:03 PM] morphic#4133
How the proving is done is completely orthogonal to the authentication verification on the backend


[01/18/2022 2:05 PM] MrStahlfelge#0042
I don't know what needs to be done for this


[01/18/2022 2:06 PM] morphic#4133
Nothing special, just think of SigmaBoolean whenever you need a public key


[01/18/2022 2:09 PM] ilya | dappstep#9261
Would be great to have the backend part as a package/sdk ready-to-use for most popular web langs (node, python)


[01/18/2022 2:10 PM] morphic#4133
Sigma protocols is the unique and distinctive feature of Ergo. So, we need to get our head around it and support in the core infrastructure


[01/18/2022 2:56 PM] Pgr456#1839
I have a question about the explorer-backend: What means for example the value "040300" or "040000" in votes column of the "node_headers" table? How are these value to be interpreted?


[01/18/2022 3:35 PM] MrStahlfelge#0042
I do my examples in Java/Spring. Hope others will also do examples using Sigma Rust.


[01/18/2022 3:38 PM] MrStahlfelge#0042
but what does that mean in practice? I wrapped my head around ErgoTree and know what is going to happen when a tx spending a secured box is signed. I also know private and public keys, signing and verification as it is widely used. I can see the practical use for authenticating but... SigmaBoolean is not widely used and I don't see the benefit in using it for auth, though that is probably because I don't know enough about it.


[01/18/2022 6:05 PM] Marty#4039
@Leif Erickson What do you think about adding this to our list for february?


[01/18/2022 6:06 PM] Marty#4039
A python version


[01/18/2022 6:06 PM] Marty#4039
this is basically a crypto login, tied to a wallet, without needing a username/pass combination

{Reactions}
üëÜ 

[01/18/2022 6:37 PM] morphic#4133
if SigmaBoolean is OR(pkAlice, pkBob, pkCarol, pkDon, ...) then anyone can login, an the backend will not know exactly who logged-in. (because


[01/18/2022 6:37 PM] morphic#4133
of ZK proofs)


[01/18/2022 6:38 PM] morphic#4133
But the backend can be sure that at least one from the list proved knowledge of at least one secret


[01/18/2022 7:23 PM] MrStahlfelge#0042
That's what ergotree is for as well. But for the practical use case, a dApp will mostly authenticate against a pk (because everyone knows the pk due to it being the public address), and some DAOs might know an ergotree due to it being a p2s address. So, I think the address will be the factor to authenticate against. How can I evaluate the address into sigmaboolean?


[01/18/2022 7:50 PM] morphic#4133
p2pk is a special case of Address with ProveDlog (aka public key) encoded directly. 
p2s is a general case of Address for any ErgoTree
This are two extreme cases (one is simple, another is general). 
However, there is a special case of ErgoTree, when ErgoTree contains SigmaPropConstant(sigmaBoolean)
Such ergo trees have special handling during reduction (https://github.com/ScorexFoundation/sigmastate-interpreter/blob/fdca91202da614b69f8c587a43dc95d8dbb4ea19/sigmastate/src/main/scala/sigmastate/interpreter/Interpreter.scala#L254) because no reduction is actually necessary and the underlying SigmaBoolean can be extracted from ErgoTree.
If we create Address for such simple ErgoTree we obtain Pay2Script address. But because we know the tree is special we actually we can call such addresses something like Pay2SigmaProp address (similar to Pay2PublicKey), meaning that public key is generalised to any SigmaProp value (with underlying SigmaBoolean expression).
So the data structure is like this
Pay2SAddress(
script = ErgoTree(
  root = SigmaPropConstant(
    value = CSigmaProp(
      sigmaTree = SigmaBoolean(...)
    )
  )
))
After decoding such an address, one can extract SigmaBoolean and hence extract all public keys etc.


[01/18/2022 8:05 PM] _jd_#3179
Hi all, I'm new to Ergo and I'm looking to build a dApp using nodejs. my question is should I be using AppKit or the [WebAssembly library](https://github.com/ergoplatform/sigma-rust/tree/develop/bindings/ergo-lib-wasm) and why?

{Embed}
https://github.com/ergoplatform/sigma-rust/tree/develop/bindings/ergo-lib-wasm
sigma-rust/bindings/ergo-lib-wasm at develop ¬∑ ergoplatform/sigma-r...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/bindings/ergo-lib-wasm at develop ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/21XSmdcEiDgacDEYKe2dzRD0958pxd79AAtQFH163xg/https/opengraph.githubassets.com/68b7d7150158cada2b43205565af98f402ae6e52c9c6c86a7ec1e73cb6a96c82/ergoplatform/sigma-rust


[01/18/2022 8:35 PM] glasgowm#9381
```To use appkit from JS, you need to run the whole Node.js under GraalVM 
So, if someone for any reason want to do that, then appkit may be a good choice. Otherwise, sigma-rust is the way to go with JS.```

{Reactions}
üëç 

[01/18/2022 8:42 PM] MrStahlfelge#0042
Ah I see. We should add a helper method to appkit to do so. 
What is an example for an ergotree that is not such a SigmaProp address? Is the frozen coin example not a SigmaProp, because it depends on some other things than keys?


[01/18/2022 8:53 PM] abchris#8522
The vote section in the yellow paper might help: <https://github.com/ergoplatform/ergo/blob/master/papers/yellow/voting.tex>
Basically, you have to interpret it as three distinct values. In your first example they would be 4, 3 and 0. Still unsure on the exact interpretation, but from what I get it'd mean a vote for an earlier proposed change of the 4th and 3th protocol parameters (the link above shows what they match to).
We're discussing it in #ergo-watch too.


[01/18/2022 9:35 PM] Leif Erickson#8939
Yes! Esp. if there is other development in this area, I should be able to develop the python version.


[01/18/2022 9:38 PM] Leif Erickson#8939
The AppKit for python is problematic (last I checked) and I have been using the node directly, which has all the functionality I need so far.  So, there may need to be a new endpoint to complete this I. Python, but a rest method would make this very usable by a much wider group anyway.


[01/19/2022 12:17 AM] c8e4d2a#9854
i am implementing sign in with nft for enft.so, it's pretty trivial


[01/19/2022 12:20 AM] c8e4d2a#9854
want to do some final testing before pushing to github, but for the last day or so yoroi(stable/nightly) stopped signing transactions (multiple people confirm this issue, e.g. not being able to bid and mint artworks in the auctionhouse)


[01/19/2022 12:28 AM] c8e4d2a#9854
Here is the outline:
1. get valid nft ids from backend (to respect wallet owner privacy) and check if wallet owns one of them
2. create a transaction that sends this nft to self
3. let user sign this transaction with yoroi
4. verify tx validity in backend (http://localhost:9053/transactions/check) <- you need a running ergo node
5. if tx valid put the nft id into jwt


[01/19/2022 1:21 AM] Marty#4039
Is message signing a way to do this without actually sending a transaction to the blockchain or am I misunderstanding?


[01/19/2022 1:29 AM] c8e4d2a#9854
correct, signing and sending are distinct


[01/19/2022 1:37 AM] c8e4d2a#9854
this can be considered an elegant solution once yoroi fixes displayed total bug (it shows total output and ignores change) üò©


[01/19/2022 1:39 AM] c8e4d2a#9854
who is currently working on yoroi ergo extension?


[01/19/2022 1:45 AM] Marty#4039
Not sure, but there's other wallets being discussed


[01/19/2022 1:45 AM] Marty#4039
aneta is making their own


[01/19/2022 1:45 AM] Marty#4039
mr stahlfeldge is working on ergo pay


[01/19/2022 1:46 AM] Marty#4039
our team is talking about some changes and a standalone node/wallet gui


[01/19/2022 1:46 AM] Marty#4039
so maybe we should all join forces and make like a super wallet for linux/windows/mac/android/ios

{Reactions}
üëç (5) 

[01/19/2022 1:46 AM] Marty#4039
that can include nipopows later


[01/19/2022 1:46 AM] Marty#4039
with atomic swaps built in


[01/19/2022 1:47 AM] Marty#4039
I think we could find some funds to contribute to the effort, and the devs would be interested in collaborating. Everyone needs it


[01/19/2022 2:52 AM] Marty#4039
@kushti please share your thoughts. We could donate some funds and dev time to this idea. A cross-platform wallet that can act as a dapp connector, perform message signing for logins, and provide a light node experience using nipopows when required. Allow users to run an .exe or similar on other platforms if they need a full node with full GUI functionality


[01/19/2022 6:10 AM] kii#8888
```
    val isLendInitiation =
      (spendingServiceBoxLendTokenCount - 1 == outputServiceBoxLendTokenCount) &&
      (spendingServiceBoxRepaymentTokenCount == outputServiceBoxRepaymentTokenCount)

    val isLendReturn =
      (spendingServiceBoxLendTokenCount + 1 == outputServiceBoxLendTokenCount) &&
      (spendingServiceBoxRepaymentTokenCount == outputServiceBoxRepaymentTokenCount)

    if (isLendInitiation) {
      val tokenizedBox = OUTPUTS(1)
      val tokenizedBoxLendToken = tokenizedBox.tokens(0)._1
      val tokenizedBoxLendTokenCount = tokenizedBox.tokens(0)._2

      val isLendInitiationServiceCheck = {
        allOf(Coll(
          serviceCheck,
          tokenizedBoxLendToken == spendingServiceBoxLendToken,
          tokenizedBoxLendTokenCount == 1
       ))
      }

      sigmaProp(isLendInitiationServiceCheck)
    } else if (isLendReturn) {
      sigmaProp(serviceCheck)
    } else {
      sigmaProp(false)
    }
  }
```

Basically anything other than lending tokens getting switch should be false. it passes on my dev, but does not go through to mempool


[01/19/2022 7:47 AM] MGpai#4313
@haileypdll I think some yorai update broke something


[01/19/2022 7:47 AM] MGpai#4313
The tx does not process


[01/19/2022 7:47 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/933266318763917342/unknown.png


[01/19/2022 7:47 AM] MGpai#4313
get stuck on this even though the pw is all set


[01/19/2022 8:23 AM] morphic#4133
You are referring to the second output by OUTPUTS(1), so the transaction should always have it, even if isLendInitiation == false. All branches of `if` are executed in v4.x. This will be fixed in v5.0, and `if` will behave as expected. But now you need to ensure that all the branches can be executed without errors. 
In this specific case, OUTPUTS(1) should be present, and tokenizedBox.tokens(0) should also be present in the transaction.


[01/19/2022 8:45 AM] kii#8888
Thanks for this explanation! It explains a lot. Are there documentation on when v5.0 is coming out and what fixes will be in?


[01/19/2022 8:57 AM] MrStahlfelge#0042
Porting wallet app to desktop is on my roadmap

{Reactions}
üëç üôè üî• kushti_thumbsup 

[01/19/2022 8:58 AM] MrStahlfelge#0042
Yes it is


[01/20/2022 5:27 AM] c8e4d2a#9854


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/933593651408429056/unknown.png


[01/20/2022 5:28 AM] c8e4d2a#9854
Is there a way to get `ergo-lib-wasm-browser` working with vite/rollup? 
https://github.com/c8e4d2a/wasm-fail


[01/20/2022 5:30 AM] c8e4d2a#9854
currently i am forced to use webpack while developing Svelte apps which is a pain, also can something be done to make  `ergo-lib-wasm-browser` so we don't have to load 2MB just to get an Address from Ergotree?


[01/20/2022 6:10 AM] kii#8888
looking at this code:
https://github.com/mhssamadani/ErgoProfitSharingDapp/blob/master/src/main/scala/staking/Scripts.scala

It seems like it doesnt follow the rule that you mentioned. is it because it uses if else?

{Embed}
https://github.com/mhssamadani/ErgoProfitSharingDapp/blob/master/src/main/scala/staking/Scripts.scala
ErgoProfitSharingDapp/Scripts.scala at master ¬∑ mhssamadani/ErgoPro...
Contribute to mhssamadani/ErgoProfitSharingDapp development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/29-qF9rgNW9i9ZXVLu9zGDlcLg7i4ON0yzAMrHca-O4/https/opengraph.githubassets.com/e91e905193bd26386e3fd1400caa1176cb2649d1eb0d6055ffcedfa8d8d39805/mhssamadani/ErgoProfitSharingDapp


[01/20/2022 8:04 AM] greenhat#6562
I don't know but I'll dig into it. Thanks for the test project!


[01/20/2022 8:06 AM] c8e4d2a#9854
thx, i don't know rust yet, so i am not able to judge what might work, is there a way i can provide some value to the solution?


[01/20/2022 8:09 AM] greenhat#6562
I cannot come up with any idea on how to split `ergo-lib-wasm-browser` into pieces. Due to rust wasm bindings have to be in one crate requirement. I'm not giving up yet and I'm looking for more options.


[01/20/2022 8:11 AM] greenhat#6562
I appreciate it! I might have some stupid questions about vite/rollup later . üôÇ


[01/20/2022 8:12 AM] c8e4d2a#9854
anytime


[01/20/2022 9:40 AM] morphic#4133
The code satisfies the requirement of both branches to be always executable. Maybe the transactions always have at least 3 outputs, I don't know the app details.


[01/20/2022 1:29 PM] koutelier#5178
is there a code that i can use so i can put a connect wallet button in my website?


[01/20/2022 2:01 PM] Chicken#8262
You can use the yoroi dapp connector


[01/20/2022 2:04 PM] koutelier#5178
where can i find it ?


[01/20/2022 2:05 PM] Chicken#8262
It comes with the yoroi plugin, if you look in the console with the plugin enabled you should see injection succeeded


[01/20/2022 2:09 PM] koutelier#5178
thank you i will try that


[01/21/2022 1:31 AM] Krasavice Blasen#4574
Is there any information on the type prefixes for registers. I know 05 is for long, however it behaves not as I expect for example 0503 is considered as -2L when I would expect that to be 3L.


[01/21/2022 10:37 AM] greenhat#6562
See all type codes - https://github.com/ergoplatform/sigma-rust/blob/9b5ca5a9e4ccbc076991c9db349645c4db848cae/ergotree-ir/src/serialization/types.rs#L21-L25
Value is VLQ(VARINT)-encoded with additional ZigZag encoding for signed values. See code - https://github.com/ergoplatform/sigma-rust/blob/9b5ca5a9e4ccbc076991c9db349645c4db848cae/sigma-ser/src/vlq_encode.rs#L83-L101

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/9b5ca5a9e4ccbc076991c9db349645c4db848cae/ergotree-ir/src/serialization/types.rs
sigma-rust/types.rs at 9b5ca5a9e4ccbc076991c9db349645c4db848cae ¬∑ e...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/types.rs at 9b5ca5a9e4ccbc076991c9db349645c4db848cae ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/21XSmdcEiDgacDEYKe2dzRD0958pxd79AAtQFH163xg/https/opengraph.githubassets.com/68b7d7150158cada2b43205565af98f402ae6e52c9c6c86a7ec1e73cb6a96c82/ergoplatform/sigma-rust

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/9b5ca5a9e4ccbc076991c9db349645c4db848cae/sigma-ser/src/vlq_encode.rs
sigma-rust/vlq_encode.rs at 9b5ca5a9e4ccbc076991c9db349645c4db848ca...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/vlq_encode.rs at 9b5ca5a9e4ccbc076991c9db349645c4db848cae ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/21XSmdcEiDgacDEYKe2dzRD0958pxd79AAtQFH163xg/https/opengraph.githubassets.com/68b7d7150158cada2b43205565af98f402ae6e52c9c6c86a7ec1e73cb6a96c82/ergoplatform/sigma-rust


[01/21/2022 10:39 AM] greenhat#6562
Actually, register values are using ZigZag always.


[01/21/2022 11:55 AM] Krasavice Blasen#4574
Amazing thankyou!


[01/21/2022 7:39 PM] _jd_#3179
Hi all, I'm a bit confused on P2PK, P2S and P2SH. I think the confusion is coming from my Ethereum background. So I have some questions.

Ok first question: My understanding is that P2S address is the serialized script. Therefore, what does it mean to send Erg to this address? Does that mean the wallet creates a transaction where the OUTPUT(0).propositionBytes == P2S 'address' (the serialized script)?

In Ethereum, contracts have legitimate addresses where they are "deployed." So, I think that's what's confusing me.

Ok second question: Is P2PK the same as P2S but the script is just {publicKey}?


[01/21/2022 8:26 PM] Ch1n3du#7350
This might help https://ergoplatform.org/en/blog/2019_07_24_ergo_address/

{Embed}
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/
Ergo Addresses
In today‚Äôs article, we ‚Ä¶
https://images-ext-1.discordapp.net/external/QJxdCwzrxWhHSmIVn523mq-21UJYJFjFnu0m1tpMIb0/https/ergoplatform.org/img/blog/address.jpg


[01/21/2022 9:08 PM] JOFLITO#9983
Good day everybody


[01/21/2022 9:08 PM] JOFLITO#9983
me again with my weekly noob question


[01/21/2022 9:09 PM] JOFLITO#9983
I am checking at the /transactions command in the swagger


[01/21/2022 9:09 PM] JOFLITO#9983
and it starts like this

 {
  "id": "2ab9da11fc216660e974842cc3b7705e62ebb9e0bf5ff78e53f9cd40abadd117",
  "inputs": [
    { ... etc


[01/21/2022 9:10 PM] JOFLITO#9983
do I have to come up with the id? or is there another command for that?


[01/21/2022 11:18 PM] abchris#8522
When you send erg to a p2s, the resulting box can only be spent if the conditions are met such that the script evaluates to true.

{Reactions}
üëç 

[01/21/2022 11:18 PM] abchris#8522
Re your second question about p2pk: correct


[01/22/2022 4:51 AM] kii#8888
I'm reworking the script and it seems like we would really have to simplify the scripts to not check any tokens for other outputs if there are cases where the outputs are not gonna have token. However, I'm a little concern about writing scripts that are not able to cover checks of other boxes tokens and therefore compromising security.

Whats your thoughts on it?


[01/22/2022 8:27 AM] morphic#4133
Yeah, compromising security is never a good idea. However, simplifying scripts in Ergo is always a good idea. Unfortunately, the current limitations of conditional `if` expression sometimes makes finding the balance hard. I would try to rethink the contract logic, which tokens you put in which output. Also, you may need to use fake tokens, just to satisfy the script.


[01/22/2022 11:22 AM] Leif Erickson#8939
If I have a dozen transactions all requesting tokens from a box, and there is only 1 box with these tokens in the wallet, and I add the same boxId to the transactions, it seems that only 1 transaction will succeed and the others will fail? But, if I generate new boxes in same wallet for each of the requests is it reasonable that the will all succeed?


[01/22/2022 11:27 AM] Leif Erickson#8939
Also, what is the API method to convert a mnemonic to a form that I can sign and send a transaction, as a wallet would?  I've noticed this method is called in the AppKit as BlockchainContext to create a Prover object (newProverBuilder)?


[01/23/2022 2:01 AM] kii#8888
That‚Äôs a good question. I‚Äôve been thinking about that for scalability too


[01/23/2022 2:39 AM] Cheese Enthusiast#0548
Yes, this is currently being done in Getblok while distributing tokens. We pre-distribute the tokens from the original box into 20+ different outputs, which are then all chained together into 20 separate txs for each subpool. We do get occassional issues where a subpool tx will not go through for some reason though. It seems to be related to sending and chaining so many different transactions together rather than the tokens, at least from what I can tell.


[01/23/2022 9:23 AM] kii#8888
Any tips on deducing which part is causing a reduce script to false when in the hash trie?


[01/23/2022 3:38 PM] davidcodes#2138
@anon_real  üôè What does `follow` function does in this context ? 
https://github.com/anon-real/ErgoAuctionHouse/blob/master/src/auction/issueArtworkAssm.js#L61

{Embed}
https://github.com/anon-real/ErgoAuctionHouse/blob/master/src/auction/issueArtworkAssm.js
ErgoAuctionHouse/issueArtworkAssm.js at master ¬∑ anon-real/ErgoAuct...
Decentralized auction on top of ERGO. Contribute to anon-real/ErgoAuctionHouse development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/R4lkhQk92jrOnpAFSWrChY-ueEncKO1lW_mKO7D2USs/https/opengraph.githubassets.com/a3398d24f3df779941f7dc4105294185c6d30c02e40055848a78747ee9b98335/anon-real/ErgoAuctionHouse


[01/23/2022 4:21 PM] davidcodes#2138
üóíÔ∏è  found a good explanation here 
https://github.com/anon-real/ergo-assembler

{Embed}
https://github.com/anon-real/ergo-assembler
GitHub - anon-real/ergo-assembler: For dApps to bypass node require...
For dApps to bypass node requirement for users. Contribute to anon-real/ergo-assembler development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/QaXQnXn8VBvBBhbhLnAa92uw9_1pIaDWuFkOnAhcQVA/https/opengraph.githubassets.com/e413ae0011b99fe74fee41987f7cbd3c4fdd36c25be2f27221b7814d9633cceb/anon-real/ergo-assembler


[01/23/2022 11:00 PM] kushti#0978
done


[01/23/2022 11:14 PM] kushti#0978
so I guess finishing API methods in the node for signing/verifying an arbitrary message solves this ?


[01/23/2022 11:17 PM] ilya | dappstep#9261
I guess so, but wallets don't support messages at the moment, so it seems like a long way. For now @c8e4d2a found a workaround where user sign a transaction of sending assets/funds to himself and backend validate this transaction by posting to `/transactions/check` endpoint. What do you think about this approach?


[01/23/2022 11:29 PM] kushti#0978
Not so good, but works. You also can remove fee from the tx to prevent broadcasting


[01/23/2022 11:31 PM] ilya | dappstep#9261
I see that in node only validateWithCost get to validate spendingProof. 
statelessValidity doesn't do that (it least i didn't find it in code)

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/934953630740643880/unknown.png


[01/23/2022 11:35 PM] ilya | dappstep#9261
@kushti also can `/transactions/check` be exposed on the `api.ergoplatform.com/api/v1/` ?


[01/23/2022 11:37 PM] kushti#0978
Actually, verifying a signature is possible in a contract, more, there are examples, including bridge contracts. There are some offchain complexities due to absence of unsigned 256 bits integers, but they can be bypassed


[01/23/2022 11:42 PM] c8e4d2a#9854
I don't include a fee and do not send the transaction, just use the proof of spend.
https://github.com/enft-so/enft-dapp


[01/23/2022 11:43 PM] kushti#0978
04 means vote for increasing block cost limit. 03 for increasing block size limit


[01/23/2022 11:47 PM] kushti#0978
Srarelessvalidity only for digest state, when utxo set is not known


[01/23/2022 11:48 PM] ilya | dappstep#9261
Whick will be picked when calling the API?


[01/23/2022 11:48 PM] kushti#0978
Sigmaboolean is generalized pubkey basically. We can specify Ergo signing algo via EIP

{Reactions}
üëç 

[01/23/2022 11:50 PM] kushti#0978
What do you think about Nautilus?


[01/23/2022 11:59 PM] kushti#0978
Your node is holding utxo set by default


[01/23/2022 11:59 PM] kushti#0978
So full check


[01/24/2022 12:14 AM] Marty#4039
Admittedly I haven't used it yet, but if they can create a good alternative to yoroi with working dapp connector, I'm all for it. I think they already have message signing too?


[01/24/2022 6:48 AM] davidcodes#2138
any hints on why transactions on the testnet does not show up? üôè . My code has submited transactions, I get  txids but they don't show up.


[01/24/2022 7:00 AM] kushti#0978
Please try /transactions/check


[01/24/2022 7:28 AM] MrStahlfelge#0042
I'll draft an EIP soon. I'm still not sure if we need the feature for general Sigmaboolean or if it is enough to have it for p2pk addresses. I thought about it but didn't come up with an use case to authenticate a Sigmaboolean


[01/24/2022 7:30 AM] kushti#0978
Generic auth is used on the blockchain


[01/24/2022 7:31 AM] kushti#0978
So in general case if you want to sign an arbitrary message with a pubkey used onchain, the key is in generalized Schnorr statetement aka SigmaBoolean form


[01/24/2022 2:06 PM] Huginn#2291
@Dmitry Usov can you check my PR please? https://github.com/ergoplatform/website/pull/788

{Embed}
https://github.com/ergoplatform/website/pull/788
Slovak translation of the Manifesto by The-Huginn ¬∑ Pull Request #7...
Add Slovak translation of the Ergo Manifesto
https://images-ext-1.discordapp.net/external/ka9YgEnQaCcByb0upq-DF3xjPgGdevIeGpSP9G1J-Ts/https/opengraph.githubassets.com/62ed55b242a4bbae8bab72030ca6e2cf56a8af2199d3aa0c23f3fd51079d7493/ergoplatform/website/pull/788

{Reactions}
üëçüèª 

[01/24/2022 2:58 PM] Huginn#2291
@anon_br can you check my PR please?
https://github.com/anon-br/ergo-paper-wallet/pull/3

{Embed}
https://github.com/anon-br/ergo-paper-wallet/pull/3
Add Slovak Translation by The-Huginn ¬∑ Pull Request #3 ¬∑ anon-br/er...
Add sk.json with Slovak Translation
https://images-ext-2.discordapp.net/external/oQovrPGI_SGaQHVwcsgkRlvvD2E88YWs8yJeNNEo024/https/opengraph.githubassets.com/278d1baf1b081f6918890f1a712f64ed2d44519ebf7557e0e8f3ee4bde6394cd/anon-br/ergo-paper-wallet/pull/3


[01/24/2022 7:17 PM] ilya | dappstep#9261
Stopped my node syncing in the middle and started again after a few minutes. Now it doesn't seem syncing I was on 650912 height


[01/24/2022 7:17 PM] ilya | dappstep#9261


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/935252076232065024/unknown.png


[01/24/2022 7:17 PM] ilya | dappstep#9261
Please advice


[01/25/2022 7:36 AM] ilya | dappstep#9261
Still the same. Now there is an uncought error. Please don't tell me I have to start from the beginning :/

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/935437890987622450/unknown.png


[01/25/2022 7:49 AM] glasgowm#9381
Looks like an improper shutdown causing dB corruption


[01/25/2022 7:55 AM] ilya | dappstep#9261
Yeah. closed it with ctrl+D. So? Should I start over? And what's the proper way to shutdown it?

{Reactions}
üëç 

[01/25/2022 8:11 AM] glasgowm#9381
curl -X POST "http://127.0.0.1:9053/node/shutdown" -H "api_key: hello"


[01/25/2022 8:12 AM] glasgowm#9381
can also do it from /swagger


[01/25/2022 8:26 AM] ilya | dappstep#9261
Thanks!


[01/25/2022 8:27 AM] ilya | dappstep#9261
Does anyone know how to deal with dB corruption? maybe partially delete some chunks?


[01/25/2022 8:32 AM] apexpool#3878
it certainly worked for me on Cardano, it should probably work for Ergo, too.


[01/25/2022 8:52 AM] glasgowm#9381
latest .jar's should try and recover a bit better. Not sure how/if you can revert it manually


[01/25/2022 1:26 PM] MrStahlfelge#0042
I drafted the ErgoAuth EIP https://github.com/ergoplatform/eips/pull/53
I've drafted it to be used with all types of addresses, not restricted to p2pk addresses. I am still not sure if all types of addresses can be evaluated into SigmaBoolean (not found a method to evaluate an ErgoTree into a SigmaBoolean, only found the other way around), so if any restrictions apply that should be mentioned please chime in @morphic 
Also  @Marty @ilya | dappstep please check if this satisfies your needs.

{Embed}
https://github.com/ergoplatform/eips/pull/53
[WIP] EIP-0028 ErgoAuth by MrStahlfelge ¬∑ Pull Request #53 ¬∑ ergopl...
ErgoAuth: user authentication protocol between wallet applications and dApps
https://images-ext-2.discordapp.net/external/mrVL-dPBKaowD6CSoVHaDhRbdUMlZKmI-QE4IfGlaLQ/https/opengraph.githubassets.com/acc977d574518b11c2ab12f64e31db0aac6ddb85aacbba4db67230f6ed53f5f5/ergoplatform/eips/pull/53


[01/25/2022 5:05 PM] morphic#4133
ErgoTree can be evaluated to SigmaBoolean using Interpreter.fullReduction method.

{Reactions}
üëç 

[01/25/2022 5:30 PM] Marty#4039
This covers exactly the intent

{Reactions}
üëç 

[01/25/2022 7:06 PM] c8e4d2a#9854
"Users can participate in Ergo dApps and mobile
wallet team can receive service fees from those transactions." What transactions are we talking about?


[01/25/2022 7:10 PM] MrStahlfelge#0042
Looks like I forgot to delete that sentence, it's from the ergopay eip üòÅ


[01/25/2022 7:12 PM] c8e4d2a#9854
Okay, just to be on the same page, this EIP is for mobile/desktop wallets (and not for a browser extenstion that implements dapp connector EIP-0012)?


[01/25/2022 7:15 PM] c8e4d2a#9854
I am refering to


[01/25/2022 7:15 PM] c8e4d2a#9854


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/935613877754925156/unknown.png


[01/25/2022 7:15 PM] MrStahlfelge#0042
it's for any wallet that can intercept the uri schemes. I don't know if browser extensions can intercept them. if they can, it will work with browser extension wallets as well.


[01/25/2022 7:17 PM] MrStahlfelge#0042
this looks like the same functionality for browser extensions


[01/25/2022 7:22 PM] c8e4d2a#9854
My question would be how that relates EIP-0012 sign_data relates to EIP-0028. E.g. nautilus is currently implementing the eip-0012 dapp connector, but the current state of sign_data is not clear (to me).


[01/25/2022 7:23 PM] c8e4d2a#9854
Also i would expect a node rest api for checking such signed data.


[01/25/2022 7:39 PM] MrStahlfelge#0042
the node rest api is a good idea. the relation between EIP-0012 sign_data and EIP-0028 is that the former one can only be used by browser extension wallets, while EIP-0028 can be used by all wallet types.
The hint in the documentation about not letting accidently sign transactions that are stored in the message is important. @morphic do you know how we can ensure that the message does not contain anything like that?


[01/25/2022 8:02 PM] morphic#4133
The message can always be a random hash (32 bytes) and any TX is always has more bytes. Or similar idea.


[01/25/2022 8:03 PM] morphic#4133
actually the message can be just the address itself.


[01/25/2022 8:04 PM] Marty#4039
would a JWT token come into play at all, or on the blockchain side this isn't important


[01/25/2022 8:07 PM] MrStahlfelge#0042
no, the message should be unique and dapp should specify at least a part of it. otherwise a signed message could be "stolen" and reused for authentication to other dapps


[01/25/2022 8:07 PM] ilya | dappstep#9261
Jwt token is implemented on backend, every dev decides what to include in it


[01/25/2022 8:07 PM] morphic#4133
ah, that is true


[01/25/2022 8:08 PM] ilya | dappstep#9261
Exactly. Also would be great to have a timestamp in that message to be able to implement expiration logic


[01/25/2022 8:08 PM] morphic#4133
then, random hash can be used as the message


[01/25/2022 8:09 PM] MrStahlfelge#0042
yeah timestamp is an easy way to enforce uniqueness.


[01/25/2022 8:11 PM] MrStahlfelge#0042
either that, or is some addition to the message by the wallet an idea to bypass the problem that the message could be a tx or something else the user might not want to sign? so the message is made of two parts, one specified by the dapp, one specified by the wallet


[01/25/2022 8:12 PM] ilya | dappstep#9261
Also for expiration. Even if the signed message was ‚Äústolen‚Äù, i can check the timestamp in backend and decline it based on a ‚Äúsign date‚Äù

{Reactions}
üëç 

[01/25/2022 8:19 PM] morphic#4133
how to preven MITM attack, by requiring using https? But then dApp need to have valid server certificates.


[01/25/2022 8:20 PM] MrStahlfelge#0042
https is required by current drauf (ErgoPay as well). Not sure if MITM is really a problem when we have unique throwaway messages?


[01/25/2022 8:22 PM] c8e4d2a#9854
timestamp is an interesting idea, might lead to issues with out of sync clocks without malicious intent


[01/25/2022 9:28 PM] ilya | dappstep#9261
Good point


[01/25/2022 9:34 PM] MrStahlfelge#0042
not if you handle the timestamp as just something to make the message unique. you could use a random number as well.


[01/26/2022 11:50 AM] anon_br#2282
Merged, thank you!


[01/26/2022 11:50 AM] Huginn#2291
Thank you! :ergonaut:


[01/26/2022 1:50 PM] MrStahlfelge#0042
I changed the EIP like this


[01/26/2022 8:20 PM] SoCool#6419
Bit of a newb question, but in EIP-0012, is the BoxId the same as a public wallet receiving address?


[01/26/2022 8:34 PM] SoCool#6419
That's classic nonce protection against replay - the pain with nonces is typically storing them somewhere to assure they aren't seen again. Typical simplification is to have the storage expiring them out, while the client timestamps the request so nonce storage only keeps last 2 minutes of nonces for instance, and any request is only valid for that period so a replay after nonce storage ages out will be replaying an expired request.

I am curious though if the blockchain itself could be the nonce storage; using an nft as the nonce in effect so no one needs to implement nonce storage


[01/26/2022 9:48 PM] SoCool#6419
Trying to look at how the EIP-0012 and EIP-0020 can integrate (is EIP-0012 not going to be accepted, rather being replaced with 0020?) - thinking regarding making current dApps tied to Yoroi more easily support ErgoPay and it seems implementing the `ergo` object wouldn't be altogether hard but am curious if anyone can indicate why the explorer wasn't used to fulfill the read calls? Is the data publicly available not appropriate or missing something that Yoroi would otherwise give? Small comments on the interface with my curiosity here https://gist.github.com/JimmyHoffa/be4e5115547ab539fc658948601e702d

{Embed}
https://gist.github.com/JimmyHoffa/be4e5115547ab539fc658948601e702d
ErgoAPI.ts
GitHub Gist: instantly share code, notes, and snippets.
https://images-ext-1.discordapp.net/external/v2ToTBFZ7zHPk2sQlBt80EaH2hhwBfD3Zdf1J_uxMxs/https/github.githubassets.com/images/modules/gists/gist-og-image.png


[01/26/2022 10:33 PM] ilya | dappstep#9261
Where does ergo node db stored by default? (on mac). I stopped the syncing incorrectly and now can't restart it. Should I delete the history and start over?


[01/26/2022 10:47 PM] kushti#0978
what version ?


[01/26/2022 10:47 PM] kushti#0978
and platform


[01/26/2022 10:47 PM] kushti#0978
M1 maybe ?


[01/26/2022 10:48 PM] kushti#0978
@MrStahlfelge ^


[01/26/2022 10:54 PM] MrStahlfelge#0042
I don't think 20 replaces 12 because there's room for both.
Most of the calls to explorer API are done by Yoroi's backend itself as well, or to a node they are running (don't know for sure). The public explorer API is good to use, only downside is that it is centralized.
Getting addresses can be done with ergo pay, but only a single one and the user chooses which one to send.
I don't know what add external box is for.


[01/26/2022 11:12 PM] SoCool#6419
Thanks! I'll continue fiddling with seeing how far I can get on creating an `ErgoAPI` class that doesn't require the yoroi chrome extension using explorer (yeah centralized is imperfect, but URI can be configurable)

{Reactions}
üëç 

[01/26/2022 11:28 PM] ilya | dappstep#9261
ergo-4.0.21.1
2.4 GHz 8-Core Intel Core i9


[01/26/2022 11:28 PM] ilya | dappstep#9261
MacOS Monterey


[01/26/2022 11:29 PM] ilya | dappstep#9261
@kushti THis is what I'm getting

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936040259429494804/unknown.png


[01/27/2022 4:37 PM] SoCool#6419
As I'm filling in the JS ErgoAPI implementation and reading EIP-0019 / reading the ErgoPay implementation in android, before I reinvent the wheel:

Is anyone aware of a ReducedTransaction model / serialized implementation in JS? I'm guessing no because ErgoPay is the first use case for it I think, but wanted to check if I can snag a lib before implementing it from scratch


[01/27/2022 4:46 PM] MrStahlfelge#0042
@greenhat already prepared it in sigma-rust


[01/27/2022 4:47 PM] MrStahlfelge#0042
minotaur was already using it - can you give more insight here @greenhat, I want to prepare a dev tutorial and would be great to have something for JS developers to point to


[01/27/2022 4:55 PM] SoCool#6419
So I did see Rust being pulled in here https://github.com/ergolabs/ergo-sdk-js/blob/master/src/utils/rustLoader.ts and then I guess I can update the wasm interop lib it's using to pick up the reduced bits from this repo https://github.com/ergoplatform/sigma-rust

{Embed}
https://github.com/ergolabs/ergo-sdk-js/blob/master/src/utils/rustLoader.ts
ergo-sdk-js/rustLoader.ts at master ¬∑ ergolabs/ergo-sdk-js
Ergo JS SDK. Contribute to ergolabs/ergo-sdk-js development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/2WB0ToLN7l8JE4lG2V9LKK22RT21JBP5V3xODedu614/https/opengraph.githubassets.com/4436e218e9ce7578c88e684ea82d7860f805ddf01f5e8885a27ece6010c63b8f/ergolabs/ergo-sdk-js

{Embed}
https://github.com/ergoplatform/sigma-rust
GitHub - ergoplatform/sigma-rust: Alternative and simple implementa...
Alternative and simple implementation of ErgoTree interpreter - GitHub - ergoplatform/sigma-rust: Alternative and simple implementation of ErgoTree interpreter


[01/27/2022 4:56 PM] SoCool#6419
Thanks for the reply, that gives me a solid direction to simplify it, I was intending to put the ErgoAPI into that ergo-sdk-js in ergolabs with PR anyway (it already has a nice explorer implementation I can use to fulfill some of the explorer API requests for ErgoAPI)


[01/27/2022 6:04 PM] greenhat#6562
@MrStahlfelge @SoCool  Check out `ReducedTransaction.from_unsigned_tx()` - https://github.com/ergoplatform/sigma-rust/blob/c308476ad074147596b03fb9f3dcb04018823a72/bindings/ergo-lib-wasm/src/transaction/reduced.rs#L27-L34
Unfortunately we don't have JS tests for it so you could see it in action, but you can check out other tx tests - https://github.com/ergoplatform/sigma-rust/blob/c308476ad074147596b03fb9f3dcb04018823a72/bindings/ergo-lib-wasm/tests/test_transaction.js#L3
to get the idea of how to prepare the parameters.

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/c308476ad074147596b03fb9f3dcb04018823a72/bindings/ergo-lib-wasm/src/transaction/reduced.rs
sigma-rust/reduced.rs at c308476ad074147596b03fb9f3dcb04018823a72 ¬∑...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/reduced.rs at c308476ad074147596b03fb9f3dcb04018823a72 ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/n3rpkYA73mhG3wwFJucb4huu-qMflk1ytOgKeRW4Ec0/https/opengraph.githubassets.com/c95bc400a338311311625a8eb1204d201a151a2346aaad45f211ad5ae425fca4/ergoplatform/sigma-rust

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/c308476ad074147596b03fb9f3dcb04018823a72/bindings/ergo-lib-wasm/tests/test_transaction.js
sigma-rust/test_transaction.js at c308476ad074147596b03fb9f3dcb0401...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/test_transaction.js at c308476ad074147596b03fb9f3dcb04018823a72 ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/n3rpkYA73mhG3wwFJucb4huu-qMflk1ytOgKeRW4Ec0/https/opengraph.githubassets.com/c95bc400a338311311625a8eb1204d201a151a2346aaad45f211ad5ae425fca4/ergoplatform/sigma-rust


[01/27/2022 6:04 PM] ProSavage#7131


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936320896900141086/unknown.png


[01/27/2022 6:05 PM] ProSavage#7131
this means my ergo daemon didnt get my ergo.conf right


[01/27/2022 6:06 PM] ProSavage#7131
I think there is something wrong with my compose?
```yml
version: "3.5"
services:
  ergo_daemon_testnet:
    image: ergoplatform/ergo:v4.0.21.1
    ports:
      - "9030:9030"
      - "9053:9053"
    volumes:
      - "./ergo-data:/home/ergo/.ergo"
      - "./ergo.conf:/etc/myergo.conf"
    command: ["-c", "/etc/myergo.conf"]
```


[01/27/2022 6:06 PM] ProSavage#7131
my conf is sitting beside the compose file.


[01/27/2022 6:06 PM] ProSavage#7131


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936321312371122206/unknown.png


[01/27/2022 6:06 PM] ProSavage#7131
my ergo conf is 
```
ergo {
  directory = ${ergo.directory}"/.ergo"
   networkType = "testnet"
   chain {
    # Defines an id of the genesis block. Other genesis blocks will be considered invalid.
    genesisId = "9bbcdbce2f8859c1930dd2ccf6f887def1b82a67d9b4d09469b6826017126306"
    # Network address prefix, currently reserved values are 0 (money chain mainnet) and 16 (money chain testnet)
    addressPrefix = 16
    # Difficulty network start with
    initialDifficultyHex = "01"
  }
  wallet.secretStorage.secretDir = ${ergo.directory}"/wallet/keystore"
}

scorex {
    network {
    magicBytes = [2, 0, 0, 0]
    bindAddress = "0.0.0.0:9020"
    nodeName = "ergo-testnet-2.1"
    nodeName = ${?NODENAME}
    knownPeers = [
      "78.46.93.239:9020",
      "209.97.136.204:9020",
      "209.97.134.210:9020",
      "88.198.13.202:9020",
      "159.65.139.199:9020",
      "206.189.130.185:9020"
    ]
  }
 restApi {
    # Hex-encoded Blake2b256 hash of an API key. 
    # Should be 64-chars long Base16 string.
    # below is the hash of the string 'hello'
    # replace with your actual hash 
    apiKeyHash = "324dcf027dd4a30a932c441f365a25e86b173defa4b8e58948253471b81b72cf"
  }
}
```


[01/27/2022 6:45 PM] SoCool#6419
Ah! Thanks, I was looking at that file and trying to find the npm package for it, looks like it's in the `0.15.0` tagged `alpha`


[01/27/2022 6:48 PM] greenhat#6562
Yes, it's alpha/snapshot versions. Try the version built from the latest commit in the develop branch - https://github.com/ergoplatform/sigma-rust/runs/4937968582?check_suite_focus=true#step:8:33

{Embed}
https://github.com/ergoplatform/sigma-rust/runs/4937968582?check_suite_focus=true
Merge pull request #540 from ergoplatform/set-rust-ver ¬∑ ergoplatfo...
Alternative and simple implementation of ErgoTree interpreter - Merge pull request #540 from ergoplatform/set-rust-ver ¬∑ ergoplatform/sigma-rust@c308476
https://images-ext-2.discordapp.net/external/n3rpkYA73mhG3wwFJucb4huu-qMflk1ytOgKeRW4Ec0/https/opengraph.githubassets.com/c95bc400a338311311625a8eb1204d201a151a2346aaad45f211ad5ae425fca4/ergoplatform/sigma-rust

{Reactions}
üëç 

[01/27/2022 7:08 PM] MrStahlfelge#0042
glad you can make some sense of it. üôÇ


[01/27/2022 7:33 PM] ProSavage#7131
@MrStahlfelge can u help me figure out why I get this error

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936343074102194186/unknown.png


[01/27/2022 7:33 PM] ProSavage#7131
Im attempting to start a testnet rig


[01/27/2022 7:57 PM] HazeyOneKenobi#2091
If anyone knows anything re. setting up backend-chain-grabber, I've posted in #deleted-channel and could use a hand üôÇ


[01/27/2022 8:34 PM] MrStahlfelge#0042
sorry, don't know - best is to ask in #node


[01/28/2022 10:45 AM] ilya | dappstep#9261
What is the difference between those two? Let's say I want to generate a simple transaction of sending assets from address A to address B. Which endpoint should I use?
More questions in comment to this snippet
```
{
      "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt", // is it a receiver address?
      "value": 1, // what's value in this, if I have asset amount down there?
      "assets": [
        {
          "tokenId": "4ab9da11fc216660e974842cc3b7705e62ebb9e0bf5ff78e53f9cd40abadd117",
          "amount": 1000
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301" // do I have to put R4 value in here or can I just skip it? What is it used for?
      }
    },
```


[01/28/2022 10:47 AM] ilya | dappstep#9261
First question is refering to this image

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936573156267786250/unknown.png


[01/28/2022 1:39 PM] SoCool#6419
I've been interpreting these  models as value being nanoergs, and assets being amounts for tokens, becuase I never see ergs listed in assets, only tokens - if this is an incorrect interpretation I'd appreciate a correction as this is how I'm working with these models heh


[01/28/2022 8:16 PM] SoCool#6419
@Ilya | Spectrum Is this a fools errand trying to put some bits in ergo-sdk-js that could get to an ErgoAPI that's less reliant on a chrome extension wallet? https://github.com/ergolabs/ergo-sdk-js/pull/15/files - if this seems like an ok idea would appreciate some guidance in that PR on what I'm likely doing wrong regarding patterns / file placement etc

{Embed}
https://github.com/ergolabs/ergo-sdk-js/pull/15/files
Draft: WIP Ergopay bridge by JimmyHoffa ¬∑ Pull Request #15 ¬∑ ergola...
Fiddling with making an ErgoAPI - as defined by EIP-0012 that might be able to complete EIP-0020 mobile wallet interactions to minimize dApp changes necessary to integrate over.
Probably won&#3...
https://images-ext-1.discordapp.net/external/mGIRtPajnjZC6HJG-Bk5Se_z9YsLUTIvczfrSTU5GM8/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/1002984


[01/29/2022 12:04 AM] 6directions#1089
I started syncing a node yesterday. that created a `.ergo` dir on the same dir where I have the node's jar.
now I want to try running the node in docker.
what exactly is `/path/on/host/to/ergo/data` supposed to point to? is it the `.ergo` dir?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936773642451304479/unknown.png


[01/29/2022 12:19 AM] ziggomatic#9335
yup


[01/29/2022 12:43 AM] 6directions#1089
ok thanks, that's what I thought.


[01/29/2022 12:45 AM] 6directions#1089
as a follow up question...
this is my docker-compose.yml
```
version: "2"

services:
  node:
    image: ergoplatform/ergo
    container_name: ergo-mainnet
    ports:
      - 9053:9053
      - 9030:9030
    environment:
      - MAX_HEAP=3G
    volumes:
      - ~/Crypto/Ergo/ergo_folder/.ergo:/home/ergo/.ergo
      - ./ergo.conf:/etc/ergo.conf
    restart: unless-stopped
    command: --mainnet -c /etc/ergo.conf
```

but when I run `docker-compose up -d` and inspect the logs after, I am seeing the node shut down with this error

```
ergo-mainnet | 00:43:04.807 ERROR [ctor.default-dispatcher-4] scorex.db.StoreRegistry - Failed to initialize storage: org.fusesource.leveldbjni.internal.NativeDB$DBException: IO error: /home/ergo/.ergo/peers/LOCK: Permission denied. Please check that directory /home/ergo/.ergo/peers exists and is not used by some other active node
```

any idea what might be the root of this?


[01/29/2022 12:48 AM] ziggomatic#9335
what user is docker run as? it's a daemon right. it might need exact paths, rather than ~ and relative. not used it yet. let me do a quick google


[01/29/2022 12:48 AM] 6directions#1089
ah, that just occurred to me (that it might need an absolute path). I stepped away for a minute but will try again in a few.


[01/29/2022 12:49 AM] 6directions#1089
And I'm running docker as a non root user, but I did make sure to give myself permission to run docker.


[01/29/2022 12:57 AM] 6directions#1089
does not seem to be a problem. confirmed that docker-compose successfully resolves it to an absolute path.


[01/29/2022 12:57 AM] ziggomatic#9335
ah great


[01/29/2022 12:59 AM] 6directions#1089
I also tried running `docker-compose` as sudo just in case, and now I get this error
```
ergo-mainnet | 00:58:23.619 ERROR [ctor.default-dispatcher-5] scorex.db.StoreRegistry - Failed to initialize storage: org.fusesource.leveldbjni.internal.NativeDB$DBException: IO error: /home/ergo/.ergo/peers/LOCK: No such file or directory. Please check that directory /home/ergo/.ergo/peers exists and is not used by some other active node
```

and if I create a fresh new, empty dir for the ergo data, I get the same error

```
ergo-mainnet | 01:00:24.792 ERROR [ctor.default-dispatcher-4] scorex.db.StoreRegistry - Failed to initialize storage: org.fusesource.leveldbjni.internal.NativeDB$DBException: IO error: /home/ergo/.ergo/peers/LOCK: No such file or directory. Please check that directory /home/ergo/.ergo/peers exists and is not used by some other active node
```

anyway, putting this out in case someone has run into the same issue and can give me some hints.


[01/29/2022 2:43 AM] MGpai#4313
@haileypdll the payment portal api/monitor voucher seems to only return up to 13 entries per address


[01/29/2022 2:44 AM] MGpai#4313
so if a payment is sent to the address, the oldest is deleted


[01/29/2022 2:44 AM] MGpai#4313
Is this a feature or a bug?


[01/29/2022 2:55 AM] MGpai#4313
I assume a bug because all the boxes are accessible via the v1  explorer api


[01/29/2022 2:58 AM] MGpai#4313
you can check out a live instance here


[01/29/2022 2:58 AM] MGpai#4313
https://api.ergosapiens.com/ERGOpay_API/?address=9feKcvHAB9f8LxyL3pbEwVhmvDrvrU8vY1TykCQ7MNQQxRAekz6


[01/29/2022 2:58 AM] MGpai#4313
I ran it locally just to double check and the problem is still there


[01/29/2022 4:24 AM] MGpai#4313
Nevermind It seems to be the v1 api problem


[01/29/2022 4:24 AM] MGpai#4313
not your codes'


[01/29/2022 4:31 AM] MGpai#4313
I am trying to get my boxes by address using the explorer api


[01/29/2022 4:31 AM] MGpai#4313
I have 24 boxes but I can only access the first 19 boxes


[01/29/2022 4:31 AM] MGpai#4313
is there a way to get everything by address?


[01/29/2022 4:31 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/936840993188220988/unknown.png


[01/29/2022 4:32 AM] MGpai#4313
As you can see 5 of my prior boxes cannot be accessed


[01/29/2022 4:32 AM] MGpai#4313
Anyone dev know something about this?


[01/29/2022 8:15 AM] MrStahlfelge#0042
Should be 20. The API has a limit (default 20) and offset


[01/29/2022 8:16 AM] MGpai#4313
oh right I meant 19th index


[01/29/2022 8:16 AM] MGpai#4313
is there a way to bypass this? Can I run my own api?


[01/29/2022 8:18 AM] MrStahlfelge#0042
You can give a higher limit or cycle through the pages by giving an offset


[01/29/2022 11:14 AM] haileypdll#3353
this is not intended, it uses the default. Maybe a limit parameter could be added ?


[01/29/2022 3:34 PM] MGpai#4313
yes I fixed it and put a pull request


[01/30/2022 8:14 AM] kii#8888
hey guys, whats this address?

9hL11xHiZktWNpd2PHWSFadQrUifUTPR69bUbf5AwAggQJvdjDf


[01/30/2022 8:15 AM] kii#8888
what does it mean when your output box gets into that address


[01/30/2022 8:38 AM] error#5683
It‚Äôs a bot run by someone and collects fees for ergodex orders.


[01/30/2022 8:40 AM] kii#8888
Mine is a proxy contract that's supposed to generate a specific output box. I dont know how it ended up getting there.


[01/30/2022 8:45 AM] error#5683
Usually the order has multiple outputs, 4: first belongs to the contract, the second to the initiator of the order, third is the bot that executed the order and the fourth is for the mining fee. Are you seeing all of these outputs or is it just the one output for that guy? Do you have an explorer link?


[01/30/2022 8:47 AM] kii#8888
i lost my tx id lol let me try recreating


[01/30/2022 8:48 AM] kii#8888
https://explorer.ergoplatform.com/en/transactions/66a2b5f6e40bc3f546b4d0e5c740cc768524a14d5c4bb9fc448a453508ecd453


[01/30/2022 8:55 AM] error#5683
Yep. Something is not working right. That‚Äôs the bot alright (the one who generated the tx for you). Are you using the Ergodex proxy contract?


[01/30/2022 8:55 AM] kii#8888
seems like all my proxies are going there:
https://explorer.ergoplatform.com/en/addresses/mXEzPNaBeFwXReCZJB6X12wEeLrtLN1aPd1bdrT1XuwfRdyNL2at2dRdnZA1hnRXqhL3u8SiA18hMfbQ3jgUnzoBqnGWfYNYsU8FME3NhGnWW1e961j1kKop7EJATXgt1Jpg5D2ELe6ZKB3eyyPJVXYVBGmMbzfTfUhdnbQDLQJSYAPwc65xbPiWhoJUP5PM6qJjvCKXUjAEmUxr7bTQkvCKjWS1sng2Dc9HJDp4RawsWFPeB8PAVTWtPV98iumEN64RwnzXfH5HzueBFe3ngJmsp9NziH7EFCVk8xXLf21Ay545AZMtMUw8txNZwp5Au5UhquJYHPfrA7WJ4ZKT54tWe8bRw2BwLBNmMcNqfFZEwsthRCuphjASV8WfTuhC34E3bsT1pWpYEPRciEKKA2otka1TjXWn7rbVVReufcc9AY3jaN5P5WsaWrrDT9HRtkNc3h4gNrMTi7QTnNV137zGjqKvRvHkRMttVctHjFGt6DZ8ZkUyVfScVJq


[01/30/2022 8:55 AM] kii#8888
no I'm not using their proxy


[01/30/2022 8:56 AM] kii#8888
this is mine:
```
    s"""{
       | // the amount of boxes as outputs, else return
       | if (OUTPUTS.size != 2) {
       |    val isLenderPkDefined = OUTPUTS(1).R7[GroupElement].isDefined
       |    sigmaProp(
       |      OUTPUTS(0).tokens(0)._1 == serviceNFT &&
       |      OUTPUTS(1).tokens(0)._1 == lendToken &&
       |      OUTPUTS(1).R4[Coll[Long]].get(0) == goal &&
       |      OUTPUTS(1).R4[Coll[Long]].get(1) == deadlineHeight &&
       |      OUTPUTS(1).R4[Coll[Long]].get(2) == interestRate &&
       |      OUTPUTS(1).R4[Coll[Long]].get(3) == repaymentHeightLength &&
       |      OUTPUTS(1).R6[Coll[Byte]].get == borrowerPk &&
       |      !isLenderPkDefined
       |    )
       | } else {
       |    // ##Refund##
       |    sigmaProp(
       |      allOf(Coll(
       |        OUTPUTS(0).value >= (INPUTS(0).value - minFee),
       |        OUTPUTS(0).propositionBytes == borrowerPk
       |    )))
       | }
       |}
       |""".stripMargin
```


[01/30/2022 8:59 AM] error#5683
@Ilya | Spectrum the front runner amm bot seems to match this contract and execute it, maybe you can interpret what‚Äôs going on? The inputs assets are taken over by the bot


[01/30/2022 6:24 PM] glasgowm#9381
think @anon_real wrote the proxy EIP


[01/30/2022 6:26 PM] error#5683
yep, I thought Ilya could help out with the bot matching part, but it's most likely a modified version anyway.


[01/30/2022 7:05 PM] kii#8888
I'm thinking that if i add in a hashscript to identify what the next box will be, it may prevent this. Will look into this tomorrow, any thoughts will help though


[01/30/2022 9:16 PM] ilya | dappstep#9261
Feature request:  In Ergo node interface, Is possible to save the api key in a browser local storage so it will not reset on a page refresh?


[01/30/2022 9:29 PM] Walrus#9577
Is there a way to update a register within ErgoScript so instead of getVar it's postVar?


[01/30/2022 9:50 PM] anon_real#2768
Boxes are immutable. So in order to change a register, you should spend the box and create a new one with the register value you want. That means that the contract should support changing register values.


[01/30/2022 9:53 PM] Walrus#9577
Hmmmm so you can't change registers on chain?


[01/30/2022 9:54 PM] anon_real#2768
It depends on what you mean by "change". If you mean changing the value of the current UTXO (i.e., box), no that is not possible. But your UTXO's contract can support chaning register values by letting the box be spent and a new one be created in the output of the transaction with the new value.


[01/30/2022 9:57 PM] Walrus#9577
Ah, so you make the box only spendable under the conditions you would want it changed


[01/30/2022 9:57 PM] Walrus#9577
But how do you limit to certain inputs


[01/30/2022 9:58 PM] Walrus#9577
I guess a second contract checks?


[01/30/2022 9:58 PM] anon_real#2768
Yes, exactly. So for example, SigmaUSD's bank box supports "update". This means a set of trusted people (people who are owning the update token) can change its parameters upon consensus.


[01/30/2022 9:59 PM] anon_real#2768
However, this was supported until a certain height I guess.


[01/30/2022 10:00 PM] Walrus#9577
Can they change it to any arbitrary value?


[01/30/2022 10:00 PM] anon_real#2768
I am not sure if I get this. The contract that is protecting the box will allow it to be spent in certain conditions for the register value to be updated. No second contract is needed.


[01/30/2022 10:01 PM] anon_real#2768
It depends on the contract protecting the bank. I don't remember the details.


[01/30/2022 10:02 PM] anon_real#2768
The same is true for the Auction House's config box: https://api.ergoplatform.com/api/v1/boxes/2b279868a56f51c1ae9d9722a7049502dfae64ebc9626909b602a505da65d0b9
This box contains AH parameters such as fees. In this case, it is being protected by my own PK so I can change its parameters only. But it can get arbitrary complex, like allowing it to be changed upon voting.


[01/30/2022 10:03 PM] Walrus#9577
So say I have a box that is spendable if it receives the majority of the voting tokens. But the value it changes should only be an integer or has to follow some other rules


[01/30/2022 10:04 PM] anon_real#2768
That is easy to ensure. You just have to check the new box's register value to be valid. This means the box is spendable upon some conditions (like voting) + the new box having valid values.


[01/30/2022 11:55 PM] 6directions#1089
hey there... it seems like my node just stop syncing and I'm not sure where to begin troubleshooting.
I noticed some odd behavior starting a few hours ago... to begin with, the node's `info` endpoint is returning `null` for a bunch of values that previously were not `null`, and even though the node's panel says `Active synchronization`, it no longer gets to the point where it shows the current blockheight.

I'm running in docker, so I've tried restarting, and even recreating the container a couple of times to no avail. I keep seeing this recurring `Connection Refused` message in the logs, and a bunch of `WARN` level statements.

I get the impression it's some sort of networking issue? But I can't quite tell if I'm right or wrong, or how to fix it.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/937496372502994974/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/937496372779843644/unknown.png


[01/30/2022 11:56 PM] 6directions#1089
here's a segment of the node's logs that I see keep showing up over and over. it's like it's stuck retrying "something"?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/937496630754701352/node-logs-segment.txt


[01/31/2022 3:56 AM] Krasavice Blasen#4574
How can /wallet/transaction/send return status 200 but the transaction never enters the mempool?


[01/31/2022 4:13 AM] Krasavice Blasen#4574
Ahh I see, I can use transaction/check


[01/31/2022 5:43 AM] kii#8888
Transaction/check?


[01/31/2022 7:25 AM] MrStahlfelge#0042
Makes more checks. Transaction/send doesn't make a complete check, therefore accepts transactions that are discarded before entering mempool


[01/31/2022 12:14 PM] SoCool#6419
@MrStahlfelge The idea that the 4k qrcode may not hold an entire transaction - is based on what data in the transaction I'm curious? Specifically, I'm wondering if gzip might help - if the tx data that doesn't fit is broadly extra data described in the JSON itself, that will compress well, if it's the bytes of the ReducedTx however, that's unlikely to compress so well at a guess.

Getting more transactions functionally serverless I think is a big win for simplicity for dApp implementors - plenty more people who could put together ergoscript contracts and web UI's vs implementing and hosting backends

{Reactions}
üëÄ (2) 

[01/31/2022 12:21 PM] MrStahlfelge#0042
indeed problems reading QR  codes start on several devices with 1,000 chars already. ReducedTx is already pretty compressed and a 1,000 byte tx will hold a lot of data, but when you have a lot of inputs and outputs you will exceed every limit. anyway, don't forget that only using the non-backend option has less features, so any dapp with more functionality will need to go the backend communication way in any case. A dapp is served by any kind of backend server in any case, and I know very few web hosters that don't let you run code server side nowadays. yes, server side Java is rare, I don't know options below $5/month, but you can implement the backend in any other language

{Reactions}
üëç 

[01/31/2022 12:55 PM] MrStahlfelge#0042
for small dapps in startup phase I would recommend to use heroku as I do for my showcase app


[01/31/2022 1:24 PM] Apextheory#6577
I'm working on some tests in the ergo node, is there any way to clear the history storage/modifiers cache prior to a particular test?  
It looks previous tests are storing some invalid modifiers that are causing the Nipopow proof to fail.


[01/31/2022 1:25 PM] SoCool#6419
Makes sense, I had a guess ReducedTx was already as chunked down as could be. I get your point about backends really not being that big a trouble; I always preferred the backend though I see so many engineers who are highly reticent to work on that side who still tend to have interesting ideas sometimes. Just pondering enablement for them. I wonder if transaction templatization might be beneficial - toss a tx template up to any given static CDN and then just fill details for the wallet to apply that template onto resulting in a full size tx.

Again, the more advanced cases as you said will demand a full backend regardless


[01/31/2022 5:03 PM] kii#8888
What‚Äôs the function call?


[01/31/2022 7:19 PM] MrStahlfelge#0042
really appreciate your thoughts and work btw. your intention to make the stuff as easy as possible is the right attitude. I think what's needed for the backend part is examples in other languages


[01/31/2022 10:45 PM] kushti#0978
is the node mining? 
please check logs for :

cat ergo.log | grep "not modified"
cat ergo.log | grep WARN
cat ergo.log | grep ERR
cat ergo.log | grep xception


[01/31/2022 10:48 PM] kushti#0978
a new test should start with a clean storage, can you show problematic code ?


[01/31/2022 10:51 PM] Apextheory#6577
Yea, when I run entire `ErgoSanityUTXO` then the tests from `HistoryTests` runs first.  When it gets to my proptest at end of `NodeViewSynchronizerTests` then the history already has 40 headers inserted.


[01/31/2022 10:51 PM] Apextheory#6577
but if I run my test alone, the history is empty


[01/31/2022 10:55 PM] Apextheory#6577


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/937843607258398820/unknown.png


[02/01/2022 2:20 AM] 6directions#1089
hello. here are the outputs of the suggested log searches

`cat ergo.log | grep "not modified"` (no output)


`cat ergo.log | grep WARN`
```
02:17:05.312 WARN  [tor.default-dispatcher-14] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
02:17:06.317 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:08.337 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:10.357 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:12.377 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:14.397 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:16.417 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:18.437 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)
02:17:20.457 WARN  [ergoref-api-dispatcher-9] o.e.n.ErgoReadersHolder - Got GetReaders request in state (None,None,None,None)

(this appears over and over)
```

`cat ergo.log | grep ERR` (no output)

`cat ergo.log | grep xception`
```
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
java.net.ConnectException: Connection refused
```


[02/01/2022 2:22 AM] 6directions#1089
also no, the node is not mining. the node's config file has `mining` set to false.


[02/01/2022 9:40 PM] Walrus#9577
Is there a tutorial anywhere on how to use ErgoTree?


[02/01/2022 10:17 PM] SoCool#6419
Happy to try anyway! Heh, I think I need to do more reading though as I wander through the code. Found Nautilus doing some similar off line calls of it's own, and then transaction builder app has a nice clean code section doing reduced tx and all already! I ought just steal what he did there for this but I'm realizing I just need to read more and more of the code around Ergo to find out what does and doesn't exist and what I might be able to lend a hand towards. Above all else I started digging in because I want to use the android wallet to play in ergo dex heh

{Reactions}
üëç 

[02/01/2022 11:49 PM] kushti#0978
Db not initialized, how did you shutdown the node before?


[02/01/2022 11:49 PM] kushti#0978
@knizhnik can we try to repair db on startup?


[02/01/2022 11:50 PM] 6directions#1089
docker-compose stop, down or restart. in the future, should I do it via `/node/shutdown` endpoint instead?


[02/02/2022 3:09 AM] 6directions#1089
unrelated, I spin up a testnet node (which synced super fast!) and went to the faucet to try and get some testnet ERGs...
but after 2 mins I still have not received them.
is it normal for txs to take longer on testnet?


[02/02/2022 6:54 AM] MGpai#4313
Is the explorer api centralized?


[02/02/2022 8:51 AM] MrStahlfelge#0042
the server is centralized, but explorer backend is open source and you can set up an own explorer if needed - then it is decentralized.


[02/02/2022 8:56 AM] abchris#8522
I used to have issues when doing docker-compose down without doing docker-compose stop before.

{Reactions}
üòÆ 

[02/02/2022 9:02 AM] ilya | dappstep#9261
Hey, trying to generate airdrop transaction using `/wallet/transactions/generate`
Here is my payload

**And a response **
```
{
    "error": 400,
    "reason": "bad.request",
    "detail": "The request content was malformed:\nLong: DownField(amount),DownArray,DownField(assets),MoveRight,DownArray,DownField(requests)"
}
```

Were I'm doing wrong?
The token has 1 decimal.


[02/02/2022 9:02 AM] ilya | dappstep#9261
{
  "requests": [
    {
      "address": "9hnFL4Yea846n4UunhL8eRvPpUDAaVzEfhrefb59SapdDje46ZR",
      "value": 0,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 1000
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    },
    {
      "address": "9eXX2ZzBrPuR4XZhmZbWXujMi5XVTA7vnhNFcxhwf5uKof2QZUw",
      "value": 0,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 2000.1
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    },
    {
      "address": "9hsKJ4LXCCPRqzNn6MMADaGC26cERMNNdL5my9gJkD4MmauesS4",
      "value": 0,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 3000.2
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    },
    {
      "address": "9gdD4EmYjvKXCzgsQNHVFwcFrQ5vxqCWf6k2i4tFn7zwQhDATo8",
      "value": 0,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 4000.3
        }
      ],
      "registers": {
        "R4": "100204a00b08cd0336100ef59ced80ba5f89c4178ebd57b6c1dd0f3d135ee1db9f62fc634d637041ea02d192a39a8cc7a70173007301"
      }
    }
  ],
  "fee": 1500000,
  "inputsRaw": [
    "string"
  ],
  "dataInputsRaw": [
    "string"
  ]
}


[02/02/2022 9:03 AM] HazeyOneKenobi#2091
Couple things to change here - value under address needs to be 1000000 minimum


[02/02/2022 9:03 AM] HazeyOneKenobi#2091
Which is 0.001 erg


[02/02/2022 9:03 AM] ilya | dappstep#9261
@HazeyOneKenobi What this value is represents?


[02/02/2022 9:03 AM] HazeyOneKenobi#2091
Ergs to send


[02/02/2022 9:03 AM] HazeyOneKenobi#2091
Or nanoErgs more accurately


[02/02/2022 9:03 AM] HazeyOneKenobi#2091
And in the token 'amount' field you can't provide decimals


[02/02/2022 9:04 AM] HazeyOneKenobi#2091
If the token has 1 decimal, just add a 0. So sending 1000 will have amount 10000 with 1 decimal


[02/02/2022 9:04 AM] ilya | dappstep#9261
Got you! And what's this R4 parameter? Do I really need it?


[02/02/2022 9:05 AM] HazeyOneKenobi#2091
Nah r4 is for extra registers, you don't need it. You don't need data Inputs or inputs raw either


[02/02/2022 9:06 AM] HazeyOneKenobi#2091
Everything else looks good. Be careful with fee when airdropping, too low a fee can make it get mined very slowly


[02/02/2022 9:06 AM] ilya | dappstep#9261
So I basically sending 0.001erg to every address along with the tokens?


[02/02/2022 9:06 AM] HazeyOneKenobi#2091
Yes!


[02/02/2022 9:06 AM] ilya | dappstep#9261
What minimal fee do you suggest?


[02/02/2022 9:06 AM] HazeyOneKenobi#2091
Can't send just tokens, have to have at least the minimum amount of erg to form an output box


[02/02/2022 9:07 AM] HazeyOneKenobi#2091
So my fee for airdrops is dynamic now, which should be able to cope with airdrops whilst the network is at load. But if there's no rush and the airdrop is OK to take hours, you can just specify minimum of 0.001 erg fee


[02/02/2022 9:08 AM] HazeyOneKenobi#2091
But for fee to be dynamic you need to increase it based on the overall size of your request in bytes. I just did minFee +( number of addresses * minFee / 3) or something


[02/02/2022 9:10 AM] ilya | dappstep#9261
Ok, I'll try to do the same! Thank you for help!


[02/02/2022 9:10 AM] HazeyOneKenobi#2091
Np np!! Just shout if you hit any more issues


[02/02/2022 9:10 AM] ilya | dappstep#9261
BTW the generated transaction has no fee, I'm i suppose to add it myself?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/938360730326024242/message.txt


[02/02/2022 9:10 AM] ilya | dappstep#9261
I have it in the initial request


[02/02/2022 9:11 AM] ilya | dappstep#9261
Should I use generateUnsigned instead?


[02/02/2022 9:11 AM] ilya | dappstep#9261
I've used /generate


[02/02/2022 9:11 AM] HazeyOneKenobi#2091
Oh I'm not sure about that! It's definitely /generate


[02/02/2022 9:11 AM] HazeyOneKenobi#2091
And once the call is genned you issue that same call into transaction/send


[02/02/2022 9:12 AM] HazeyOneKenobi#2091
Maybe it's just not displaying the fee on the generated tx output, but that sounds off to me, I think it should show fee


[02/02/2022 9:12 AM] ilya | dappstep#9261
Here is my request
{
  "requests": [
    {
      "address": "9hnFL4Yea846n4UunhL8eRvPpUDAaVzEfhrefb59SapdDje46ZR",
      "value": 1000000,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 10000
        }
      ]
    },
    {
      "address": "9eXX2ZzBrPuR4XZhmZbWXujMi5XVTA7vnhNFcxhwf5uKof2QZUw",
      "value": 1000000,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 20001
        }
      ]
    },
    {
      "address": "9hsKJ4LXCCPRqzNn6MMADaGC26cERMNNdL5my9gJkD4MmauesS4",
      "value": 1000000,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 30002
        }
      ]
    },
    {
      "address": "9gdD4EmYjvKXCzgsQNHVFwcFrQ5vxqCWf6k2i4tFn7zwQhDATo8",
      "value": 1000000,
      "assets": [
        {
          "tokenId": "52c55291a7490e49ac3855c9d2f633f5a44fb77870218490fb29ff1991236976",
          "amount": 40003
        }
      ]
    }
  ],
  "fee": 15000000
}


[02/02/2022 9:14 AM] ilya | dappstep#9261
Do I need to sign it first via transaction/sign
or does transaction/send does it for me automatically?


[02/02/2022 9:15 AM] HazeyOneKenobi#2091
Does it automaticqlly


[02/02/2022 9:16 AM] HazeyOneKenobi#2091
I think the /generateUnsigned method is for forming a transaction and having someone else (like the dapp wallet) sign it after you provide password


[02/02/2022 9:19 AM] ilya | dappstep#9261
Hmm seems like I don't even need `/generate` 
`transactions/send` endpoint has the same request payload as `/generate`


[02/02/2022 9:44 AM] Krasavice Blasen#4574
You can use transaction/send on its own


[02/02/2022 9:45 AM] Krasavice Blasen#4574
Make sure you include the box you want to spend as bytes in InputsRaw


[02/02/2022 9:47 AM] Krasavice Blasen#4574
Otherwise, you can use the output of /generate as the input for /transactions to send to the network


[02/02/2022 10:03 AM] ilya | dappstep#9261
@Krasavice Blasen It seems to me that transactions/send does `/generate, /sign, /check, /send` all together underhood.
Why do I need to include the box manually? Can't it just take whatever unspended boxes that I have for the token?


[02/02/2022 10:10 AM] Krasavice Blasen#4574
Faily sure you need to specify InputsRaw. If you just have the tokens in your wallet then you can just use payment/send instead


[02/02/2022 10:10 AM] HazeyOneKenobi#2091
Yeah the node will figure out what boxes to spend if you don't provide inputsRaw. If you wanted to specify the box to spend you would need to /getBoxBinary and provide the response from that in inputsRaw


[02/02/2022 10:11 AM] Krasavice Blasen#4574
Ah ok. Well really it sounds like payment/send more suitable


[02/02/2022 10:11 AM] Krasavice Blasen#4574
oh but you cant customise fee


[02/02/2022 10:11 AM] HazeyOneKenobi#2091
Isn't payment/send just for a single payment? Or can multiple addr be given in it? And tokens too?


[02/02/2022 10:13 AM] Krasavice Blasen#4574
assumed you can do multiple since its in a list


[02/02/2022 10:16 AM] ilya | dappstep#9261
payment/send looks  a subset  of transaction/send with limited features


[02/02/2022 10:17 AM] ilya | dappstep#9261
Just tested `transaction/send`  it worked fine with the payload above (same as for generate transaction)


[02/02/2022 10:18 AM] ilya | dappstep#9261
It does the job


[02/02/2022 10:18 AM] Krasavice Blasen#4574
Sweet. On-chain now?


[02/02/2022 10:25 AM] ilya | dappstep#9261
Yes
https://explorer.ergoplatform.com/en/transactions/85cee79ad688212debe244fd4349e3c079cffc7a9cebd6ce2ae71b9a51931242


[02/02/2022 1:21 PM] Telefragged#8068
Is there a known bug with the node scan APIs? I unregistered a scan and created a new one. It was created with the same ID as the old scan but when listing boxes with that scan ID it returns the boxes for the old scan I tried to unregister instead of the new one.


[02/02/2022 1:22 PM] Telefragged#8068
I only managed to register the scan I wanted by registering it twice so that the id was higher than a previous one I had created.


[02/02/2022 1:39 PM] kushti#0978
"amount": 2000.1 - no decimals at this level, you're working with smallest denomination
also, "inputsRaw": [] , data inputs also


[02/02/2022 1:49 PM] kushti#0978
Weird, new scan's id should be increased.


[02/02/2022 1:50 PM] kushti#0978
Just checked


[02/02/2022 1:50 PM] kushti#0978
Any details?


[02/02/2022 1:54 PM] Krasavice Blasen#4574
Trying to take the blake2b256 of an ergotree but not getting the correct output. Anyone recommend somewhere to do this? For instance perhaps I can use /utils/hash/blake2b with node, but that takes string input. How can I give hex input?


[02/02/2022 2:41 PM] Telefragged#8068
I tried reproducing it but was unable to. One thing to note was that I was creating scans while the wallet was scanning old boxes, not sure if that made a difference. I've also restarted the node a few times, but when I tried that now it still incremented the scan id correctly. For now it's more of a quirk than a real issue I guess but I will note down more information if it happens again


[02/02/2022 3:03 PM] Telefragged#8068
Scratch that, I was able to reproduce it. The steps were: Stopped node and cleared wallet directory. Started node and registered a scan which generated id 11. Re-initialized wallet. The `/scan/listAll` endpoint returns the scan but trying to unregister it returns bad request `"detail": "No scan exists or db error: Scan #11 not found"`. Registered a new scan which also generated id 11.


[02/02/2022 3:05 PM] Telefragged#8068
Seems like there is some race condition with registering scans and initializing the wallet.


[02/03/2022 7:07 AM] kii#8888
Is there a way to await for a transaction to finish being sent and mined using appkit?


[02/03/2022 7:20 AM] MrStahlfelge#0042
You can observe the mempool


[02/03/2022 8:00 AM] Cheese Enthusiast#0548
I have used the explorer and node api present in appkit to send requests to retrieve transaction confirmations. You should be able to use the other api requests available to check for transactions in the mempool.


[02/03/2022 8:52 AM] MrStahlfelge#0042
at the time being I would recommend to use the node mempool you sent the tx too. explorer mempool has been unreliable recently, and in any case the node you've sent the tx too should have the best information on it anyway


[02/03/2022 4:19 PM] 6directions#1089
is there available documentation on how to consume oracle pool data?


[02/03/2022 5:29 PM] Krasavice Blasen#4574
What is the wallet pass for public node 213.239.193.208:9053?


[02/03/2022 6:06 PM] abchris#8522
The latest datapoint can be retrieved from the epoch preparation box's R4.

{Reactions}
üëç 

[02/03/2022 6:07 PM] abchris#8522
<https://github.com/ergoplatform/oracle-core/blob/master/docs/specs/v0.2/Deviation-Checking-Oracle-Pool-Spec.md> is a good read


[02/03/2022 6:07 PM] abchris#8522
That's for current V1 pools. Haven't looked much into V2 yet.


[02/03/2022 6:37 PM] Krasavice Blasen#4574
Getting wallet locked. When trying to use wallet/transaction/generate on public node or wallet/transaction/send


[02/03/2022 6:58 PM] 6directions#1089
thank you


[02/03/2022 7:53 PM] abchris#8522
I don't think you can. You need your own node to use the private api, otherwise anyone would be able to spend whatever the node holds ; )

{Reactions}
üëç 

[02/03/2022 9:57 PM] MGpai#4313
@glasgowm can you elaborate on ERG L2 solutions or provide some links?


[02/03/2022 10:02 PM] glasgowm#9381
https://docs.ergoplatform.com/dev/protocol/scaling/

https://discord.com/channels/668903786361651200/669989266478202917/938424462657851432

{Reactions}
üëç (2) üëÄ (2) 

[02/04/2022 5:04 AM] quokka#1273
Hey everyone need some help. Whenever I build a tx and send it to yoroi or nautilus to sign, after I sign it I get returned a tx ID that never shows up in the mempool. What causes this?


[02/04/2022 8:10 AM] ilya | dappstep#9261
Because it's not submitted?


[02/04/2022 8:22 AM] MrStahlfelge#0042
or mempool buggy, had some quirks the last days


[02/04/2022 3:30 PM] quokka#1273
I don‚Äôt think it submits. I‚Äôm just wondering what causes that. Maybe the tx that we built and sent to dApp connector isn‚Äôt correct?? Idk


[02/04/2022 3:30 PM] quokka#1273
Good to know, this probably isn‚Äôt the reason ours is buggy but still


[02/05/2022 5:39 AM] davidcodes#2138
Evesdeoving here but if I read in between the lines the idea would be the have pure front end sites generate the contracts and tx templates .
Wallets would be able to read those templates, ask user for inputs and carry it out . Is that correct ?


[02/05/2022 5:22 PM] 6directions#1089
Is it possible to search for ergo assets by name?


[02/05/2022 8:07 PM] SoCool#6419
That's the goal - all the dApps websites can create with none of the wallet access in browser, moreover dApps not needing to be anything but JS that lets you fill out forms and construct the transactions, and you use your phone to review and approve

{Reactions}
üëç 

[02/05/2022 8:08 PM] SoCool#6419
Feels a bit like it adds MFA to transactions which feels nice - also keeping the transactions between your wallet and the ergo network as opposed to them going dApp->wallet for signing->dApp->network


[02/05/2022 8:09 PM] SoCool#6419
it would just then be dApp->wallet for signing, and submission->network

But this was all identified out by @MrStahlfelge in EIP-0020, great work on that

{Reactions}
üëç 

[02/05/2022 8:13 PM] MrStahlfelge#0042
MFA? 
just keep in mind that for some of the ergopay features a backchannel is needed which means it has to be done on server. that is if you want to get the user's p2pk address (you can alternatively ask the user in your front end), and if your transaction exceeds the qr code limit


[02/05/2022 10:15 PM] quokka#1273
This is how I'm building my tx, i dont think listedbox and changebox are the issue

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/939645490637733938/build.PNG


[02/05/2022 11:07 PM] kushti#0978
Any details?


[02/05/2022 11:09 PM] MrStahlfelge#0042
The behaviour we experienced before, mempool changed being empty and filled on every request


[02/05/2022 11:09 PM] MrStahlfelge#0042
(explorer API)


[02/06/2022 12:09 AM] MGpai#4313
@glasgowm Could you share some info on chained transactions or link some stuff? Thanks!


[02/06/2022 4:41 PM] glasgowm#9381
Raffle repo probably your best bet. Has a short description then you'd need to read through the backend code.

Not sure there's any tutorials made for this. Think the tip bot also uses tx chaining though.

https://github.com/ErgoRaffle/

{Embed}
https://github.com/ErgoRaffle/
ErgoRaffle
ErgoRaffle has 3 repositories available. Follow their code on GitHub.
https://images-ext-1.discordapp.net/external/fFVKs6jluPFD5LygH0x8OW-gM2OA1d2U9W9mmp5uEE8/%3Fs%3D280%26v%3D4/https/avatars.githubusercontent.com/u/87830076

{Reactions}
üëç 

[02/06/2022 7:43 PM] 6directions#1089
hey all, I'm running some tests on testnet...
Using appkit to mint a token (following this example https://github.com/zackbalbin/ErgoTutorials/blob/master/appkit/scala/minttoken/src/main/scala/minttoken/MintToken.scala)
But for some reason, even though the code runs without errors and prints the txJson at the end of the run, the tx never shows up in the mempool.
I've run it multiple times and still nothing.
I've seen some instances of people running into the same problem, so I ran the FreezeCoin example to see if the same happened. But in that case, the tx DOES show up in the mempool and eventually gets confirmed.

I imagined that if my minting tx was invalid, the node would reject it. so is it possible that there's something wrong with my tx, but the node is silently dropping it?


[02/06/2022 7:49 PM] 6directions#1089
ah, I see... this is probably what's happening
https://discord.com/channels/668903786361651200/840313005064585246/937609452075503646


[02/06/2022 9:09 PM] MrStahlfelge#0042
hard to say what exactly is the problem. maybe you didn't set the token id to the first inbox id?


[02/06/2022 9:10 PM] 6directions#1089
I thought of that but it seems like appkit is doing that correctly under the hood

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/939991590179598476/unknown.png


[02/07/2022 4:41 AM] 6directions#1089
is it possible to issue more than one asset in one tx?
I mean like, (name = asset1, amount = 1) and (name = asset2, amount = 1) in the same tx, as opposed to (name = asset1, amount = 2).
I just attempted submitting a payload to `/wallet/transaction/send` with 2 `AssetIssueRequest`s, and it failed, but wondering if it's because it's not supported or if maybe I'm not building the tx correctly.


[02/07/2022 4:48 AM] 6directions#1089
considering the id of an asset is the id of the first input to the tx, I'm inclined to think it's not possible?
otherwise, how could the two (or more) different assets have different ids?


[02/07/2022 5:02 AM] abchris#8522
You answered your own question üëç

{Reactions}
üëç (2) üôÇ (2) 

[02/07/2022 8:05 PM] MGpai#4313
how is the token id generated?


[02/07/2022 8:05 PM] MGpai#4313
Do you need it before submitting or does the network automatically give a token id?


[02/07/2022 9:01 PM] MrStahlfelge#0042
always the id of the first input box


[02/07/2022 9:26 PM] MGpai#4313
Is appkit dependencies added here?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/940357937803689984/unknown.png


[02/08/2022 3:04 AM] abchris#8522
Out of curiosity, what do people usually rely on to identify tokens and NFT's? Is it the token id or the minting box id?


[02/08/2022 3:05 AM] abchris#8522
Since you can mint the same token in multiple output boxes of the same tx, it seems like using the token_id alone could lead to bad surprises?


[02/08/2022 3:36 AM] Cheese Enthusiast#0548
I think most people just use the token id but it depends on what you‚Äôre trying to do. You could always just write a smart contract that ensures that whatever token is minted by it has a supply of 1.

{Reactions}
üëç 

[02/08/2022 6:53 AM] 6directions#1089
A question about token minting and token identity.

In tx 1, I can mint `MyToken` with a given supply, and it might have ID ABC.

In tx 2, I can mint another token with the same name (`MyToken`) and a given supply, but it will have a different ID, maybe XYZ (depends on the id of the first input to the tx).

How do dApps like SigmaUSD, that have to mint and burn tokens on demand, ensure token authenticity?

100 SigUSD might be minted in one tx, and 100 more might be minted in another. How are tokens issued in different transactions treated a valid SigUSD?

Moreover, what prevents someone from issuing 1 million tokens with the name SigUSD, and claiming they have 1M SigUSD?


[02/08/2022 7:22 AM] abchris#8522
All sigmausd tokens were minted at once. They are held in a single "bank" box. When you convert ERG for SigUSD on sigmausd.io, you get some tokens from that bank box (and we commonly refer to that as "minting" SigUSD, which may be confusing). Similarly, when you redeem SigUSD, it goes back to the "bank".


[02/08/2022 7:23 AM] abchris#8522
You can't redeem SigUSD you created yourself because it doesn't have the same token id as the real SigUSD.


[02/08/2022 7:26 AM] 6directions#1089
Interesting... In theory, what would happen if there came a point when more SigUSD were needed than was minted?

Also, was the same done for SigRSV?


[02/08/2022 7:45 AM] abchris#8522
Yes, same for SigRSV. I think they minted 100 billion SigUSD, which should be more than enough for the foreseeable future.


[02/08/2022 8:10 AM] MrStahlfelge#0042
Interesting question. My guess is that the first outbox is used.
Is it intended that we can have multiple outboxes minting the same token @kushti


[02/08/2022 8:30 AM] abchris#8522
That is what the explorer does, ignoring any other boxes. I filed an issue for that. But yeah, curious to hear if that's what was intended or not. Seems to mess with EIP-4 as well.


[02/08/2022 8:35 AM] MrStahlfelge#0042
Yes eip4 should have a section describing what's the correct behaviour. My feeling is that such minting should be forbidden/invalidated by nodes


[02/08/2022 8:47 AM] abchris#8522
Agreed


[02/08/2022 12:20 PM] tdj#1676
i want to know the future of "generative" nft on ergo blockchain, in eth they can do it in just 2 hours and 3 steps (3 ready-to-use repos) , i guess all done in static website with dapp connector ( and all contract done on the blockchain) https://www.youtube.com/watch?v=fzH7Gjadmj0&t=5790s
1. art engine repo (to make the generative art)
2. nft (smart) contract repo
3. nft minting dapp repo
 
is (or will) there any AiO tutorial/"ready-to-use repos" on ergo to make generative nft  for nft maker with just basic knowledge of coding (like me), and does ergo capable to match the "convenience" like making generative nft in eth does.. so far i did nft in "classic way"..  maybe in my free time i want to learn and make one , but i dont want to learn and make anything from scratch , it will be really time-saver

{Embed}
HashLips NFT
https://www.youtube.com/watch?v=fzH7Gjadmj0&start=5790
How to create an NFT collection - Ultimate guide
Welcome to the one video that you will need to fully upload an NFT collection onto the Ethereum or Polygon network. I had a lot of fun creating this video and I hope you have just as much fun following along.

Thank you for everyone's support, see you in the next video.

Twitter
https://twitter.com/de_botha

Discord
https://discord.gg/qh6MWhMJDN...
https://images-ext-1.discordapp.net/external/_x_OpI4BlawVg0wJ01_i-PhWGesCFpLpyfS0WwKQGJI/https/i.ytimg.com/vi/fzH7Gjadmj0/maxresdefault.jpg


[02/08/2022 2:03 PM] keepsformat#1919
where to report scam messages?


[02/08/2022 2:06 PM] glasgowm#9381
no need to report they grabbed your name when you were unverified

{Reactions}
ThumbsBoy 

[02/08/2022 3:39 PM] _jd_#3179
Good morning everyone. I'm trying to run an Ergo Node for the first time.

I used this as a guide: https://github.com/ergoplatform/ergo/issues/1350#issuecomment-1007938612 (so it's on docker). The logs look good, but I can't connect on my local host.

I get the following message on Safari:
`Safari can‚Äôt open the page ‚Äúhttp://localhost:9030/‚Äù. The error is: ‚ÄúCancelled load from 'http://localhost:9030/' because it is using HTTP/0.9.‚Äù (:0)`

And the following message on Chromium (not as helpful): ERR_CONNECTION_REFUSED


[02/08/2022 3:42 PM] _jd_#3179
Actually I reran it w/ mainnet and it's WORKING! Just not testnet?


[02/08/2022 4:43 PM] glasgowm#9381
Isn't test-net 9020?


[02/08/2022 4:43 PM] glasgowm#9381
https://discord.com/channels/668903786361651200/840313005064585246/931098707871547412


[02/08/2022 5:21 PM] MrStahlfelge#0042
Does someone know how Node's utxo/withPool/byId API behaves when it gets asked for a box that is spent in mempool only? does it return an error or does it return the box?


[02/08/2022 10:36 PM] _jd_#3179
So that works. Is there a particular reason why?


[02/08/2022 10:36 PM] _jd_#3179
Where did we go on this? Is it changed? I could do it otherwise. This was rough.


[02/08/2022 10:37 PM] _jd_#3179
Also, thanks man!


[02/08/2022 11:02 PM] glasgowm#9381
Think it's just so it doesn't conflict if you want to run a mainnet node


[02/08/2022 11:03 PM] glasgowm#9381
On the list, but docs site is open for PRs!


[02/08/2022 11:30 PM] MGpai#4313
how do I convert `hello` into the registry format


[02/08/2022 11:31 PM] MGpai#4313
I know the bytes are `68656c6c6f`


[02/08/2022 11:31 PM] MGpai#4313
but how do I get the 0e + byteArray.length part?


[02/09/2022 4:39 AM] MGpai#4313
what is `intToVlq`


[02/09/2022 4:39 AM] MGpai#4313
any code showing how this is done?


[02/09/2022 7:24 AM] MrStahlfelge#0042
OutboxBuilderImpl mintToken


[02/10/2022 4:56 AM] 6directions#1089
Is it possible to store something like a Scala `Map[String, String]` or `Array[String]` in a box's registers?

Ultimately the content of one of those data structures "in some form"


[02/10/2022 5:01 AM] Cheese Enthusiast#0548
You could store a ```Coll[(Coll[Byte], Coll[Byte])]``` or a ```Coll[Coll[Byte]]```


[02/10/2022 5:06 AM] 6directions#1089
tried what would be `Coll[Coll[Bytes]]`, but not sure how to properly set it in a register


[02/10/2022 5:06 AM] 6directions#1089


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/941198541106339860/unknown.png


[02/10/2022 5:07 AM] 6directions#1089
getting a compiler error `Cannot resolve overloaded method 'of'`. looks like `of` has an overload for a byte array, but not for a an byte array array


[02/10/2022 5:12 AM] Cheese Enthusiast#0548
@6directions This is how we convert between ergoValues, values grabbed from registers(nValue) and values used in off chain code (cValue).
This register is a ```Coll[(Coll[Byte], Coll[Byte])]``` that we are trying to use as a ```Array[(Array[Byte], String)]``` off chain.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/941199883707224115/Capture.PNG


[02/10/2022 5:17 AM] Cheese Enthusiast#0548
you also need to give the ErgoType when setting a register. For a ```Coll[Coll[Byte]]``` I would try ```ErgoType.collType(ErgoType.byteType())```


[02/10/2022 5:23 AM] 6directions#1089
like this? looks like I'm still missing something

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/941202713826443294/unknown.png


[02/10/2022 5:25 AM] 6directions#1089
it looks like `.of` has an overload with signature `of(arr: Array[T], tT: ErgoType[T])`, which seems like what I'm trying to do?


[02/10/2022 5:26 AM] 6directions#1089
learning to use Scala and AppKit as I go along üôÇ


[02/10/2022 5:32 AM] Cheese Enthusiast#0548
I would suggest using Coll() when dealing with registers, I've found some weird issues when using Arrays, especially Array[Byte] seems to act off.

You can convert your arrays to colls using
```special.collection.Builder.DefaultCollBuilder.fromArray(arr)(ergoType.getRType)```


[02/10/2022 5:34 AM] Cheese Enthusiast#0548
I think you can also do sigmastate.eval.CostingSigmaDslBuilder.Colls.fromArray()

Either way you need the RType, which can be found from the getRType method for whatever ErgoType you are using.


[02/10/2022 5:46 AM] 6directions#1089
do you happen to have an example of how you go from an array/collection, to setting the register value?


[02/10/2022 5:47 AM] 6directions#1089
I may just need to spend some more time trying out the things you suggested. I cannot get it to work rn.


[02/10/2022 6:11 AM] Cheese Enthusiast#0548
Sure, so if you have:
```scala
val x: Array[Array[Byte]] = ...
```
And you want a
```scala
Coll[Coll[Byte]]
```

First you know that the ErgoType is 

```scala
val ergoType = ErgoType.collType(ErgoType.byteType())
```
for the whole thing and is 
```scala
val innerErgoType = ErgoType.byteType()
``` for the inner collection.

You can do
```scala
val y: Array[Coll[Byte]] = x.map(ba => Colls.fromArray(ba, innerErgoType.getRType())
```

And then
```scala
val z: Coll[Coll[Byte]] = Colls.fromArray(y, ergoType.getRType())
```

To set in the register do
```scala
.registers(ErgoValue.of(z, ergoType))
```

Hope that helped!


[02/10/2022 7:18 AM] 6directions#1089
thank you so much! this works and it helped to understand better!


[02/10/2022 12:09 PM] SoCool#6419
For anyone here who's been doing scala for years:

Current state of scala development, is it most common and well supported to use IntelliJ, VSCode, vim, emacs? I played with scala 6 years ago but was using emacs and need to start picking scala back up

Has the broad scala community settled more closely to writing code as Java++ or leaned more into FP? I recall at the time I messed with it Scalaz was taking off a bit and seemed people were leaning into that but I'm suspicious that FP really hasn't taken hold despite years of pitching it (I say this as a Haskeller once upon a time..)

Any suggested resources for examples of what stylistic and design approaches are common to current scala practices? Antipatterns resources ("Don't use traits for X", "Don't use case classes unless Y") ?


[02/10/2022 12:21 PM] MrStahlfelge#0042
not a real scala dev but I am tinkering a bit around with it when needed in appkit. it works somehow in IntelliJ with Scala plugin, would use that.
About the part with FP hasn't taken hold... I as someone once being big into Haskell would say that the enormous success of FP concepts being adopted by imperative languages is causing FPL not taking off any more. Everything I really loved about Haskell can be done in Kotlin today, lazy evaluation being the only exception.


[02/10/2022 12:27 PM] SoCool#6419
Ironically Kotlin and Scala are the two techs about to be a part of my day-to-day, just a coincidence of timing that I've been digging around Ergo recently heh, kotlin resources would be appreciated too if you can point me towards some


[02/10/2022 12:30 PM] MrStahlfelge#0042
what kotlin resources do you need? the interesting part of kotlin is that you can start out developing very Java like, but can start to transform to more functional code when you are ready for it. to begin, watch out when you use IntelliJ what linter messages show for improvement suggestions, and don't use for loops any more.


[02/10/2022 12:33 PM] SoCool#6419
Not going to ask you to give me all those best practices like "don't use for loops" (stopped that years ago heh, yuck) - but exactly that type of thing if you know where any blogs are about such that's current. Digging into new languages it's always problematic looking at resources myself and being able to know if they're giving dated or present guidance (C++ being the classic failure - 15 year old best practices littering the internet saying don't do things the way they did 15 years before that and so on..)


[02/10/2022 12:34 PM] MrStahlfelge#0042
that's why I just look at the linter. downside is, you update your kotlin version and new lint messages show up. üòÑ


[02/10/2022 12:35 PM] kii#8888
Hey guys. Quick question. 

I have a transaction where the proving succeeded. But then when I send the tx. I received null as the txId. 

What does this mean?


[02/10/2022 12:39 PM] SoCool#6419
Good advice, thanks! Like if someone asked me similarly of react I would say get the airbnb linter and let it tell you what to do; on Kotlin just follow what its baked in linter asks for üëç  Anyhow, above all else as always I'll mimic the patterns and tooling of the code base I'm about to be dealing with... Might play with AppKit a bit, and Ergo Wallet as a way to get my head in the game.


[02/10/2022 12:41 PM] MrStahlfelge#0042
which appkit version are you using? if not 4.0.6, use 4.0.6


[02/10/2022 12:45 PM] kii#8888
It seems mine is this: develop-dd40e4e5-SNAPSHOT

I'll try tht. 

Why does it return null though. 

Also, i saw the ergopay update. Can't wait to implement it into ErgoLend. I am at the last stage of ErgoLend Txs where we pay back lenders the repayment. Once we get the first version out, I'll look into integrating ErgoPay's api. Excited


[02/10/2022 12:46 PM] MrStahlfelge#0042
older versions returned null when node returned an error, swallowing the error. newer ones throw the error up


[02/10/2022 12:47 PM] kii#8888
It seems like ErgoContracts is deprecated for 4.0.6?


[02/10/2022 12:48 PM] kii#8888
ErgoContracts.sendToPk


[02/10/2022 12:48 PM] MrStahlfelge#0042
use boxoperations it is there

{Reactions}
üëç 

[02/10/2022 4:05 PM] Huginn#2291
Hi, I am trying to do a similar thing in the scastie. I have no experience with scala. May I kindly ask someone to help me a bit?
In my example I have
`var x : Array[SigmaProp] = Array()`
and in a loop I add new pubKeys. My script takes new participants but has to keep the previous ones. Currently I have an array where I plan to add new participants.
(Maybe I am able to retrieve from the box I'm spending all participants and just append the new one, I dont know how though)

Question is, when I want to map this to register I would have to do the steps you showed in the reply, but I dont know in which library I should find Colls. If you are interested here is my link, but it's messy as it's just prototyping https://scastie.scala-lang.org/The-Huginn/R7MQNunpRKKk5XqADMrDeA/184

{Embed}
https://scastie.scala-lang.org/The-Huginn/R7MQNunpRKKk5XqADMrDeA/184
Scastie - An interactive playground for Scala.
// Head and Tails multistage game
// 0 = Head, 1 = Tails

// Required import for the Ergo Playground
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
import org.ergoplatform.playground._
// import ErgoBox and hash function
import org.ergoplatform.appkit.ErgoType
import java.util....
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[02/10/2022 4:06 PM] Huginn#2291
Maybe it's not even related to that, as it does not allow to sign the transaction, it's just I read that comment and thought I might have the same problem


[02/10/2022 8:02 PM] MGpai#4313
I am having an issue with this code 
```
      val newBox = txBuilder.outBoxBuilder()
        .value(amountToSpend)
        .tokens(token)
        .contract(ErgoContracts.sendToPK(ctx, recieverWalletAddress))
        .build()
```


[02/10/2022 8:02 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/941423934354649128/unknown.png


[02/10/2022 8:02 PM] MGpai#4313
if I remove the `s`...


[02/10/2022 8:03 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/941424036540469278/unknown.png


[02/10/2022 8:43 PM] MrStahlfelge#0042
do it like here https://github.com/ergoplatform/ergo-appkit/blob/eef262b48cd14ba3d3f8a71201aabbbe28680302/lib-api/src/main/java/org/ergoplatform/appkit/BoxOperations.java#L68


[02/10/2022 9:03 PM] MGpai#4313
Yes that worked for the contract but I been getting a box error now


[02/10/2022 9:03 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/941439338791702608/unknown.png


[02/10/2022 9:04 PM] MGpai#4313
```
val unspent = ctx.getUnspentBoxesFor(sender, 0, 20)
      val boxesToSpend = BoxOperations.selectTop(unspent, totalToSpend)
```


[02/10/2022 10:04 PM] Cheese Enthusiast#0548
Are you trying to mint a token or use one from a box? It seems like your input boxes dont have enough tokens so the tx couldnt be sent.

{Reactions}
üëç 

[02/10/2022 10:15 PM] MGpai#4313
trying to send tokens to another address via appkit


[02/11/2022 1:02 AM] Cheese Enthusiast#0548
You should make sure if the boxes in `unspent` have enough token first. If they don't then you should search until you find a set of boxes that do have enough ERG and tokens. You can also use `ctx.getCoveringBoxes` to search for boxes that have a desired amount of ERG and tokens

{Reactions}
üëÄ 

[02/11/2022 6:46 AM] MrStahlfelge#0042
Btw, all that already covered by the helper methods in boxoperations


[02/11/2022 8:46 AM] Huginn#2291
Hi @Cheese Enthusiast , sorry for the ping, would you mind checking my code in scastie? I saw you were guiding one guy with how to write into registers as Collection but I am not able to run it, can you please help me? you can search for HELP to navigate where. Also, am I able to retrieve current value from some deployed box on blockchain so I dont have to store it locally or is that not possible? https://scastie.scala-lang.org/The-Huginn/R7MQNunpRKKk5XqADMrDeA/185

{Embed}
https://scastie.scala-lang.org/The-Huginn/R7MQNunpRKKk5XqADMrDeA/185
Scastie - An interactive playground for Scala.
// Head and Tails multistage game
// 0 = Head, 1 = Tails

// Required import for the Ergo Playground
import org.ergoplatform.compiler.ErgoScalaCompiler._
import org.ergoplatform.playgroundenv.utils.ErgoScriptCompiler
import org.ergoplatform.playground._
// import ErgoBox and hash function
import org.ergoplatform.appkit.ErgoType
import java.util....
https://images-ext-2.discordapp.net/external/ShkQTgvvG8UjMiDn9S4Yln0qIL78mBqhFH5aLJnvGUY/https/scastie.scala-lang.org/public/sharing-image-small-red.png


[02/11/2022 11:20 AM] kushti#0978
simplified python version : https://github.com/sininen-taivas/ergo-numerals/blob/master/vlq.py

{Embed}
https://github.com/sininen-taivas/ergo-numerals/blob/master/vlq.py
ergo-numerals/vlq.py at master ¬∑ sininen-taivas/ergo-numerals
Contribute to sininen-taivas/ergo-numerals development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/NYpu37kNCJUrpCoelT78tfBE01IpLT-SnWDoHYFt9rU/https/opengraph.githubassets.com/08c3309783a0573f2656de2a22998c8ba9557a91bd5467ca1fd662ef68f0477e/sininen-taivas/ergo-numerals


[02/11/2022 1:39 PM] SoCool#6419
When I get token info from `/api/v1/tokens` it has emissionAmount - that doesn't account for burned ones, does it? The total circulating supply to calculate market cap from would need to look beyond the emissionAmount, no?


[02/11/2022 1:40 PM] SoCool#6419
Would I need to retrieve all boxes with the tokens and calculate through them all?


[02/11/2022 2:10 PM] MrStahlfelge#0042
Probably yes


[02/11/2022 4:53 PM] SoCool#6419
Figured. Would have been too easy üòÑ Is there a different way to get market cap? Am I thinking the wrong thing in believing that iterating through *all* boxes for a given token would be an amount of paged requests and boxes that would just be ridiculous and inappropriate? I must be misunderstanding something, surely there's another way of getting market cap.. Is the alternative to dig the token amount out of mempool in my own running node by querying it  in proc of the node?


[02/11/2022 5:24 PM] MGpai#4313
Thank you but it does not seem to work:

Lets take "USD" for example
"USD" ==> bytes = 555344
intToVlq of 555344 ==> 03
final encode: 0e + 03 + 555344 = 0e03555344
This was taken from the github repo

now for  the python program I run `python vlq.py 6` where 6 represents the length of the byte array of "USD"
This returns "050c" which is not similar to "03"

Just in case I also ran `python vlq.py 3`
This returned "0506" which again is not simliar to "03"


[02/11/2022 7:23 PM] MGpai#4313
do registers have limits to the amount of characters you can put in it


[02/11/2022 7:39 PM] _jd_#3179
Hi all, I'm getting this error message:
`overloaded method value Box with alternatives:
  (value: Long,token: (org.ergoplatform.playground.TokenInfo, Long),register: (org.ergoplatform.ErgoBox.NonMandatoryRegisterId, Any),script: org.ergoplatform.playground.ErgoContract)org.ergoplatform.ErgoBoxCandidate <and>
  [T](value: Long, register: (org.ergoplatform.ErgoBox.NonMandatoryRegisterId, T), script: org.ergoplatform.playground.ErgoContract)org.ergoplatform.ErgoBoxCandidate <and>
  (value: Long,token: org.ergoplatform.playgroundenv.models.TokenAmount,script: org.ergoplatform.playground.ErgoContract)org.ergoplatform.ErgoBoxCandidate <and>
  (value: Long,script: org.ergoplatform.playground.ErgoContract)org.ergoplatform.ErgoBoxCandidate
 cannot be applied to (value: Long, registers: Map[org.ergoplatform.ErgoBox.NonMandatoryRegisterId,Any], script: org.ergoplatform.compiler.ErgoContract)`

even though I see the method here:
https://github.com/ergoplatform/ergo-playgrounds/blob/defae2bd4250a3ec7a721621fe565a4cd9fe650a/playground-env/src/main/scala/org/ergoplatform/playgroundenv/dsl/BoxDsl.scala

The scastie: https://scastie.scala-lang.org/fuIoGDHPRBChJVMN2fxtNA


[02/11/2022 7:54 PM] _jd_#3179
Actually, I'm getting `not found: type Player` too: https://scastie.scala-lang.org/jI44rcFATXiDakA91Pn7Iw


[02/11/2022 8:19 PM] Cheese Enthusiast#0548
Not entirely sure about registers specifically, but each box has a max size of 4096 bytes. Attempts to create boxes over that limit will fail.


[02/11/2022 8:26 PM] abchris#8522
I can add an api call to ErgoWatch for that. Need to make some more progress on the new backend first.


[02/11/2022 8:43 PM] MGpai#4313
thanks


[02/11/2022 8:47 PM] _jd_#3179
I was able to get past this by updating snapshot in libraryDependencies in Scastie. "0.0.0-65-c91117ae-SNAPSHOT" -> "0.0.0-79-6756e419-SNAPSHOT"


[02/11/2022 8:49 PM] _jd_#3179
Where can I find the latest snapshot?


[02/11/2022 9:10 PM] kushti#0978
Wait, zigzag + vlq used for numbers only, not byte arrays


[02/11/2022 9:11 PM] kushti#0978
Also, the script is adding prefix 05, which means long, 64 bits max, signed value


[02/11/2022 9:12 PM] kushti#0978
No, there is only per box limit of 4kb


[02/11/2022 9:20 PM] MGpai#4313
so get rid of the zigzag?


[02/11/2022 9:21 PM] MGpai#4313
I know my optimizations work for smaller length bytes but not sure longer ones


[02/11/2022 9:21 PM] MGpai#4313
is the length of `724` converted to vlq `0e5405`?


[02/12/2022 6:02 AM] 6directions#1089
what is the min amount of ERG a box has to hold?
I thought it was 0.001 ERG, but I just saw a box with 0.00006192 ERG.


[02/12/2022 6:31 AM] kii#8888
Depends on the bytes. But 0.001 is the safe threshold


[02/12/2022 6:34 AM] 6directions#1089
What do you mean by "depends on the bytes"?  the total bytes of the box?

Is it possible to create a new box with 0.00000001 ERG?


[02/12/2022 6:39 AM] 6directions#1089
I'm curious as to how a box ended up with 0.00006192 ERG ü§î 
It was the issuance box of a token I minted.


[02/12/2022 6:54 AM] kii#8888
https://discord.com/channels/668903786361651200/849659724495323206/921024190235148348


[02/12/2022 7:05 AM] 6directions#1089
interesting... no sure if im getting this correctly, but if the box size in bytes is greater than the min box size requirement, then the box can have less than 0.001 ERG?


[02/12/2022 7:08 AM] kii#8888
it will cost more if the bytes are more


[02/12/2022 10:58 AM] kushti#0978
Bytes written as is


[02/12/2022 11:00 AM] kushti#0978
Minted via what? Minting tools doing some box size estimation and then assign box value, network accepting a box if it has at least 360 nanoerg per byte currently, but usually tools are putting more there


[02/12/2022 1:24 PM] greenhat#6562
https://github.com/ergoplatform/ergo-playgrounds/runs/5083960400?check_suite_focus=true#step:7:22

{Embed}
https://github.com/ergoplatform/ergo-playgrounds/runs/5083960400?check_suite_focus=true
Merge pull request #23 from Luivatra/develop ¬∑ ergoplatform/ergo-pl...
Run contracts + off-chain code in the browser. Contribute to ergoplatform/ergo-playgrounds development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/XP1VZJRPgaXtST_72tbTAkzqfCh8Zk2C8NtXlnGpzo0/https/opengraph.githubassets.com/ed02d528a9fc2b3c65325f67a416a329bb3228f71914e4dd8f0bbe10e33635e2/ergoplatform/ergo-playgrounds


[02/12/2022 1:53 PM] 6directions#1089
Minted via http call to node's rest API.
And I see... Very interesting. Thank you!


[02/12/2022 5:27 PM] Lgmeister#4538
hello all, is there anyone who could help me out to integrate wallet support on my website in order to login and push data to a separate app? Is there an API for this with any of the wallets?


[02/13/2022 5:06 AM] 6directions#1089
```
val futureReceiverAdress: Address = Address.create(...)

val bytes = futureReceiverAdress.asP2K.toString.getBytes
val contentBytes = futureReceiverAdress.asP2K.contentBytes

bytes == contentBytes // false
```

im trying to store the address of a future receiver in a box registry so that a contract can later verify if one of the outputs is going to that address.
I see that the two values above are not the same.

what is the recommended way to store an address in a register?


[02/13/2022 5:08 AM] 6directions#1089
should I be using `futureReceiverAdress.getErgoAddres.script.bytes` instead?


[02/13/2022 5:11 AM] 6directions#1089
in the contract, I check too see if an output is going to a given address by doing
```
INPUTS(0).R6[Coll[Byte]].get == OUTPUTS(0).propositionBytes
```


[02/13/2022 5:17 AM] Cheese Enthusiast#0548
Use this: `futureReceiverAdress.getErgoAddres.script.bytes`

And make sure to convert it into a Coll[Byte] before putting it into the register

{Reactions}
üëç (2) 

[02/13/2022 5:19 AM] 6directions#1089
ah, that's right. I am just now remembering you mentioning that even though an `Array[Byte]` is an accepted type, it doesnt always work as expected


[02/13/2022 5:34 AM] 6directions#1089
another thing... if I am building a box that will be sent to a contract address, should I do
```
      val newBox = txBuilder.outBoxBuilder
        .value(amountToSpend)
        .contract(new ErgoTreeContract(contractAddress.asP2S.script))
        .build()
 ```

instead of?
```
      val newBox = txBuilder.outBoxBuilder
        .value(amountToSpend)
        .contract(new ErgoTreeContract(contractAddress.getErgoAddress.script))
        .build()
```


[02/13/2022 5:36 AM] Cheese Enthusiast#0548
I usually just use `contractAddress.getErgoAddress.script` but I'd imagine that it's probably the same thing

{Reactions}
üëç 

[02/13/2022 5:36 AM] 6directions#1089
interesting


[02/13/2022 5:37 AM] 6directions#1089
I am getting this error when trying to send and wasnt sure if it was related to the fact that that it was going to a contract address and maybe I wasnt setting it correctly
```
Exception in thread "main" java.lang.AssertionError: assertion failed: Tree root should be real but was UnprovenSchnorr(ProveDlog((<value1>,<value2>,1)),None,None,None,true,0)
```


[02/13/2022 5:38 AM] Cheese Enthusiast#0548
Seems like one of the boxes you are trying to spend is reducing to false. I *think* that's a P2PK address, so if it's false then it means that whatever mneumonic you're signing the tx with is incorrect.

{Reactions}
üëç 

[02/13/2022 5:41 AM] 6directions#1089
interesting ü§î  this particular tx is getting this error but others dont seem to, with the same mnemonic, same wallet.
I'll scan back through the code, maybe I missed something


[02/13/2022 5:42 AM] 6directions#1089
thank you


[02/13/2022 5:53 AM] 6directions#1089
I sent everything in my wallet back to myself, tried again and it worked üò≥ ü§∑‚Äç‚ôÇÔ∏è


[02/13/2022 5:58 AM] Cheese Enthusiast#0548
It's due to EIP-3 addresses. All the different addresses in your wallet require a slightly different prover in order to work. You can use `withEIP3Index(index: Int)` from `ErgoProverBuilder` in order to get a prover for a specific EIP3 address by its index.

{Reactions}
üòØ 

[02/13/2022 5:58 AM] Cheese Enthusiast#0548
But sending it all back to your index 0 address also works üôÇ

{Reactions}
üëç 

[02/13/2022 6:46 AM] MGpai#4313
yes that was it! Got it working perfectly


[02/13/2022 7:27 AM] MrStahlfelge#0042
You can construct a prover for all addresses this way as well


[02/13/2022 7:37 AM] 6directions#1089
Is there a way to "get rid" of a derived address?


[02/13/2022 7:52 AM] MrStahlfelge#0042
You can construct a new prover


[02/13/2022 3:33 PM] ilya | dappstep#9261
Any chance someone organize a short webinar/coding session (in European tz) that focus on ergoscript development flow?
I understand UTXO, i can run a node, i can read sc examples, but what i really need is a help with understanding development/debugging cycle. 
Starting from basic project structure, smart contract deploy (testnet?) efficient debugging, troubleshooting, querying smart contract.

{Reactions}
üëÄ 

[02/13/2022 3:34 PM] ilya | dappstep#9261
Spam @Community Developer


[02/13/2022 4:39 PM] HazeyOneKenobi#2091
Good shout, this would be well attended I think

{Reactions}
ü§ô (3) 

[02/13/2022 5:45 PM] kii#8888
Hey. That‚Äôs a good thought. I started my journey during ErgoHack 2. And have been going through the trial and error process of figuring out the end to end process of building a dapp on the Ergo Blockchain. 

@Chris Ray and I have been entertaining the idea of a developers course since we started DeCo: Layman design course. As we‚Äôre coming to an end of the course, we‚Äôre starting the discussion of the developers course again that would cover most if not all the points that you have mentioned. We‚Äôve also reached out to @Cheese Enthusiast to collaborate.

It wouldn‚Äôt be a short webinar for sure as I‚Äôve realized that there are many things to learn and figure out, and to even structure what to learn, since there‚Äôs so much! But all in all, there will be something coming, and we‚Äôre all excited! üòÅ

Hope that helps

{Reactions}
üëÄ (3) ‚ù§Ô∏è (3) üí™ (2) 

[02/13/2022 6:30 PM] ilya | dappstep#9261
> Hope that helps
Not really at that point üôÇ  @kii 
A big course is an overkill for me, I need a quick boost to get started üòÑ
But thanks for the pitch, really good intiative! Hope one day in the future people will enjoy your course!


[02/13/2022 10:38 PM] 6directions#1089
where might I find an example of a contract that verifies the signature of a signed message?


[02/14/2022 4:54 AM] 6directions#1089
I noticed the last block in testnet was mined 8 hours ago. what could cause this?


[02/14/2022 4:55 AM] 6directions#1089
first thing that occurred to me is there's no miners? but I have no insight into how testnet is maintained.


[02/14/2022 5:25 AM] MrStahlfelge#0042
There is only a single miner usually @zargarzadehmoein 
So probably his machine went offline


[02/14/2022 5:34 AM] 6directions#1089
ah. is there a tutorial on how to mine on testnet?


[02/14/2022 5:37 AM] 6directions#1089
I found this
https://github.com/mhssamadani/Autolykos2_NV_Miner#run-windows-64-bit

tried running `miner.exe config.json`, but nothing happens


[02/14/2022 5:54 AM] Cheese Enthusiast#0548
I can turn on my miner

{Reactions}
üôè 

[02/14/2022 6:00 AM] 6directions#1089
what software do you use to run a miner on testnet?


[02/14/2022 6:02 AM] Cheese Enthusiast#0548
NBMiner, but that is because I am using getblok's testnet mining pool. If you wanted to do it yourself you would likely need ErgoStratumProxy, the NV_Miner you just sent, and a testnet node.


[02/14/2022 6:04 AM] 6directions#1089
I see. I tried using NV_Miner but did not succeed...
Could I mine with getblok's testnet pool if/when needed?


[02/14/2022 6:04 AM] 6directions#1089
or is it private?


[02/14/2022 6:04 AM] 6directions#1089
if it is, no problem


[02/14/2022 6:06 AM] Cheese Enthusiast#0548
I don't see any particular issue with that. I can dm you for right now, but I will look into making the testnet ip public for all. Think it'd help out a lot of devs who need access to testnet whenever the usual miner is down.

{Reactions}
ergo_black ‚ù§Ô∏è 

[02/14/2022 6:09 AM] 6directions#1089
that would be really helpful! thanks a lot, and also for turning on your miner üôè


[02/14/2022 6:25 AM] zargarzadehmoein#2928
I will check


[02/14/2022 1:00 PM] kii#8888
What's the best way to send multiple assets to an address? 

It seems like you can't do it on Yoroi, and Nautilus haven't have it fully implemented yet?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/942767199905525840/Screen_Shot_2022-02-14_at_8.59.47_PM.png


[02/14/2022 2:02 PM] 6directions#1089
I've done it from Nautilus a few times already. Just click `Add Asset` again and you can select which other assets in your wallet you can include in the tx


[02/14/2022 2:03 PM] kii#8888
I was trying that. But the add assets was unclickable. So I thought it‚Äôs an unreleased feature


[02/14/2022 2:04 PM] kii#8888
It maybe that I am using my wallet without extra assets. Too easy to create too many wallets haha


[02/14/2022 2:04 PM] 6directions#1089
Ah, could be.


[02/14/2022 2:32 PM] MrStahlfelge#0042
wallet app handles this as well


[02/14/2022 3:29 PM] MGpai#4313
something wrong with the miners on testnet?


[02/14/2022 3:29 PM] MGpai#4313
network hash is down


[02/14/2022 3:34 PM] zargarzadehmoein#2928
It's ok. 
Do you have a problem?


[02/14/2022 5:54 PM] Kurikun#6941
>>  Too easy to create too many wallets haha
I want to nominate this sentence for gold in the grammatical spelling competition.  How many times have we seen epic fails with to/too/two and others?  Bravo.

{Reactions}
üòÜ (2) 

[02/14/2022 5:55 PM] MGpai#4313
No it was just odd because hashrate is always 120 mhs +


[02/16/2022 9:14 AM] ilya | dappstep#9261
Hi! What's the difference between a public node and not public node? Can a node run in VPC given the fact that it needs to connect and accept connections for syncing?


[02/16/2022 9:17 AM] ilya | dappstep#9261
Also what security setup would you suggest for spinning up an ergo node in EC2 or DigitalOcean instance?


[02/16/2022 9:45 AM] MrStahlfelge#0042
interesting, had a discussion with @√Ör√ñhB√™ about this yesterday! for me, a public node is a node that can be reached on port 9052/9053 and 9030 so that wallet users could connect to it.


[02/16/2022 9:50 AM] ilya | dappstep#9261
@MrStahlfelge And what 9052 and 9030 are used for? Also, nodes should accept connections from other nodes, right so. Maybe there is not much difference... Just more detailed configurations. For example, 9052/9053 and 9030 are in VPC connections only (not public), and the syncing port (whatever it is) is open to external connections.


[02/16/2022 9:52 AM] MrStahlfelge#0042
9030 is for peer2peer afaik, so for other nodes connecting to your node. 9052/9053 is for clients to submit transactions and fetch blockchain information, it is for wallets or dapps


[02/16/2022 4:16 PM] 6directions#1089
hey there.
I have a case where I'm including a receiver address in an output box's registers for use in some other tx in the future.
```
val receiverAddressBytes: Coll[Byte] = Colls.fromArray(receiverAddress.getErgoAddress.script.bytes)
val expectedReceiverAddress: ErgoValue[Coll[Byte]] = ErgoValue.of(receiverAddressBytes, ErgoType.byteType)
```

then later, in another case I get the value of type `Coll[Byte]` from the register where it was stored, and try to convert it back to an address, like so
```
val R6_proposedReceiverAddressBytes: Array[Byte] = boxWithAddressInRegisters.getRegisters.get(2).getValue.asInstanceOf[CollOverArray[Byte]].toArray
val proposedReceiverAddress: String = new String(R6_proposedReceiverAddressBytes)
val address = Address.create(proposedReceiverAddress)
```


[02/16/2022 4:18 PM] 6directions#1089
however, I am not getting the original string value back when I try to convert the array of bytes back to a string.
_and I'm only seeing this happen when the value is an address_.
I'm doing the same thing where I put some string into a box's register as a collection of bytes, then later convert it back to a string, and I do get the original string value.

what could I be doing wrong?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943541740764299314/unknown.png


[02/16/2022 4:24 PM] 6directions#1089
hmm... 
think it may be because of this
```
val arbitraryStringBytes: ErgoValue[Coll[Byte]] = ErgoValue.of(arbitraryString.getBytes)
val receiverAddressBytes: Coll[Byte] = Colls.fromArray(receiverAddress.getErgoAddress.script.bytes)
```
where `receiverAddress.getErgoAddress.script.bytes`  returns the bytes representation of an ErgoTree, not a string.
whereas `arbitraryString.getBytes` does return the bytes representation of a string.


[02/16/2022 4:33 PM] Cheese Enthusiast#0548
You need an ergotreeserializer to convert proposition bytes back into an ergotree


[02/16/2022 4:34 PM] Cheese Enthusiast#0548
From there you can make an address from the ErgoTree


[02/16/2022 4:54 PM] 6directions#1089
amazing, got it to work by using `ErgoTreeSerializer.DefaultSerializer.deserializeErgoTree()`. thank you!


[02/16/2022 10:37 PM] ilya | dappstep#9261
Hey! What's wrong with my command? I promise I have a config file in that directory

ergo docker run --rm -p 9030:9030 -p 127.0.0.1:9053:9053 -v /Users/ll/Dev/ergo:/home/ergo/.ergo ergoplatform/ergo --mainnet -c /Users/ll/Dev/ergo/ergo.conf

Picked up _JAVA_OPTIONS: -Xmx3G
22:30:44.003 INFO  [main] org.ergoplatform.ErgoApp - Running with args: Args(Some(/Users/ll/Dev/ergo/ergo.conf),Some(MainNet))
22:30:44.021 INFO  [main] o.e.settings.ErgoSettings$ - Running in mainnet network mode
22:30:44.021 WARN  [main] o.e.settings.ErgoSettings$ - NO CONFIGURATION FILE WAS PROVIDED. STARTING WITH DEFAULT SETTINGS!
Exception in thread "main" com.typesafe.config.ConfigException$Missing: /tmp/mainnet.conf: 1: No configuration setting found for key 'ergo.directory'
    at com.typesafe.config.impl.SimpleConfig.findKeyOrNull(SimpleConfig.java:156)
    at com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:174)
    at com.typesafe.config.impl.SimpleConfig.findOrNull(SimpleConfig.java:180)
    at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:188)
    at com.typesafe.config.impl.SimpleConfig.find(SimpleConfig.java:193)
    at com.typesafe.config.impl.SimpleConfig.getString(SimpleConfig.java:250)
    at net.ceedubs.ficus.readers.StringReader$$anon$1.read(StringReader.scala:7)
...
‚ûú  ergo ls
Untitled-1.dockerfile    appkit_stuff             ergo-4.0.22.jar          ergo-appkit              ergo.conf                graalvm-ce-java11-21.3.0
‚ûú  ergo


[02/16/2022 10:39 PM] zargarzadehmoein#2928
for `-c` you should pass local docker path


[02/16/2022 10:41 PM] zargarzadehmoein#2928
also you should bind config file host to docker (value of -c)


[02/16/2022 10:42 PM] zargarzadehmoein#2928


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943638463398412338/Screen_Shot.png


[02/16/2022 10:48 PM] ilya | dappstep#9261
Seems like it worked, but I can't access the localhost:9053

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943640003894984744/unknown.png


[02/16/2022 10:49 PM] ilya | dappstep#9261
I only see 9030 port

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943640343717511198/unknown.png


[02/16/2022 10:50 PM] zargarzadehmoein#2928
Is the permission to `/home/ergo/.ergo`  directory set correctly?


[02/16/2022 10:53 PM] ilya | dappstep#9261
Mmm not sure, I've run it without sudo.
Here are the logs. wallet, peers, history, state all those dirs were created after I run the command, so i guess the permissions are ok

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943641241265008740/unknown.png


[02/16/2022 10:54 PM] zargarzadehmoein#2928


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943641510103097364/ScreenShot-2.png


[02/16/2022 11:12 PM] 6directions#1089
I'm building my prover like this
```
      val senderProver: ErgoProver = ctx.newProverBuilder
        .withMnemonic(
          SecretString.create(nodeConf.getWallet.getMnemonic),
          SecretString.create(nodeConf.getWallet.getPassword))
        .withEip3Secret(0)
        .build()
```

I want the prover to use my eip3 address as the default.
however, when I run this check, it evaluates to false
`senderProver.getAddress.getPublicKey == senderProver.getEip3Addresses.get(0).getPublicKey`

how can I make it so that `senderProver.getAddress` returns my eip3 address?


[02/16/2022 11:14 PM] ilya | dappstep#9261
My dir is 777, I also see the image creates a bunch of files, it seems it does have writing permission. but still can't access the port 9053


[02/16/2022 11:15 PM] ilya | dappstep#9261
As far as I know there is nothing wrong with this log, 23:11:36.841 WARN  [ergoref-api-dispatcher-10] o.e.n.w.ErgoWalletServiceImpl - Failed to read wallet. Manual initialization is required. Details:
2022-02-16T23:11:36.842304841Z java.lang.Exception: Cannot readSecretStorage: dir '/home/ergo/.ergo/wallet/keystore' doesn't exist
2022-02-16T23:11:36.842308385Z     at org.ergoplatform.wallet.secrets.JsonSecretStorage$.readFile(JsonSecretStorage.scala:140)


[02/16/2022 11:15 PM] ilya | dappstep#9261
Just need to initialize the wallet


[02/16/2022 11:15 PM] ilya | dappstep#9261
Here are some created files from the latest run

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943646848927825930/unknown.png


[02/16/2022 11:16 PM] Cheese Enthusiast#0548
I remember @MrStahlfelge mentioning you can use `withEip3Secret` to get a prover for all EIP addresses. Not entirely sure how to do it though, I guess you could call it multiple times with different indices.


[02/16/2022 11:18 PM] MrStahlfelge#0042
Yes you need to call it with different indices.
However getaddress will never return the same as getEip3Addresses because it uses a different derivation. That's why there are both methods


[02/16/2022 11:19 PM] 6directions#1089
sorry im a bit confused. im calling `withEip3Secret` when building the prover, with index 0.
do I need to call that method again, or do I need to call it differently?


[02/16/2022 11:20 PM] 6directions#1089
is the same true for `senderProver.getP2PKAddress`?


[02/16/2022 11:20 PM] Cheese Enthusiast#0548
What's the maximum value for the EIP3 index? Int.maxValue seems like it'd be too much.


[02/16/2022 11:20 PM] MrStahlfelge#0042
If you want the prover to be able to sign for multiple addresses, you need to give all their indices


[02/16/2022 11:33 PM] 6directions#1089
I see.

so in my testnet node wallet, I see these two addresses (screenshot at bottom)

if I build the prover like this
```
      val senderProver: ErgoProver = ctx.newProverBuilder
        .withMnemonic(
          SecretString.create(nodeConf.getWallet.getMnemonic),
          SecretString.create(nodeConf.getWallet.getPassword))
        .withEip3Secret(0)
        .build()
```

`senderProvder.getEip3Addresses` returns
`["3WwBpgxoiMKoHrk67HcquMUdGWKovAynL8tUjZWuFp9fjcbussTr"]` (1st address on node wallet panel)

if I build it like this
```
      val senderProver: ErgoProver = ctx.newProverBuilder
        .withMnemonic(
          SecretString.create(nodeConf.getWallet.getMnemonic),
          SecretString.create(nodeConf.getWallet.getPassword))
        .withEip3Secret(0)
        .withEip3Secret(1)
        .build()
```
`senderProvder.getEip3Addresses` returns
`["3WwBpgxoiMKoHrk67HcquMUdGWKovAynL8tUjZWuFp9fjcbussTr", "3WwM8LKw18msCLqzEaGNAaRgS4FqFQka1vsUCWjNtvdM9UTGSAuy"]` (1st and 2nd address on node wallet panel)

but whether I call `withEip3Secret` with 1 or more indexes, or if I dont call it at all, calling `senderProver.getP2PKAddress` always returns this address
`3WwMXXodDKsrZan8C9AuYAuaHQZtoQkn1m87dnWrxR558RxLHVmu`

I'm not sure where this address is coming from as I can't even see it on the node wallet's panel üòµ‚Äçüí´ 
is this the address the prover is using to sign? if so, how can I make it sign txs with the first EIP3 address that appears on the node wallet's panel?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/943651288682491974/unknown.png


[02/16/2022 11:37 PM] MrStahlfelge#0042
The address is the one that was derived pre-eip3. See it as deprecated.
The prover signs for all addresses given.

{Reactions}
üëç 

[02/16/2022 11:38 PM] 6directions#1089
ah, understood.
thank you!


[02/17/2022 1:38 PM] davidcodes#2138
any snippets to convert among these types:
```
List[(org.ergoplatform.ErgoBox.TokenId, Long)]
```
into 
```
Coll[(org.ergoplatform.ErgoBox.TokenId, Long)]
```


[02/17/2022 1:39 PM] davidcodes#2138
if I try ` Colls.fromArray(z)` I get `No RType available`


[02/17/2022 2:25 PM] greenhat#6562
I think we're missing TokenId  -> Coll[Byte] conversion. Try converting token id to byte array first.

{Reactions}
üëç 

[02/18/2022 10:56 AM] ilya | dappstep#9261
What's the fastest way to bulk mint 20 nfts without waiting for the confirmation. One solution that I see is to prepare 20 boxes in the wallet one change box for each nft and generate 20 independent transactions. Any other ideas?


[02/18/2022 11:20 AM] davidcodes#2138
any hints on how to convert an ErgoValue to a String ?


[02/18/2022 11:21 AM] MrStahlfelge#0042
Using chained transactions with the latest Appkit snapshot?


[02/18/2022 11:21 AM] MrStahlfelge#0042
With Appkit?


[02/18/2022 11:22 AM] davidcodes#2138
yes


[02/18/2022 11:22 AM] ilya | dappstep#9261
Can you send a link to that pr please?


[02/18/2022 11:25 AM] MrStahlfelge#0042
ErgoValue.toHex


[02/18/2022 11:25 AM] MrStahlfelge#0042
https://github.com/ergoplatform/ergo-appkit/pull/137


[02/18/2022 11:32 AM] davidcodes#2138
@MrStahlfelge  I am a bit lost , bare with me. How do you usually transform from coll[byte] to String ?


[02/18/2022 11:39 AM] ilya | dappstep#9261
Or at least documentation that describes chained transaction structure.


[02/18/2022 11:49 AM] MrStahlfelge#0042
Okay so you expect the bytearray to contain a string and want to show it? My code was for a generic Ergovalue to get its hex representation used on explorer


[02/18/2022 11:51 AM] davidcodes#2138
I am manipulating an ErgoBox and I want to get the content of a register in str. I managed to make it work doing:
```
new String(b.getReg[Coll[Byte]](4).get.toArray)
```


[02/18/2022 11:52 AM] davidcodes#2138
but it feels like I should not be doing it that way


[02/18/2022 12:08 PM] MrStahlfelge#0042
why do you want to have it as a string? what do you want to do with that string? How do you know the register contains a Coll[Byte] and not something else?


[02/18/2022 12:09 PM] MrStahlfelge#0042
it is not a special structure. a chained transaction is just a transaction using an inbox that was created by a transaction that is not confirmed yet


[02/18/2022 12:12 PM] davidcodes#2138
I am expecting it to be a minting box. so I am assuming that R4 is a string with the name of a token.


[02/18/2022 12:13 PM] MrStahlfelge#0042
https://github.com/ergoplatform/ergo-appkit/pull/134/files#diff-d47b804f409088f67c977ebcd83e5369ebe41b6759d045f7a15fec500f1ed19dR34

{Reactions}
üëç 

[02/18/2022 12:14 PM] MrStahlfelge#0042
related https://github.com/ergoplatform/ergo-appkit/pull/134/files#diff-1f99798b99e87833fe1816082384ad0a0f3ae73a1082d044f03bd008955b7ed7R120


[02/18/2022 12:15 PM] davidcodes#2138
Just to give you a bit more context, I am trying to update the playground with a SimulatedBlockchainContext and a SimulatedBlockchain. So I am trying to capture that a tx is minting a token so I can reflect that in the internal state of the simulated blockchain.


[02/18/2022 12:21 PM] ilya | dappstep#9261
Sorry, can you maybe explain it in more detail for dumb people like myself? Let's say I have this minting transaction:
It has an input box with the same boxId as the token that I am about to mint. In outputs it has the new token and the changeBox. 
Now before I submit this one I want to create another transaction that mints another token. How do I build/structure this chained transaction? How do I connect between those two and submit em all together?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944207068708106300/unknown.png


[02/18/2022 12:58 PM] MrStahlfelge#0042
use the changebox as input for the next minting transaction


[02/18/2022 12:59 PM] MrStahlfelge#0042
this way, you get a chain of transactions, one depending on the other. as long as you submit the chain in the right order to the node, this is valid


[02/18/2022 1:06 PM] ilya | dappstep#9261
So if this is my first tx

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944218200579641394/unknown.png


[02/18/2022 1:06 PM] ilya | dappstep#9261
This is how the second should look like?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944218413243432970/unknown.png


[02/18/2022 1:08 PM] ilya | dappstep#9261
Or I don't need an empty box for the second token?
Should I submit them all together or one after another in different post requests?


[02/18/2022 1:10 PM] MrStahlfelge#0042
second output should be changeBoxTx2, will be a different one. you don't need BoxForToken2 if changeBox has enough ergs to pay fee and outputs. 
Submit them one after another, don't know if it works to submit at once


[02/18/2022 1:29 PM] ilya | dappstep#9261
So basically the ChangeBox for each following transaction will be same as the ChangeBox from the previous transaction in the chain minus the fee, 
and the input of (2th...nth) transaction in the chain will be the changeBox from n-1, correct?
If I submit them one by one and the first tx get confirmed before the last one submitted, the last one will not be valid?


[02/18/2022 1:31 PM] MrStahlfelge#0042
correct. submitting them later will be valid - using confirmed boxes as inbox is valid.


[02/18/2022 1:32 PM] ilya | dappstep#9261
Ok, thanks a lot for the explanation! üôè


[02/18/2022 1:32 PM] MrStahlfelge#0042
screenshot how it looks in explorer: https://discord.com/channels/668903786361651200/668903786902847502/944109059701866517


[02/18/2022 1:39 PM] ilya | dappstep#9261
Cool! So in the mobile wallet, you store the "last spent box state",  and you just generate a new transaction from the same box till it gets dried?


[02/18/2022 1:42 PM] MrStahlfelge#0042
no. that wouldn't work reliable because users can do something different with another wallet in the meantime. I added a new loader to appkit's BoxOperations. This loader uses confirmed boxes as input at first, but when there are no more boxes left, it checks Explorer API's unconfirmed boxes by address to use more. It is important to also check if a box is already spent. Check the implementation on the PR above. but for you when using a dedicated address without someone interfering you could do it like that.


[02/18/2022 1:46 PM] ilya | dappstep#9261
One thing I'm still confused about is that in the first minting transaction the input boxId determines the tokenId that is being minted in the same Tx. but in second and N tx in the chain it's not the case.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944228365920002048/unknown.png


[02/18/2022 1:47 PM] MrStahlfelge#0042
no it must be the case. your second token id is id of the changebox of the first transaction


[02/18/2022 1:51 PM] ilya | dappstep#9261
Ok, I guess I just need to play with it a bit, thank you!

{Reactions}
üëç 

[02/18/2022 3:35 PM] Pulsarz#9208
what lib is advised to use within nodejs to for example send a transaction to the explorer? ergo-sdk-js?


[02/18/2022 5:05 PM] HelixEvo#2120
Any views on a good starting code editor.. Java/Scala/ERGOScript?


[02/18/2022 7:13 PM] glasgowm#9381
vscode


[02/18/2022 7:13 PM] glasgowm#9381
Or intelliJ

{Reactions}
üî• 

[02/19/2022 2:55 AM] kii#8888
Highly recommend IntelliJ.

{Reactions}
üëç (2) 

[02/19/2022 1:30 PM] davidcodes#2138
Just want to share, I've been working on the project below, which is an update of the old code in the playground , essentially it lets users test contracts off chain. I think now it is in a semi usable stage.
https://github.com/dav009/ergo-puppet

{Embed}
https://github.com/dav009/ergo-puppet
GitHub - dav009/ergo-puppet: Testing Ergo Smart contracts offchain
Testing Ergo Smart contracts offchain . Contribute to dav009/ergo-puppet development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/Qmlz_TbIUyyAxhD2LtWQweXO7OavvFLu2CPWbnl2Yqk/https/opengraph.githubassets.com/7301db2fadc8bb00987f5b56eca2d0e24a6337a5e07d7f1bb465cd03fdf19d1a/dav009/ergo-puppet


[02/19/2022 2:00 PM] lgd#5847
how to spend extended input boxes with appkit?


[02/19/2022 2:01 PM] lgd#5847


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944594473814478868/Screen_Shot_2022-02-19_at_8.58.44_AM.png


[02/19/2022 2:06 PM] lgd#5847
you aware of this? https://github.com/anon-real/contract-testing

{Embed}
https://github.com/anon-real/contract-testing
GitHub - anon-real/contract-testing: This is a simple tutorial on h...
This is a simple tutorial on how to test your Ergo contracts off-chain using appkit to speed up the development. - GitHub - anon-real/contract-testing: This is a simple tutorial on how to test your...
https://images-ext-1.discordapp.net/external/WHDo6FJHUehHNaow7mgTV3ITdih84YphR_pX16m_Yw8/https/opengraph.githubassets.com/c768498af37927a3e229ceb7c3b1585c45778f54dc50a41a30d24fbc1671a4c8/anon-real/contract-testing

{Reactions}
ü•≤ (2) 

[02/19/2022 2:40 PM] lgd#5847
also what does this mean/how to fix?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944604476717817866/Screen_Shot_2022-02-19_at_9.40.13_AM.png


[02/19/2022 9:57 PM] lgd#5847
anyone have any issues with INPUTS.map() and INPUTS.fold() functions?


[02/20/2022 3:03 AM] lgd#5847
I'm trying out the substituteConstants() method. I'm substituting an ErgoId bytes, but keep getting this error:
`Exception in thread "main" Exception in thread "main" org.ergoplatform.validation.ValidationException: Validation failed on ValidationRule(1008,Check the non-primitive type code is supported or is added via soft-fork) with args WrappedArray(-51)
Caused by: sigmastate.lang.exceptions.SerializerException: Cannot deserialize the non-primitive type with code 205
    at org.ergoplatform.validation.ValidationRules$CheckTypeCode$.apply(ValidationRules.scala:198)
ValidationRules.scala:198`


[02/20/2022 3:04 AM] lgd#5847


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/944791612859502702/Screen_Shot_2022-02-19_at_9.28.41_PM.png


[02/20/2022 3:51 AM] kii#8888
here's an example of how it is used in auction house:
https://github.com/anon-real/ErgoAuctionHouse/blob/master/src/auction/newBidAssm.js

{Embed}
https://github.com/anon-real/ErgoAuctionHouse/blob/master/src/auction/newBidAssm.js
ErgoAuctionHouse/newBidAssm.js at master ¬∑ anon-real/ErgoAuctionHouse
Decentralized auction on top of ERGO. Contribute to anon-real/ErgoAuctionHouse development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/gdODAqPR_tKt2LvyK-fJ931jpmdQj5dJN_zc2mtFYUU/https/opengraph.githubassets.com/646ca1f3bc843d35ec52b28f20deda936a6298f9403f91fb2a30aa442b159fc4/anon-real/ErgoAuctionHouse


[02/20/2022 3:52 AM] lgd#5847
Yeah I didn't think of using curly braces


[02/20/2022 3:52 AM] kii#8888
there's still a different kind of functionality when it comes to using the playground. More control over the environment like height etc


[02/20/2022 9:31 AM] soysor#6001
Anyone ever had this issue before: https://pastebin.com/fNWe4Yvb
Config: https://pastebin.com/Y93k7HKe

Causes the API server not to run but everything else seems as expected, including data dir etc. I can't see `Available processors` log output in the log file - none of the logging in that function, not sure if that hints anything.

Any ideas?


[02/20/2022 10:13 AM] soysor#6001
ohh, it's saying there's a issue with the `swaggerConfig` part, not `run` ü§î


[02/20/2022 10:17 AM] soysor#6001
Is there something wrong with how I'm building that would cause the issue with `openapi.yaml` resource https://github.com/ross-weir/rosetta-ergo/blob/main/Dockerfile#L17-L28


[02/20/2022 2:46 PM] lgd#5847
what does this mean?
`Exception in thread "main" org.ergoplatform.appkit.ErgoClientException: 400: {
  "error" : 400,
  "reason" : "bad.request",
  "detail" : "Malformed transaction: Scripts of all transaction inputs should pass verification. 4aca869f709768576077abf9e1ee793f97a8fff7c147cfc97a88b32f1b148305: #0 => Failure(scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s1335 -> ThunkForce(s1317)))"
} `


[02/20/2022 9:54 PM] soysor#6001
Needed to add `-Dfile.encoding=UTF-8` when running the jar


[02/21/2022 2:03 PM] ilya | dappstep#9261
Is there a way to filter this api response by timestamp offset or numConfirmations on the request level? 
https://api.ergoplatform.com/api/v1/addresses/9gChf3m867JyKDo42FpLm488v6dc9A6Z3EjN4b3PP7YBV2aqSFw/transactions


[02/21/2022 2:21 PM] ilya | dappstep#9261
More general question, what's the best way to track incoming transaction via the ergoplatform api


[02/22/2022 12:19 AM] kii#8888
it means script evaluated to false if not mistaken.


[02/22/2022 12:20 AM] lgd#5847
yeah spent a while debugging last night, finally got it to work


[02/22/2022 12:20 AM] kii#8888
did you find out what was the problem


[02/22/2022 12:23 AM] lgd#5847
yeah, wrong version of appkit lol


[02/22/2022 12:24 AM] lgd#5847
4.0.6 had issues with context variables, so we had to switch to 4.0.7 which solved them. cheese enthusiast helped me out with that one. also other dumb mistakes


[02/22/2022 1:14 PM] davidcodes#2138
looking at  ergo node there are some scanner endpoints, eerie similar to the ones of the repo below
https://github.com/ergoplatform/scanner 

is the logic of ergoplatform/scanner now part of ergoplatfor/ergo (the node codebase? ) ?

{Embed}
https://github.com/ergoplatform/scanner
GitHub - ergoplatform/scanner: Ergo Blockchain Scanner
Ergo Blockchain Scanner . Contribute to ergoplatform/scanner development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/iHn9ETflm_LoNHK-H_gEDjaXUF_MVOX6Rcn1_S0MR8s/https/opengraph.githubassets.com/97a521185cbabc9b16c7683bde69c6685de33ed75a860c036d39e76c980724e0/ergoplatform/scanner


[02/23/2022 9:16 AM] Leif Erickson#8939
with EIP0020 requiring reduced tx (EIP0019), it would be ideal for this functionality to be available in the API?  Is this possible?  Thank you!


[02/23/2022 10:14 AM] MrStahlfelge#0042
do you talk about node api?


[02/23/2022 10:14 AM] Leif Erickson#8939
yes


[02/23/2022 10:16 AM] MrStahlfelge#0042
I think it is implemented in appkit, for this has to be moved to a lower layer. @morphic will know


[02/23/2022 11:47 AM] morphic#4133
Yeah, it can be moved to sigma and then reused from there to implement a new Ergo Node API endpoint.


[02/23/2022 2:42 PM] kii#8888
Noob Question: Will block time get faster overtime(with more development)?


[02/23/2022 2:55 PM] glasgowm#9381
Difficulty adjustment algorithm aims to keep it around 2min ideally (during steady growth/stability).

{Reactions}
üî• 

[02/23/2022 2:56 PM] glasgowm#9381
need sub-block confirmation protocols for a shorter tx time - https://docs.ergoplatform.com/dev/protocol/scaling/

{Reactions}
üí™ 

[02/23/2022 3:02 PM] SoCool#6419
Just to not interrupt the dev update in the other channel - another interesting thought about this attachment use case for registers:

What about address book communication? @morphic @MrStahlfelge 

This would require wallet support, but perhaps you name your address `morphic` - and every time you send a tx, the wallet app pops into a register attachment `type: address, value: 23acv98a987cg9af8g7, name: morphic` and the wallet apps read that and offer the user to store that address with said alias, or as `morphic@<address>` for easier disambiguation.

Wallets could have a "notifications" or other inbox of actions based on TXs that would request interaction like this for that have reducedTX in their registers.

If a reducedTX is in a register though - you'd need to request of the explorer the txid in that reduced tx before offering a signing as it may have been signed and submitted already.

A lot of this presents DOS risks, the address aliasing propagation is neat though because it can act like a poor mans ergo DNS, could propagate entire address books along with transactions


[02/23/2022 3:06 PM] ergodevv#2308
Hey guys


[02/23/2022 3:07 PM] ergodevv#2308
Does every transaction need to be signed?


[02/23/2022 3:07 PM] ergodevv#2308
I was going through the pin lock example and the last transaction just needs the pin, then why does the user who is sending the transaction need to sign the transaction?


[02/23/2022 3:09 PM] MrStahlfelge#0042
at first I thought about setting a json in the byte array, having a "purpose" field and it could also have a "sender" field which is more or less what you are describing. we were afraid of wasting space on the chain though so I skipped it


[02/23/2022 3:10 PM] MrStahlfelge#0042
but glad the eip gets so much feedback. by the way, it needs wallet support anyway, but that's what it is for


[02/23/2022 3:13 PM] SoCool#6419
Regarding "wasting" space on the chain, I just see it as using the chain in a sense, and such things would of course be optional to users, and sense they're effectively paying for what they put on the chain I don't think it's wasted necessarily? I also don't completely understand the whole scope of the chain though so if such extraneous things can increase congestion is something less obvious to me


[02/23/2022 3:14 PM] SoCool#6419
Also if space is a concern - protobuf is well standardized and it does bitpacking to save space


[02/23/2022 3:19 PM] morphic#4133
This can be another use case (or content type) for attachment register, to put some kind of moniker to off-chain data storage and keep the actual data there. This will definitely be more scalable.


[02/23/2022 3:19 PM] morphic#4133
The off-chain bank use case can be very good example of this.


[02/23/2022 3:25 PM] ergodevv#2308
Along with this, where can I find documentation like transaction format, register size limit, etc?


[02/23/2022 3:44 PM] kii#8888
Correct me if I'm wrong. But every tx needs a prover. Therefore it needs to be signed and sent to the blockchain


[02/23/2022 4:21 PM] Leif Erickson#8939
possible to make it on upcoming version? Is there a formal request or something I can help with? Thanks!


[02/23/2022 4:39 PM] ergodevv#2308
What exactly is a prover and where can I read more about it?


[02/23/2022 5:17 PM] Zeydenn#1909
Hello, I'm looking for an Ergoscript dev to collaborate on a NFT project, I have some documents, if you are free or interested, you can mp me :ergonaut:


[02/23/2022 6:01 PM] kii#8888
https://en.wikipedia.org/wiki/Zero-knowledge_proof

{Embed}
https://en.wikipedia.org/wiki/Zero-knowledge_proof
Zero-knowledge proof
In cryptography, a zero-knowledge proof or zero-knowledge protocol is a method by which one party (the prover) can prove to another party (the verifier) that a given statement is true while the prover avoids conveying any additional information apart from the fact that the statement is indeed true. The essence of zero-knowledge proofs is that it...


[02/23/2022 6:01 PM] ergodevv#2308
Thanks for this


[02/23/2022 6:03 PM] kii#8888
I'm not sure if that is entirely correlated.


[02/23/2022 6:04 PM] kii#8888
If you develop a better understanding do share and mention me. I've been developing but I never bothered to go too deep into the rabbit hole.


[02/23/2022 6:05 PM] kii#8888
Also shameless plug, you may be interested in joining the DeCo program.


[02/23/2022 7:01 PM] ergodevv#2308
What's that


[02/23/2022 7:02 PM] ergodevv#2308
I have been playing around as well but unable to find concrete documentation of methods and such.


[02/23/2022 7:35 PM] glasgowm#9381
There's the data model section in the docs. Should be a few resources linked on related pages (box/registers/etc)


[02/23/2022 11:36 PM] kii#8888
It‚Äôs a learning course on Ergo Blockchain; we have the Layman Design Course which focuses on understanding eUTXO and designing multi stage Tx system.


[02/23/2022 11:37 PM] kii#8888
Here‚Äôs a link to the discord:

https://discord.gg/C6CEdPxG


[02/24/2022 7:48 PM] SoCool#6419
What does this mean when a tx gets response from the node of "Malformed transaction: Every input of the transaction should be in UTXO <asdfas buncha characters dfadf>: 0 === 1"


[02/24/2022 7:53 PM] MrStahlfelge#0042
in a case I had one of the inboxes was already spent


[02/24/2022 7:55 PM] SoCool#6419
Gotcha. I figured it was something like that


[02/24/2022 8:28 PM] SoCool#6419
I got it sorted, thanks for the confirmation, helped me chase down the right direction and figure it out üëç


[02/25/2022 1:57 AM] SoCool#6419
Re: EIP-29 attachment

Is there a reason to relegate it to register 9? The unit solution for packing is great, but making the last register the standard I feel is limiting to having a single attachment permanently - if people implement to that standard  and then we ever want to make more attachments or an overflow standard (magic bytes that mean "continued from") then implementers will have to go back and change their implementation


[02/25/2022 2:00 AM] SoCool#6419
I suspect there's some reason not to make the magic bytes the indicator alone which I'm missing, but it seems we should be able to say any register with them prefixing is to be interpreted as an attachment and it allows us more features in the future


[02/25/2022 2:00 AM] SoCool#6419
Is the complexity of checking for that on any (after 4) register the worry?


[02/25/2022 4:37 AM] 6directions#1089
How can I create a multisig wallet?


[02/25/2022 4:45 PM] ergodevv#2308
Hi guys, what's a simple way to get the public key for a wallet as a string


[02/25/2022 4:46 PM] ergodevv#2308
user.wallet.getAddress.pubKey is giving a sigma prop if I am not wrong


[02/25/2022 4:47 PM] ergodevv#2308
I have come across methods to convert base58 encoded PK to a sigma prop, are there methods to do the reverse operation (and is the reverse operation even always defined)?


[02/25/2022 5:24 PM] glasgowm#9381
https://github.com/anon-real/DistributedSigsServer


[02/25/2022 5:25 PM] glasgowm#9381
https://docs.ergoplatform.com/node/sigs/


[02/26/2022 12:20 AM] ergodevv#2308
Hi guys, I am not able to set int/string as value in register on ergo playground


[02/26/2022 12:20 AM] ergodevv#2308
do I need to convert to bytes always?


[02/26/2022 12:26 AM] Cheese Enthusiast#0548
You can set ints, but strings must be converted to Coll[Byte]


[02/26/2022 12:32 AM] ergodevv#2308
Hmm, playground wasn't accepting ints either


[02/26/2022 12:43 AM] ergodevv#2308
This is a little confusing because I remember reading that arbitrary data can be stored in the registers


[02/26/2022 3:59 AM] kii#8888
it might be playground. have you tried appkit??


[02/26/2022 11:24 AM] ergodevv#2308
can we simulate in appkit?


[02/26/2022 11:24 AM] ergodevv#2308
Haven't tried yet


[02/26/2022 9:08 PM] Walrus#9577
Is there somewhere you can learn ErgoTree besides it's whitepaper?


[02/27/2022 9:57 AM] Leif Erickson#8939
using 4.0.23, I want to change the node wallet, but it is recreating with 0 erg/assets?  I have never had a problem changing wallets before, can someone help?  I call /shutdown on the node, move the .ergo/wallet folder and then I'm able to restore from the panel, but once wallet is done syncing there are no assets.  I have tried a few times and tried to restart node, but had to restore the old wallet (although I need the new address).


[02/27/2022 11:20 AM] SoCool#6419
Can you restore the same wallet on the current mobile wallet and it has the funds?


[02/27/2022 11:21 AM] Leif Erickson#8939
Yes, I see funds in explorer and other wallets as well as backup on node


[02/27/2022 11:23 AM] SoCool#6419
Interesting, what wallet do you see funds on? Yoroi?


[02/27/2022 11:24 AM] SoCool#6419
I'm wondering if your seed phrase is one like I had which resulted in finding a defect in wallet derivation that was recently fixed - mobile wallet allows deriving the old defective way and the new way if it is one of the strange random ones


[02/27/2022 11:25 AM] SoCool#6419
If Yoroi / Nautilus restore correctly with your seed phrase, it's not that issue


[02/27/2022 11:26 AM] Leif Erickson#8939
I've moved this wallet before, but I checked using nautilus. I also verified that I was looking at primary and not derived address


[02/27/2022 11:26 AM] SoCool#6419
üëç cool unrelated then


[02/27/2022 11:27 AM] Leif Erickson#8939
Ok, thanks for trying


[02/27/2022 11:28 AM] SoCool#6419
I found the issue when mobile wallet gave me an address, I restored from seed on Yoroi and Nautilus and they both gave me different results from mobile, sounded similar with node giving you different restoration results from other wallets


[02/27/2022 12:04 PM] MrStahlfelge#0042
The fix is not rolled out yet


[02/27/2022 12:08 PM] Leif Erickson#8939
Luivatra suggested wallet/rescan which worked...even tho I imagine this is what the wallet had just done?  This happened on 2 different nodes, fyi


[02/27/2022 12:21 PM] SoCool#6419
Good to know!


[03/01/2022 9:51 AM] soysor#6001
Hey, in tx `3a8555a63904527a70b4f1896d4c265dff86152db5837820398c5531db143ac2` there's a output box `551242f664faa1dae9d8788b94813945fbfacf0c7be11dd044cb4d0430ca0427` with a ergo tree that cannot be parsed by the nodes API `/utils/ergoTreeToAddress` due to a validation error `ValidationRule(1001,Deserialized script should have SigmaProp type)` - the tree is `cd07021a8e6f59fd4a`

Is this known/expected? If it is known, what's the backstory? Some old bug?


[03/02/2022 12:32 PM] keblaK#5054
hello everyone! I have issues with displaying tokens list and their names while making transactions with Yoroi. Are there someone who can provide a helping hand?


[03/02/2022 1:29 PM] kii#8888
Hi I‚Äôm trying to understand the usage of oracles, and how it can be used within a smart contract. Are there ergo examples out there?


[03/02/2022 1:31 PM] glasgowm#9381
probably have more luck with SAFEW or Nautilus - both devs are active.


[03/02/2022 1:31 PM] glasgowm#9381
SigmaUSD uses an oracle


[03/02/2022 1:33 PM] glasgowm#9381
hmm what is this https://github.com/jrbender/fyn-finance

{Embed}
https://github.com/jrbender/fyn-finance
GitHub - jrbender/fyn-finance: UI for SigmaUSD instance of AgeUSD p...
UI for SigmaUSD instance of AgeUSD protocol. Contribute to jrbender/fyn-finance development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/dfA_CVYKvNxBxzD07EkRS9gCkqpT7YCtA-8e1SprwE0/https/opengraph.githubassets.com/57a90ee02437da605ff3700dfba1d7163b367f3a2478c1b8031ccfb6221c4c7f/jrbender/fyn-finance


[03/02/2022 1:33 PM] glasgowm#9381
https://github.com/Emurgo/age-usd/blob/main/ageusd-smart-contracts/v0.4/AgeUSD.scala

{Embed}
https://github.com/Emurgo/age-usd/blob/main/ageusd-smart-contracts/v0.4/AgeUSD.scala
age-usd/AgeUSD.scala at main ¬∑ Emurgo/age-usd
The AgeUSD protocol specifications/smart contracts/off-chain code. - age-usd/AgeUSD.scala at main ¬∑ Emurgo/age-usd
https://images-ext-2.discordapp.net/external/r0gze6Jo_9GYHG1x618eo-1sSs1ILLXA3hZxTrH9qFY/https/opengraph.githubassets.com/19bf3c291ce1f85fda6972bd96109cf6c131ccd484bd97014d1ba9a1897f7d4b/Emurgo/age-usd

{Reactions}
üî• 

[03/02/2022 1:35 PM] kii#8888
Thank you! This is exactly what I‚Äôm looking for


[03/02/2022 1:36 PM] kii#8888
I found one by anon real. That should be the real one


[03/02/2022 1:37 PM] glasgowm#9381
yeh this is a fork with the description

```
Fyn Finance is a head for interacting with headless dapps built on the Ergo blockchain.

Currently, the SigmaUSD instance of the AgeUSD protocol is supported. Please note that the UI itself is not the instance; it only interacts with the deployed contracts on Ergo blockchain which has been deployed by other anonymous community members not connected with Emurgo or EF.

There are plans to support more stablecoins and other headless dapps in the future.
```

never seen it before. Maybe abandoned by the looks of it though. You stumbled on this before @NoahErgo ?


[03/02/2022 1:37 PM] kii#8888
Are oracles, boxes that is set with a specific token with data stored in the registers. 

A backend dapp would then retrieve the boxes and use that data for smart contracts


[03/02/2022 1:39 PM] glasgowm#9381
yeah sounds about right


[03/02/2022 1:39 PM] glasgowm#9381
Also some stuff here; https://github.com/thedelphiproject

{Embed}
https://github.com/thedelphiproject
thedelphiproject
thedelphiproject has 5 repositories available. Follow their code on GitHub.
https://images-ext-1.discordapp.net/external/5huA7l0mQJNSBxsxlQQTVfA0dHiBbNlv-VJ-Bn_i05M/%3Fs%3D280%26v%3D4/https/avatars.githubusercontent.com/u/98308497


[03/02/2022 1:44 PM] kii#8888
Would you be able to give a summary of what this is? I went through it real quick but wasn‚Äôt 100% sure.

It seems like it‚Äôs an oracle that is getting data from coin data for ergo.


[03/02/2022 1:48 PM] kii#8888
Im working on a thought process of creating an oracle and having interest rates of a lending pool being deployed to the oracle. And the lending pool will use the oracles data for the smart contract. 

With that said, we‚Äôd create boxes with data stored in the registers being posted at a specific address. The boxes data can then be gathered and used for the smart contract pool.

Does that sound far fetched/wrong in concept?


[03/02/2022 2:15 PM] glasgowm#9381
'The Delphi Project is a community initiative to make oracle pools easier to discover, observe and interact with on the Ergo network.'

They set up a connector-builder during ergohack (to make it easier to build a custom connector tied to a price feed)


[03/02/2022 2:15 PM] glasgowm#9381
@Luivatra or @Delphi could probably answer better here üôÇ


[03/02/2022 3:09 PM] Luivatra#9076
Yeah that would work, use it as a datainput instead of an input.


[03/02/2022 3:11 PM] kii#8888
When you say data input. It still has to be an input in the tx right?


[03/02/2022 3:11 PM] Luivatra#9076
you can have datainputs besides inputs. They are not spent but can be accessed by the smart contract


[03/02/2022 3:12 PM] Luivatra#9076
```
 /** A collection of data inputs of the current transaction. Data inputs are
    * not going to be spent and thus don't participate in transaction validation
    * as `INPUTS`, but data boxes are available in guarding propositions of
    * `INPUTS` and thus can be used in spending logic.
    */
  def dataInputs: Coll[Box]
```


[03/02/2022 3:13 PM] Luivatra#9076
available through CONTEXT


[03/02/2022 3:13 PM] kii#8888
Would you be able to share a code example?


[03/02/2022 3:13 PM] Luivatra#9076
havent used it before but sigmausd uses it...


[03/02/2022 3:14 PM] Luivatra#9076
https://github.com/anon-real/sigma-usd/blob/master/src/utils/mintSc.js

{Embed}
https://github.com/anon-real/sigma-usd/blob/master/src/utils/mintSc.js
sigma-usd/mintSc.js at master ¬∑ anon-real/sigma-usd
UI for SigmaUSD instance of AgeUSD protocol. Contribute to anon-real/sigma-usd development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/ub7SZAEV0er9pmUTvJN4B5KFwldW4El5wusjuaj-8bs/https/opengraph.githubassets.com/39b27003b396921c11e164dccd863063aa3233a4d91bccc1903fab03921aced2/anon-real/sigma-usd


[03/02/2022 3:16 PM] kii#8888
Ah thanks for sharing. I‚Äôll check that out. Am gonna need to try it out in code


[03/02/2022 3:16 PM] kii#8888
If it‚Äôs used as a data input? Would it still be considered an oracle?


[03/02/2022 3:21 PM] Luivatra#9076
that is how oracles are used. Of course a solid setup is needed for changing the data in the oracle, you dont want a malicious actor setting the interest rate to some negative number üòÑ


[03/02/2022 3:22 PM] Luivatra#9076
so for that you can use an oracle pool, but it could also be a trusted oracle operator from ergolend


[03/02/2022 3:26 PM] kii#8888
Yeah. I‚Äôve been reading about oracles but have never created one. It sounds like a fun project to learn and implement too. 

So an oracle pool is essentially a bunch of data input boxes at that specific addresses.


[03/02/2022 3:26 PM] kii#8888
‚Äò‚Äô‚Äô
Sigmaprops(false)
‚Äò‚Äô‚Äô
ü§£


[03/02/2022 3:28 PM] Luivatra#9076
yes üôÇ


[03/02/2022 3:42 PM] kii#8888
Can you share the link to the docs for this?


[03/02/2022 4:29 PM] Luivatra#9076
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md
sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/si...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/sigmastate-interpreter
https://images-ext-1.discordapp.net/external/DozOHheakomav9jC1NL4oDEkbgXsJjsAZUEFrqk1IHw/https/opengraph.githubassets.com/87cd44730188f8eb290308ade7b749c0a6b4802fa85baf831d99b76739f88eff/ScorexFoundation/sigmastate-interpreter

{Reactions}
üî• 

[03/02/2022 4:41 PM] Frosty#7344
@glasgowm any idea who could help us with this??


[03/02/2022 5:13 PM] glasgowm#9381
https://discord.com/channels/668903786361651200/840313005064585246/948573159488102450


[03/02/2022 5:17 PM] Frosty#7344
thank you


[03/02/2022 6:00 PM] keblaK#5054
i have some details to clarify about nautilus. Well, I understand the structure and how do the code perform, but anyway the additional clarification would be much more appreciated


[03/02/2022 7:53 PM] Frosty#7344
I‚Äôll connect you with @capt_nemo creator of Nautulis


[03/03/2022 2:27 PM] quokka#1273
Do you think thered ever be a function on the explorer to send in an array of tokenId's so I dont have to call the explorer for every single nft to get its info


[03/03/2022 2:27 PM] quokka#1273
and it returns a json array idk


[03/03/2022 11:01 PM] SoCool#6419
Is it not on the API? the api docs are pretty good


[03/03/2022 11:14 PM] quokka#1273
Yes they are great, but this feature isn‚Äôt available unfortunately


[03/03/2022 11:15 PM] SoCool#6419
Good *but* not as good as the API... https://api.ergoplatform.com/api/v1/tokens?limit=50&offset=4 üôÇ


[03/03/2022 11:16 PM] SoCool#6419
I've found multiple times the API itself having things which aren't on the docs but make sense to be there based on the general REST patterns they have and lo and behold, there they are üôÇ


[03/03/2022 11:17 PM] quokka#1273
Isn‚Äôt this just to get the last 50 tokens? (Offset by 4)


[03/03/2022 11:17 PM] SoCool#6419
`"total":27523` - yes, you can iterate to get them all with offset/limit


[03/03/2022 11:18 PM] SoCool#6419
Each page mentions the `total` - was this not what you were looking for? Perhaps I misunderstand


[03/03/2022 11:20 PM] quokka#1273
That is interesting, but not quite what I‚Äôm looking for. I was hoping to send in an array of specific token ID‚Äôs so I can get in return, an array of objects where each object is the token data of the tokens I just asked for


[03/03/2022 11:21 PM] SoCool#6419
Ah, yeah that's different I suppose. You can just iterate and download all of them though and then have your own offline dictionary


[03/03/2022 11:21 PM] SoCool#6419
Doesn't take terribly long as you can request a limit of 500 at a time


[03/06/2022 9:54 PM] glasgowm#9381
This may help?

https://github.com/glasgowm148/ergoscripts/blob/main/py/scrape.ipynb

not sure what you're trying to do exactly but once it's in a df you can call against that

{Embed}
https://github.com/glasgowm148/ergoscripts/blob/main/py/scrape.ipynb
ergoscripts/scrape.ipynb at main ¬∑ glasgowm148/ergoscripts
Contribute to glasgowm148/ergoscripts development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/YYnsBByf376Ik3b_nUfzaOox3bT9nPVYqwkUibgyE_o/https/opengraph.githubassets.com/bf2a1de19ead2c7d74f9e8250f1d1e6d987f7519b645fde0307251682544a6c7/glasgowm148/ergoscripts


[03/08/2022 5:05 PM] curbsideprophet#5083
@glasgowm re: https://discord.com/channels/668903786361651200/849660327377240074/950722000874254387

just executed `bash start.sh` and receiving this error (after entering a pwd):
```#### Waiting for a response from the server. ####
................./install.sh: line 248: lsof: command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
JVM Heap is set to: -Xmx1265m
#### Waiting for a response from the server. ####
./install.sh: line 248: lsof: command not found
kill: usage: kill [-s sigspec | -n signum | -sigspec] pid | jobspec ... or kill -l [sigspec]
done
This script sets your hash and then exits. Please run with..```


[03/08/2022 5:07 PM] curbsideprophet#5083
any ideas? the readme says use `bash -c "$(curl -s https://node.phenotype.dev)"` but that doesn't work either: ```bash: -c: line 1: syntax error near unexpected token `newline'
bash: -c: line 1: `<!DOCTYPE html>'```


[03/08/2022 5:09 PM] glasgowm#9381
I'll need to push it to phenotype but best just cloning the repo and running the install_gui.sh script. I thought `lsof` was a unix standard but i guess not - disabled for the pi section


[03/08/2022 5:14 PM] glasgowm#9381
Should be live on `node.` now - Have you gotten your Pi to sync fully before?


[03/08/2022 5:14 PM] curbsideprophet#5083
i did a `sudo apt install lsof` so will try again


[03/08/2022 5:14 PM] curbsideprophet#5083
never. i tried to do this a few months ago but gave up. now trying again üôÇ


[03/08/2022 5:16 PM] glasgowm#9381
cool I'm just testing too - spits out a few errors as I've not ran it on Pi for a while but sync has began


[03/08/2022 5:17 PM] curbsideprophet#5083
so i ran `bash -c "$(curl -s https://node.phenotype.dev)"` which gave me this...

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950804386051928064/unknown.png


[03/08/2022 5:17 PM] glasgowm#9381
yeah just let it run for a min


[03/08/2022 5:17 PM] curbsideprophet#5083
and now it's just reprinting this over and over

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950804428674433064/unknown.png


[03/08/2022 5:18 PM] glasgowm#9381
Ah right yeh I need to set it to default to py2 for that bit - sync is still ongoing but won't display the progress. Will fix

{Reactions}
üôè 

[03/08/2022 8:25 PM] glasgowm#9381
Fixed that python error and a few others. At the moment for Pi it only enables the `stateType = digest` mode. I  got sync'd previously with `blocksToKeep=1440` (I think - height remained at `0` but I think that's the point).


[03/08/2022 8:34 PM] curbsideprophet#5083
ok i can give it a try again if you are ready for prime time


[03/08/2022 8:36 PM] glasgowm#9381
~53% headers on my Pi


[03/08/2022 8:36 PM] curbsideprophet#5083
so far so good üëÄ

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950854628524847154/Screen_Shot_2022-03-08_at_12.36.44_PM.png


[03/08/2022 8:53 PM] curbsideprophet#5083
@glasgowm this is normal, right? ```#### Waiting for a response from the server. ####
..........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................```


[03/08/2022 9:02 PM] glasgowm#9381
hm no it means for whatever reason the server isn't starting. Check the log?


[03/08/2022 9:06 PM] glasgowm#9381
Ah, I couldn't remember why I was killing the process at the start so I disabled it - it's to kill any hanging processes so it can run.


[03/08/2022 9:10 PM] curbsideprophet#5083
i looked at `commands.md` but i dont have an `ergo.log` output

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950863211018735666/Screen_Shot_2022-03-08_at_1.10.50_PM.png


[03/08/2022 9:12 PM] glasgowm#9381
It's in /sh/ergo likely but i've updated the command now to work. It's because an old instance on the port


[03/08/2022 9:13 PM] curbsideprophet#5083
ahh ok. i'll git fetch/pull really quick and try again. thank you! üôå


[03/08/2022 9:16 PM] glasgowm#9381
@abchris @andee have yous gotten Pi's to sync fully? could you share your config / any tricks ?


[03/08/2022 9:18 PM] abchris#8522
Not running on pi's... but this my docker-based setup <https://github.com/abchrisxyz/ergo-setup> in case it helps (probably not)

{Reactions}
üëç 

[03/08/2022 9:45 PM] curbsideprophet#5083
server isn't starting and still no logs. not sure if it helps but i'm running rpi4 4gb 64-bit headless


[03/08/2022 10:00 PM] glasgowm#9381
check the /ergo folder


[03/08/2022 10:00 PM] glasgowm#9381
or just come out that directory before running the command and should be clearer


[03/08/2022 10:28 PM] curbsideprophet#5083
okay finally getting this repeat print view i guess is OK to just let it run?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950882762842333324/Screen_Shot_2022-03-08_at_2.28.19_PM.png


[03/08/2022 10:41 PM] glasgowm#9381
hm how is that still happening for you lol


[03/08/2022 10:41 PM] glasgowm#9381
what does `python --version` say


[03/08/2022 10:42 PM] curbsideprophet#5083
`python 3.9.2`


[03/08/2022 10:42 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950886372137381958/Screen_Shot_2022-03-08_at_2.42.54_PM.png


[03/08/2022 10:43 PM] glasgowm#9381
If you're running 
```
bash -c "$(curl -s https://node.phenotype.dev)"
```

It should pull the latest version which just swaps out for python2 in the code - I have a second machine that was getting the same error but I pushed a fix that solved it so hmm


[03/08/2022 10:43 PM] glasgowm#9381
ahh ok I see


[03/08/2022 10:43 PM] curbsideprophet#5083
yeah i executed the command above. bare bones install.


[03/08/2022 10:43 PM] curbsideprophet#5083
only thing i added was git and java


[03/08/2022 10:46 PM] glasgowm#9381
Yeah my bad sorry the code only tested for 3.8, thanks for beta testing üòÖ


[03/08/2022 10:48 PM] curbsideprophet#5083
HAHA! all good this is fun for me anyways üôÇ


[03/08/2022 10:51 PM] glasgowm#9381
type in 
```
pyv=$(python -V 2>&1 | sed 's/.* \([0-9]\).\([0-9]\).*/\1\2/')
echo $pyv
```
Does it give `39` ?


[03/08/2022 10:54 PM] curbsideprophet#5083
yes


[03/08/2022 10:55 PM] glasgowm#9381
ok should work now


[03/08/2022 10:56 PM] curbsideprophet#5083
it works but differently haha

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950889882648207410/Screen_Shot_2022-03-08_at_2.56.45_PM.png


[03/08/2022 11:11 PM] glasgowm#9381
interesting - python2 isn't installed by default?


[03/08/2022 11:12 PM] curbsideprophet#5083
hrmm before all this i ran sudo apt update/upgrade


[03/08/2022 11:12 PM] curbsideprophet#5083
i mean i think it's working? i ran curl on the `/panel` page and i can see the HTML code. this not so much but i guess waiting for a full sync?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950893908030799912/unknown.png


[03/08/2022 11:12 PM] glasgowm#9381
honestly py2->py3 was the worst switch ever. That print statement messes so many things up. I thought everywhere had python2 available (macs do - but I guess linux don't)


[03/08/2022 11:13 PM] glasgowm#9381
what does /info say?


[03/08/2022 11:13 PM] glasgowm#9381
and yeah it's just the sync process display that wont work


[03/08/2022 11:17 PM] curbsideprophet#5083
ok looks like the `headersheight` value is increasing

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/950894990266105936/Screen_Shot_2022-03-08_at_3.16.55_PM.png


[03/08/2022 11:17 PM] curbsideprophet#5083
i assume that's a good sign


[03/08/2022 11:18 PM] glasgowm#9381
Sorted then - just gotta let cycle through then blocks will start. From reading some of the old discord convos I'm not too hopeful though. Might take some work. I think people got it working by just transferring it on a USB since the memswapping is quite intensive when trying to sync the last bits


[03/08/2022 11:20 PM] curbsideprophet#5083
excited for utxo set snapshots then üôÇ


[03/08/2022 11:22 PM] glasgowm#9381
same üòÖ will let you know if i make any progress with mine. Can add something that restarts it every so often to try and combat it


[03/08/2022 11:25 PM] curbsideprophet#5083
i can add a subsection in the getting started specifically for rpi...i think this'll prove useful long term


[03/08/2022 11:29 PM] glasgowm#9381
sounds good!


[03/09/2022 1:48 PM] curbsideprophet#5083
@glasgowm making progress ü§£

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951114321293901834/Screen_Shot_2022-03-09_at_5.48.34_AM.png


[03/09/2022 1:51 PM] glasgowm#9381
whats the info at?


[03/09/2022 1:51 PM] glasgowm#9381
Mine's upto 33% but seems to have stopped increasing :/


[03/09/2022 2:55 PM] curbsideprophet#5083
how are you calculating the 33%?


[03/09/2022 2:56 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951131267716485201/Screen_Shot_2022-03-09_at_6.56.02_AM.png


[03/09/2022 2:58 PM] glasgowm#9381
thats what the python command does üòÖ


[03/09/2022 2:59 PM] curbsideprophet#5083
this section? lol

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951132052303003728/Screen_Shot_2022-03-09_at_6.59.07_AM.png


[03/09/2022 2:59 PM] glasgowm#9381
Oh, just noticed an error on mine 'no write space left on device'


[03/09/2022 2:59 PM] glasgowm#9381
yep


[03/09/2022 2:59 PM] curbsideprophet#5083
ok it means mine hasn't started yet


[03/09/2022 2:59 PM] glasgowm#9381
watch the `height` to see if it's increasing - looks like you're 55k blocks in


[03/09/2022 2:59 PM] curbsideprophet#5083
yeah almost 600K


[03/09/2022 3:00 PM] glasgowm#9381
no it has, its just the python command to display that % doesn't work on your machine.


[03/09/2022 3:00 PM] curbsideprophet#5083
ohh lol. in that case it's closer to 80%?


[03/09/2022 3:00 PM] curbsideprophet#5083
i dont even know minimum requirements i have a 32gb SD card slapped to this too


[03/09/2022 3:00 PM] glasgowm#9381
looks like it


[03/09/2022 3:01 PM] glasgowm#9381
what does /panel say?


[03/09/2022 3:01 PM] glasgowm#9381
Still `Active Sync...`


[03/09/2022 3:02 PM] curbsideprophet#5083
need to figure out a way to see the GUI since i'm running headless lol

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951132863976325160/Screen_Shot_2022-03-09_at_7.02.10_AM.png


[03/09/2022 3:02 PM] curbsideprophet#5083
"You need to enable JavaScript to run this app."


[03/09/2022 3:03 PM] curbsideprophet#5083
but i still get 403 when using `curl`  to addresses

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951133015822712842/Screen_Shot_2022-03-09_at_7.02.55_AM.png


[03/09/2022 3:04 PM] glasgowm#9381
hmm - is the blake hash in the .conf file?


[03/09/2022 3:04 PM] glasgowm#9381
also have you initialised a wallet?


[03/09/2022 3:05 PM] curbsideprophet#5083
have not initialized just following your quick start guide üôÇ (so all i have done at this point is literally run the bash command)

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951133649284255864/Screen_Shot_2022-03-09_at_7.05.20_AM.png


[03/09/2022 3:08 PM] curbsideprophet#5083
and it should be safe to delete the `*.log.gz` files? eating up 40% of total space


[03/09/2022 3:11 PM] glasgowm#9381
Yeah wallet init isn't included you need to called `wallet/init` - usual process but I've not been through it headless

https://docs.ergoplatform.com/node/wallet/


[03/09/2022 3:12 PM] glasgowm#9381
```
curl -X POST "http://127.0.0.1:9053/wallet/init" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"pass\":\"string\",\"mnemonicPass\":\"\"}"
```


[03/09/2022 3:15 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951136220237398056/Screen_Shot_2022-03-09_at_7.15.41_AM.png


[03/09/2022 3:18 PM] glasgowm#9381
*hadn't unlocked my swagger - need to send the API key too

```
curl -X POST "http://127.0.0.1:9053/wallet/init" -H "accept: application/json" -H "api_key: hello" -H "Content-Type: application/json" -d "{\"pass\":\"string\",\"mnemonicPass\":\"\"}"
```


[03/09/2022 3:19 PM] curbsideprophet#5083
same response üò¶

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951137283086622740/Screen_Shot_2022-03-09_at_7.19.54_AM.png


[03/09/2022 3:20 PM] curbsideprophet#5083
does the above work for you?


[03/09/2022 10:08 PM] MGpai#4313
@curbsideprophet @glasgowm have you guys tried the light version of the node on rasp pi?


[03/09/2022 10:09 PM] MGpai#4313
https://docs.ergoplatform.com/node/platforms/pi/


[03/09/2022 10:46 PM] glasgowm#9381
sorry missed this - can't tell as it's already initialised for mine. Will try on another pc but should be ok - is the blake2 hash in `ergo.conf` ?


[03/09/2022 10:47 PM] glasgowm#9381
Yeah the light mode works but not sure how much use it is other than for helping secure the network. Trying with heavier settings.


[03/09/2022 11:02 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951253787807457320/Screen_Shot_2022-03-09_at_3.02.50_PM.png


[03/09/2022 11:30 PM] glasgowm#9381
Did you set another API key at any point? That's not the hash for hello


[03/09/2022 11:32 PM] glasgowm#9381
Should be `324dcf027dd4a30a932c441f365a25e86b173defa4b8e58948253471b81b72cf`


[03/10/2022 12:12 AM] curbsideprophet#5083
i dont think so i used "hello" every single time


[03/10/2022 12:28 AM] curbsideprophet#5083
Or rather I know I did not


[03/10/2022 7:42 AM] curbsideprophet#5083
stalled at 613021 for the last 8 hours or so

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951384571251941376/Screen_Shot_2022-03-09_at_11.42.21_PM.png


[03/10/2022 1:49 PM] glasgowm#9381
not sure how you could get a different hash there then. can always swap it out though and restart


[03/10/2022 1:49 PM] glasgowm#9381
damn so close - not bad. Any notable errors?


[03/10/2022 1:51 PM] glasgowm#9381
There's a line that kills the processes and restarts if it becomes unresponsive so I think that's saved me a few times. Restarted sync with HDD attached


[03/10/2022 2:43 PM] curbsideprophet#5083
it's moving slowly but surely

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951490429499617280/Screen_Shot_2022-03-10_at_6.42.48_AM.png


[03/10/2022 2:44 PM] curbsideprophet#5083
what's the best way to do this? 1) kill the process 2) replace with the correct 'hello' hash above in the `blake.conf` and `ergo.conf` then 3) `bash run.sh` ?


[03/10/2022 3:01 PM] glasgowm#9381
hmm better to use the shutdown command but I guess it won't let you into that so yeah. 
1. ctrl+c
2. replace in `ergo.conf`
3. re-run `bash -c "$(curl -s https://node.phenotype.dev)"`


[03/10/2022 3:18 PM] curbsideprophet#5083
don't need to change `blake.conf` ?


[03/10/2022 4:01 PM] curbsideprophet#5083
answering my own question: the answer is yes otherwise when you run it again it will display "the blake hash is: xyz" and showing incorrect one


[03/10/2022 4:04 PM] curbsideprophet#5083
with the proper blake key not getting any print errors either

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951510797744504882/Screen_Shot_2022-03-10_at_8.03.58_AM.png


[03/10/2022 4:04 PM] curbsideprophet#5083
this also works now


[03/10/2022 4:12 PM] curbsideprophet#5083
for anyone else following along here is memory usage thus far on rpi4 4gb debian OS 64-bit headless on 32gb SD card

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951512990434340934/Screen_Shot_2022-03-10_at_8.12.25_AM.png


[03/10/2022 4:50 PM] glasgowm#9381
Yeh I fixed that on another commit üôÇ (lazily)


[03/10/2022 4:50 PM] glasgowm#9381
90% nice - still ticking over then?


[03/10/2022 4:59 PM] curbsideprophet#5083
slowly but surely at ~24hours now

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951524775363239946/Screen_Shot_2022-03-10_at_8.59.23_AM.png


[03/10/2022 5:00 PM] curbsideprophet#5083
haha! i dont think i ran a git pull yet or i forgot if i did üòê


[03/10/2022 8:00 PM] liquid_phase#4605
This is a bit off the ergo topic, but is anyone in here talented with serial bus devices? I have a serial interface weighing scale, which i have successfully talking to my mac and can see it via CoolTerm, outputting the correct weight data to the computer - but i cannot for the life of me find a properly working 'wedge' to parse text throughput from the serial terminal to a keyboard entry. I can find ones for windows, but none will work for me through wine on my macbook


[03/10/2022 8:04 PM] liquid_phase#4605
there is apparently a baked-in chrome API to talk to serial devices, i tested that and it can properly see/connect to the device - but again there is no easy solution to be able to parse the output into a text field without custom writing an application to do it - and i am not a programmer, so i am stuck


[03/10/2022 11:19 PM] curbsideprophet#5083
95% .... 666540/703415


[03/11/2022 3:17 PM] curbsideprophet#5083
95% ... 667613/703941

this still comes up empty: `curl -X GET "http://127.0.0.1:9053/wallet/addresses" -H "accept: application/json" -H "api_key: hello"`


[03/11/2022 3:22 PM] glasgowm#9381
Did wallet init work though?


[03/11/2022 3:22 PM] glasgowm#9381
Least it's moving. Mine is stuck at 70% I think


[03/11/2022 3:23 PM] curbsideprophet#5083
yeah it did thank you i received the 12x mnemonic seed phrases


[03/11/2022 3:23 PM] curbsideprophet#5083
getting the list of addresses is blank though


[03/11/2022 3:30 PM] glasgowm#9381
main methods here: https://docs.ergoplatform.com/node/swagger/#main-methods


[03/11/2022 3:30 PM] glasgowm#9381
may need to dervivenextkey when you use cli to init


[03/11/2022 3:35 PM] glasgowm#9381
```
curl -X GET "http://127.0.0.1:9053/wallet/status" -H "accept: application/json" -H "api_key: hello"
```


[03/11/2022 3:35 PM] glasgowm#9381
or maybe locked actually


[03/11/2022 3:45 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951868552799997962/Screen_Shot_2022-03-11_at_7.45.41_AM.png


[03/11/2022 3:47 PM] curbsideprophet#5083
weird lol

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951868877669806080/Screen_Shot_2022-03-11_at_7.46.59_AM.png


[03/11/2022 3:47 PM] glasgowm#9381
```
curl -X POST "http://localhost:9053/wallet/unlock" -H "accept: application/json" -H "api_key: hello" -H "Content-Type: application/json" -d "{\"pass\":\"string\"}"
```


[03/11/2022 3:49 PM] curbsideprophet#5083
nice.

response was `ok`. ran `derivenextkey` again and now i have `derivationpath` and `address`. 

that was not easy lol


[03/11/2022 3:52 PM] glasgowm#9381
yeh I'll add the commands - not had anyone do it headless before ^^


[03/11/2022 3:52 PM] curbsideprophet#5083
working as intended

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/951870284007362600/Screen_Shot_2022-03-11_at_7.52.29_AM.png


[03/11/2022 3:52 PM] curbsideprophet#5083
i was already updating the readme if you want me to do it üôÇ


[03/11/2022 3:53 PM] glasgowm#9381
feel free


[03/11/2022 3:53 PM] curbsideprophet#5083
aye aye cap'n


[03/11/2022 3:57 PM] glasgowm#9381
Did you say you had 16GB of ram on that Pi?


[03/11/2022 3:58 PM] curbsideprophet#5083
no 4gb ram with debian 64-bit OS and 32gb sd card


[03/11/2022 3:58 PM] glasgowm#9381
ah


[03/11/2022 3:58 PM] curbsideprophet#5083
memory storage usage is at 62% right now and 95% complete


[03/11/2022 3:58 PM] glasgowm#9381
mine's 8GB and stuggling at 70% :[


[03/11/2022 3:59 PM] curbsideprophet#5083
i have another 10x rpi4 lying around. i'll do another full round of install to iron out any bugs üôÇ


[03/11/2022 3:59 PM] curbsideprophet#5083
but this is really great and thank you for the help the past week


[03/11/2022 4:00 PM] glasgowm#9381
np good timing as I was just getting to that bit üôÇ


[03/11/2022 4:00 PM] curbsideprophet#5083
would love to contribute now how to add mixer and stuff hehe ü§î


[03/11/2022 4:01 PM] glasgowm#9381
oh restarted and jumped to 73% yas


[03/11/2022 4:01 PM] glasgowm#9381
add mixer to what?


[03/11/2022 4:01 PM] glasgowm#9381
mixer is standalone you don't need the node. Just download and double click üôÇ

{Reactions}
üò≤ ü§Ø 

[03/11/2022 4:02 PM] curbsideprophet#5083
is it rpi4? wonder what's the cause of sluggish sync? i think you started first too


[03/11/2022 4:02 PM] curbsideprophet#5083
not sure if it matters i'm also on 2gb fiber optic lol


[03/11/2022 4:03 PM] glasgowm#9381
I paused for a day while I got my old HDD and moved it over/restarted


[03/11/2022 4:03 PM] glasgowm#9381
Yep - keeps getting too hot. Was next to a heater, now its wrapped round a fan


[03/11/2022 4:03 PM] curbsideprophet#5083
oh i was just thinking about if it's possible to do an "umbrel for ergo". not sure i'm even asking the right question or working on the correct solution


[03/11/2022 4:04 PM] curbsideprophet#5083
but the idea is can my node do all things ergo related without accessing an external website


[03/11/2022 4:05 PM] glasgowm#9381
Yeah would be good to have something that combined ergo node + dex bots + oracle-bots + ergo-team bots + etc.


[03/11/2022 4:05 PM] curbsideprophet#5083
precisely this üôÇ


[03/11/2022 5:33 PM] curbsideprophet#5083
@glasgowm i have pending PR https://github.com/glasgowm148/ergoscripts/pull/1


[03/12/2022 7:14 AM] curbsideprophet#5083
doing a full run with `ergoscripts` repo on another completely new rpi. is it possible it won't work if it's on the same network (even though they have different ssh IP address) ?


[03/12/2022 7:15 AM] curbsideprophet#5083
1st one responding fine but here is response for 2nd one...

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/952102572745977896/Screen_Shot_2022-03-11_at_11.15.25_PM.png


[03/12/2022 4:23 PM] glasgowm#9381
approved thanks!


[03/12/2022 4:23 PM] glasgowm#9381
hmm should be fine I would've thought? Whats `ergo/ergo.log` saying ?


[03/12/2022 4:24 PM] glasgowm#9381
How's it going?


[03/12/2022 4:50 PM] curbsideprophet#5083
still at 667613 even though height went to 704417

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/952247281673990204/Screen_Shot_2022-03-12_at_8.50.30_AM.png


[03/12/2022 4:51 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/952247397206073404/Screen_Shot_2022-03-12_at_8.51.06_AM.png


[03/12/2022 4:53 PM] glasgowm#9381
Thanks - seems the `conf` file isn't saving properly or something. Will investigate

{Reactions}
‚ù§Ô∏è 

[03/12/2022 4:57 PM] glasgowm#9381
Hmm think it might mistakenly think it's synced. You can maybe try adding this to your ergo.conf and restarting to see if it kicks it back into action. (under the existing `ergo{node{`) 

```
ergo {
        node {
          # The node considers the chain is synced if sees a block header with timestamp no more
          # than headerChainDiff blocks on average from future
          # 800 blocks ~= 1600 minutes (~1.1 days)
          headerChainDiff = 80
        }
}
```


[03/12/2022 5:02 PM] curbsideprophet#5083
the `ergo.conf` file wasn't created either üôÇ

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/952250310175387678/Screen_Shot_2022-03-12_at_9.02.35_AM.png


[03/12/2022 5:05 PM] glasgowm#9381
I mean for the one at ~95%


[03/12/2022 5:07 PM] curbsideprophet#5083
ahh sorry didn't see the reference message

added and running again


[03/14/2022 10:30 PM] curbsideprophet#5083
@glasgowm another PR for you please re: headless code examples üôÇ

https://github.com/glasgowm148/ergoscripts/pull/2

{Reactions}
‚≠ê 

[03/15/2022 2:04 PM] kii#8888
I integrated a wallet dapp to connect via the yoroi chrome extension. However, I'm not sure how I can disconnect it. Any tips for that?


[03/15/2022 2:04 PM] kii#8888
It also is it possible to disconnect from ergo-dex wallet?


[03/15/2022 2:33 PM] glasgowm#9381
you can disconnect from within yoroi


[03/15/2022 2:33 PM] glasgowm#9381
Yeah you can `Change Wallet` on ergodex


[03/15/2022 2:35 PM] kii#8888
change wallet doesnt necessarily disconnect though


[03/15/2022 2:36 PM] kii#8888
but i see, i can disconnect from yoroi


[03/15/2022 7:40 PM] Marty#4039
How do you get a node to sync if it says "node is synced" but it hasn't got the latest block height?


[03/15/2022 8:13 PM] tdj#1676


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/953385554857320518/unknown.png


[03/15/2022 8:17 PM] tdj#1676
what is ergotreetemplatehash? i want to do boxes filtering..  instead i call get api and then filter it front end, it will be more efficient if i can do "detailed search" while calling an api


[03/16/2022 9:43 AM] SoCool#6419
I believe for detailed searching, it's generally done by people standing up their own explorer and then you can query the DB directly


[03/16/2022 5:40 PM] Leif Erickson#8939
Any work addressing when a node just gets stuck and won't keep up with current height?  This happens during sync, and sometimes after a while of being fully sync'd.  Can I provide any logs to help resolve this? Maybe a bug report? Thanks!!


[03/16/2022 5:45 PM] glasgowm#9381
4.0.24 is in review which should hopefully help a little

> There are many improvements on the way, such as kvsync etc. Checkpoints in 4.0.24 also help
> 
https://github.com/ergoplatform/ergo/pull/1619

{Embed}
https://github.com/ergoplatform/ergo/pull/1619
Candidate for 4.0.24 by kushti ¬∑ Pull Request #1619 ¬∑ ergoplatform/...
#1613
#1616
#1625
#1626
#1637
#1638
#1639
#1640
#1643
#1645

Contributors: @kettlebell, @kushti, @pragmaxim
https://images-ext-2.discordapp.net/external/Y3j3AppYP0tJN09bLxLHInihUGM4IF27FHogc7mQ06s/https/opengraph.githubassets.com/604767bbd6b44b667ed12dde512d53040861cd6dc6e7c902e0600ef44b1c239f/ergoplatform/ergo/pull/1619


[03/16/2022 7:36 PM] MGpai#4313
Few questions regarding NFTs

-Is it possible to get the various generated addresses via some sort of master public key
     -This would help with whitelisting/blacklisting addresses during mint

-How drastically can the default fee of 0.001 ERG be reduced 
     -For example this could be hefty while minting 10,000 NFTs when ERG appricates 

-Can NFTs be under some sort of contract address like ethereum or is each unique
     -For example under xyz contract there are 10 NFTs and only 5 more can be added

- How are the minting addresses found for NFTs?
     -Is it embedded within the NFT or do transactions need to be traced?


[03/17/2022 12:44 AM] SoCool#6419
Ergs allow 9 numbers past the decimal, so 0.000000001 is smallest bit


[03/17/2022 1:31 AM] MGpai#4313
Although this is possible will the tx still go through and get mined?


[03/17/2022 1:32 AM] SoCool#6419
It's a good question, I can't speak to that


[03/17/2022 1:33 AM] SoCool#6419
I suspect so, when fees are changed and values etc


[03/19/2022 1:39 AM] Leif Erickson#8939
@kushti is there a way to restart a node when it stalls without having to rebuild entire node? Or perhaps is there a place to download the first 600,000 blocks (for example), to begin a node from?  Thank you!


[03/19/2022 3:54 PM] NoahErgo#4349
Theres this: https://github.com/mgpai22/ergo-synced-node

And i think block snapshots are being worked on?

{Embed}
https://github.com/mgpai22/ergo-synced-node
GitHub - mgpai22/ergo-synced-node: Dockerized synced ergo node! The...
Dockerized synced ergo node! The fastest way to spin a complete operational node for the ergo blockchain. - GitHub - mgpai22/ergo-synced-node: Dockerized synced ergo node! The fastest way to spin a...
https://images-ext-2.discordapp.net/external/45qoIaFciyHj0_eBYaOSj6EuQm91zDOu8bgo_M2Makc/https/opengraph.githubassets.com/99a15ba6dc1ded11b1479cb10ab1c21a3300fd57fee37491d91f8f253626e9d7/mgpai22/ergo-synced-node

{Reactions}
üíØ 

[03/19/2022 7:10 PM] Leif Erickson#8939
Fantastic!  This looks perfect, thank you


[03/19/2022 8:32 PM] KJ#5769
@Leif Erickson Are you WinterTFG?


[03/19/2022 9:05 PM] Leif Erickson#8939
@KJ heya, I use a couple handles based on work, but ya WinterTFG :)


[03/19/2022 9:10 PM] KJ#5769
Awesome, your avatar gave you away lol


[03/21/2022 1:39 PM] Ch1n3du#7350
Trying to convert rust types to ergoscript types for the headless dapp framework, but not sure how. The documentation is kind of non-existent in this area

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/955460538878533662/Screenshot_215.png
https://cdn.discordapp.com/attachments/840313005064585246/955460539084075038/Screenshot_216.png


[03/21/2022 10:02 PM] kushti#0978
http://213.239.193.208:8082/static/ergodb.tar.gz  - recent state and history folders

{Reactions}
‚ù§Ô∏è 

[03/21/2022 10:03 PM] kushti#0978
@greenhat ^


[03/22/2022 5:36 AM] greenhat#6562
Thanks. We're already discussing it in #deleted-channel . :)


[03/22/2022 1:04 PM] Pgr456#1839
Is there a max transaction size? and if yes how large is it and where is it validated in the stateless or stateful validation?


[03/22/2022 1:07 PM] glasgowm#9381
> 4.0.23 has tx size limit of 96 kb by default for the mempool. So bigger tx can be included by a miner directly only
> 
> Other than that, each output adds 300 to tx cost, and 25k outputs currently above block limit


[03/22/2022 1:07 PM] glasgowm#9381
So miners can vote to raise the block limit, or include larger tx manually. Not sure about the validation.


[03/22/2022 1:15 PM] Pgr456#1839
so if I understand correctly larger than 96kb tx are not propagated to other mempools but can be included in a block. With the transaction cost the maximum amount of outputs for one transaction would be 25k outputs or 25k cost? Is the cost for a output 300 regardless if the output has assets attached to it?


[03/22/2022 1:33 PM] glasgowm#9381
> so if I understand correctly larger than 96kb tx are not propagated to other mempools but can be included in a block.
Yep

> With the transaction cost the maximum amount of outputs for one transaction would be 25k outputs or 25k cost?
That comment was in response to a 25k airdrop saying that'd be above the limit - can't remember what it changed to exactly in 4.0.23 but I think the 10k airdrop only made it through as one of the pools was running an older node. 

>  Is the cost for a output 300 regardless if the output has assets attached to it? 

Not sure, I assumed 300 was 300 bytes but that'd be off by a factor of 10x according to this

> So I think 1k outputs was about 50 kb and 10k was about 470 kb. So Maximum with 4.0.23 is probably around 2k, but that limit is subject to change and can be circumvented.


[03/22/2022 1:37 PM] Pgr456#1839
Interesting thanks for the insight üôÇ


[03/22/2022 6:03 PM] curbsideprophet#5083
@anon_real i think the airdrop feature in `ergoutils` is no longer working


[03/22/2022 6:13 PM] glasgowm#9381
https://www.sigmavalley.org/airdrop

{Embed}
https://www.sigmavalley.org/airdrop
SigmaValley - Virtual World NFT
Inspired by Silicon Valley TV series Intro, a virtual 3d world of #Ergo community! Own a virtual property and join the effort to make it fun and entertaining!
https://images-ext-1.discordapp.net/external/MquiRR2StveU0jl9WDS7mkezkcyluCFEeeyIZtLX9O8/https/www.sigmavalley.org/assets/images/logo-sigmaValley.jpeg


[03/22/2022 6:13 PM] curbsideprophet#5083
#mindblown hol up going to buy more $erg during this pamp


[03/22/2022 7:01 PM] curbsideprophet#5083
btw doesn't work i keep getting a "failed to connect" when i run a test airdrop on my own wallets


[03/22/2022 7:10 PM] glasgowm#9381
Hmm think it did work maybe something to do with the noodz


[03/22/2022 7:11 PM] curbsideprophet#5083
are you telling me i may have airdropped myself 8x then? lol


[03/22/2022 7:14 PM] glasgowm#9381
maybe the node it uses is spammed with noodles and can't send tx


[03/22/2022 7:15 PM] curbsideprophet#5083
the noodz messed up all the ergo noods...love it. march 22nd, 2022...a day of rememberance


[03/22/2022 7:17 PM] curbsideprophet#5083
if the pipeline gets unclogged will the 8x fail or run through?


[03/22/2022 7:19 PM] Pgr456#1839
Regarding that airdrop. It was created with node version 4.0.24 and 4.0.23. Tx was generated with node 4.0.23 using the /wallet/transaction/send call which looks like it doesn't validate the transaction size correctly. The transactions consisting out of a chain of 3*15k outputs plus 1 with 5k were distributed with the 4.0.24 node with overwritten settings for maxTransactionSize and maxTransactionCost. On top of that the transactions were submitted to a few public nodes running old version which exposed their api port

{Reactions}
üïµÔ∏è 

[03/22/2022 8:38 PM] glasgowm#9381
Finally included 

https://explorer.ergoplatform.com/en/blocks/745b26574d4c466491fc692daa5abd6b0a98220546a7e8e349819f48999c34f5


[03/22/2022 8:39 PM] glasgowm#9381
Yeh shouldn't be using overwritten settings or miners won't include them in blocks


[03/22/2022 8:43 PM] Pgr456#1839
In the airdrop case I intended it to see the limitations. Thats why I asked the previous questions about max tx size etc. I think i can speak for @arkadias and me that it was not intended to do any harm but more to see how we can stress the network and if it can handle it. Good we had it now and it can be fixed than have it when more user and larger CEXs are joining


[03/22/2022 8:45 PM] Pgr456#1839
Please note that the full node has no validation on total tx size when creating a transaction over /wallet/transaction/send. Maybe there should be the same validations as the POST /transaction/check endpoint to prevent this


[03/22/2022 8:53 PM] glasgowm#9381
what was overwritten setting value ?


[03/22/2022 8:58 PM] Pgr456#1839
maxTransactionSize = 98304000
maxTransactionCost = 100000000

it was these large values to make sure


[03/22/2022 9:28 PM] MrStahlfelge#0042
explorer transactions api should have a flag to restrict the returned information to the boxes for the given address to save a lot of data for such cases


[03/22/2022 9:51 PM] arkadias#4896
https://tenor.com/view/sorry-face-cover-box-shy-gif-11939709

{Embed}
https://tenor.com/view/sorry-face-cover-box-shy-gif-11939709
https://images-ext-1.discordapp.net/external/6TdHNn7rUZsKvUi6oIa3kBe4iooCnpVu-G_-SSSsxi8/%3Fc%3DVjFfZGlzY29yZA/https/media.tenor.com/W9WZF38UTN0AAAAD/sorry-face-cover-box.png


[03/23/2022 2:33 PM] vexorg#0768
Is there a place I can go to read up on APIs I can use to track my wallet balances of ergo and tokens along with their values for arbitrary time ranges? Sorry for the noob question, if it's answered in a faq or something just point me to that


[03/23/2022 2:44 PM] curbsideprophet#5083
There is this which requires a little more cleaning/aggregation: https://api.ergoplatform.com/api/v1/docs/
But also this in very early stages: https://ergo.watch/api/v0/docs#/


[03/23/2022 2:56 PM] vexorg#0768
Thanks for the links üôÇ I'd found the ergoplatform one before but not the ergo.watch one


[03/23/2022 3:03 PM] vexorg#0768
Looks like the ergo.watch api will let me just get it done faster. Would I learn more though by trying to follow the ergoplatform.org api docs?


[03/23/2022 4:18 PM] 6directions#1089
do wallets "hold" boxes, or do they simply scan the blockchain for boxes corresponding to a user's pk?


[03/23/2022 4:35 PM] MrStahlfelge#0042
the latter. it is a partial view since there might be boxes with completely other addresses also belonging to a wallet

{Reactions}
üëç 

[03/23/2022 8:51 PM] Elemental#9509
Yoo


[03/23/2022 8:52 PM] Elemental#9509
Anyone able to assist me with figuring out why I randomly get this error in my ergo node? It says not enough bytes in the buffer. How would I go about correcting this?
```
[WARN] [03/23/2022 13:50:34.334] [ergoref-akka.actor.default-dispatcher-10] [akka.actor.ActorSystemImpl(ergoref)] Illegal request, responding with status '400 Bad Request': Unsupported HTTP method: HTTP method too long (started with '?√ë?√Ñ√ª/ergoref‚ô¶ '). Increase `akka.http.server.parsing.max-method-length` to support HTTP methods with more characters.
13:50:34.334 INFO  [tor.default-dispatcher-15] s.c.n.PeerConnectionHandler - Error during parsing a handshake
java.lang.IllegalArgumentException: requirement failed: Not enough bytes in the buffer: 97
        at scala.Predef$.require(Predef.scala:281)
        at scorex.util.serialization.VLQByteBufferReader.getBytes(VLQByteBufferReader.scala:25)
        at scorex.core.network.PeerSpecSerializer.$anonfun$parse$1(PeerSpec.scala:74)
        at scorex.util.serialization.VLQReader.getOption(VLQReader.scala:106)
        at scorex.util.serialization.VLQReader.getOption$(VLQReader.scala:103)
        at scorex.util.serialization.VLQByteBufferReader.getOption(VLQByteBufferReader.scala:10)
        at scorex.core.network.PeerSpecSerializer.parse(PeerSpec.scala:72)
        at scorex.core.network.message.HandshakeSpec.parse(BasicMessagesRepo.scala:270)
        at scorex.core.network.message.HandshakeSpec.parse(BasicMessagesRepo.scala:249)
        at scorex.core.serialization.ScorexSerializer.parseBytes(ScorexSerializer.scala:36)
        at scorex.core.serialization.ScorexSerializer.parseBytes$(ScorexSerializer.scala:34)
        at scorex.core.network.message.HandshakeSpec.parseBytes(BasicMessagesRepo.scala:249)
        at scorex.core.serialization.ScorexSerializer.$anonfun$parseBytesTry$1(ScorexSerializer.scala:40)
        at scala.util.Try$.apply(Try.scala:213)
        at scorex.core.serialization.ScorexSerializer.parseBytesTry(ScorexSerializer.scala:40)
        at scorex.core.serialization.ScorexSerializer.parseBytesTry$(ScorexSerializer.scala:39)
        at scorex.core.network.message.HandshakeSpec.parseBytesTry(BasicMessagesRepo.scala:249)
        at scorex.core.network.PeerConnectionHandler$$anonfun$receiveAndHandleHandshake$1.applyOrElse(PeerConnectionHandler.scala:95)
        at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:175)
        at akka.actor.Actor.aroundReceive(Actor.scala:537)
        at akka.actor.Actor.aroundReceive$(Actor.scala:535)
        at scorex.core.network.PeerConnectionHandler.aroundReceive(PeerConnectionHandler.scala:22)
        at akka.actor.ActorCell.receiveMessage(ActorCell.scala:577)
        at akka.actor.ActorCell.invoke(ActorCell.scala:547)
        at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)
        at akka.dispatch.Mailbox.run(Mailbox.scala:231)
        at akka.dispatch.Mailbox.exec(Mailbox.scala:243)
        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)
        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)
        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)
        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)
        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)
```


[03/24/2022 3:00 AM] 6directions#1089
Thank you


[03/25/2022 7:14 PM] 6directions#1089
im calling the `getUnspentBoxesFor` method on the blockchain context to get boxes from a specific address, but getting 0 results back.
I can verify via the explorer site (and also by querying the API thru postman) that there is one unspent box at the target address.

has anybody run into a similar issue? I'm using appkit v4.0.7


[03/25/2022 7:34 PM] Cheese Enthusiast#0548
I have had past issues with using explorer based calls to get boxes, especially when explorer tends to be under heavy load (noodles got it lagging recently). Does calling the box specifically by its id using getBoxById work? That method uses the node instead.


[03/25/2022 7:40 PM] 6directions#1089
doesnt seem to work either. I get `not found` back. does `getBoxById` look for unspent boxes in a wallet or the whole chain?


[03/25/2022 7:40 PM] Cheese Enthusiast#0548
getBoxById searches through the entire chain


[03/25/2022 7:40 PM] 6directions#1089
huh...


[03/25/2022 7:41 PM] Cheese Enthusiast#0548
Maybe your node is desynced?


[03/25/2022 7:41 PM] 6directions#1089
ok idk what to make of this lol. node says it is synced. it's been running non-stop all week (it's a testnet node).


[03/25/2022 7:42 PM] Cheese Enthusiast#0548
Check the height on the node and see if its the same height on explorer


[03/25/2022 7:42 PM] 6directions#1089
ah!!!!!


[03/25/2022 7:43 PM] 6directions#1089
what, why? yeah, it's not at the current height


[03/25/2022 7:43 PM] 6directions#1089
thanks, this is likely the cause. will look into why node is out of sync and still running


[03/25/2022 7:43 PM] 6directions#1089
and saying it is synced


[03/25/2022 7:43 PM] Cheese Enthusiast#0548
What height is it at? 185121 or something like that?


[03/25/2022 7:44 PM] 6directions#1089
exactly that


[03/25/2022 7:44 PM] Cheese Enthusiast#0548
There were some issues with old node versions getting unsynced at that height due to EIP 27 testing on testnet


[03/25/2022 7:44 PM] 6directions#1089
üòÆ


[03/25/2022 7:44 PM] Cheese Enthusiast#0548
You should look in the node channel, I think Kushti mentioned some instructions on how to get a new node version that will work with the current testnet


[03/25/2022 7:45 PM] 6directions#1089
will do. thank you!


[03/25/2022 7:45 PM] Cheese Enthusiast#0548
https://discord.com/channels/668903786361651200/668930902751182913/955590078233710602


[03/25/2022 7:54 PM] 6directions#1089
have you done this yourself?


[03/25/2022 8:35 PM] Cheese Enthusiast#0548
Not yet but plan on doing it soon once I start testing some txs on testnet again


[03/25/2022 8:52 PM] 6directions#1089
just got it to work. downloaded that testnet backup from kushti. it had copies of the `history`, `state`, and `peers` directories under the ergo data dir. replaced the ones I had with those provided by kushti. node is synced now, and my code is finding the box. thank youuuuuuuuuuuuuu


[03/27/2022 6:54 PM] kii#8888
can we create an ergo address from ergotree?


[03/27/2022 7:07 PM] zargarzadehmoein#2928
yes


[03/27/2022 7:08 PM] kii#8888
May I ask how?


[03/27/2022 7:08 PM] zargarzadehmoein#2928
https://github.com/ErgoGravity/gateway-proxy/blob/9cbf72b934b08e258457367e366050a1734f1050/app/gateway/GatewayContracts.scala#L347


[03/27/2022 7:08 PM] kii#8888
ah sweet. Thanks!

{Reactions}
üëç 

[03/27/2022 7:27 PM] Cheese Enthusiast#0548
Can also use Address.fromErgoTree if you're using Appkit

{Reactions}
üí™ 

[03/28/2022 9:51 PM] koutelier#5178
i want to create a button that will communicate with a burn address. i am in the right channel ?
the dapp connector already works in the website.


[03/29/2022 12:52 PM] Ch1n3du#7350
Please are there docs for the Nautilus dapp connector?


[03/29/2022 1:16 PM] glasgowm#9381
wdym?


[03/29/2022 1:17 PM] glasgowm#9381
It's based on the code built by the dcspark guys when they were at emurgo/yoroi afaik. Dev is active if you ask in #üí≥„Éªnautilus

{Reactions}
üôå 

[03/29/2022 1:36 PM] MrStahlfelge#0042
https://github.com/ergoplatform/eips/blob/b70f406ad9f3cb7088407857820660558250db73/eip-0012.md

{Embed}
https://github.com/ergoplatform/eips/blob/b70f406ad9f3cb7088407857820660558250db73/eip-0012.md
eips/eip-0012.md at b70f406ad9f3cb7088407857820660558250db73 ¬∑ ergo...
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/GIpPdV7xLpaXYYQ68KSCOhi2PQHIFHUiCFdPQUqzfYE/https/opengraph.githubassets.com/256b430151b6eabf5a4ee217b72202de5523d5cbcaa0930f2ff99843afa5419b/ergoplatform/eips

{Reactions}
üëç üôå 

[03/29/2022 2:14 PM] koutelier#5178
i want people to be able to burn their comet tokens trough our website.


[03/29/2022 2:38 PM] glasgowm#9381
There was this that worked with dApp connector but appears to be offline

https://tokenminter.ergo.ga/burn.html


[03/29/2022 5:52 PM] curbsideprophet#5083
the above is based on this and still live (i used it few days ago): https://thierrym1212.github.io/tokenminter/burn.html


[03/29/2022 5:53 PM] curbsideprophet#5083
@glasgowm re: https://github.com/glasgowm148/ergoscripts ....nodes still stuck at the 650kish. with new node version out today what's best way to fix and get it syncing again?


[03/29/2022 6:30 PM] curbsideprophet#5083
Fresh rpi. Found the latest 4.0.25 but still waiting for response

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958417765058904134/AE22C3CE-65B6-45BD-A6A0-3C8615395377.jpg


[03/29/2022 6:33 PM] glasgowm#9381
Check the log output. Probably can't access ergo.conf or port is taken


[03/29/2022 6:35 PM] curbsideprophet#5083
I thought ergo.conf was auto created

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958419156049489940/FFF7BCE8-B708-4CDA-B33F-4041FFC17335.jpg


[03/29/2022 6:49 PM] glasgowm#9381
Try again now


[03/29/2022 7:37 PM] curbsideprophet#5083


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958434844176679043/IMG_6289.jpg


[03/29/2022 7:47 PM] glasgowm#9381
This after re-running it? I've just set it to use the hash for `hello` by default


[03/29/2022 7:53 PM] curbsideprophet#5083
Yes maybe because I have another full node running on same network so conflicting with IP address/swagger URL


[03/29/2022 8:20 PM] curbsideprophet#5083
Same issue. ‚ÄúHello‚Äù isn‚Äôt being passed to ergo.conf


[03/29/2022 8:21 PM] curbsideprophet#5083
Also turned off the other node on same network


[03/29/2022 8:33 PM] glasgowm#9381
Check server.log rather than ergo.log


[03/29/2022 8:33 PM] glasgowm#9381
I'm getting it too when trying from scratch

```
Exception in thread "main" com.typesafe.config.ConfigException$Missing: /var/folders/wm/c1l5tmrd2gs56650ysjlv1qm0000gn/T/mainnet.conf: 1: No configuration setting found for key 'ergo.directory'
```

Weird as there's no mainnet.conf in my settings.


[03/29/2022 8:45 PM] glasgowm#9381
Tested and working for me now, was using a diff folder depending on whether you'd ran it locally or via the bash.


[03/29/2022 9:32 PM] curbsideprophet#5083
nice looks like working now. `headers 2048/716988`


[03/29/2022 9:33 PM] curbsideprophet#5083
hopefully this will get over the 650k stall


[03/29/2022 10:10 PM] quokka#1273
There's code on ErgoAuctionHouse that allows you to get an encoded box by sending the bytes to it. It uses the assembler to get this info. Is there any other way to get an encoded box without using an assembler? If not, I might need help setting one up lol

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958473257802149938/Screen_Shot_2022-03-29_at_5.09.21_PM.png


[03/29/2022 11:15 PM] curbsideprophet#5083
is this possible: 
```1) raspberry pi with full node running at 127.0.0.1:9053
2) pc/mac on same wifi network to access the swagger UI for the above IP address ```
if so, how best to go about it?

i ran a `ping 127.0.0.1` from the pc/mac and there is a response. when i try to access the swagger UI though I get a "site can't be reached" result


[03/29/2022 11:24 PM] Balb#7267
Pinging 127.0.0.1 from the pc will ping the pc local host


[03/29/2022 11:24 PM] Balb#7267
Trying pinging the local ip of the pi


[03/29/2022 11:28 PM] curbsideprophet#5083
Yeah the local IP to the pi works as well. 

I guess my question is how do I get from pc/mac > headless pi > swagger UI


[03/29/2022 11:38 PM] curbsideprophet#5083
I think it should be possible too because a few years ago I setup a rpi camera on the same network and I was able to access camera view by going to its IP address but not sure how to configure it


[03/29/2022 11:39 PM] Balb#7267
it should be accessible at the ipaddress:9053/swagger


[03/29/2022 11:39 PM] curbsideprophet#5083
oh shit.


[03/29/2022 11:39 PM] curbsideprophet#5083
that worked LMAO


[03/29/2022 11:40 PM] curbsideprophet#5083
@Balb thank you!!!

{Reactions}
üëç 

[03/29/2022 11:42 PM] glasgowm#9381
I usually run these in separate terminals so I can spot any issues

```bash
tail -Fn+0 ergo.log | grep 'ERROR\|WARN'
tail -Fn+0 ergo.log | grep 'height'
```


[03/29/2022 11:45 PM] curbsideprophet#5083
lovely. danke very much. i believe after all this i might have to do a video haha


[03/30/2022 12:18 AM] curbsideprophet#5083
2.5 hours to get to max `headersheight`. starting `fullheight` sync now


[03/30/2022 5:09 AM] curbsideprophet#5083
weird. the connection was cut around height 260k-ish and now API key doesn't even work

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958578662058360832/Screen_Shot_2022-03-29_at_9.08.54_PM.png


[03/30/2022 5:14 AM] curbsideprophet#5083
from error logs: ```04:56:40.097 DEBUG [tor.default-dispatcher-15] o.e.n.ErgoNodeViewSynchronizer - Peer ConnectedPeer(connection: ConnectionId(remote=/[IP-ADDRESS-REDCATED], local=/[IP-ADDRESS-REDCATED], direction=Outgoing) , remote version: Some(4.0.23)) is older, its height Some(717134)
04:56:56.187 DEBUG [ctor.default-dispatcher-7] o.e.n.ErgoNodeViewSynchronizer - Comparison with ConnectedPeer(connection: ConnectionId(remote=/[IP-ADDRESS-REDCATED], local=/[IP-ADDRESS-REDCATED], direction=Outgoing) , remote version: Some(4.0.25)) having starting points Vector(Header({"extensionId":"b1bcdfd1a477a31be9747e6eb96a670a0b8f8e64179bff255c933369fa1eb31d","difficulty":"2267884466208768","votes":"000000","timestamp":1648612580653,"size":220,"stateRoot":"dc08930326e2a0044a7c95e43a62c75fb00cc27cf3cc515982a168b3fd51c71918","height":717135,```


[03/30/2022 5:15 AM] curbsideprophet#5083
```04:51:52.194 WARN  [ctor.default-dispatcher-6] o.e.n.h.ErgoHistory$$anon$3 - Modifier b8a5a9b9e936ce0f0e4fdf7914b78e5d2fe7c144288455d4836fef00d95798ef of type -127 is marked as invalid
05:00:10.196 WARN  [ctor.default-dispatcher-4] scorex.db.LDBFactory$ - Failed to load database factory org.fusesource.leveldbjni.JniDBFactory due to: {}
05:00:10.243 WARN  [ctor.default-dispatcher-4] scorex.db.LDBFactory$ - Using the pure java LevelDB implementation which is still experimental
05:00:13.796 WARN  [ctor.default-dispatcher-4] o.e.settings.ErgoSettings$ - Running without network config
05:00:15.228 WARN  [tor.default-dispatcher-11] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:00:25.322 WARN  [tor.default-dispatcher-13] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:01:11.336 WARN  [tor.default-dispatcher-10] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:02:02.506 WARN  [ctor.default-dispatcher-5] scorex.db.LDBFactory$ - Failed to load database factory org.fusesource.leveldbjni.JniDBFactory due to: {}
05:02:02.532 WARN  [ctor.default-dispatcher-5] scorex.db.LDBFactory$ - Using the pure java LevelDB implementation which is still experimental
05:02:03.632 WARN  [ctor.default-dispatcher-5] o.e.settings.ErgoSettings$ - Running without network config
05:02:17.704 WARN  [tor.default-dispatcher-11] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:03:17.133 WARN  [ctor.default-dispatcher-5] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:08:06.886 WARN  [ctor.default-dispatcher-5] scorex.db.LDBFactory$ - Failed to load database factory org.fusesource.leveldbjni.JniDBFactory due to: {}
05:08:06.908 WARN  [ctor.default-dispatcher-5] scorex.db.LDBFactory$ - Using the pure java LevelDB implementation which is still experimental
05:08:08.030 WARN  [ctor.default-dispatcher-5] o.e.settings.ErgoSettings$ - Running without network config
05:08:17.118 WARN  [tor.default-dispatcher-13] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
```


[03/30/2022 9:50 AM] Elemental#9509
you using the latest version of the ergo client?


[03/30/2022 2:09 PM] curbsideprophet#5083
yup!

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958714600025653299/unknown.png


[03/30/2022 2:20 PM] curbsideprophet#5083
sync went back to 0 and no longer syncing

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/958717444678111252/unknown.png


[03/30/2022 2:37 PM] glasgowm#9381
Looks like LevelDB freaking out - seems to not like some platforms/os's/etc


[03/30/2022 2:39 PM] glasgowm#9381
What is the main info we need to debug this @pragmaxim ?

- Node version
- RAM/CPU
- OS
- JVM version
- Storage location (Cloud, SSD, etc)
- output of ERROR/WARN

anything else?


[03/30/2022 2:51 PM] pragmaxim#0778
yeah, just this `RAM/CPU` could be better as there is system RAM and JVM Heap ... the `java` command we started Node with would be better as there is the `-Xmx3g` flag

{Reactions}
üëç 

[03/30/2022 5:00 PM] SoCool#6419
@Luivatra any chance the ergo tipper bot is in github for creating PR? Want to add 1 token..


[03/30/2022 5:16 PM] Luivatra#9076
yes and no, the tokens are in a db, but maybe I will add it to the github so there is a clear place to add it


[03/30/2022 5:42 PM] curbsideprophet#5083
@glasgowm do you need anything from me? idk commands used just followed the `ergoscript` repo


[03/30/2022 5:47 PM] glasgowm#9381
Restart it and watch the log outputs - is it just spitting out the above and stopping?


[03/30/2022 5:55 PM] Pgr456#1839
Sending a valid json request to "/wallet/transaction/send" results on the new version 4.0.25 in an ArrayIndexOutOfBoundsException is there a way to troubleshoot this?


[03/30/2022 7:11 PM] curbsideprophet#5083
restarted. ran your log outputs above. same issue keeps returning `java levelDB` response and the other one i posted above


[03/30/2022 7:13 PM] curbsideprophet#5083
i'll do antoher run from scratch


[03/30/2022 10:29 PM] curbsideprophet#5083
```
# update
3 hours to get to max headersHeight.
currently syncing fullHeight```


[03/30/2022 10:50 PM] curbsideprophet#5083
node dropped off at height 29k or so but managed to pick itself back up again.

here was the error output from : `tail -Fn+0 ergo.log | grep 'ERROR\|WARN'`
```22:37:46.403 WARN  [ctor.default-dispatcher-4] s.c.n.DeliveryTracker - Stop expecting d5cbfad6a2245873edae5bfd4847f409be6d83f4c97ad7e71b1e35aa00503c94 of type 108 due to exceeded number of retries 3
22:45:49.584 WARN  [ctor.default-dispatcher-6] scorex.db.LDBFactory$ - Failed to load database factory org.fusesource.leveldbjni.JniDBFactory due to: {}
22:45:49.603 WARN  [ctor.default-dispatcher-6] scorex.db.LDBFactory$ - Using the pure java LevelDB implementation which is still experimental
22:45:52.169 WARN  [ctor.default-dispatcher-6] o.e.settings.ErgoSettings$ - Running without network config
22:46:11.166 WARN  [tor.default-dispatcher-11] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
22:46:16.780 WARN  [tor.default-dispatcher-15] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
22:46:37.828 WARN  [tor.default-dispatcher-11] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
22:46:40.545 WARN  [ctor.default-dispatcher-8] o.e.n.UtxoNodeViewHolder - Can`t yet apply persistent modifier (id: d505ec2d8520c0b9d2ce0593c3c01d9bf6e4418d40704116cae69793ac5d25cc, contents: ADProofs(Id:d505ec2d8520c0b9d2ce0593c3c01d9bf6e4418d40704116cae69793ac5d25cc,HeaderId:976c472c4a6ddde269fab1173370ea2b9379320bf9a7f52bf9c248962ec4c18d)) to history```


[03/31/2022 12:01 AM] curbsideprophet#5083
still running with some errors not sure if important 
 ```23:46:47.835 WARN  [tor.default-dispatcher-15] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
23:46:53.367 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting 4f7a28210a5c0f2d9018d3d15745abdea503df78a854144fe9db32419f31aa15 of type 108 due to exceeded number of retries 3
23:46:53.369 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting c7c8b0f0ff71b5c624df7fa01a79b12ee163f20d8faee55d27d80157e819546e of type 108 due to exceeded number of retries 3
23:46:53.371 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting f36b12f51251919298639e3ab3b19c2efb85c5ca8c4834edd9ac61cc350bb9cf of type 108 due to exceeded number of retries 3
23:46:53.372 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting 0fb44ce6fce722fa0b44e115aba926c855d1f0a8e22ad4de72124fc0628811dc of type 108 due to exceeded number of retries 3
23:46:53.374 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting 50a1e7c4707fe624a6a7c20c327929cd15db1703dd775edeaa0da3c4e7e7edab of type 108 due to exceeded number of retries 3
23:46:53.375 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting a4cd4b0f0d99f284e9028c9cfab020a31363350ea8b956cb00cf2ce53e24bf7a of type 108 due to exceeded number of retries 3
23:46:53.377 WARN  [ctor.default-dispatcher-8] s.c.n.DeliveryTracker - Stop expecting d37d7f0edd74a0625a79b757797d58f39f252ab18b0615354fb40fe41f139c65 of type 108 due to exceeded number of retries 3
```


[03/31/2022 12:01 AM] curbsideprophet#5083
current height: 112189


[03/31/2022 5:46 AM] curbsideprophet#5083
crapped out again around `fullHeight` 300k-ish this time. last error logs:
```
04:49:38.503 WARN  [ctor.default-dispatcher-7] s.c.n.DeliveryTracker - Stop expecting 0fca096ed93102bc9aba5197237bceaf27b00353d6497673b54095f613cd1e62 of type 102 due to exceeded number of retries 3
04:49:38.504 WARN  [ctor.default-dispatcher-7] s.c.n.DeliveryTracker - Stop expecting e8d05765fb0d033a4f519705a4214113568eaac9abafd5a904e5eb6f4431cce5 of type 102 due to exceeded number of retries 3
05:38:28.091 WARN  [ctor.default-dispatcher-4] scorex.db.LDBFactory$ - Failed to load database factory org.fusesource.leveldbjni.JniDBFactory due to: {}
05:38:28.106 WARN  [ctor.default-dispatcher-4] scorex.db.LDBFactory$ - Using the pure java LevelDB implementation which is still experimental
05:38:34.463 WARN  [ctor.default-dispatcher-4] o.e.settings.ErgoSettings$ - Running without network config
05:38:38.192 WARN  [tor.default-dispatcher-13] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:39:04.273 WARN  [ctor.default-dispatcher-5] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
05:39:37.084 WARN  [ctor.default-dispatcher-4] s.c.n.NetworkController - Unable to define external address. Specify it manually in `scorex.network.declaredAddress`.
```


[03/31/2022 5:47 AM] curbsideprophet#5083
```
05:38:05.654 DEBUG [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Trying to apply full block with header 65513a6286f68481a3b7309ee691ad6a877af587267695c6bbb4edde2cdc3d73 at height 298474
05:38:05.675 INFO  [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Valid modifier with header 65513a6286f68481a3b7309ee691ad6a877af587267695c6bbb4edde2cdc3d73 and emission box Some(5a1db011390cf4cf01b35c49a4bc118c4cabe0679a6918cc88c4ebfb0d3a9977) applied to UtxoState at height 298474
05:38:05.677 DEBUG [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Trying to apply full block with header 4cbdbd127bfe6f8c767fa87faad9443a2d95f381b439cd18671c0bde18861419 at height 298475
05:38:05.734 INFO  [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Valid modifier with header 4cbdbd127bfe6f8c767fa87faad9443a2d95f381b439cd18671c0bde18861419 and emission box Some(fafb6664847bb57abbb0980268fded004c1a56a92972e9c671a9aed2138a5b46) applied to UtxoState at height 298475
05:38:05.735 DEBUG [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Trying to apply full block with header a042a75fa242e2216cbe5acb0d521b5284bf44860260e3bbc9b557d3fd3345bc at height 298476
05:38:05.748 INFO  [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Valid modifier with header a042a75fa242e2216cbe5acb0d521b5284bf44860260e3bbc9b557d3fd3345bc and emission box Some(ab79d3e05bd955cb3ae3c2eeebbbb4f3b83ef07432a96b5694f8f1c5192591f4) applied to UtxoState at height 298476
05:38:05.750 DEBUG [ctor.default-dispatcher-7] o.e.n.state.UtxoState - Trying to apply full block with header 74a729751fe70314e52ed18794353a8a8c67dd3c1e30514b977a557598d7afa8 at height 298477
```


[03/31/2022 11:34 AM] glasgowm#9381
Any ideas @pragmaxim ? Would switching java versions help here ? Seems LevelDB is failing


[03/31/2022 11:39 AM] pragmaxim#0778
how did you start the node? IDK what "ergoscript" repo you follow but this guide is solid https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node#running-the-node-for-the-first-time
```
     java -Xmx4g -jar ergo-<release>.jar --mainnet -c ergo.conf
```
also check this section https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node#prerequisites


[03/31/2022 11:48 AM] glasgowm#9381
It's just an install script that sets the API key, gets the .jar and runs it. That seems to be running fine but LevelDB stopping before the full sync


[03/31/2022 11:50 AM] pragmaxim#0778
I recommend checking the prerequisites section in this case so we are at least sure with `jdk` version ... and I hope the script is using the `-Xmx4g` flag as as the Chain is growing in time, it needs more memory


[03/31/2022 11:53 AM] pragmaxim#0778
to me this looks like either wrong JDK or some M1 apple chip or something like this ... I remember node being stuck at height `667613` because there is a very heavy block with tons of adproofs ... but not around 300k


[03/31/2022 11:54 AM] glasgowm#9381
I think it's a Pi @curbsideprophet ?


[03/31/2022 11:54 AM] glasgowm#9381
Also running JVM 11 - thinking it's worthwhile trying 9 instead


[03/31/2022 11:55 AM] soysor#6001
This is up there with the more helpful error messages üòÇ 

> Failed to load database factory org.fusesource.leveldbjni.JniDBFactory due to: {}


[03/31/2022 11:55 AM] pragmaxim#0778
openJDK 11 should work well ... stuck can happen when it is impossible to apply some parts of the block repeatedly ... but you would see a warning starting with `Chain is stuck!` where the node tries to repair itself


[03/31/2022 11:58 AM] glasgowm#9381
Does it make any difference though? Thought it might've reverted to a diff version of LevelDB that might have less issues.


[03/31/2022 12:00 PM] pragmaxim#0778
we'd have to migrate to RocksDB ... some developer here tried to make an abstraction with https://github.com/simerplaha/SwayDB  but imho he gave it up ... LevelDB might be sensitive to underlying machines like M1 or Pi ... definitely runs on regular linux kernel but might be malfunctioning on other platforms as there are no folks to maintain it ... RocksDB is well maintained

{Reactions}
üëç 

[03/31/2022 12:02 PM] glasgowm#9381
Running great on M1 now üôÇ - but yeah without `maxConnections = 10` added it couldn't get sync'd


[03/31/2022 12:05 PM] pragmaxim#0778
IDK how much RAM that `Pi` has ... if it is 4GB then I'd go with `-Xmx3072M` or even `-Xmx3584M` ... if it is choking then the behavior can be unexpected


[03/31/2022 12:08 PM] glasgowm#9381
try just running the command manually with that ^ @curbsideprophet - or maxing out whatever you have.


[03/31/2022 3:12 PM] curbsideprophet#5083
sorry your messages were 4am my time so didnt get to respond in a timely manner üôÇ

RPi4 4gb ram. using openjdk 11.  just followed instructions here: https://github.com/glasgowm148/ergoscripts so not sure how the node is fired up from that

i will follow this guide: https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node#running-the-node-for-the-first-time and use `   java -Xmx3584M -jar ergo-<release>.jar --mainnet -c ergo.conf` instead.

cc: @pragmaxim


[03/31/2022 3:36 PM] curbsideprophet#5083
not sure if this makes a difference but i now have "30 peers connected" vs "10" with the previous method


[03/31/2022 3:41 PM] glasgowm#9381
Yeah it was set to 10 to make the processing less strenuous at the later blocks. Helps a lot on the m1 - not sure about Pi though


[03/31/2022 3:43 PM] curbsideprophet#5083
i still haven't saved up enough for that m1 yet lol. can you share your hardware config specs? i was considering maxing out with 2TB. wondering if i should wait for the new one coming out later this year


[03/31/2022 3:58 PM] glasgowm#9381
16GB ram, 1TB SDD - not hit any limits with either so you'd probably be fine? This is just the initial M1 too - so not the max

{Reactions}
üôè 

[03/31/2022 7:41 PM] curbsideprophet#5083
2 hrs to get to max `headersHeight`. another 2 hours later only at `fullHeight` of 87k so it's dramatically slower (for comparison: 1hr to 100k in previous failed runs)


[03/31/2022 8:02 PM] NoahErgo#4349
Hi sir are you behind the picoswap repo? Info on what that is? Thanks üôÇ


[03/31/2022 11:03 PM] Frosty#7344
Hello, ERG balance isn‚Äôt updating on Ergo node interface for testnet but is showing up on testnet explorer as 120 ERG. Any suggestions for remedy?


[04/01/2022 7:16 PM] Ch1n3du#7350
It's a toy project I'm using to learn how to write headless dapps

{Reactions}
üëç 

[04/01/2022 10:38 PM] curbsideprophet#5083
quick update about 31 hours later `currentHeight: 310960`  cc: @glasgowm

{Reactions}
woah 

[04/02/2022 12:07 AM] pragmaxim#0778
https://github.com/glasgowm148/ergoscripts/blob/main/run.sh#L2 this might be dangerous as if Pi has 4GB ram and we allocate `-Xmx4G` for java, then there is no free mem for OS


[04/02/2022 12:12 AM] curbsideprophet#5083
i did not use the above but followed this guide: https://github.com/ergoplatform/ergo/wiki/Set-up-a-full-node#running-the-node-for-the-first-time


[04/02/2022 12:13 AM] curbsideprophet#5083
does your above warning still apply?


[04/02/2022 12:13 AM] pragmaxim#0778
and is it working now ?


[04/02/2022 12:13 AM] curbsideprophet#5083
yes i managed to get past 300k

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/959591331498455140/Screen_Shot_2022-04-01_at_4.13.12_PM.png


[04/02/2022 12:13 AM] curbsideprophet#5083
slowly but surely?


[04/02/2022 1:37 AM] pragmaxim#0778
üôÇ so ?


[04/02/2022 1:48 AM] curbsideprophet#5083
Haha it was more of a rhetorical question to myself. But it is making progress


[04/03/2022 5:39 PM] curbsideprophet#5083
latest update

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/960216888196071434/Screen_Shot_2022-04-03_at_9.38.55_AM.png


[04/05/2022 8:41 PM] Cheese Enthusiast#0548
For syncing on testnet, I am using the backup zip given by @kushti . For mining, do I need to use a specific branch of the reference client or may I use 4.0.25? Previous instructions said to use eip27 branch but I no longer see it.


[04/06/2022 1:09 AM] Cheese Enthusiast#0548
For anybody else running into this issue on testnet, you must pull from commit `c1efc0e0` of the reference client and build from source. After that you'll be able to properly sync.


[04/06/2022 5:19 PM] pgwada#0227
Oh ok thanks, I am having this issue


[04/06/2022 5:19 PM] pgwada#0227
i am running testnet


[04/06/2022 5:20 PM] pgwada#0227
I am not mining, I am using testnet for my study and development.. Can i get the version or zip file to use?


[04/06/2022 5:26 PM] Cheese Enthusiast#0548
Here is the zip file: https://discord.com/channels/668903786361651200/668930902751182913/955590078233710602
Just unzip and replace state, history, and peers in your testnet node.

I originally did not enable mining but still struggled to get it synced until I built that specific jar from source.


[04/06/2022 5:27 PM] pgwada#0227
Thanks will give it a spin later today and update

{Reactions}
üëç 

[04/06/2022 7:25 PM] Yaroslav#5375
Hi, can someone help with boxes. I want to get information about block reward input box, and get address from it, but for some reason, /utxo/byId/:boxId returns not-found error. What i'm doing wrong?


[04/06/2022 8:00 PM] MrStahlfelge#0042
It only returns unspent boxes


[04/06/2022 9:54 PM] Yaroslav#5375
@MrStahlfelge is there way to get information about any box?


[04/06/2022 9:59 PM] MrStahlfelge#0042
Explorer API can return information for spent boxes


[04/07/2022 12:26 AM] pgwada#0227
Thanks. My node synced üôÇ


[04/07/2022 1:50 AM] pgwada#0227
Need one more help. I want to access ergo-node from my other development machine. Today appkit talks to at http://localhost:9052/ I want to connect to <my_ip>:9052 I can access panel/wallet using <my_ip>:9052/panel 
How can i do this with appkit. If this is not right channel to ask this question, pls point me to the right one


[04/07/2022 1:55 AM] Cheese Enthusiast#0548
I believe that is just a matter of port forwarding the machine running the node, don't think there's any specific config options for that. If you open up port 9052 on your ip you should be able to access it.


[04/07/2022 1:57 AM] pgwada#0227
yes I did that and I can access the panel.
now for appkit should i change for example the freeze_coin_config.json

nodeApi": {
      "apiUrl": "http://localhost:9051/",


[04/07/2022 1:58 AM] pgwada#0227
to use my_ip:9052


[04/07/2022 1:58 AM] pgwada#0227
I am refereing this git https://github.com/aslesarenko/ergo-appkit-examples

{Embed}
https://github.com/aslesarenko/ergo-appkit-examples
GitHub - aslesarenko/ergo-appkit-examples: Examples of using Ergo A...
Examples of using Ergo Appkit for Polyglot Development of Ergo Applications - GitHub - aslesarenko/ergo-appkit-examples: Examples of using Ergo Appkit for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/ovVSGBMDbp1S4NRTLa3EGA2_2H3x2LDOsqhpNjXsxvE/https/opengraph.githubassets.com/f95bb89e10f8bdd1b9c901eeca7b41172f36846e19817bc4896485c0f5a90e80/aslesarenko/ergo-appkit-examples


[04/07/2022 1:58 AM] pgwada#0227
Sorry I am noob here


[04/07/2022 2:01 AM] Cheese Enthusiast#0548
Sorry didnt read carefully lol. Yeah you'll want to change it to the ip. If you're accessing the node wallet to spend ERG from it you'll also want to input the apiKey


[04/07/2022 2:02 AM] Cheese Enthusiast#0548
For example, if you wanted to make an ergoClient with full accessibility to both the explorer and node you would do this:

```scala
  def getExplorerURL: String    = RestApiErgoClient.getDefaultExplorerUrl(networkType)
  def getClient: ErgoClient     = RestApiErgoClient.create(nodeURL, networkType, nodeKey, getExplorerURL)
```


[04/07/2022 2:05 AM] pgwada#0227
Got it thanks!


[04/07/2022 4:50 AM] pgwada#0227
BTW i am running this on a frugal machine, 1Gb RAM AMD CPU, 4Gb swap. During the sync it was using close to 3.5Gb swap, after sync its around 1Gb swap and around 600Mb RAM. very impressive. Ofcourse this is just for my testing. What i am trying to do is have development machine full scale beefy machine but very light ergo node. So far so good.


[04/07/2022 12:49 PM] curbsideprophet#5083
update: one week later on rpi4 4gb ram

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/961593545423204363/Screen_Shot_2022-04-07_at_4.49.08_AM.png


[04/07/2022 4:20 PM] pgwada#0227
You need to get the zip file (details above) for the testnet. After that it takes less than few hours to sync both chain and wallet


[04/07/2022 4:22 PM] DreamsMoney#1427
I just built the kvsync branch this morning.  Is c1efc0e0 on the main branch?


[04/07/2022 4:24 PM] curbsideprophet#5083
I am syncing to mainnet - will that apply here (sorry for noob question lol) ?


[04/07/2022 4:25 PM] Cheese Enthusiast#0548
For mainnet a normal release version is fine


[04/07/2022 4:26 PM] curbsideprophet#5083
The above is running latest 4.0.25 since last Thursday. Not sure what is clogging it up


[04/07/2022 4:27 PM] Cheese Enthusiast#0548
Its on branch `fee-improvs`, but I just ran checkout on the commit id and then built from there.


[04/07/2022 4:29 PM] Cheese Enthusiast#0548
Im not too sure myself. I vaguely remember hearing that @√Ör√ñhB√™ ran a node on a pi before, maybe he knows more?


[04/07/2022 4:35 PM] √Ör√ñhB√™#8289
It‚Äôs been a while.  Last ver I ran was .14  I believe.   Heap size increased?  It does take a looooong time.


[04/07/2022 4:43 PM] curbsideprophet#5083
i am one week in and i think later today i get a new computer. so i'll probably scrap this for that lol


[04/07/2022 4:47 PM] √Ör√ñhB√™#8289
I remember it being a few days.  A week may be much lol.


[04/07/2022 5:15 PM] curbsideprophet#5083
Lol yeah. Ok I‚Äôll dump it for now and try again later not sure what I did wrong


[04/07/2022 5:47 PM] √Ör√ñhB√™#8289
The node syncing takes a bit of resources.  Could just be memory or processing speed.


[04/08/2022 6:23 PM] pgwada#0227
~~My testnet wallet on the node shows this error
Error - Failed to rollback wallet registry to version 84910f2444f62a97b1259a3a3f27f14c0d449444b6a96ccc3dc3ddbc70a46872 due to: versionID not found, can not rollback~~
restart solved the issue


[04/08/2022 6:23 PM] pgwada#0227
~~but my node is in sync and i do see the 60 TestErg~~


[04/08/2022 8:05 PM] pgwada#0227
I had one question. In all examples the API Key that we set in JSON was blake hash. But with that I would get contxt as NULL. So instead of Hash i give the key itself. When did this change? All github examples use Hash of the key


[04/08/2022 11:41 PM] DreamsMoney#1427
When you say "But with that I would get contxt as NULL", where are you seeing that null?


[04/08/2022 11:44 PM] pgwada#0227
val wallet: ErgoWallet = ctx.getWallet


[04/08/2022 11:46 PM] DreamsMoney#1427
@Cheese Enthusiast  I just read that testnet payouts are disabled... 

https://docs.ergoplatform.com/dev/start/testnet/

anyway I could ask the favor of bringing them back up?


[04/08/2022 11:50 PM] DreamsMoney#1427
I'm not familiar with that unfortunately.  I'm sure someone else is though.


[04/09/2022 12:07 AM] Cheese Enthusiast#0548
Actually I am testing subpooling on testnet, so if you give me your testnet address I will include you in a subpool and you can get payouts.


[04/09/2022 12:09 AM] Cheese Enthusiast#0548
I believe you set the hash of the key in your node config, then when you create a connection to the node in appkit, the value given for the key is hashed and checked against the config value.


[04/09/2022 12:11 AM] pgwada#0227
Yes. but in most examples the hask of the key is being sent


[04/09/2022 12:11 AM] pgwada#0227
https://github.com/aslesarenko/ergo-appkit-examples

{Embed}
https://github.com/aslesarenko/ergo-appkit-examples
GitHub - aslesarenko/ergo-appkit-examples: Examples of using Ergo A...
Examples of using Ergo Appkit for Polyglot Development of Ergo Applications - GitHub - aslesarenko/ergo-appkit-examples: Examples of using Ergo Appkit for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/ovVSGBMDbp1S4NRTLa3EGA2_2H3x2LDOsqhpNjXsxvE/https/opengraph.githubassets.com/f95bb89e10f8bdd1b9c901eeca7b41172f36846e19817bc4896485c0f5a90e80/aslesarenko/ergo-appkit-examples


[04/09/2022 12:13 AM] DreamsMoney#1427
What's a subpool if you don't mind me asking?  I've been submitting blocks with 3WvoQfR1rf1HSprsPBnLUesr8seb8vegoWdCn6ce5QiFMa9wnwzy


[04/09/2022 12:29 AM] Cheese Enthusiast#0548
That is odd, maybe they just chose a random string. As far as I can remember, you have always input the actual api key there, rather than the hash.

{Reactions}
üëç 

[04/09/2022 12:34 AM] Cheese Enthusiast#0548
Subpooling is the concept of taking smart contract based mining pools and allowing users to create their own pools under the main pool. 

The goal is to try and further decentralize Getblok and to allow users to manage their own pools with settings secured by smart contracts. Subpooling will also allow distribution of tokens, custom payment settings, etc.


[04/09/2022 12:36 AM] Cheese Enthusiast#0548
Its been like 6 months since I came up with the idea so feels good seeing it finally come to fruition üòÅ


[04/09/2022 12:41 AM] DreamsMoney#1427
I see. I'm looking into getblok.io now.  It looks very interesting.


[04/09/2022 12:56 AM] Cheese Enthusiast#0548
Thanks! Let me know if you have any questions about it all. Also thanks for providing your address, it helps me out a ton for proper testing


[04/09/2022 1:25 AM] DreamsMoney#1427
Of course!  Any idea how long payouts are going to be disabled for?


[04/09/2022 1:26 AM] Cheese Enthusiast#0548
They're on a manual trigger, I'll start testing again in like a few mins so youll start getting payouts then


[04/09/2022 1:27 AM] DreamsMoney#1427
Excellent.   You trigger payouts on testnet?


[04/09/2022 1:28 AM] Cheese Enthusiast#0548
Well to be exact, I'll be placing your address in a subpool, then sending the transaction to distribute payouts through the smart contract. The sending the tx part is manual for right now until I hook it up to be automatic.


[04/09/2022 1:31 AM] DreamsMoney#1427
Does that disable previous block rewards entirely? - I'm in the process of trying to launch an open source mining pool myself üòÖ


[04/09/2022 1:31 AM] DreamsMoney#1427
Coincidently, I happen to be on my final leg of testing as well lol.


[04/09/2022 1:35 AM] Cheese Enthusiast#0548
Not sure what you mean exactly. Network wide block rewards are always the same, but blocks mined by Getblok's testnet stratum are all paid to miners through smart contracts. This is true even for our mainnet pool, we're just using a different set of smart contracts on testnet. These testnet payouts all have to be sent manually unlike our mainnet pool, mostly because the testnet ones are experimental right now.


[04/09/2022 1:40 AM] Cheese Enthusiast#0548
Ah are you referring to the fact that testnet is stuck right now? I just noticed that


[04/09/2022 1:42 AM] DreamsMoney#1427
I think it's stuck because no one's mining on it.  I mined on it for 24 hours and didn't receive any reward.  I read in that doc that the normal payouts had been shut off.


[04/09/2022 1:43 AM] Cheese Enthusiast#0548
By mining, do you mean to your own node, or the getblok stratum thats posted in the docs


[04/09/2022 1:44 AM] DreamsMoney#1427
My own node.  I actually tired on two different nodes and didn't get a reward.


[04/09/2022 1:46 AM] Cheese Enthusiast#0548
Ohh okay. Yeah I don't control testnet or anything like that haha. Regardless, if you were mining blocks you definitely accumulated rewards, you just need to look through your node wallet. When it says payouts are stuck inside that docs page, its specifically referring to the getblok testnet stratum that we made publicly available.


[04/09/2022 1:51 AM] DreamsMoney#1427
Maybe it's just lagging really bad.  I've had a delay on payout before, but this time it's over 24 hours! lol


[04/09/2022 1:51 AM] DreamsMoney#1427
Guess I'll just leave it running over night as well.


[04/09/2022 1:52 AM] DreamsMoney#1427
I have a few test nodes btw.  Let me know if you need test addresses.  I have a few wallets üôÇ


[04/09/2022 1:52 AM] Cheese Enthusiast#0548
Once you mine the block, the reward is sent to a smart contract that unlocks after 72 confirmations (in testnet). This is true no matter what, so maybe its just that your node / node wallet is desynced and unable to realize that your rewards have unlocked.


[04/09/2022 1:56 AM] Cheese Enthusiast#0548
Appreciate the offer, unfortunately I misunderstood what you meant before üòÖ . You'd have to be mining to our testnet mining pool in order to be put in the subpools and to help us with testing. Its okay though, I understand you're making your own pool so you're probably busy testing out your own stratum before you can try to help out with ours.


[04/09/2022 2:03 AM] DreamsMoney#1427
I've ran the wallet resync so many times at this point üôÉ   The 72  confirmations applies to every reward, not just your smart pool? - if so, that may be it.


[04/09/2022 2:05 AM] Cheese Enthusiast#0548
Yea, that is a network wide smart contract that handles sending block rewards to miners. On testnet its 72 confirmations and on mainnet its 720. If you're not seeing your rewards then its probably a sync issue.


[04/09/2022 2:06 AM] DreamsMoney#1427
I'll keep it running for another night.  Hopefully we reach that 72 tomorrow.  I did notice block time was slower, so it's very possible I didn't reach 72.


[04/09/2022 2:08 AM] Cheese Enthusiast#0548
Yeah unfortunately I think there's a fork in the network or some other problem. I can't seem to get my node synced either, its stuck on block 201647 and won't go past it now.


[04/09/2022 2:14 AM] DreamsMoney#1427
I know what you mean.  I've been fighting testnet issues for 2 weeks now.


[04/09/2022 2:15 AM] DreamsMoney#1427
I'm on the right height somehow now.  The "synced" but not really synced issue happened to me last week.  Let's see what happens when I kick everything up again.


[04/09/2022 2:17 AM] DreamsMoney#1427
I'm good.  I'm mining successfully.


[04/09/2022 2:17 AM] Cheese Enthusiast#0548
Yeah I started resyncing from the zip again, hopefully it works now


[04/09/2022 2:18 AM] DreamsMoney#1427
Mined by: BMZJiZDA is me.


[04/09/2022 2:18 AM] DreamsMoney#1427
Let me know if you have any issues.  I noticed that syncing with V4.0.23 was helpful.


[04/09/2022 2:19 AM] Cheese Enthusiast#0548
Just the normal release version? I'll try that out if it fails again


[04/09/2022 2:20 AM] DreamsMoney#1427
Yes.  Someone mentioned to compile a certain commit, but it was similar enough to v4.0.23 that I ended up using that instead.


[04/09/2022 2:24 AM] Cheese Enthusiast#0548
Ah wait a minute


[04/09/2022 2:24 AM] Cheese Enthusiast#0548
That explains a lot


[04/09/2022 2:25 AM] Cheese Enthusiast#0548
I recommended that commit specifically because it had eip 27 fixes inside of it. I think using 4.0.23 means that you may have deactivated the eip 27 and caused a fork üòÖ


[04/09/2022 2:28 AM] Cheese Enthusiast#0548
This does seem to be the case now.
Looking at this block: https://testnet.ergoplatform.com/en/blocks/0d2706b060a7b3f0b6c171143c2255962c916bcda834f86327ade90dd14f8093/transactions
vs the latest block:
https://testnet.ergoplatform.com/en/blocks/ac192cd24548d46f73d8fd2471fefec6fe8d6625d8aef69cb435e1a432b55a62/transactions

It seems like eip 27 was deactivated, as there are no re-emission tokens on the latest block


[04/09/2022 2:35 AM] pgwada#0227
Do you need a testnet which is a miner? i run a node (not miner) to start my development on Ergo.


[04/09/2022 2:36 AM] Cheese Enthusiast#0548
Yea, for subpool testing we need miners specifically, as it is a mining pool in the end. I appreciate the offer though üôÇ


[04/09/2022 2:56 AM] DreamsMoney#1427
Oh dang..  I'll try running that commit when I get back from dinner.


[04/09/2022 2:57 AM] DreamsMoney#1427
I compiled it and everything.. dang.  Actually, let me run it now.


[04/09/2022 2:59 AM] DreamsMoney#1427
Syke... After dinner.  I have to recompile it.  Dad's bday.  I'll be back.


[04/09/2022 3:06 AM] DreamsMoney#1427
I snuck it in before I had to leave... I'm mining on 4.0.23-172-c1efc0e0-SNAPSHOT now.


[04/09/2022 3:06 AM] Cheese Enthusiast#0548
Well, I ended up 51% attacking it and fixing the chain so its fine üòÇ . You'll want to switch back to that commit once you're back though.


[04/09/2022 3:07 AM] Cheese Enthusiast#0548
Thanks! That should fix your payment issues as well now


[04/09/2022 3:09 AM] DreamsMoney#1427
I think I've been 51% it too without noticing.  I keep a few VMs up to test transfers...  I'll make sure they're all at that version when I get back.


[04/09/2022 3:10 AM] DreamsMoney#1427
Thank you***  I have a balance now!!! lol


[04/09/2022 3:11 AM] DreamsMoney#1427
@Cheese Enthusiast  Actually... I recall now.  I switched back to 4.0.23 because I couldn't send a transaction with c1efc0e0


[04/09/2022 3:11 AM] DreamsMoney#1427
I'm also getting this now on block candidate generation:


[04/09/2022 3:12 AM] DreamsMoney#1427
`$ ./chains/ergo/client/tests/getTestWork 
{
  "error" : 500,
  "reason" : "internal.error",
  "detail" : "Candidate generation failed : Proofs for 0 txs cannot be generated : emissionTxs: 1, priorityTxs: 0, poolTxs: 0"
}`


[04/09/2022 3:12 AM] Cheese Enthusiast#0548
You may have to resync from the zip. You're node history is completely messed up because eip 27 got activated, deactivated, and then fixed back onto real chain


[04/09/2022 3:13 AM] DreamsMoney#1427
I see...  I'll try it when I get back.


[04/09/2022 3:13 AM] Cheese Enthusiast#0548
As for transactions, they seem to be working fine for me, and I see other transactions going through as well. I think re-syncing should fix any other issues you have.


[04/09/2022 4:50 PM] Cheese Enthusiast#0548
Fyi, one of your nodes seems to have caused a fork again, maybe its still running 4.0.23? You seem to have gotten 0 block rewards doing these last two blocks: 
https://testnet.ergoplatform.com/en/blocks/ca6add79985f0f6362d943f6987e33412020f11e543dde6f8a2dd8be5f0303a0/transactions
https://testnet.ergoplatform.com/en/blocks/c06d204574b456d00783e74851a0a8849b2541a763586bce4a2462066f9b7754/transactions


[04/09/2022 4:50 PM] Cheese Enthusiast#0548
@kushti Is this the expected behavior for old reference clients attempting to mine after eip 27 is activated?


[04/09/2022 5:39 PM] DreamsMoney#1427
I got the chance to update everything to 4.0.23-172-c1efc0e0-SNAPSHOT last night.


[04/09/2022 5:41 PM] DreamsMoney#1427
Just double checked too, every single one of my nodes is on 4.0.23-172-c1efc0e0-SNAPSHOT


[04/09/2022 5:42 PM] Cheese Enthusiast#0548
Ah weird, I assumed that this miner was you: BMZJiZDA
Maybe its someone else?


[04/09/2022 5:43 PM] DreamsMoney#1427
That's definitely me.


[04/09/2022 5:43 PM] Cheese Enthusiast#0548
Did you also make sure to resync all nodes from the zip again?


[04/09/2022 5:44 PM] DreamsMoney#1427
No, I didn't.  I'll do that this morning.


[04/09/2022 5:45 PM] Cheese Enthusiast#0548
I would also temporarily stop mining. I am now getting the same candidate generation error ever since those two bugged blocks were mined, so seems like the network is stuck until its fixed


[04/09/2022 5:47 PM] DreamsMoney#1427
Done.   I'll let you know when these nodes are resynced.  I got so much good testing in last night until I tired to send a transaction.   I think that's what messed it up.  Trying again with a testnet.zip resync now.


[04/09/2022 5:49 PM] Cheese Enthusiast#0548
Unfortunately, my node is still validating those blocks as valid, even after a resync. Not sure what the fix here is if the node is still keeping these blocks despite the problems they're causing.


[04/09/2022 5:51 PM] DreamsMoney#1427
I'm a little worried about wiping all my chains.  I'm at the correct explorer height, if we're the majority of the network right now, not sure what's going to happen when I wipe recent blocks.


[04/09/2022 5:52 PM] Cheese Enthusiast#0548
Explorer just shows the longest chain, that is why it wiped out those other blocks you mined yesterday when I put a ton of hashrate on my node


[04/09/2022 5:53 PM] Cheese Enthusiast#0548
But the problem is, these two blocks are being validated, but upon validation it becomes impossible to mine further at least from what I can tell


[04/09/2022 5:53 PM] Cheese Enthusiast#0548
Something is definitely wrong with those blocks, you got 0 block rewards for them which I have never seen before


[04/09/2022 5:55 PM] Cheese Enthusiast#0548
I am going to try syncing with the latest node in the `fee-improvs` branch and then mess around with some config settings. Hopefully I can get those blocks to be properly invalidated.


[04/09/2022 6:03 PM] DreamsMoney#1427
I'm just going to go ahead and do it.  Worst case, we have Kushti's backup.


[04/09/2022 6:19 PM] Cheese Enthusiast#0548
Well, my node still thinks its synced


[04/09/2022 6:20 PM] DreamsMoney#1427
That was me all last week.  I'm resyncing my nodes now.


[04/09/2022 6:20 PM] DreamsMoney#1427
I got rid of my wallets too just in case.


[04/09/2022 6:21 PM] Cheese Enthusiast#0548
Yeah but the problem is I don't think we can mine after these two blocks, at least not until we can figure out how to make sure they stay invalidated. I'll try a few more things but if they don't work we'll have to wait for @kushti


[04/09/2022 6:22 PM] DreamsMoney#1427
Yeah, explorer's still at 201986.  Other people on the network are likely at that height.


[04/09/2022 6:22 PM] DreamsMoney#1427
Let's see where my resyncing nodes make it too.


[04/09/2022 6:30 PM] DreamsMoney#1427
2 out of 4 nodes synced like a charm..  The other two are a little behind..  Makes me think that the luck on which peers it connects too matter.   I'll report back what ultimately happens to the two currently unsynced nodes.


[04/09/2022 6:40 PM] Cheese Enthusiast#0548
Sure, mine sync too. Are you able to generate block candidates though?


[04/09/2022 6:41 PM] Cheese Enthusiast#0548
Because as far as I can tell, attempts to generate blocks are not working at all


[04/09/2022 6:59 PM] DreamsMoney#1427
Trying now.


[04/09/2022 7:02 PM] Cheese Enthusiast#0548
Yeah I gave up, let me know if you have any luck I guess but doesn't seem like anything is working for me


[04/09/2022 7:04 PM] DreamsMoney#1427
I'll let you know.  Just waiting on the wallet resync.  I understand your frustration.


[04/09/2022 7:14 PM] Cheese Enthusiast#0548
Yeah its okay, just try it out and lmk if anything changes. If not, then we'll just have to wait for kushti or someone else to chime in


[04/09/2022 7:15 PM] DreamsMoney#1427
Yeah, it's taking a bit to even sync the wallet.  I'll report back in the next hour or so.


[04/09/2022 8:52 PM] DreamsMoney#1427
@Cheese Enthusiast do you know where I can find more information on EIP27? - I noticed this on my chain - `12:50:27.093 INFO  [ctor.default-dispatcher-8] o.e.n.UtxoNodeViewHolder - State database read, state synchronized, eip27 supported == false`


[04/10/2022 12:19 AM] kushti#0978
Is it synced ?


[04/10/2022 12:19 AM] kushti#0978
Checking problems with candidate generation


[04/10/2022 2:31 AM] DreamsMoney#1427
All 4 nodes started with your testnet.zip, node version: 4.0.23-172-c1efc0e0-SNAPSHOT.  2 out of 4 nodes remain stuck.  The stuck nodes did not make any progress from their initial 10 minutes of running.   The 2 synced nodes synced to the chain very fast, but wallets did not sync.  Of the 2 blockchain synced nodes, one I restored a wallet, the other I initialized a new wallet.  Neither's wallet synced after leaving it running for about 8 hours, so I currently don't have any fully synced nodes.  Wallet sync didn't even begin as far as I can tell in the log, even after I ran the API "wallet resync" method.  I didn't try candidate generation given the nodes' statuses.


[04/10/2022 4:04 AM] DreamsMoney#1427
At this point I've reproduced the issue on all 4 nodes.  I can sync to the testnet chain by limiting the peers it connects too, but wallet rescan refuses to run no matter what I do.


[04/10/2022 5:30 AM] DreamsMoney#1427
I got it.  It just needed someone to mine on it lmao.


[04/10/2022 6:27 AM] DreamsMoney#1427
I did have to start with `offlineGeneration = true`, I hope everyone else can sync.


[04/10/2022 6:27 AM] DreamsMoney#1427
Idk if anyone has advice on how to make my node public.  I suspect it isn't.


[04/10/2022 3:11 PM] kushti#0978
It seems eip27supported flag is reset for some reason after a block with no emission tx, going to check why


[04/10/2022 3:41 PM] DreamsMoney#1427
@kushti I'll additionally note that I switched back to v4.0.25 release chain on that last fix.  Removing /peers, limiting maxConnections, and choosing a good few synced peers did the job.


[04/10/2022 7:03 PM] Cheese Enthusiast#0548
The issue is not really syncing, it is that none of your blocks have re-emission tokens on them.


[04/10/2022 7:04 PM] DreamsMoney#1427
Mind if I ask what re-emission tokens are?


[04/10/2022 7:06 PM] Cheese Enthusiast#0548
So EIP-27 is an EIP to extend Ergo's emissions. The block reward is being cut and those cut rewards are then to be re-emitted at a later point. Don't know the exact dates and implementation, but for example look at this block I posted a while back, then look at your most recent ones:

https://testnet.ergoplatform.com/en/blocks/0d2706b060a7b3f0b6c171143c2255962c916bcda834f86327ade90dd14f8093/transactions
^ - This one has re-emission tokens

https://testnet.ergoplatform.com/en/blocks/3821725780fc849bc8b4054c19a35138fc3e4eefa21fcf7db792689caf3bd8e1/transactions - This latest block does not


[04/10/2022 7:10 PM] Cheese Enthusiast#0548
Some readings on EIP 27 here:
https://curiaregiscrypto.medium.com/eip-0027-soft-fork-proposal-187db1163caa

More technical implementation: https://github.com/ergoplatform/eips/blob/eip27/eip-0027.md

{Embed}
https://curiaregiscrypto.medium.com/eip-0027-soft-fork-proposal-187db1163caa
EIP 0027 Soft Fork Proposal
EIP 0027 Emission Retargeting Soft-Fork
https://images-ext-2.discordapp.net/external/De9x1Kk7NL9dZol44Bgak4qBlifC1RuUJlsQbryGL-I/https/miro.medium.com/max/1140/1%2AeUwoIn2eqc7QAu8QmPxNBQ.png

{Embed}
https://github.com/ergoplatform/eips/blob/eip27/eip-0027.md
eips/eip-0027.md at eip27 ¬∑ ergoplatform/eips
Ergo Improvement Proposals. Contribute to ergoplatform/eips development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/GIpPdV7xLpaXYYQ68KSCOhi2PQHIFHUiCFdPQUqzfYE/https/opengraph.githubassets.com/256b430151b6eabf5a4ee217b72202de5523d5cbcaa0930f2ff99843afa5419b/ergoplatform/eips


[04/10/2022 7:11 PM] Cheese Enthusiast#0548
Anyways, your blocks not having them is not really your fault, just seems like a bug that was caught because you were using an old node version before


[04/10/2022 7:14 PM] DreamsMoney#1427
Thank you for the information.  I'll sit down to study it later today.


[04/12/2022 6:01 PM] Yaroslav#5375
Hi, can someone help with `/wallet/transaction/generateUnsigned` method? I need to specify boxIds to use there. I try to add them in inputsRaw field, but it doesn't work. It tells `Cannot handle ValidationException, ErgoTree serialized without size bit.`. Looks like I have to serialize somehow input object, so the question is: how? üôÇ


[04/12/2022 9:15 PM] Yaroslav#5375
@kushti


[04/12/2022 10:50 PM] zargarzadehmoein#2928
Hi
You need to serialized box id in Base16 encoding with `/utxo/byIdBinary/`


[04/13/2022 2:39 PM] kushti#0978
On testnet, please use https://github.com/ergoplatform/ergo/releases/tag/rc1  (or latest commit in fee-improvs branch). Blockchain rescan is needed. Please remove peers/, state/, history/ and wallet/registry/ folders in the ergo data directory. 

New peerDiscovery flag is added, to avoid problems during bootstrapping try to set it to false during bootstrapping:
scorex {
 ...
 network {
    ...
    peerDiscovery = false
  }
}

{Reactions}
ergo_black (3) 

[04/14/2022 1:15 AM] Yaroslav#5375
Is there some documentation about what is spendingProof, and how to generate it without an API?


[04/14/2022 2:47 AM] DreamsMoney#1427
On the rc1 build, blocks should only download up to 201986, correct? If so, that's as far as I made it.  Output does report "chain stuck" however..  Happy to share logs if it's helpful.

I also used scorex.network.peerDiscovery = false

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/963978804039122944/Screenshot_from_2022-04-13_18-46-00.png


[04/14/2022 4:50 AM] MGpai#4313
did the same


[04/14/2022 4:50 AM] MGpai#4313
stuck on 201986


[04/14/2022 1:35 PM] kushti#0978
yes, now to mine, you need for following flags to be set on:

mining = true
offlineGeneration = true


[04/14/2022 1:36 PM] kushti#0978
both in  * ergo { node { ... * section


[04/14/2022 6:13 PM] DreamsMoney#1427
Interesting find - in syncing a second testnet node with the rc1 branch to use as a wallet, I happened to leave the node public.  It connected to quite a few peers and ultimately got stuck on that notorious header ID (7feca496e2be164de5cedbb4300031fe1f6189c7029d64eb2f6322707fdf9348).  I look up that ID on that explorer, and that header ID isn't even on the testnet blockchain. 

I then reset, made the exact same node unpublic, and it's almost done downloading blocks.

This is consistent with this issue, though back then I didn't know how to make nodes public vs unpublic: https://github.com/ergoplatform/ergo/issues/1675

{Embed}
https://github.com/ergoplatform/ergo/issues/1675
testnet block issue ¬∑ Issue #1675 ¬∑ ergoplatform/ergo
Problem two separate people reported eratosthenessieve#8181 I&#39;m also having issues syncing on testnet, where it stops at block id 7feca496e2be164de5cedbb4300031fe1f6189c7029d64eb2f6322707fd...
https://images-ext-1.discordapp.net/external/c-L-nkkoPgTZqPHdexspMcyRy5SZ-vEv8Ol9xVPBH9w/https/opengraph.githubassets.com/4751d21f94668123b7bd44b7238a1404cdde826df5dbb223459e5c2cfd04230e/ergoplatform/ergo/issues/1675


[04/14/2022 6:15 PM] DreamsMoney#1427
I'll post the log there.


[04/14/2022 9:03 PM] kushti#0978
you can add 

checkpoint = {
      height = 184560
      blockId = "b727fdca1775500afdc881dbf15ec281ef6647bca44bb5d1533f1d34f9d74ddb"
    } 

to under ergo { node { ... 

to avoid that issue

{Reactions}
üëç 

[04/14/2022 9:27 PM] Cheese Enthusiast#0548
@DreamsMoney Have you already started mining?


[04/14/2022 9:31 PM] DreamsMoney#1427
Not yet, you? - I'm about too hopefully in the next hour or two.


[04/14/2022 9:32 PM] DreamsMoney#1427
I'm smoking some ribs and wings on the side, so I've been half assing it lol.


[04/14/2022 9:32 PM] Cheese Enthusiast#0548
Yeah I already started mining on it. I think its probably better if we mine on the same node until we're the longest chain.


[04/14/2022 9:33 PM] Cheese Enthusiast#0548
Or else we'll have a ton of forks again


[04/14/2022 9:33 PM] DreamsMoney#1427
We should be okay as long as we coordinate our syncs, no? - make sure we're at the same height.


[04/14/2022 9:34 PM] DreamsMoney#1427
I'm not sure who else runs testnet, other than @MGpai, but for sure let's coordinate.


[04/14/2022 9:34 PM] Cheese Enthusiast#0548
I don't think your node will sync properly, it will keep trying to sync with the wrong height. Right now I'm mining on it while it still says my node is unsynced


[04/14/2022 9:35 PM] Cheese Enthusiast#0548
Don't think it'll fix itself until one of the chains becomes the longest


[04/14/2022 9:36 PM] DreamsMoney#1427
Send me your nodes IP, I'll make sure to connect my two nodes to it.  I'll likely have more nodes soon as well, so we'll make a majority by days end hopefully.


[04/14/2022 9:36 PM] DreamsMoney#1427
We need a few healthy nodes to make the network stable.


[04/14/2022 9:37 PM] DreamsMoney#1427
Clear your /peers directory and start with trusted peers. I'll share my IPs.  I'm more than willing to accept your height.


[04/14/2022 9:37 PM] Cheese Enthusiast#0548
I asked Kushti and he said we may be able to use checkpointing. But don't wanna mess anything up until he says to use it


[04/14/2022 9:40 PM] DreamsMoney#1427
I see.  I'm willing to try it.  I'm just now became acquainted with check pointing.


[04/14/2022 9:40 PM] Cheese Enthusiast#0548
Try this: fdb091a9f8f8239a54a9f064c354a7583d9353caa6d3ad938dfc84fdb89dee34 - 201996


[04/14/2022 9:41 PM] DreamsMoney#1427
Noted.  Both these nodes are almost at 201986, I'll restart with that checkpoint then.


[04/14/2022 9:45 PM] Cheese Enthusiast#0548
Kushti said to wait for an hour


[04/14/2022 9:45 PM] Cheese Enthusiast#0548
And he'll provide instructions


[04/14/2022 9:47 PM] DreamsMoney#1427
Sounds good.


[04/14/2022 10:54 PM] Cheese Enthusiast#0548
@DreamsMoney Kushti said to keep it all one node for right now. So our current stratum server is `ergo-testnet.GetBlok.io:3056`, please mine to it if you can cause I put all my hashrate on it and we're only at 202033 rn


[04/14/2022 10:54 PM] Cheese Enthusiast#0548
@MGpai If you could too it would be a great help in getting testnet running properly again


[04/14/2022 10:59 PM] DreamsMoney#1427
Sorry, I don't understand why the longer chain is important?


[04/14/2022 10:59 PM] DreamsMoney#1427
I'll mine on it for now.


[04/14/2022 11:05 PM] Cheese Enthusiast#0548
He said he is working on something about chain switching as a fix, but until then if we mine on different nodes it will likely cause more forks as your node will not sync properly with mine.


[04/14/2022 11:06 PM] Cheese Enthusiast#0548
Explorer is at 203765 so once we get to that point you can switch off. I just wanna get this over with so testnet is back to normal, as I still have to test stuff with subpooling.


[04/14/2022 11:09 PM] Yaroslav#5375
Is there way to fetch unspent boxes for non-wallet address?


[04/14/2022 11:10 PM] Cheese Enthusiast#0548
You can use explorer api calls or node scans


[04/14/2022 11:11 PM] DreamsMoney#1427
Honestly, as far as I can tell, explorer is on one of the forks..  Its going to need to switch to our primary fork at some point.


[04/14/2022 11:11 PM] Cheese Enthusiast#0548
Yeah, essentially we have to be the longest chain for that to happen


[04/14/2022 11:12 PM] Cheese Enthusiast#0548
As that's what nodes use to find the 'correct' chain


[04/14/2022 11:14 PM] DreamsMoney#1427
Okay, let's get this fixed.  I really need to start testing.  My friends are off work tomorrow, so I urgently need to test my pool by then.


[04/14/2022 11:16 PM] Cheese Enthusiast#0548
Same, this has delayed me a little bit too so lets get this done with and we'll both be able to test our pools, lol


[04/14/2022 11:17 PM] DreamsMoney#1427
You should see me on your pool now.


[04/14/2022 11:18 PM] Cheese Enthusiast#0548
Yep I see you in the database, thanks


[04/14/2022 11:20 PM] DreamsMoney#1427
What height are you at now?


[04/14/2022 11:20 PM] Cheese Enthusiast#0548
202042


[04/14/2022 11:21 PM] Cheese Enthusiast#0548
Diff must've been decently high back then cause I put like 600 MH/s on and we're still going slow üò≠


[04/14/2022 11:22 PM] DreamsMoney#1427
Yes, I've noticed block time has been very slow lately on testnet.


[04/14/2022 11:23 PM] Yaroslav#5375
I looked at scans, but I haven't got how to set up trackingRule to collect boxes from specific address


[04/14/2022 11:23 PM] Cheese Enthusiast#0548
Are you using appkit?


[04/14/2022 11:27 PM] Cheese Enthusiast#0548
Or just the node?


[04/14/2022 11:27 PM] Yaroslav#5375
just node


[04/14/2022 11:28 PM] Cheese Enthusiast#0548
Hmm only way to do it then would be scans or explorer api then. I was never able to get scans working myself either.


[04/14/2022 11:34 PM] Yaroslav#5375
So, how can I create a scan for such case?


[04/15/2022 2:00 AM] MGpai#4313
got you


[04/15/2022 2:08 AM] MGpai#4313
what if someone forks and makes block time really short


[04/15/2022 2:08 AM] MGpai#4313
so the blocks go way ahead


[04/15/2022 2:09 AM] MGpai#4313
what happens?


[04/15/2022 2:09 AM] Cheese Enthusiast#0548
I forget if block time is adjustable by miners


[04/15/2022 2:10 AM] Cheese Enthusiast#0548
If it is then not a big deal. If it isn't then I think no normal node will ever be able to sync with it again


[04/15/2022 2:11 AM] Cheese Enthusiast#0548
I'm learning towards it being non-adjustable, mostly because most talks about block time in Ergo leads to sub-block confirmation protocols, rather than adjustment by miners


[04/15/2022 5:23 AM] MGpai#4313
interesting, thanks


[04/15/2022 11:20 AM] kushti#0978
Register a custom scan, or use external services, e.g. explorer API


[04/15/2022 11:41 AM] kushti#0978
It is not adjustable


[04/15/2022 11:55 AM] kushti#0978
Adding support for invalidating a fork is quite involved it seems, currently trying to rescan with increased rollback depth allowed

{Reactions}
üôè 

[04/15/2022 12:37 PM] xxxcuxxx#7692
Hi,. I try to run new oracle pool wich is btc usd oracle and I've been doing all step in the github repo tutorial, at this time I'm stuck on the node reject the request for new epoch creation, any advice will be helpful TIA üëç

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/964489750931177522/Screenshot_from_2022-04-15_11-16-59.png


[04/15/2022 4:27 PM] kushti#0978
Is node wallet unlocked?


[04/15/2022 4:28 PM] kushti#0978
Will revert to how to register a scan a bit later


[04/15/2022 4:55 PM] cheese#5545
I'm working on building an application that can connect and control my ergo node using the nodes swagger API. I see that in the github wiki it recommends securing the HTTP swagger API with HTTPS or SSH port forwarding. I apologize for my ignorance but would that still leave the API vulnerable?

Assuming I'm running the node and the application that connects to the node API on the same machine (connected with localhost or 127.0.0.1), how would I actually secure the HTTP API? I'm having a hard time picturing how to not let the data be exposed over HTTP, especially in the last step when the node API receives a post.


[04/15/2022 4:56 PM] cheese#5545
Also I apologize if this is the wrong channel


[04/15/2022 6:34 PM] xxxcuxxx#7692
Yes had been unlocked and I had already rescan it for 3x but still get same error


[04/15/2022 6:53 PM] glasgowm#9381
If it's on the web, it's vulnerable üôÇ 

But if you're running locally then no need to worry. It's only if the port is exposed via nginx/apache on the web


[04/15/2022 6:54 PM] glasgowm#9381
https://docs.ergoplatform.com/node/install/faq/#security


[04/15/2022 9:14 PM] cheese#5545
Thank you! That makes total sense now that I think about it. It's been a long week üò¥


[04/17/2022 8:51 PM] Yaroslav#5375
Hi, Is there some document which describes format of proof.proofBytes?


[04/18/2022 12:13 AM] 6directions#1089
How do chained transactions work?

According to this wiki page https://github.com/ergoplatform/ergo/wiki

> Similar to Bitcoin, Ergo supports chained transactions (i.e., spending of boxes with 0 confirmations).

boxes with 0 confirmations? does that mean boxes in the mempool? I've noticed that when a tx first makes it into a block, it starts at `1 confirmation`.


[04/18/2022 12:36 AM] Cheese Enthusiast#0548
Yes, you're spending boxes in the mempool. When the transactions finally leave the mempool they are placed in blocks such that the transactions depending on existing utxos must be "first". You may have multiple chained txs within the same block as long as the txs using the existing utxos are included. The txs may also be broken apart into separate blocks depending on the miner placing the txs, along with the cost of the txs.


[04/18/2022 12:36 AM] Cheese Enthusiast#0548
For example, this block I mined earlier today on testnet has two sets of chained txs which all settled in the same block: https://testnet.ergoplatform.com/en/blocks/2b764e141f268ec91d1aa4d3bae8aa472d782ba095000569d8ff5dcfcf08a7fd/transactions


[04/18/2022 3:08 AM] pgwada#0227
My testnet node is stuck at blockheight 203765. But it says node is synced.. Any clue how to fix this?


[04/18/2022 3:11 AM] Cheese Enthusiast#0548
Go to ergoplatform github, search for commit with the `rc1` tag, and download it.


[04/18/2022 3:11 AM] Cheese Enthusiast#0548
Or latest commit on `fee-improvs` branch


[04/18/2022 3:15 AM] Cheese Enthusiast#0548
Once thats done, you may want to set `peerDiscovery` to false in the network settings of the config, at least until your synced. Also completely delete history, state, peers, and the registry folder in /wallet. Also can use this zip file if you wish to sync quicker, but probably isn't necessary anymore.


[04/18/2022 3:15 AM] Cheese Enthusiast#0548
https://drive.google.com/file/d/1Op3_2eRYtIy5pbtZJjyADk8JbpvNY_9g/view?usp=sharing

{Embed}
https://drive.google.com/file/d/1Op3_2eRYtIy5pbtZJjyADk8JbpvNY_9g/view?usp=sharing
testnet-archive.zip


[04/18/2022 3:49 AM] pgwada#0227
thanks! the sync has started again.. will update my notes in my docs


[04/18/2022 3:56 AM] pgwada#0227
~~also when should i set back peerDiscovery to true..~~


[04/18/2022 4:48 PM] pgwada#0227
The node and wallet are now sycned. But funny thing is the 20Erg that i transfered to capt_nemo is missing. The address i transferred was 3Wyd9ghP6ERsZmQEArZZ2i6paJUJcqPncy5YkGx2k8s8fWAY7fzF 

This now says invalid address. I have my transactions that i used for script testing. Any idea why the above address got missed. Is that because of a bad fork which was not adopted


[04/18/2022 4:51 PM] pgwada#0227
ALso now should i enable back the peerDiscovery?


[04/18/2022 6:34 PM] Cheese Enthusiast#0548
So yeah, everyone was mining on a bad fork where EIP 27 got deactivated, ended up causing a ton of issues, but should be fixed now. Any transactions made on a certain point after the fork were likely all rolled back. Not sure why it would say its an invalid address though, all my transactions have been working fine.

I've kept peer discovery off for right now, though it is probably safe to turn it back on. The issue before was that the longest chain was not the correct one, but that should be fixed now.


[04/18/2022 7:25 PM] pgwada#0227
Thanks for the confirmation.


[04/18/2022 7:26 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965679669837983764/unknown.png


[04/18/2022 7:26 PM] MGpai#4313
Getting this problem trying to send tokens on testnet


[04/18/2022 7:26 PM] MGpai#4313
whats wrong?


[04/18/2022 7:32 PM] MGpai#4313
@MrStahlfelge get this error when trying to send tokens

```
java.util.java.util.NoSuchElementException: java.util.NoSuchElementException: key not found: d23d31fa5049055b9461a39348e72a516821b2d93263381b03fe190f07b2e732
```


[04/18/2022 7:33 PM] MGpai#4313
this is what my input box looks like


[04/18/2022 7:33 PM] MGpai#4313
```
        self._boxes = BoxOperations.createForSender(
            self._senderAddress,
            self._ctx).withAmountToSpend(self._amountToSpend) \
            .withInputBoxesLoader(ExplorerAndPoolUnspentBoxesLoader()).loadTop()
```


[04/18/2022 8:07 PM] MrStahlfelge#0042
can you give the stacktrace?


[04/18/2022 8:51 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965701112634146909/unknown.png


[04/18/2022 9:00 PM] MrStahlfelge#0042
I never had an exception from inside DefaultBoxSelector. But i am not calling loadtop directly. What happens when you call putToContractTx?


[04/18/2022 9:13 PM] MGpai#4313
this does not really work with how I am constructing txs


[04/18/2022 9:13 PM] MGpai#4313
because I construct an outbox


[04/18/2022 9:13 PM] MGpai#4313
then build an unsigned tx


[04/18/2022 9:14 PM] MGpai#4313
```
    def buildUnsignedTransaction(self, outBox: list) -> UnsignedTransaction:
        tb = self._ctx.newTxBuilder()
        return tb.boxesToSpend(self._boxes) \
            .outputs(outBox) \
            .fee(Parameters.MinFee) \
            .sendChangeTo(self._senderAddress.asP2PK()) \
            .build()
```


[04/18/2022 9:14 PM] MGpai#4313
what are all the methods of loading an input box?


[04/18/2022 9:34 PM] MrStahlfelge#0042
Just to try and see if that works. Then we can see what is different in your code.


[04/18/2022 9:40 PM] MGpai#4313
ok


[04/18/2022 9:44 PM] Yaroslav#5375
Anyone knows about issue with SecP256K1.exponentiate method? I'm trying to rewrite ErgoSignature.sign method to other language, but I have an issue. For some reason dlogGroup.exponentiate(dlogGroup.generator, sk.bigInteger) with sk.bigInteger = 2 returns:
x = 7d152c041ea8e1dc2191843d1fa9db55b68f88fef695e2c791d40444b365afc2
y = 56915849f52cc8f76f5fd7e4bf60db4a43bf633e1b1383f85fe89164bfadcbdb

But it should be: 
x = c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5
y = 1ae168fea63dc339a3c58419466ceaeef7f632653266d0e1236431a950cfe52a

At least this https://github.com/MrMaxweII/Secp256k1-Calculator tool, and my code returns such values

{Embed}
https://github.com/MrMaxweII/Secp256k1-Calculator
GitHub - MrMaxweII/Secp256k1-Calculator: Elliptic curve calculator ...
Elliptic curve calculator with the curve: Secp256k1 - GitHub - MrMaxweII/Secp256k1-Calculator: Elliptic curve calculator with the curve: Secp256k1
https://images-ext-2.discordapp.net/external/JzuxBg3sV1Of8sGJCyVC8yfHywvi5GqIJlw5GeK4qBg/https/opengraph.githubassets.com/8f4603776c3523e81f8be925d9ce986ce9cf6178d13167a8efdb3366e36b7dc2/MrMaxweII/Secp256k1-Calculator


[04/18/2022 9:45 PM] Yaroslav#5375


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965714717354119228/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/965714717601587280/unknown.png


[04/18/2022 9:49 PM] MGpai#4313
@MrStahlfelge 

wrote this
```
    def UnsignedTx(self, receiverWalletAddresses) -> UnsignedTransaction:
        unsigned_tx = BoxOperations.createForSender(
            self._senderAddress,
            self._ctx).withAmountToSpend(
            1000 * 1000 * 1000).withTokensToSpend(java.util.ArrayList(self._tokenList))\
            .withInputBoxesLoader(ExplorerAndPoolUnspentBoxesLoader()).putToContractTxUnsigned(
            Address.create(receiverWalletAddresses).toErgoContract())
        return unsigned_tx
```


[04/18/2022 9:49 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965715743901630554/unknown.png


[04/18/2022 9:49 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965715820254732368/unknown.png


[04/18/2022 9:57 PM] MrStahlfelge#0042
Strange. If you give me the address and token list I will try tomorrow what happens there


[04/18/2022 10:00 PM] Yaroslav#5375
@MrStahlfelge üëÜüôÑ


[04/18/2022 10:02 PM] MrStahlfelge#0042
Can't help with that


[04/18/2022 10:13 PM] Yaroslav#5375
Do you know someone who can?


[04/18/2022 10:29 PM] MGpai#4313
@MrStahlfelge 
Moved token to new wallet


[04/18/2022 10:29 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965725884042608680/unknown.png


[04/18/2022 10:30 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965725916682657792/unknown.png


[04/18/2022 10:30 PM] MGpai#4313
never seen this before


[04/18/2022 10:47 PM] MrStahlfelge#0042
One of the tokens is of amount 0


[04/18/2022 11:17 PM] MGpai#4313
ok cool tx went through on the new wallet


[04/18/2022 11:24 PM] MGpai#4313
this was using my code method


[04/18/2022 11:39 PM] MGpai#4313
I am also getting this error


[04/18/2022 11:39 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965743481068875846/unknown.png


[04/18/2022 11:40 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/965743541668180048/unknown.png


[04/18/2022 11:40 PM] MGpai#4313
Is this saying I am trying to spend two tokens of xyz


[04/18/2022 11:40 PM] MGpai#4313
when there is only one token of xyz?


[04/19/2022 12:33 AM] zargarzadehmoein#2928
I think, there are some tokens in your inputs (`88cbad09a5605389c97df4261fa7alabaeb6a4eff5bd6942697cb2925a16d061` , `af15c9ff340183801fe1c92f60319f8ff0a56614755546afe22023dd088ba08d`) that don't meet in outboxes so appkit is trying to create a change box for them but there is not enough erg for this.


[04/19/2022 12:49 AM] 6directions#1089
interesting... so I can send tx1 to the mempool that say, produces OutputBoxA.
then immediately after, send tx2 to the mempool, and have it take OutputBoxA from tx1 as an input, even tho OutputBoxA technically doesn't exist yet?

I am assuming an output box "comes into existence" the moment the tx that creates it makes it into a block.


[04/19/2022 12:58 AM] MGpai#4313
there are more than enough ergs


[04/19/2022 12:59 AM] MGpai#4313
This is what my code essentially does


[04/19/2022 12:59 AM] MGpai#4313
I provide a list of ids


[04/19/2022 12:59 AM] MGpai#4313
```
    tokens = ["d23d31fa5049055b9461a39348e72a516821b2d93263381b03fe190f07b2e732",
              "af15c9ff34c183801fe1c92f60319f8ff0a5b614755546afe22023dd088ba08d",
              "02a0bb3a20d8cc6d5347215d4aecd23dc87024d8cc2e72f315dbcec9fa0240cf"]
```


[04/19/2022 1:00 AM] MGpai#4313
then I create the actual tokens and store them as a list


[04/19/2022 1:00 AM] MGpai#4313
wait


[04/19/2022 1:00 AM] MGpai#4313
I think I see what happen lol


[04/19/2022 1:03 AM] MGpai#4313
yeah bruh


[04/19/2022 1:03 AM] MGpai#4313
üòê


[04/19/2022 1:03 AM] MGpai#4313
dumbest thing ever


[04/19/2022 1:04 AM] MGpai#4313
so we have a list of addresses and tokens


[04/19/2022 1:05 AM] MGpai#4313
```
address = [x, y, z]
tokens = [a, b, c]
```


[04/19/2022 1:06 AM] MGpai#4313
In one tx I wanted to send token a -->address x , b --> y, c --> z


[04/19/2022 1:06 AM] MGpai#4313
and to do this you need to make an outbox each time (for each address) right


[04/19/2022 1:06 AM] MGpai#4313
so I did all that


[04/19/2022 1:07 AM] MGpai#4313
but for the token field I gave the entire damn list of tokens


[04/19/2022 1:07 AM] MGpai#4313
rather than specifying the index


[04/19/2022 1:08 AM] MGpai#4313
because I confused it with sending MULTIPLE tokens to ONE address


[04/19/2022 1:08 AM] MGpai#4313
anyway problem solved üéâ üéâ

{Reactions}
üéâ (3) 

[04/19/2022 3:02 AM] Cheese Enthusiast#0548
Essentially yes you can use OutputBoxA as input into another transaction, that produces OutputBoxB, then chain that into C, D, etc. But the outputs do not actually "exist" until they are included into one or more blocks.


[04/19/2022 3:35 AM] 6directions#1089
Ok I see... Thank you!


[04/19/2022 11:30 PM] MGpai#4313
Is it possible to send multiple tokens to one address within a transfer in a tx


[04/19/2022 11:30 PM] MGpai#4313
as such


[04/19/2022 11:30 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/966103567729565716/unknown.png


[04/19/2022 11:31 PM] MGpai#4313
is the top scenario possible?


[04/19/2022 11:43 PM] zargarzadehmoein#2928
yes you can put list of token at a box with an address.

{Reactions}
üëç 

[04/20/2022 12:20 AM] Yaroslav#5375
Is there a way to sign transaction with API, using some private key, which is not in wallet?


[04/20/2022 12:20 AM] MGpai#4313
dont believe so


[04/20/2022 1:42 AM] Yaroslav#5375
why after specifying miningPubKeyHex, /mining/rewardPublicKey returns absolutely different value?


[04/20/2022 7:18 AM] MGpai#4313
why is it that I need to specify `.withEip3Secret(indexOfDerivedAddress)`


[04/20/2022 7:19 AM] MGpai#4313
for signing


[04/20/2022 7:19 AM] MGpai#4313
is there a universal solution?


[04/20/2022 7:20 AM] MGpai#4313
what would I do to sign if I loaded boxes from multiple derived addresses?


[04/20/2022 7:20 AM] MGpai#4313
this gets like too tangled lol


[04/20/2022 7:20 AM] MGpai#4313
I come so close to perfecting something


[04/20/2022 7:21 AM] MGpai#4313
then out of NO where another problem just arises


[04/20/2022 7:40 AM] Cheese Enthusiast#0548
You can make a master prover pretty sure, or just add withEIP3Index multiple times


[04/20/2022 7:41 AM] MGpai#4313
master prover is preferred


[04/20/2022 7:41 AM] MGpai#4313
especially due to this^


[04/20/2022 7:50 AM] Cheese Enthusiast#0548
Well you can call it multiple times on the same prover and it will be able to sign boxes for all of them. I feel like theres a way to make a master prover but don‚Äôt remember the exact method. Maybe @MrStahlfelge will know.


[04/20/2022 7:51 AM] MrStahlfelge#0042
It's exactly this, call useeip3index for all indices


[04/20/2022 7:53 AM] Cheese Enthusiast#0548
Is there a limit on the number of indices? Is the derivation path index limited to the values of a short or something? Just thinking if someone wanted to create a prover for all possible addresses.


[04/20/2022 7:53 AM] MGpai#4313
that is too much to do though if I am looping over several derivations


[04/20/2022 7:54 AM] MGpai#4313
I did 10,000 address derivations and it worked flawlessly


[04/20/2022 7:54 AM] Cheese Enthusiast#0548
Lol that seems like overkill, not sure many people have got to that level just yet.


[04/20/2022 7:56 AM] Cheese Enthusiast#0548
You could probably just do a linear search until all addresses are found, might be better if you‚Äôre worried about efficiency. I really doubt most people get to 10k.


[04/20/2022 7:57 AM] MGpai#4313
I was just testing


[04/20/2022 7:58 AM] MGpai#4313
I derived 2k wallet addresses and sent erg to all of them


[04/20/2022 7:58 AM] MGpai#4313
https://testnet.ergoplatform.com/en/transactions/f88ce3127237f1611ac90626d69dea02b16bc082865874436e5939a5cd400761


[04/20/2022 7:59 AM] Cheese Enthusiast#0548
üò± you really like doing all the fun stuff lol


[04/20/2022 8:00 AM] MGpai#4313
I tried doing 10k and 5k but got API errors on appkit


[04/20/2022 8:37 AM] MGpai#4313
@Cheese Enthusiast difficulty has really gone up on testnet


[04/20/2022 8:38 AM] MGpai#4313
take a look at blocktimes


[04/20/2022 8:47 AM] MrStahlfelge#0042
it is good, we need such people to see if things break üôÇ


[04/20/2022 1:17 PM] kii#8888
has anyone tried using doobie/cats with ergo appkit?

{Reactions}
420 

[04/20/2022 1:22 PM] kii#8888
I see this line within app-kit:
    .exclude("org.typelevel", "cats-kernel")
https://github.com/ergoplatform/ergo-appkit/blob/0a769dccc4e6abdbd4b4f7f6023de6059a7198e8/build.sbt#L135

Is there a reason why?

{Embed}
https://github.com/ergoplatform/ergo-appkit/blob/0a769dccc4e6abdbd4b4f7f6023de6059a7198e8/build.sbt
ergo-appkit/build.sbt at 0a769dccc4e6abdbd4b4f7f6023de6059a7198e8 ¬∑...
Appkit: A Library for Polyglot Development of Ergo Applications - ergo-appkit/build.sbt at 0a769dccc4e6abdbd4b4f7f6023de6059a7198e8 ¬∑ ergoplatform/ergo-appkit
https://images-ext-1.discordapp.net/external/BRc629cqYr72AQDlBWk6Tq6GaOG0Y78T1MQy9E7Bqp8/https/opengraph.githubassets.com/60720eb1b71bb4749d8228835c2327f96fee27c55f5555518d4c01cd98ac1e43/ergoplatform/ergo-appkit


[04/20/2022 1:49 PM] Yaroslav#5375
?


[04/20/2022 2:20 PM] kii#8888
@morphic i see that its your change (if i'm not mistaken.) May I ask about the decision behind it?


[04/20/2022 2:31 PM] morphic#4133
the `.force()` is to use this specific version of sigma
and `exclude` is to not pull the given dependencies transitively through Sigma.


[04/20/2022 2:32 PM] morphic#4133
You can try to directly refer to `"org.typelevel", "cats-kernel"` in your app


[04/20/2022 3:09 PM] Yaroslav#5375
@MrStahlfelge maybe you know?


[04/20/2022 3:49 PM] MrStahlfelge#0042
sorry no


[04/22/2022 1:49 AM] MGpai#4313
any reason blake2b is used in ergo script rather than sha256


[04/23/2022 4:20 AM] 6directions#1089
Question about NiPoPows: from the little I understand about them, they let you interact with the blockchain with less data, and to sync with it without needing to download the entire chain.

> Wallets, dApps, and users can rely solely on super blocks to securely and reliably interact with the blockchain. Since they only have to sync with the super blocks, they can avoid downloading the entire blockchain and improve efficiency by 80%

From here
https://ergoplatform.org/en/blog/2022-04-01-nipopows-on-ergo-innovations-in-blockchain/

I'm trying to imagine what some of the real world implications of these benefits might look like.

So we have the Ergo full node client which we can run on general purpose computers, and it downloads the chain's entire history.

It's not viable to run such a client on mobile devices bc of (growing) chain size and, potentially, hardware limitations.

With NiPoPows would it, in theory, be possible to have some sort of node/client that runs on a phone (leveraging NiPoPows) and is able to directly submit txs to the chain, rather than having to go through a full node?

{Embed}
https://ergoplatform.org/en/blog/2022-04-01-nipopows-on-ergo-innovations-in-blockchain/
NIPoPoWs on Ergo: Innovations in Blockchain
The Ergo blockchain is quickly ‚Ä¶
https://images-ext-1.discordapp.net/external/sqkYfjZbpAMxte4gFtsWAKrJN1PaMmb3g1cG8lJ1s4A/https/ergoplatform.org/img/uploads/news-blog-52-1-.png


[04/23/2022 4:31 AM] 6directions#1089
In light of recent events involving MetaMask, and downtime of critical Ethereum infrastructure providers, I've been thinking about how people generally interact with blockchains.

Not everyone runs their own node for a number of reasons.

Generally ‚Äî whether it is via our phones or from our computers ‚Äî when we use a service (wallet, dApp, etc) that needs to read on chain data or submit txs to the network, it happens through some third party that provides the necessary infrastructure.

It seems that people rarely interact with the network directly ‚Äî requests generally go through some third party.

So I am wondering: do NiPoPows have the ability to give people the ability to communicate with the network directly through mobile and other portable devices rather than having to rely on some third party?


[04/24/2022 4:11 PM] glasgowm#9381
Yep, also useful for other reasons

https://docs.ergoplatform.com/dev/protocol/nipopow/

{Reactions}
üëç 

[04/24/2022 4:24 PM] IFTTT#6211
Ergo API basic query - Community Tutorials
https://ift.tt/7ywhjYa

via https://ift.tt/MhjuP53

{Embed}
Ergo API basic query - Community Tutorials
Ergo API basic query - Community Tutorials
https://ift.tt/7ywhjYa

via https://ift.tt/MhjuP53
https://images-ext-2.discordapp.net/external/7bTZ0ggGMuuQdmYkjDx09gON44dAw9dklaFrtvLGFqM/https/aws1.discourse-cdn.com/standard14/uploads/ergoforum/original/2X/2/22c5510ecd3e6a35b725f45b807b9cb0a9f525d5.png
Ergo API basic query - Community Tutorials via /r/ErgoDevelopers https://ift.tt/MhjuP53


[04/24/2022 4:51 PM] keblaK#5054
hello everyone! I would like to write a program track the number of NETA token holders, and be able to group them by balance. For instance : number of NETA holders with more than 1K NETA. Any advice would be much appreciated!


[04/24/2022 4:52 PM] glasgowm#9381
https://github.com/freeboy0/ergo-token-analysis/blob/main/ergo_tokens.ipynb

{Embed}
https://github.com/freeboy0/ergo-token-analysis/blob/main/ergo_tokens.ipynb
ergo-token-analysis/ergo_tokens.ipynb at main ¬∑ freeboy0/ergo-token...
jupyter notebooks for analysis of tokens on Ergo blockchain - ergo-token-analysis/ergo_tokens.ipynb at main ¬∑ freeboy0/ergo-token-analysis
https://images-ext-1.discordapp.net/external/DLVDjCIQyV8wRoRPY8PiX67Nv8760wzCVo6lUwijhis/https/opengraph.githubassets.com/5c930a2fd60cf4d23e97b83f8e4955732ae0ba3070426d96af79905e14f229bc/freeboy0/ergo-token-analysis


[04/25/2022 4:33 PM] Krasavice Blasen#4574
Is there a Coll[Coll[Coll[Byte]]] encoding?


[04/25/2022 4:37 PM] MrStahlfelge#0042
you can do such stuff, yes


[04/25/2022 4:38 PM] Krasavice Blasen#4574
Im using https://github.com/ergoplatform/sigma-rust/blob/9b5ca5a9e4ccbc076991c9db349645c4db848cae/ergotree-ir/src/serialization/types.rs#L21-L25 to guide my encoding, what type prefix would this come under?

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/9b5ca5a9e4ccbc076991c9db349645c4db848cae/ergotree-ir/src/serialization/types.rs
sigma-rust/types.rs at 9b5ca5a9e4ccbc076991c9db349645c4db848cae ¬∑ e...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/types.rs at 9b5ca5a9e4ccbc076991c9db349645c4db848cae ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/sI5BxBp35UnW8P_QzXWEGo4TI7HtYyRqN6zYgGhTzLQ/https/opengraph.githubassets.com/1e366ece8396c301e0ad81146ab79b25d5a7ba783c97b9bc58765541aab424a6/ergoplatform/sigma-rust


[04/25/2022 4:39 PM] MrStahlfelge#0042
I think sigma-rust's ErgoValue implementation is not complete


[04/25/2022 4:39 PM] Krasavice Blasen#4574
ah ok, where should I look to find complete implementation?


[04/25/2022 4:40 PM] MrStahlfelge#0042
appkit ErgoValue class


[04/25/2022 4:40 PM] Krasavice Blasen#4574
Sweet, thank you!


[04/25/2022 6:57 PM] Yaroslav#5375
Hi there. And again, there's no way to fetch all unspent boxes by public key?


[04/25/2022 7:19 PM] MrStahlfelge#0042
not with node, but with explorer


[04/25/2022 7:31 PM] Yaroslav#5375
@MrStahlfelge As I can see, I can fetch boxes by some address, not public key


[04/25/2022 7:36 PM] MrStahlfelge#0042
address is another representation of pk


[04/25/2022 7:38 PM] Yaroslav#5375
@MrStahlfelge what about mining rewards and fees? Will it find them?


[04/25/2022 7:39 PM] Yaroslav#5375
Address of such boxes is p2sh and differs from public key


[04/25/2022 7:39 PM] MrStahlfelge#0042
that I don't know


[04/25/2022 8:51 PM] Yaroslav#5375
Ok, another one: is there some limit for transactions inputs and outputs count?


[04/25/2022 9:07 PM] MrStahlfelge#0042
in theory the max size of the transaction, in practice it is hard to get more than 50 inputs into a transaction when using explorer and node as datasources


[04/25/2022 9:32 PM] Yaroslav#5375
It will be a pool, and I want to make rewards in one tx, so I want to add maximum üôÇ


[04/25/2022 10:34 PM] IFTTT#6211
Ergo Nation: Identity and Governance - Ecosystem Development
https://ift.tt/LCFJWRD

via https://ift.tt/QGMIZ9V


[04/27/2022 8:41 PM] IFTTT#6211
Release Ergo Protocol Reference Client 4.0.26 ¬∑ ergoplatform/ergo
https://ift.tt/lKuMWXm

via https://ift.tt/DlRpSXN

{Embed}
Release Ergo Protocol Reference Client 4.0.26  ergoplatform/ergo
Release Ergo Protocol Reference Client 4.0.26 ¬∑ ergoplatform/ergo
https://ift.tt/lKuMWXm

via https://ift.tt/DlRpSXN
https://images-ext-2.discordapp.net/external/rNxSIYq6nYiF-M-UmcCK-BWsN04mQQ2DtySQa-63xM0/https/opengraph.githubassets.com/0a9dab82b971de98efaad59d24160acd9e8f970dc9a4b3ef6982f5d9eafd8f3d/ergoplatform/ergo/releases/tag/v4.0.26
Release Ergo Protocol Reference Client 4.0.26 ¬∑ ergoplatform/ergo via /r/ErgoDevelopers https://ift.tt/DlRpSXN


[04/28/2022 12:43 AM] pgwada#0227
I am running the eip-27 testnet version on my testnet. Should i move to 4.0.26? i thought this was only for mainnet


[04/28/2022 12:45 AM] Cheese Enthusiast#0548
Stick to eip-27 testnet version. This version is likely more focused on mainnet, and most of the testnet problems started up when people used wrong versions. Probably not best to go to a different version, though if I'm wrong someone can correct me.

{Reactions}
ergo_orange 

[04/28/2022 6:39 PM] keblaK#5054
helloüëã thank you very much, it helped me a lot.

But I‚Äôm curious if this is track each UTXO that is holding tokens or the entire wallet ?

The reason I ask is because wallets can have mulitple derived addresses that hold certain tokens in multiple UTxOs


[04/29/2022 10:17 AM] glasgowm#9381
Each address


[04/29/2022 4:14 PM] IFTTT#6211
DeCo EU Layman Class#4 4-27-2022 Simple and Real-world Transaction Breakdown
https://youtu.be/D28j2Tz-ILU

via https://ift.tt/aJI5KUX

{Embed}
DeCo EU Layman Class#4 4-27-2022 Simple and Real-world Transaction Breakdown
DeCo EU Layman Class#4 4-27-2022 Simple and Real-world Transaction Breakdown
https://youtu.be/D28j2Tz-ILU

via https://ift.tt/aJI5KUX
https://images-ext-1.discordapp.net/external/JBPDvcjN8lC2cXt6jSQwRip-NQ4Lg19TYrjHXW2LkIY/https/i.ytimg.com/vi/D28j2Tz-ILU/hqdefault.jpg
DeCo EU Layman Class#4 4-27-2022 Simple and Real-world Transaction Breakdown via /r/ErgoDevelopers https://ift.tt/aJI5KUX


[05/02/2022 9:45 AM] koutelier#5178
Does anyone know why I have this error ?

Failed to compile
./node_modules/ergo-lib-wasm-browser/ergo_lib_wasm_bg.wasm
Module parse failed: Unexpected character '' (1:0)
The module seem to be a WebAssembly module, but module is not flagged as WebAssembly module for webpack.
BREAKING CHANGE: Since webpack 5 WebAssembly is not enabled by default and flagged as experimental feature.
You need to enable one of the WebAssembly experiments via 'experiments.asyncWebAssembly: true' (based on async modules) or 'experiments.syncWebAssembly: true' (like webpack 4, deprecated).
For files that transpile to WebAssembly, make sure to set the module type in the 'module.rules' section of the config (e. g. 'type: "webassembly/async"').
(Source code omitted for this binary file)


[05/04/2022 10:47 AM] glasgowm#9381
https://stackoverflow.com/questions/65181400/next-js-module-parse-failed-unexpected-character-10

{Embed}
https://stackoverflow.com/questions/65181400/next-js-module-parse-failed-unexpected-character-10
Next JS: Module parse failed: Unexpected character 'ÔøΩ' (1:0)
Module parse failed: Unexpected character 'ÔøΩ' (1:0)
You may need an appropriate loader to handle this file type, currently, no loaders are configured to process this file. See https://webpack.js.org/
https://images-ext-1.discordapp.net/external/VbfwnzN2MM794XNccNxDzrB1YeuPrxR53y11bwRfflY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon%402.png


[05/04/2022 10:54 AM] IFTTT#6211
Release Ergo Protocol Reference Client 4.0.27 ¬∑ ergoplatform/ergo
https://ift.tt/OCKfg8p

via https://ift.tt/bf4tvH1

{Embed}
Release Ergo Protocol Reference Client 4.0.27  ergoplatform/ergo
Release Ergo Protocol Reference Client 4.0.27 ¬∑ ergoplatform/ergo
https://ift.tt/OCKfg8p

via https://ift.tt/bf4tvH1
https://images-ext-1.discordapp.net/external/IZbu8l4PZhQekzDt-vH82Boi9MEtGDAvFoLXtVD0IIo/https/opengraph.githubassets.com/9cb52898bec7ffc67301b2e17bc787a9fe3316338b5ded17a8f181d0af084087/ergoplatform/ergo/releases/tag/v4.0.27
Release Ergo Protocol Reference Client 4.0.27 ¬∑ ergoplatform/ergo via /r/ErgoDevelopers https://ift.tt/bf4tvH1


[05/05/2022 10:34 PM] glasgowm#9381
Reposting, caught by spam filter


[05/05/2022 10:34 PM] glasgowm#9381
May 5, 2022 5:32 PM] => ( Hello, I was wondering if anyone can elaborate more on what anon_real said here or direct me towards an example.√Ç  A few questions that I have which would greatly help if answered are:

1. Where would I find the said box containing the collection NFT after I mint it? Is it just the box ID or a specific chunk of information in the box?

2. What do they mean by the first input of the minting transaction? Which part exactly would that be?

3. How would I place said box in the first input? Is there a specific format? )


[05/05/2022 10:45 PM] Alex1#1108


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/971890310709936159/Anon_Comment.png


[05/05/2022 10:46 PM] Alex1#1108
I am running a full ergo node and using someones minting program which uses Ergo Node API methods.¬† I did some research and with some trial and error I wrote and commented out what I think is correct(both somehow give same result?), but every time I mint an NFT using the box ID of the collection NFT, the box the original collection NFT is in gets spent (I think?) which changes its box ID and makes every other NFT have a different token ID after the first one minted. If I am moving in the right direction so far, what would the next step be? is there a way to reference that box ID without spending it?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/971890755637481482/Transaction_Example.png


[05/05/2022 10:47 PM] Alex1#1108
Any help would be greatly appreciated. Very sorry if this is not the place to ask these kind of questions as I still have a lot to learn and I am not really an experienced developer so I am not sure where I can get help. If this is too advanced for me at the moment please let me know and I will understand. Thank you in advance!


[05/06/2022 6:56 PM] koutelier#5178
{code: 1, info: 'Failed to parse ErgoBox from JSON string: JsValue(‚Ä¶differs from calculated from box serialized bytes'}


[05/06/2022 6:57 PM] koutelier#5178
does anyone know why this error appears ?


[05/06/2022 6:57 PM] koutelier#5178
https://github.com/Koutelier/CometCommunity/blob/main/TheCometTokenWebsite/utils/yoroiUtils.js

{Embed}
https://github.com/Koutelier/CometCommunity/blob/main/TheCometTokenWebsite/utils/yoroiUtils.js
CometCommunity/yoroiUtils.js at main ¬∑ Koutelier/CometCommunity
Meme money for ordinary people. Contribute to Koutelier/CometCommunity development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/BCLW6IitRyghCBgltkGGmB3mmt8dCgrcq7Wk-5KVUpw/https/opengraph.githubassets.com/6f9e90b8fb6b4a0638557a6c7dfb62bcb19c5ff9e1183c6ef5f490a6705cdbe6/Koutelier/CometCommunity


[05/09/2022 8:22 AM] greenhat#6562
Could you post the full error message? I suspect it's box id, so it means that the box id provided in json is not the same as it's calculated during the parsing. Box id is a hash of serialized box. How did you get the json?


[05/09/2022 8:46 AM] koutelier#5178


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/973128738516664370/error.txt


[05/09/2022 9:05 AM] greenhat#6562
Yep, it's box id. So the cause is the disrepancy between box id in the json and box contents. When we calculate box id for the parsed box it's different from the one provided in the json. If you are sure that box contents are correct and you want to ignore this error simply remove box id from the json.


[05/09/2022 10:39 AM] koutelier#5178
did that but i got this error now


[05/09/2022 10:39 AM] koutelier#5178
"missing field boxId at line 1 column 3134"


[05/09/2022 12:12 PM] greenhat#6562
@koutelier That's weird. Please share the code that calls json parsing.


[05/09/2022 12:18 PM] koutelier#5178
@greenhat this is the code. the changes aren't there yet cause i haven't push anything .


[05/09/2022 12:19 PM] greenhat#6562
Could you point to the exact line?


[05/09/2022 12:39 PM] koutelier#5178
Give me few min


[05/09/2022 12:44 PM] koutelier#5178
if (box.value - txFee > ergValue){
                swapBox = JSON.parse(JSON.stringify(box));
                console.log("Value of box" , box.value - txFee)
                console.log("guilt" , box.value - txFee > ergValue)


            }
        }
    }
    else {
        swapBox = JSON.parse(JSON.stringify(tempBox));

    }


[05/09/2022 12:58 PM] greenhat#6562
I'm confused. The error you mentioned above ("Failed to parse ErgoBox...") can come only from `ErgoBoxes.from_boxes_json(...)` call. `JSON.parse` is JS native code that just parses text into a JSON object.


[05/09/2022 3:32 PM] koutelier#5178
i don't really know sir i didn't write that code. i am a rookie just started to learn javascript


[05/09/2022 5:07 PM] Lemmonade_714 | MetaDEX#2827
Hi all, just started looking into Ergo, still wandering around aimlessly. Question would be: What is the regular way to build web-DApps?


[05/09/2022 5:08 PM] Lemmonade_714 | MetaDEX#2827
I saw the playground-thingy as well as the video with the local node but obviously that's not prod-ready


[05/09/2022 5:15 PM] glasgowm#9381
Some public nodes here 

https://api.tokenjay.app/peers/list


[05/09/2022 10:14 PM] lgd#5847
Good way could be to look at current projects like auction house, ergo raffle, nautilus. Can find those on GitHub open source.

{Reactions}
crabrave 

[05/10/2022 8:53 AM] MrStahlfelge#0042
auction house contract is on eip repo. that said, a dapp always is made off 
- on chain code: ergoscript
- off chain code
- frontend code
The off chain code can be built into the frontend, but everyone has to decide if this i a great design choice. 

The ergopay showcase dapp is open sourced. you can find the demo here: https://golfgl.de/ergopayshowcase/
there is no on chain code as it only builds simple transactions.
off chain code is here: https://github.com/MrStahlfelge/ergopay-server-example
frontend code is here: https://github.com/MrStahlfelge/ergopay-frontend-example

mixer is also open-sourced and has a web frontend


[05/10/2022 9:22 AM] MrStahlfelge#0042
@nitram147 as you are a python developer you can use this one to get started with appkit https://github.com/ergoplatform/ergo-appkit/wiki/Using-Appkit-from-Python
I think @Luivatra has published some python lib to make the start even easier, would be good to have the wiki article updated.
appkit itself is implemented in scala and java. the attachment implementation to build the ergo value can be found here: https://github.com/ergoplatform/ergo-appkit/blob/e249d8cb011864d7bcc457ee31e717c5d4b9fb75/common/src/main/java/org/ergoplatform/appkit/BoxAttachmentGeneric.java#L33
use this code and call toHex method on the resulting ergovalue to get the hex representation for your examples üôÇ


[05/10/2022 10:58 AM] Luivatra#9076
https://pypi.org/project/ergpy/
or
https://github.com/ergo-pad/ergo-python-appkit

{Embed}
https://pypi.org/project/ergpy/
ergpy
Python-jvm wrapper for interacting with the Ergo Blockchain
https://images-ext-2.discordapp.net/external/qxMjZV59I7oRbLMsTkPDbpnsVXJvaHXFL_28ZJtYdP0/https/pypi.org/static/images/twitter.6fecba6f.jpg

{Embed}
https://github.com/ergo-pad/ergo-python-appkit
GitHub - ergo-pad/ergo-python-appkit
Contribute to ergo-pad/ergo-python-appkit development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/9Jv4lvYZJkg1f1DUpv2FChllY-iZPvHQugfdQQsx3dQ/https/opengraph.githubassets.com/ecfb6cc107b4c6ae453e7feed4715da2c2de2e1aa81620ef353646b65f68f204/ergo-pad/ergo-python-appkit


[05/10/2022 10:59 AM] MrStahlfelge#0042
do you want to update the wiki article? üôÇ


[05/10/2022 11:00 AM] Luivatra#9076
I will have to add it to my evergrowing "you really need to write this documentation" list


[05/10/2022 11:03 AM] MrStahlfelge#0042
btw, we have a new release and fat jar published, also a migration doc this time üôÇ


[05/10/2022 11:05 AM] Luivatra#9076
great, lets hope my refactor makes it a smooth transition


[05/10/2022 2:44 PM] IFTTT#6211
ERGOHACK-FEST: The 3-week event kicked off yesterday; below is a brief intro for the (15!) teams so far.
https://twitter.com/AGlasgow12/status/1524012909575249920

via https://ift.tt/V4ZuUXA

{Embed}
ERGOHACK-FEST: The 3-week event kicked off yesterday; below is a brief intro for the (15!) teams so far.
ERGOHACK-FEST: The 3-week event kicked off yesterday; below is a brief intro for the (15!) teams so far.
https://twitter.com/AGlasgow12/status/1524012909575249920

via https://ift.tt/V4ZuUXA
https://images-ext-2.discordapp.net/external/NS8mWRwEeWd00SY1zscMy7fOqf5oqiEcUqPQDwk1YT8/https/abs.twimg.com/errors/logo46x38.png
ERGOHACK-FEST: The 3-week event kicked off yesterday; below is a brief intro for the (15!) teams so far. via /r/ErgoDevelopers https://ift.tt/V4ZuUXA


[05/10/2022 5:42 PM] nitram147#5106
I'm mostly C/C++ developer (focusing mainly on embedded development), but during the last 14 years I've been coding in a lot of languages and lot of platforms... I dediced to use python in the EIP because it's easy to understand language with support for many languages so it will be easy for reader to comprehend the code üôÇ


[05/10/2022 5:43 PM] nitram147#5106
Unfortunately I really don't like Java


[05/10/2022 5:43 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/973626302433218680/unknown.png


[05/10/2022 5:43 PM] nitram147#5106
When I tried to import ergo appkit into my python it has failed üò¶


[05/10/2022 5:43 PM] nitram147#5106
(imported same way as in the example)


[05/10/2022 5:44 PM] MrStahlfelge#0042
example on the wiki page or luivatras example?


[05/10/2022 5:44 PM] nitram147#5106
the ergopad example, just first line - import of the library


[05/10/2022 5:44 PM] nitram147#5106
(I did installed the library based on their "pip" line)


[05/10/2022 5:45 PM] MrStahlfelge#0042
maybe @Luivatra can help - I only did it like written in the wiki


[05/10/2022 5:45 PM] nitram147#5106
Is there a way to call this method https://github.com/ergoplatform/ergo-appkit/blob/e249d8cb011864d7bcc457ee31e717c5d4b9fb75/common/src/main/java/org/ergoplatform/appkit/BoxAttachmentPlainText.java with different content type?

{Embed}
https://github.com/ergoplatform/ergo-appkit/blob/e249d8cb011864d7bcc457ee31e717c5d4b9fb75/common/src/main/java/org/ergoplatform/appkit/BoxAttachmentPlainText.java
ergo-appkit/BoxAttachmentPlainText.java at e249d8cb011864d7bcc457ee...
Appkit: A Library for Polyglot Development of Ergo Applications - ergo-appkit/BoxAttachmentPlainText.java at e249d8cb011864d7bcc457ee31e717c5d4b9fb75 ¬∑ ergoplatform/ergo-appkit
https://images-ext-1.discordapp.net/external/BRc629cqYr72AQDlBWk6Tq6GaOG0Y78T1MQy9E7Bqp8/https/opengraph.githubassets.com/60720eb1b71bb4749d8228835c2327f96fee27c55f5555518d4c01cd98ac1e43/ergoplatform/ergo-appkit


[05/10/2022 5:45 PM] nitram147#5106
The concent_data could be anything, I just need to know how will be  the content type 3 encoded üôÇ


[05/10/2022 5:46 PM] nitram147#5106
Thanks üôÇ


[05/10/2022 5:46 PM] MrStahlfelge#0042
I know. From Java, Scala, Kotlin or other JVM languages this is doable but I don't know the tricks from python. the method you need to call is package private so class has to be in the same package


[05/10/2022 5:46 PM] Luivatra#9076
Hmm odd, I am on 3.9 though...


[05/10/2022 5:47 PM] nitram147#5106
It doesn't matter I would do it even in java, but I don't know how to compile it together...


[05/10/2022 5:47 PM] nitram147#5106
And my ubuntu really don't like java ü§∑‚Äç‚ôÇÔ∏è


[05/10/2022 5:47 PM] nitram147#5106
Many times I got some error when other did not


[05/10/2022 5:48 PM] MrStahlfelge#0042
I am on Ubuntu, too. best for java. my advice was to get IntelliJ, install the Scala plugin and clone the appkit repo. then you can run single unit tests and simply tinker in appkit code as you wish. run the unit test with debugger and copy all the values you need


[05/10/2022 5:48 PM] Luivatra#9076
Well, it is running java in the background, so could be a java issue


[05/10/2022 5:49 PM] MrStahlfelge#0042
but if you don't want to spend much time on it, I can also print it out if you give me the coll(byte) you need


[05/10/2022 5:50 PM] MrStahlfelge#0042
malformed class name sounds like an issue on the bridge, the given lines would be interesting


[05/10/2022 5:50 PM] nitram147#5106
I will send you the bytes in hex format  üôÇ


[05/10/2022 5:50 PM] nitram147#5106
Wait a moment


[05/10/2022 5:50 PM] nitram147#5106
It would be better this way üòá


[05/10/2022 5:51 PM] nitram147#5106
``03a02d035a40ad4debb3``


[05/10/2022 5:52 PM] nitram147#5106
I would like to see how will be encoded those bytes while using content_type = 3


[05/10/2022 5:52 PM] nitram147#5106
Thanks üôÇ


[05/10/2022 5:53 PM] nitram147#5106
```
> import ergo_python_appkit.appkit
> Traceback (most recent call last):
>   File "org.jpype.JPypeContext.java", line -1, in org.jpype.JPypeContext.newWrapper
>   File "org.jpype.manager.TypeFactoryNative.java", line -2, in org.jpype.manager.TypeFactoryNative.newWrapper
>   File "org.jpype.JPypeContext.java", line -1, in org.jpype.JPypeContext.newWrapper
>   File "org.jpype.manager.TypeFactoryNative.java", line -2, in org.jpype.manager.TypeFactoryNative.newWrapper
>   File "org.jpype.manager.TypeManager.java", line -1, in org.jpype.manager.TypeManager.findClass
>   File "Class.java", line 1411, in java.lang.Class.isAnonymousClass
>   File "Class.java", line 1330, in java.lang.Class.getSimpleName
> Exception: Java Exception
> 
> The above exception was the direct cause of the following exception:
> 
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
>   File "/home/nitram147/anaconda3/lib/python3.8/site-packages/ergo_python_appkit/appkit.py", line 25, in <module>
>     from sigmastate.Values import ErgoTree
>   File "<frozen importlib._bootstrap>", line 991, in _find_and_load
>   File "<frozen importlib._bootstrap>", line 971, in _find_and_load_unlocked
>   File "<frozen importlib._bootstrap>", line 914, in _find_spec
>   File "/home/nitram147/anaconda3/lib/python3.8/site-packages/jpype/imports.py", line 194, in find_spec
>     if not hasattr(base, parts[2]):
> java.lang.InternalError: java.lang.InternalError: Malformed class name
```
If it helps you somehow debugging your library üôÇ


[05/10/2022 5:57 PM] MrStahlfelge#0042
`new BoxAttachmentPlainText(Base16.decode("03a02d035a40ad4debb3").get).getErgoValue.toHex` is the Scala code to use
returned value: `3c0e400e03505250060a03a02d035a40ad4debb3`

{Reactions}
‚ù§Ô∏è 

[05/10/2022 5:58 PM] MrStahlfelge#0042
remark: I changed PLAIN_TEXT value from 2 to 3 before running

{Reactions}
‚ù§Ô∏è 

[05/10/2022 5:58 PM] nitram147#5106
Thanks. That's what I needed üòá


[05/10/2022 5:59 PM] nitram147#5106
So when content_type = 2, the "preamble" is:
``3c0e400e0350525004``
When content_type = 3, the "preamble" is:
``3c0e400e0350525006``


[05/10/2022 5:59 PM] nitram147#5106
So ``04`` changed to ``06`` üôÇ


[05/10/2022 6:00 PM] nitram147#5106
It seem like if the content_type value was mutliplied by 2 to get this value üòÑ


[05/10/2022 6:05 PM] MrStahlfelge#0042
will have something to do with the bit that was set and how hex encoding is reducing it


[05/10/2022 6:08 PM] nitram147#5106
Simplest way to do the "time two" operation is to bit shift the value by one bit to the left


[05/10/2022 6:09 PM] nitram147#5106
Do you already have the content which you will fill to the R4-R8, so you can use R9?


[05/10/2022 6:11 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/973633474156195900/unknown.png


[05/10/2022 6:12 PM] nitram147#5106
What will be the ``Unit`` value looks like?


[05/10/2022 6:12 PM] nitram147#5106
I want to make "example" transaction showcasing my EIP, so I need to know what to fill to the R4-R8 registers üôÇ


[05/10/2022 6:12 PM] nitram147#5106
Thanks @MrStahlfelge


[05/10/2022 6:27 PM] MrStahlfelge#0042
Send me your p2pk address I will send you a tx


[05/10/2022 6:39 PM] nitram147#5106
Here you go: ``9fnJ4joJLyXR8vAu2tj8dChWMt5AMkaJzvjvd9xzXUsP3rnLu5Y``


[05/10/2022 6:41 PM] MrStahlfelge#0042
Done

{Reactions}
‚ù§Ô∏è 

[05/10/2022 9:42 PM] nitram147#5106
Yeah, and that's what is actually going on


[05/10/2022 9:43 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/973686621197172806/unknown.png


[05/10/2022 9:43 PM] nitram147#5106
The ZigZag is doing thah 1 bit bitshift to the left


[05/10/2022 9:43 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/973686749492551731/unknown.png


[05/10/2022 9:43 PM] nitram147#5106
Mystery solved üòÑ


[05/10/2022 9:49 PM] morphic#4133
Ah, yes, I forgot that all signed integers are ZigZag encoded. Sorry, would had to tell you about it yesterday. Hope you had some fun deciphering ErgoTree specification. üôÇ

{Reactions}
üëç 

[05/12/2022 12:28 PM] IFTTT#6211
DeCo | Ergo Ecosystem Promo Month
https://www.youtube.com/watch?v=dcTyqxo_Ejk&feature=youtu.be

via https://ift.tt/vrQ49w6

{Embed}
DeCo | Ergo Ecosystem Promo Month
DeCo | Ergo Ecosystem Promo Month
https://www.youtube.com/watch?v=dcTyqxo_Ejk&feature=youtu.be

via https://ift.tt/vrQ49w6
https://images-ext-2.discordapp.net/external/468Oq3jVzKO-iBNyM-cmgvUOVyRvS-L1w4O8DM7uXkc/https/i.ytimg.com/vi/dcTyqxo_Ejk/hqdefault.jpg
DeCo | Ergo Ecosystem Promo Month via /r/ErgoDevelopers https://ift.tt/vrQ49w6


[05/13/2022 8:39 AM] keblaK#5054
Hello everyone! I was very interested on how to scan all wallets to track how many NFTs are held on each wallet on Ergo, as well as write a script to track the rarity ranking of each NFT. Thanks in advance, I appreciate your support.


[05/13/2022 8:49 AM] IFTTT#6211
Interactive tutorials for javascript dApp development on Ergo Platform
https://ift.tt/cOVb1G3

via https://ift.tt/FVZJSEY

{Reactions}
üëçüèª 

[05/13/2022 8:53 AM] keblaK#5054
@glasgowm


[05/13/2022 8:56 AM] Lemmonade_714 | MetaDEX#2827
(bot blocked my message, let me try again, this time chopped up)


[05/13/2022 8:57 AM] Lemmonade_714 | MetaDEX#2827
1. If I ask my questions in the metadex-channel would that be cleaner, or just doomp eet in here?


[05/13/2022 8:58 AM] Lemmonade_714 | MetaDEX#2827
2. Does Ergo support script-data-inputs (not regular data-inputs, I know you invented them :)), or do I have to put the whole script in R1 each time? Are there limits (probably) to that and are they relevant in practice? How would I find out during development?


[05/13/2022 9:00 AM] Lemmonade_714 | MetaDEX#2827
3. There is no simple tutorial yet for creating an A) webapp which B) interacts with some public testnet C) without me having to run a node myself, no? I'm fine with suspending B and C for dev-purposes but coming from Cardano I'd like to verify the final frontend <-> blockchain (and back) pipeline I want to achieve is possible in principle before I add functionality


[05/13/2022 9:05 AM] Lemmonade_714 | MetaDEX#2827
4. Started looking at the app-kit video again rn and the following questions cropped up, with the resp. solution-ideas:
4.1. scala is not not a frontend-language (and I'd prefer to avoid "scala-to-js-compilation" stuff to keep it simple for now) --> look at/for instructions in frontend-languages
4.2. it requires me to run my own node, but even mentions that public nodes are available as well. But which of those are for public testnet, resp. how do I? Also it mentions I should know my assumptions regarding those which I don't - my guess would be that the public nodes can only refuse to forward transactions or reorder them strategically, but no further shenanigans, correct?


[05/13/2022 9:06 AM] Lemmonade_714 | MetaDEX#2827
5. regarding the pointers to repos - I'm always hesitant to base my explorations on such things since I don't know how they came to be, what frameworks/commands were invoked in what order, which magic changes to config files have been made, why, etc.; hence my interest in dumb tutorials üôÇ


[05/13/2022 9:07 AM] Lemmonade_714 | MetaDEX#2827
(but 4.* should suffice for now in case there are no better alternatives at this point)


[05/13/2022 9:09 AM] glasgowm#9381
4.2) you can use https://api.tokenjay.app/peers/list and swap the port til you find one that's running both ie

http://213.239.193.208:9052/swagger


[05/13/2022 9:12 AM] Lemmonade_714 | MetaDEX#2827
how do I find out if it's running mainnet/testnet or both?


[05/13/2022 9:12 AM] Lemmonade_714 | MetaDEX#2827
ah wait I guess it's in the port


[05/13/2022 9:12 AM] glasgowm#9381
`9053` mainnet, `9052` testnet

{Reactions}
üëç 

[05/13/2022 9:18 AM] glasgowm#9381
5) 

There's the ergo-js-template, https://github.com/anon-real/ergo-js-template

but don't think we have any complete walk-throughs for the front-end.


[05/13/2022 9:19 AM] Lemmonade_714 | MetaDEX#2827
looking at it for 2s it seems to be what I need - quasi the equivalent to react init + ergo-related stuff, no


[05/13/2022 9:20 AM] Lemmonade_714 | MetaDEX#2827
> Since the template is structurally identical to an empty React project created by CRA, devs can simply and without any ergo-related barriers clone the project and build on top of it.


[05/13/2022 9:23 AM] glasgowm#9381
"no" ?


[05/13/2022 9:23 AM] glasgowm#9381
not sure what the 2nd half of your sentence means


[05/13/2022 9:25 AM] Lemmonade_714 | MetaDEX#2827
I'm confused as well now -
- do you write "no?" as a means to disagree or because you wonder what I mean with "no" - in the latter case it's just a figure of speech
- the second half of my sentence is just a reformulation of the quote from the repo I posted below my original message


[05/13/2022 9:26 AM] glasgowm#9381
lol, the latter.


[05/13/2022 9:27 AM] Lemmonade_714 | MetaDEX#2827
chaos is the latter then


[05/13/2022 11:03 AM] glasgowm#9381
Good place to start

https://github.com/babygrenade/ergo-tokenautics

{Embed}
https://github.com/babygrenade/ergo-tokenautics
GitHub - babygrenade/ergo-tokenautics
Contribute to babygrenade/ergo-tokenautics development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/wP5C5c_g0ClUbJH1IOG3kASKun69ggrU43lV34KMKQo/https/opengraph.githubassets.com/913bba87145fe4ad7a612325e7dc32827decfc6d64e8af9f4bda4ad77d5f839b/babygrenade/ergo-tokenautics

{Reactions}
üëçüèª 

[05/13/2022 10:37 PM] kushti#0978
Scan all the addresses on the blockchain ?


[05/13/2022 10:41 PM] kushti#0978
More example apps: https://github.com/ThierryM1212/ergo-token-minter , https://github.com/ThierryM1212/ergo-pay , https://github.com/ThierryM1212/transaction-builder , also, all the known dapps (SigmaUSD, ErgoDEX, Ergo Aucrion House etc) are fully open-sourced


[05/13/2022 10:41 PM] kushti#0978
What is script-data-input ?


[05/13/2022 11:03 PM] Lemmonade_714 | MetaDEX#2827
When you can reference scripts on the blockchain instead of having to resubmit in R1 each time


[05/14/2022 12:40 AM] keblaK#5054
yes, exactly. Previously I was able to scan all the addresses on the Ergo blockchain to find out particular type of token holders and group them by their amount. Now I want to scan wallets to find out NFT holders. Any ideas sir?


[05/14/2022 3:05 AM] liquid_phase#4605
nooby git question:

I had a file which was too large and so the push failed, so i went and deleted the file from the server to just get the push accomplished since it wasnt an important one... the file is gone from server but git is still failing to push due to 'large files detected'


[05/14/2022 3:05 AM] liquid_phase#4605
anyone know how to fix this?


[05/14/2022 11:34 AM] keblaK#5054
@kushti


[05/14/2022 1:50 PM] glasgowm#9381
you need to rewrite the history, bit of a pain


[05/14/2022 1:51 PM] glasgowm#9381
https://stackoverflow.com/questions/19573031/cant-push-to-github-because-of-large-file-which-i-already-deleted

{Embed}
https://stackoverflow.com/questions/19573031/cant-push-to-github-because-of-large-file-which-i-already-deleted
Can't push to GitHub because of large file which I already deleted
Currently I have
Empty GitHub repo
SSH server repo (main)
Local Repo
SSH server repo was the most up-to-date repo (production site) so I did a Git clone from there to local. I then tried to do a ...
https://images-ext-1.discordapp.net/external/VbfwnzN2MM794XNccNxDzrB1YeuPrxR53y11bwRfflY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon%402.png


[05/14/2022 4:09 PM] liquid_phase#4605
oi that IS a pain. may as well just create a new repo. thx


[05/14/2022 6:00 PM] lgd#5847
What do you mean by resubmit?


[05/14/2022 6:02 PM] Lemmonade_714 | MetaDEX#2827
When I create a box I need to put the script into R1 each time, no?


[05/14/2022 6:03 PM] Lemmonade_714 | MetaDEX#2827
Assuming box belongs to a contract etc


[05/14/2022 6:05 PM] Lemmonade_714 | MetaDEX#2827
In Cardano rn the script is submitted with the transaction spending it and the fit to the utxo is determined by script hash which determines utxo address, and with vasil hardfork (2024) you can instead of submitting the script with each tx point to somewhere on the chain where it was stored before, thus lessening storage requirements


[05/14/2022 6:16 PM] lgd#5847
Could u give an example of what you mean/trying to do? DataInput is just a box that isn't spent.


[05/14/2022 7:23 PM] ilya | dappstep#9261
Hey, what's your stack for the project?


[05/14/2022 7:30 PM] Cheese Enthusiast#0548
So is your general goal to be able to reference and evaluate a script without actually storing the script in each box? Sigma Propositions should be flexible enough to allow this I believe. Maybe you could have a single box on the blockchain holding a Sigma Proposition in its register. Then, if you wish to reference the Sigma Prop, include the box as a data input.
The contract for the box referencing the script would look like this:

```scala
{
  CONTEXT.dataInputs(0).R4[SigmaProp].get
}
```

{Reactions}
Thonk 

[05/14/2022 7:30 PM] Lemmonade_714 | MetaDEX#2827
Ergo equivalent to this https://cips.cardano.org/cips/cip33/


[05/14/2022 7:33 PM] Lemmonade_714 | MetaDEX#2827
I want to say next.js but I‚Äôm too busy rn to look into it more than out of pure interest, but ergo seems super cool to me


[05/14/2022 7:36 PM] ilya | dappstep#9261
Cool! My current ergohack project is interactive dapp tutorials for javascript devs. It's fully built with Nextjs + typescipt. Would love to help if you have any questions.

{Reactions}
üëçüèª 

[05/14/2022 7:37 PM] Lemmonade_714 | MetaDEX#2827
Neat!


[05/14/2022 7:37 PM] ilya | dappstep#9261
Here is the first example dapp https://play.dappstep.com/pin-lock-contract
and the source code https://github.com/nirvanush/dappstep-play

{Embed}
https://github.com/nirvanush/dappstep-play
GitHub - nirvanush/dappstep-play: Interactive tutorials for dApp de...
Interactive tutorials for dApp development on Ergo Platform - GitHub - nirvanush/dappstep-play: Interactive tutorials for dApp development on Ergo Platform
https://images-ext-1.discordapp.net/external/W_vAkBU-QeV1xWH4sYCniGyl27bmWY7A3a8o5QAGnJg/https/opengraph.githubassets.com/bd088260f83a92a9ea535dd369ce0f3479de09c0fb3dce164c026f610ea69cb8/nirvanush/dappstep-play


[05/14/2022 7:38 PM] ilya | dappstep#9261
I'm looking for devs to help with their project and get some ideas for how to improve the tools I work on


[05/14/2022 7:39 PM] Lemmonade_714 | MetaDEX#2827
Imo the most important thing for both Ergo and Cardano would be simple, understandable, well-explained tutorials for production-ready end-to-end-dapps over explainers for Ergoscript/Plutus

{Reactions}
üëçüèª 

[05/14/2022 7:40 PM] Lemmonade_714 | MetaDEX#2827
As someone who focused on the latter I‚Äòm quite embarrassed by the inability to produce the former (especially with Cardano and my refusal to use the PAB because it‚Äôs fundamentally wrong approach imo but I digress)


[05/14/2022 7:40 PM] ilya | dappstep#9261
This is exactly what I have there. And the Ergo Script is editable on the fly with in browser compilation feedback + real interaction with the wallet and transaction building

{Reactions}
üëçüèª 

[05/14/2022 7:40 PM] Lemmonade_714 | MetaDEX#2827
Is it prod-ready?


[05/14/2022 7:40 PM] ilya | dappstep#9261
Not sure about Cardano, It's for ergo.


[05/14/2022 7:41 PM] ilya | dappstep#9261
Define prod-ready


[05/14/2022 7:41 PM] Lemmonade_714 | MetaDEX#2827
Also ideally no forking; I see forkable stuff that looks neat but at the end of the day I want to do it myself if that makes sense


[05/14/2022 7:41 PM] Lemmonade_714 | MetaDEX#2827
Am on my phone rn so can‚Äôt really check it out


[05/14/2022 7:42 PM] Lemmonade_714 | MetaDEX#2827
But when it comes to Ergo I‚Äòm still in the ‚Äûfigure out the basics myself, without forking anything‚Äú stage and those take a lot of gas comparatively speaking... once I get to the lego-larping stage development becomes self-sustaining


[05/14/2022 7:43 PM] Lemmonade_714 | MetaDEX#2827
Again if you have that great, let me have a look when I‚Äòm back


[05/14/2022 7:48 PM] ilya | dappstep#9261
Seem like it's what you need. Also check the FE part https://play.dappstep.com/
But again - would love to go with you through the process, to help you and learn myself and improve the tool

{Embed}
https://play.dappstep.com/
Dappstep Play
Dappstep Play

{Reactions}
üëç (2) 

[05/15/2022 1:11 AM] kushti#0978
I see. Ergo design is simplified, so you have only boxes with registers here. A script can be put into custom register only.

{Reactions}
üëç 

[05/15/2022 1:23 AM] kushti#0978
Then I guess you need to scan for token issuance transactions (or explorer API if it is providing token information), and find tokens which are NFTs according to the EIP https://github.com/ergoplatform/eips/blob/master/eip-0004.md , then filter out token holders accordingly


[05/15/2022 7:04 PM] DreamsMoney#1427
If I wanted to make updates to the ergoplatform.org site, is https://github.com/ergoplatform/website the best repo for that? - the site I built from that repo seems a little out of date.

{Embed}
https://github.com/ergoplatform/website
GitHub - ergoplatform/website: Sources of ergoplatform.org
Sources of ergoplatform.org. Contribute to ergoplatform/website development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/SXFk3KewCuUpy8BS1iDylvXeGrg53OP3pM4JB5_s724/https/opengraph.githubassets.com/da331b9f28db2c23a9e97d20d42a772a699ac090bb44e573081bfc8a57800f23/ergoplatform/website


[05/15/2022 8:02 PM] glasgowm#9381
on gCloud atm, dev hasn't moved to the public repo yet

{Reactions}
üíØ 

[05/16/2022 8:04 AM] NoahErgo#4349
https://sigmaverse.io/ now has a "Dev Tools" category, please let me know if you think I should add any other resources!

{Embed}
https://sigmaverse.io/
Sigmaverse - explore dapps in the ergo ecosystem.
Sigmaverse is a one-stop portal to the Ergo dApp ecosystem: a place where users can find all the cool functionality that community developers are building on Ergo, all in one place.


[05/16/2022 8:07 AM] NoahErgo#4349
this looks like something I can add to this ^ üôÇ


[05/16/2022 8:12 AM] ilya | dappstep#9261
Would be great, thank you!


[05/16/2022 1:29 PM] IFTTT#6211
GitHub - ergoplatform/sips: SigmaUSD Improvement Proposals
https://ift.tt/g8jiJFU

via https://ift.tt/ymR7P4o

{Embed}
GitHub - ergoplatform/sips: SigmaUSD Improvement Proposals
GitHub - ergoplatform/sips: SigmaUSD Improvement Proposals
https://ift.tt/g8jiJFU

via https://ift.tt/ymR7P4o
https://images-ext-1.discordapp.net/external/YqkvqDNJ-AC3EK-yR6nqukJu1_K3Rp2fophdumq3JVE/https/opengraph.githubassets.com/cef3b03f60cadf1e6132d304f1a9e4581ad7e3347e2464a213485b8c13d4e5d9/ergoplatform/sips
GitHub - ergoplatform/sips: SigmaUSD Improvement Proposals via /r/ErgoDevelopers https://ift.tt/ymR7P4o


[05/16/2022 1:29 PM] IFTTT#6211
Dev Tools tab added to sigmaverse
https://sigmaverse.io/

via https://ift.tt/EXIVtBh

{Embed}
Dev Tools tab added to sigmaverse
Dev Tools tab added to sigmaverse
https://sigmaverse.io/

via https://ift.tt/EXIVtBh
https://images-ext-1.discordapp.net/external/3s9npZ8kXaoacu8BwBdZS4Nekj6QC5DwJsDkXni5mzA/https/sigmaverse.io/images/carousel/skyharbor.png
Dev Tools tab added to sigmaverse via /r/ErgoDevelopers https://ift.tt/EXIVtBh


[05/16/2022 5:21 PM] liquid_phase#4605
Anyone here a master of Javascript?

I have a component called plyr.min.js (plyr.io)

apparently it cannot play a playlist of files, only one at a time. 
I learned this a little bit too late after seeing an example someone made which was not a native implementation that used a playlist (so i know it CAN work)

So im seeking a little help to get the playlist functionality working. I have the example code which they made work but the tricky part is how i am loading the JS into things using alpine, turbo and laravel mix


[05/16/2022 5:23 PM] liquid_phase#4605
Here is an example of how the data is loading into the page
```
<button x-data class="mr-4 group outline-none flex items-center" @click="$store.player.playEpisode('Igneous Rocks', '/assets/music/swamp_music/antandra/01.-Antandra---Igneous-Rocks-_MASTER-E.mp3', 'audio/mpeg', '/music/track/igneous-rocks')">

<svg class="overflow-visible h-8 w-8 group-hover:text-gray-700" x-show="! ($store.player.playing && $store.player.audio_file === '/assets/music/swamp_music/antandra/01.-Antandra---Igneous-Rocks-_MASTER-E.mp3')" x-cloak="true" viewBox="0 0 42 42" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" height="42" width="42">
```


[05/16/2022 5:24 PM] liquid_phase#4605
it loads a snippet like that above for each track on the album


[05/16/2022 5:25 PM] liquid_phase#4605
Here is the codepen for the example code which was able to make playlist work:
https://codepen.io/markhillard/pen/jOOKxM

{Embed}
Mark Hillard
https://codepen.io/markhillard/pen/jOOKxM
Responsive Audio Player
This audio player features playlist support via JSON data and step navigation. The version you're seeing now is a fresh new take on this project... by ...
https://images-ext-1.discordapp.net/external/EHP0yuga4qWzoZHl4r5pvWYyS3jUOrKfE_GRfIsntSI/%3Fversion%3D1633529825/https/shots.codepen.io/markhillard/pen/jOOKxM-800.jpg


[05/17/2022 5:38 AM] TheSentientNFT#0744
@C&D Cardboard Games and i were working on sentientswap we noticed that the test net block height was 500k blocks off the mainnet and it seems like the testnet logic hasnt worked since autolykos v4.0.4 (difficulty increase). We tried running the testnet and had no success however the mainnet seems to compile and run without issue


[05/17/2022 6:30 AM] Cheese Enthusiast#0548
Testnet is completely fine, it's off in blockheight because it was restarted once or twice.


[05/17/2022 6:32 AM] Cheese Enthusiast#0548
If you're struggling to get it working make sure you're on the latest version. Also check this out for easy set up, I believe it has all the necessary config options for testnet:
https://github.com/mgpai22/ergo-synced-node#ergo-testnet-node-setup

{Embed}
https://github.com/mgpai22/ergo-synced-node
GitHub - mgpai22/ergo-synced-node: Dockerized synced ergo node! The...
Dockerized synced ergo node! The fastest way to spin a complete operational node for the ergo blockchain. - GitHub - mgpai22/ergo-synced-node: Dockerized synced ergo node! The fastest way to spin a...
https://images-ext-1.discordapp.net/external/_Gqtn6nv9Opa1lFFO-YCygxijeyMZXgFTsjdUeCkUlM/https/opengraph.githubassets.com/ce5a018ca38adad80d12ecbde5ffe7a3fcef7ffc78e81f554c2583fa092ec1b7/mgpai22/ergo-synced-node


[05/17/2022 6:34 AM] sqrt4761#3364
whats the difference between a node and mining?


[05/17/2022 6:37 AM] Cheese Enthusiast#0548
A node is a program providing direct access to the blockchain. Mining is what you do to secure the blockchain, and it involves a gpu. Mining also allows you to earn ERG rewards.

{Reactions}
üíØ 

[05/17/2022 6:39 AM] TheSentientNFT#0744
Thanks, well give the testnet another try. Ultimately not trying to use a synced node since were trying to do a cross chain implementation


[05/17/2022 6:40 AM] Cheese Enthusiast#0548
Why does having a synced node cause issues with cross chain dApps?


[05/17/2022 6:41 AM] TheSentientNFT#0744
why run sync node when we could just run a forked node for testing


[05/17/2022 6:41 AM] TheSentientNFT#0744
also why is there a synced node if the testnet works lol


[05/17/2022 6:41 AM] TheSentientNFT#0744
this is python too


[05/17/2022 6:41 AM] TheSentientNFT#0744
I need scala on scala


[05/17/2022 6:42 AM] TheSentientNFT#0744
apples to apples


[05/17/2022 6:43 AM] sqrt4761#3364
I see


[05/17/2022 6:44 AM] Cheese Enthusiast#0548
There were some issues before with EIP 27 on testnet, so someone made this program to make it easier to implement all the correct config options. Besides that though, testnet is working fine, I can see my transactions going through properly.

{Reactions}
üíØ 

[05/17/2022 6:44 AM] TheSentientNFT#0744
youre right i see it working well on the block explorer just couldnt get it to work locally


[05/17/2022 6:45 AM] Cheese Enthusiast#0548
That makes sense, so are you guys going to fork off of the normal Ergo node and make a cross chain network using that?


[05/17/2022 6:45 AM] TheSentientNFT#0744
yep


[05/17/2022 6:45 AM] TheSentientNFT#0744
then people can dual mine autolykos and earn both dex token and erg


[05/17/2022 6:45 AM] TheSentientNFT#0744
and adds an additional layer of security


[05/17/2022 6:45 AM] TheSentientNFT#0744
plus fully decentralized DEX


[05/17/2022 6:46 AM] TheSentientNFT#0744
At first I wanted to make it nested but I think well have to run a parachain


[05/17/2022 6:46 AM] TheSentientNFT#0744
still looking into different approaches


[05/17/2022 6:51 AM] Cheese Enthusiast#0548
Cool, only advice I have is to mess around with the deeper config settings a lot. You can change magic bytes to have the same underlying p2p protocol while connecting to your specific nodes. Lots of other easy settings for block times and monetary policy as well.

{Reactions}
üíØ 

[05/17/2022 6:54 AM] TheSentientNFT#0744
Thanks we did the deep dive today... definitely a lot of logic to parse through


[05/17/2022 6:54 AM] TheSentientNFT#0744
thanks again :ergo_orange:


[05/17/2022 7:01 AM] TheSentientNFT#0744
What happened to wrapassets.io


[05/17/2022 7:01 AM] TheSentientNFT#0744
https://www.wrapassets.io/


[05/17/2022 7:01 AM] TheSentientNFT#0744
https://tenor.com/view/rip-dr-evil-homies-gif-10430138

{Embed}
https://tenor.com/view/rip-dr-evil-homies-gif-10430138
https://images-ext-1.discordapp.net/external/1XSI7ngJyPtA3y39Mgd0I3qIuV7mHhUuBKUaEZd0Zy4/https/media.tenor.com/0CmvuSN_R3QAAAAD/rip-dr-evil.png


[05/17/2022 3:59 PM] IFTTT#6211
Release Ergo Protocol Reference Client 4.0.28 ¬∑ ergoplatform/ergo
https://ift.tt/At91ZYH

via https://ift.tt/kQzLauX

{Embed}
Release Ergo Protocol Reference Client 4.0.28  ergoplatform/ergo
Release Ergo Protocol Reference Client 4.0.28 ¬∑ ergoplatform/ergo
https://ift.tt/At91ZYH

via https://ift.tt/kQzLauX
https://images-ext-1.discordapp.net/external/pmTFzTeT-0Hi7CZ_9wija98VBDVETvL8VfXuTcc2oAM/https/opengraph.githubassets.com/8d5fe2ff4378c735ef1402245e58d0a4650bcc451c1317a19e84ffeb34926073/ergoplatform/ergo/releases/tag/v4.0.28
Release Ergo Protocol Reference Client 4.0.28 ¬∑ ergoplatform/ergo via /r/ErgoDevelopers https://ift.tt/kQzLauX


[05/17/2022 10:59 PM] NoahErgo#4349
Abandoned due to legal concerns


[05/17/2022 11:34 PM] TheSentientNFT#0744
Because it was a 3rd party custodian and not a smart contract?


[05/17/2022 11:35 PM] TheSentientNFT#0744
So it became the S word that rhymes with smhecurity


[05/18/2022 9:05 AM] ilya | dappstep#9261
Is there a way to protect contract address from people spamming it with unrelevant tokens?


[05/18/2022 9:10 AM] glasgowm#9381
https://github.com/ergoplatform/ergo/issues/1604

{Embed}
https://github.com/ergoplatform/ergo/issues/1604
Tokens whitelist  ¬∑ Issue #1604 ¬∑ ergoplatform/ergo
It could be the case for an exchange wallet that it is overload by assets sent to users (airdrops etc). To avoid problems with collecting funds, we need for the following: optional whitelist in wal...
https://images-ext-1.discordapp.net/external/emv2lDIXr7EAxiwKo6hiqsbkm1uVmlYRL6JOZqAc8IM/https/opengraph.githubassets.com/2fa83c74f6390926514fe885563f8e8542c9ce13d859540e9f46bd796c1da219/ergoplatform/ergo/issues/1604

{Reactions}
üëçüèª 

[05/18/2022 9:11 AM] MrStahlfelge#0042
I don't think this helps for contracts. Only way I see is to add to the contract that tokens may be burned


[05/18/2022 9:13 AM] ilya | dappstep#9261
Hmm, how it can be possibly done? Are there any examples?


[05/18/2022 9:16 AM] MrStahlfelge#0042
I don't think so that there are examples, but you can just make the contract not guarding tokens. for example, if you check out the ageusd contract: it guards the SigRSV and SigUSD tokens to be only withdrawn when erg value changes accordingly. every other token on the bank box could be withdrawn and burned.


[05/18/2022 9:21 AM] ilya | dappstep#9261
So basically there is no way to protect tokens from being sent and locked, but there can be some scheduler that once in a while "cleans" the contract from garbage?


[05/18/2022 9:24 AM] MrStahlfelge#0042
yes, if the tokens are not guarded by the contract, you can burn them on every tx made


[05/18/2022 12:40 PM] IFTTT#6211
rosen-bridge
https://ift.tt/b4kvKf6

via https://ift.tt/13SZ6bT

{Embed}
rosen-bridge
rosen-bridge
https://ift.tt/b4kvKf6

via https://ift.tt/13SZ6bT
https://images-ext-2.discordapp.net/external/dvK-Tg8Ny6k2suHfmpx8gnK0qhA-rkt2IeX5Khmi4w8/%3Fs%3D280%26amp%3Bv%3D4/https/avatars.githubusercontent.com/u/105315198
rosen-bridge via /r/ErgoDevelopers https://ift.tt/13SZ6bT


[05/18/2022 4:35 PM] pgwada#0227
What is now the recommended version for ergo-node  testnet?


[05/18/2022 4:43 PM] Cheese Enthusiast#0548
You should be able to update to the latest versions now, all of the issues from before have been sovled


[05/18/2022 4:43 PM] pgwada#0227
thanks!


[05/18/2022 10:23 PM] koutelier#5178
hey, i wanted to ask if there is any p2s address that the burn tokens goes. i want build a tx that will burn comet tokens .


[05/19/2022 1:06 AM] C&D Cardboard Games#9820
Hi I am playing around with ergo v4.0.4 just for fun and knowledge I am using intelij IDE and when you run/ compile the project is there any specfic folder you run it from or any specific build configuration?  Or would you run the whole project from the root folder?


[05/19/2022 1:45 AM] Cheese Enthusiast#0548
Is this for the node? I usually run sbt assembly and the node is compiled into an executable jar you can run with ‚Äújava -jar ergo4.04.jar


[05/19/2022 1:59 AM] C&D Cardboard Games#9820
Yea this is what I picked up from the ergo. Repo. Ya the node been trying to experiment with modifying a blockchain for fun. Are you running sbt assembly in the IDE?


[05/19/2022 2:15 AM] Cheese Enthusiast#0548
Yeah I just run it in the terminal at the bottom


[05/19/2022 2:18 AM] C&D Cardboard Games#9820
Ah I see thank you.


[05/19/2022 3:12 AM] Krasavice Blasen#4574
no address will guarantee the burning of the token. You could send to false, but then these boxes will eventually be subject to storage rent (unsure if miners can collect the tokens there). Its easiest to burn a token using the node atm with the assetToBurn part of wallet/transaction/send


[05/19/2022 5:33 AM] koutelier#5178
If there was a sc that no one can have access would this consider as burning ?


[05/19/2022 5:37 AM] Krasavice Blasen#4574
Yeah, one such sc is ``false`` but the miner can access it from storage rent eventually


[05/19/2022 5:39 AM] Krasavice Blasen#4574
hazey will burn any tokens sent to this address: 9i4eGCsGoP6VkCSArndqGXzDZCWHUX5NDPXxdymxE1F7eTMxLeh
if you want an easy 'send to address' method


[05/19/2022 5:43 AM] koutelier#5178
If the only way to access a sc ia by sending a token , then the sc is considers false ?


[05/19/2022 5:43 AM] koutelier#5178
How a sc can be false ?


[05/19/2022 5:49 AM] Krasavice Blasen#4574
You can send ERGs and ERG tokens to a box whose spending condition is:
false
Therefore, if anyone tries to spend it, they cant since the spending condition will always be false.


[05/19/2022 7:25 AM] MrStahlfelge#0042
Thinking about it is easy to set up a smart contract that would let anyone withdraw tokens but checks that they are not put in an outbox.


[05/19/2022 11:03 AM] koutelier#5178
In that way neither the miners will have access right . Sorry for the ‚Äúnoob‚Äù questions but I don‚Äôt know ergoscript yet


[05/19/2022 12:18 PM] MrStahlfelge#0042
I am not sure about storage rent, I think storage rent will overrule. but you or anyone else can write an offchain bot that cleans the boxes from time to time. there are small gains to win: every box with a token contains a small erg amount, so burning many tokens at once will give you a small fee. if this is done before 4 years are gone, miners won't get the tokens


[05/19/2022 12:37 PM] glasgowm#9381
You can also use 

```
4MQyMKvMbnCJG3aJ
```


[05/19/2022 12:38 PM] koutelier#5178
So if I build a tx that sends there comet then the comets will be burned ?


[05/19/2022 12:38 PM] glasgowm#9381
```
Please note that one of the outputs of the transaction is locked by ‚Äú4MQyMKvMbnCJG3aJ‚Äù script, which is P2S (Pay-to-Script) representation of ‚Äúfalse‚Äù condition, i.e. the box is unspendable. Hash is written into R4 register of the box, in the explorer it looks like ‚Äú0e2047ee2cbd52be01e0876c3e0b989a0d4d5f8955200b1fab0e6eeb2b182555c2fb‚Äù, where ‚Äú0e‚Äù is type descriptor (byte array), ‚Äú20‚Äù is bytestring length (0x20 in hex = 32), ‚Äú47ee2cbd52be01e0876c3e0b989a0d4d5f8955200b1fab0e6eeb2b182555c2fb‚Äù is the hash of the file.
```


[05/19/2022 1:23 PM] MrStahlfelge#0042
but with that the tokens can be spent by the miners


[05/19/2022 11:08 PM] anon_br#2282
To definitively burn tokens you must omit the amount you want to burn from outputs


[05/19/2022 11:51 PM] koutelier#5178
so i was thinking if i send the tokens to a cex address will this burn them or cause problems ? or both?


[05/19/2022 11:51 PM] koutelier#5178
i have to build a tx that will have 0 outputs ? is that possible?


[05/20/2022 12:04 AM] Cheese Enthusiast#0548
do NOT do this, could cause problems for CEX's


[05/20/2022 12:05 AM] koutelier#5178
yeah i though so. just wondering


[05/20/2022 12:45 AM] anon_br#2282
No, you need to send outputs normally, only the amount of tokens will less in outputs than in inputs

Let's say you have a box with 100 tokens and want to burn 30, you will need to include this box with 100 tokens as an input and create an output with 70, the difference will be burned.


[05/20/2022 8:30 AM] fateme.r#4033
hi, I'm using node api to get blocks information in the network. I want to make sure that the `/blocks/at/${height}` node method returns not forked block at the specified height.
I'm not sure if it returns all blocks at that height or only the valid one. In case of returning more than one block how should i choose from them?


[05/21/2022 8:29 PM] liquid_phase#4605
I am trying to understand the best first step for integrating an ergo payment button on my website, in it's simplest form. I've been given access to a public node, and done a successful GET request to that node to check that its good. Im wondering if i need anything else setup to do en ergo payment? 

my thoughts are thus:
1) enter ergo wallet address as a field on the CMS backend
2) call ergo wallet address into frontend via tags
3) create QR code of wallet address
4) person pays with ergo via their wallet of choice
5) Person is asked for the last 4 digits of their erg address, and then clicks 'I sent the erg' button, triggering GET request to the node confirming if a transaction for said amount came from that address
6)server then re-routes user to download page for the purchase

would it be easier to do all these steps with a node internally rather than requesting an external node?

Am trying not to have to install another javascript library into my project to run payment portal, would rather have something more drop-in ready for php systems


[05/21/2022 8:30 PM] ilya | dappstep#9261
The problem with step 5 is that you can't trust that the user is entering his address and not someone else's from transaction history.


[05/21/2022 8:30 PM] ilya | dappstep#9261
You have to verify that the user is indeed the wallet owner.


[05/21/2022 8:30 PM] liquid_phase#4605
that is a good point


[05/21/2022 8:34 PM] ilya | dappstep#9261
In near future Nautilus wallet will allow message sign, but right now the work around to do this is to make user sign a transaction with dapp connector. It can be a simple transaction of sending 0.001 erg to himself. then user POST the signed TX to your backend, and on the backend you validate the transaction is legit by submitting it to `/transactions/check`  endpoint on the node


[05/21/2022 8:34 PM] liquid_phase#4605
I can use if conditions with tags being called to the front end, so in theory i could do something like a false dapp connector like auction house where it makes user enter full address before purchase, then the purchase has to come from that address, and the download button would only be valid for a short window or user cache session


[05/21/2022 8:35 PM] liquid_phase#4605
i was thinking about this. the old paypal/stripe/banking confirmation deposit check


[05/21/2022 8:35 PM] ilya | dappstep#9261
if it's legit, you are taking the address from input box of that transaction and that's how you know that the user is the OWNER of that address.


[05/21/2022 8:35 PM] liquid_phase#4605
not attractive solution.. i think i should setup the dapp connector on another server and call it in with CORS bypasses via a subdomain or something


[05/21/2022 8:36 PM] liquid_phase#4605
i appreciate your support. this is a lot to ponder


[05/21/2022 8:36 PM] ilya | dappstep#9261
Sounds like overengineering to me


[05/21/2022 8:38 PM] liquid_phase#4605
full modularity isnt neccessarily over engineering - until you use too many or repeated parts where they aren't needed. i think it's important to have solutions across the board for all kinds of scenarios, especially to be inclusive to business type entities with legacy systems trying to integrate with ergo (ergo already does great with this by providing the polyglot library)


[05/21/2022 8:39 PM] liquid_phase#4605
i suppose im looking for a 'quick' way to do things using my existing(legacy) systems, and in the future wish to integrate a full node for our infrastructure. So, an ergohack goal and then a full scope goal


[05/21/2022 8:42 PM] ilya | dappstep#9261
I think I've lost you üôÇ


[05/21/2022 8:42 PM] liquid_phase#4605
it happens a lot üòÖ  no worries


[05/21/2022 8:45 PM] liquid_phase#4605
i think now that Noah linked the working link to the payment portal by thierry, i should be able to utilize that. the reason i couldnt before is because the ergo.ga link it used was an invalid URL

{Reactions}
üëç 

[05/21/2022 8:46 PM] liquid_phase#4605
sorry for the confusion again and thank you for the help and suggestions, pointing out the flaw in my workflow is what i needed


[05/21/2022 9:12 PM] ilya | dappstep#9261
NP! Any time!


[05/22/2022 5:34 AM] Rikz#9184
has anybody here tried integrating both safew and nautilus in their dapp and tried to connect to each of them while both of them are installed on your browser?

I'm having an issue. when I try to connect to nautilus, safew is popping up, don't know if that's an issue with everyone or just me, but browser is getting confused between which wallet we are trying to call the connect on


[05/22/2022 9:10 AM] glasgowm#9381
They use the same library so would conflict


[05/22/2022 9:11 AM] glasgowm#9381
You're integrating the dApp connector which your browser can only call once afaik?


[05/22/2022 11:52 AM] nitram147#5106
See:

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/977886578913460275/unknown.png


[05/22/2022 11:52 AM] nitram147#5106
If you use ``ergo_request_read_aceess`` it will connect to any wallet


[05/22/2022 11:53 AM] nitram147#5106
If you use ``ergoConnector.nautilus.connect`` it will try to connect to Nautilus wallet


[05/22/2022 11:54 AM] nitram147#5106
SAFEW should use probably something similar (hopefully they don't use the ``ergoConnector.nautilus.connect`` but use something else)


[05/22/2022 11:54 AM] nitram147#5106
So you should call it differectly based on the user's decision


[05/22/2022 11:54 AM] nitram147#5106
(show to user menu to choose the wallet he have)


[05/22/2022 11:55 AM] nitram147#5106
There's however still an option that the SAFEW wallet is implementing just ``ergoConnector.nautilus.connect`` to pretend that theirs wallet is "nautilus" to achieve compatibility with sites which right now just support nautilus... You have to check it


[05/22/2022 11:59 AM] nitram147#5106
---


[05/22/2022 11:59 AM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/977888387035975700/unknown.png


[05/22/2022 11:59 AM] nitram147#5106
(tried it for you, just SAFEW installed)


[05/22/2022 12:00 PM] nitram147#5106
It seems that they are implementing their own method ``ergoConnector.safew.connect``


[05/22/2022 12:00 PM] nitram147#5106
However they are also implementing the ``ergoConnector.nautilus.connect`` to achieve the compatibility - so it will always fight with nautilus when there is the nautilus installed


[05/22/2022 12:01 PM] nitram147#5106
They also handle the old way ``ergo_request_read_aceess`` differently compared to nautilus wallet


[05/22/2022 12:01 PM] nitram147#5106
Solution for your problem would be following (it should probably work):


[05/22/2022 12:02 PM] nitram147#5106
1.) Let user choose which wallet he wants to use Nautilus or SAFEW


[05/22/2022 12:03 PM] nitram147#5106
2.) If he choose the SAFEW, call the ``ergoConnector.safew.connect`` and proceed with your application


[05/22/2022 12:04 PM] nitram147#5106
3.) If he choose Nautilus, check whether there is ``ergoConnector.safew.connect`` method available, if so, let user know that Nautilus cannot be used when there is SAFEW installed and ask the user to temporarily disable SAFEW wallet, refresh the page and then select Nautilus wallet once again. If there isn't ``ergoConnector.safew.connect`` method available, call the ``ergoConnector.nautilus.connect`` and proceed with your application.


[05/22/2022 12:04 PM] nitram147#5106
This would be it üòâ


[05/22/2022 2:20 PM] Rikz#9184
yea ig this is the only option, because i was not using the read_access method anyway and was only using the connect method on both nautilus and safew but still it gives the same issue


[05/22/2022 2:21 PM] Rikz#9184
thanks for testing it on your end and providing with a solution! üôÇ

{Reactions}
üëç 

[05/22/2022 9:26 PM] nitram147#5106
Is there a simple way (maybe via sigma-rust) to directly compile ErgoScript into P2S address without need for any external access (no HTTP/HTTPS request to node API)  from Javascript (Typescript)? üôÇ

{Reactions}
üëÄ 

[05/22/2022 10:35 PM] TheSentientNFT#0744
I know this is kind of an open ended question but knowing what we know today with ethereum and its gas fees has anyone thought of a way to keep transaction fees in the picture while still preventing the mev issues we see today with eth


[05/22/2022 10:36 PM] TheSentientNFT#0744
I feel like a fee structure needs to be in place to prevent spam transactions but also i see how with eth and the mev pool it kind of got game theory


[05/23/2022 12:35 PM] zargarzadehmoein#2928
There isn't directly way with sigma-rust yet for compile ErgoScript

https://discord.com/channels/668903786361651200/729692906209673257/977524102053105715

{Reactions}
üëç üò¢ 

[05/23/2022 2:59 PM] IFTTT#6211
Ergo API basic query
https://twitter.com/ErgoTutorials/status/1528667743343476738

via https://ift.tt/luYda6F

{Embed}
Ergo API basic query
Ergo API basic query
https://twitter.com/ErgoTutorials/status/1528667743343476738

via https://ift.tt/luYda6F
https://images-ext-2.discordapp.net/external/NS8mWRwEeWd00SY1zscMy7fOqf5oqiEcUqPQDwk1YT8/https/abs.twimg.com/errors/logo46x38.png
Ergo API basic query via /r/ErgoDevelopers https://ift.tt/luYda6F


[05/23/2022 4:19 PM] IFTTT#6211
Ergo protocol reference client 4.0.30 released
https://ift.tt/3iE6oHp

via https://ift.tt/zZ3HCPt

{Embed}
Ergo protocol reference client 4.0.30 released
Ergo protocol reference client 4.0.30 released
https://ift.tt/3iE6oHp

via https://ift.tt/zZ3HCPt
https://images-ext-1.discordapp.net/external/eyc_B_8HLwzhGQt22Bgv-Rzy5N8H5r6Jc-vlom1_TAU/https/opengraph.githubassets.com/91143ac44a4561608374433127329795c1f7f4cd5a5fdd077ed30b83a7cc5dda/ergoplatform/ergo/releases/tag/v4.0.30
Ergo protocol reference client 4.0.30 released via /r/ErgoDevelopers https://ift.tt/zZ3HCPt


[05/23/2022 4:24 PM] MGpai#4313
@capt_nemo how do you spin up a database for the ergo graph ql https://github.com/capt-nemo429/ergo-graphql

{Embed}
https://github.com/capt-nemo429/ergo-graphql
GitHub - capt-nemo429/ergo-graphql: Ergo Platform GraphQL server
Ergo Platform GraphQL server. Contribute to capt-nemo429/ergo-graphql development by creating an account on GitHub.


[05/23/2022 10:17 PM] Cheese Enthusiast#0548
Can you downcast from a BigInt in ErgoScript? I am trying to take a bigint value and cast it to a long. The value is definitely small enough to be a long, but it still throws an error for me.
```scala
Caused by: java.lang.RuntimeException: Cannot downcast value CBigInt(12711077) to the type SLong$
    at scala.sys.package$.error(package.scala:30)
    at sigmastate.SLong$.downcast(types.scala:1046)
    at sigmastate.SLong$.downcast(types.scala:1026)
    at sigmastate.eval.Evaluation.$anonfun$compile$1(Evaluation.scala:734)
    ... 88 more
```


[05/24/2022 4:40 AM] zargarzadehmoein#2928
How do you cast the value?
with `toLong()` ?


[05/24/2022 5:59 AM] Cheese Enthusiast#0548
Yep using the .toLong method


[05/24/2022 8:38 AM] Lemmonade_714 | MetaDEX#2827
correction: pre-prod ready. What I mean is that it uses exactly the same stack as a production version (prod) but is not tested yet and has also some slight slack regarding mockings etc. (pre-)


[05/24/2022 8:39 AM] Lemmonade_714 | MetaDEX#2827
counterexample: plutus pioneer programme was cool, I was assuming this is all I need to know. Turns out getting a frontend talking to your code is nigh impossible, especially if you don't like the PAB-approach (centralised) but also if you accept it (not working at the time of testing and according to others)


[05/24/2022 8:39 AM] Lemmonade_714 | MetaDEX#2827
(PPP was explaining Plutus)


[05/24/2022 8:41 AM] Lemmonade_714 | MetaDEX#2827
With solidity I needed to find a non-outdated tutorial and had a next.js frontend running, talking to my metamask and local testnet (optionally public testnet and real chain I guess) within a few hours tops


[05/24/2022 8:41 AM] Lemmonade_714 | MetaDEX#2827
If I want to be generous I ascribe it to haskellers not caring about IO too much lol


[05/24/2022 8:42 AM] Lemmonade_714 | MetaDEX#2827
I am driving this point home because I don't want to develop a brain in a jar, I'd rather have an empty skull with skin and blood and eyes first


[05/24/2022 8:43 AM] Lemmonade_714 | MetaDEX#2827
"If you are tired of saying it people will start to hear it" so apologies to everyone who got it already


[05/24/2022 8:43 AM] ilya | dappstep#9261
@Lemmonade_714 | MetaDEX remind me what product you are building?


[05/24/2022 8:43 AM] Lemmonade_714 | MetaDEX#2827
MetaDEX


[05/24/2022 8:44 AM] Lemmonade_714 | MetaDEX#2827
but it does not matter


[05/24/2022 8:44 AM] Lemmonade_714 | MetaDEX#2827
rn a full-circle, fully decentralised hello-world


[05/24/2022 8:44 AM] Lemmonade_714 | MetaDEX#2827
(I did not progress much with Ergo in the past week fyi)


[05/24/2022 8:44 AM] Lemmonade_714 | MetaDEX#2827
(other stuff to do)


[05/24/2022 8:44 AM] Lemmonade_714 | MetaDEX#2827
hence the lag


[05/24/2022 8:45 AM] Lemmonade_714 | MetaDEX#2827
hence me mentioning solidity as a positive example


[05/24/2022 8:45 AM] ilya | dappstep#9261
What‚Äôs metadex what it does?


[05/24/2022 8:46 AM] Lemmonade_714 | MetaDEX#2827
it's a decentralised exchange but again the business logic is step 2 after getting a fully decentralised round-trip dapp: frontend -> wallet -> chain -> frontend


[05/24/2022 8:47 AM] Lemmonade_714 | MetaDEX#2827
no playgrounds and no central nodes running


[05/24/2022 8:47 AM] Lemmonade_714 | MetaDEX#2827
in Cardano-terms no plutus-playground and no PAB


[05/24/2022 8:49 AM] ilya | dappstep#9261
Was you able to run a node+explorer instance?


[05/24/2022 8:52 AM] Lemmonade_714 | MetaDEX#2827
I did not try, because I did not know I needed to do this. I played a bit with some repo and looked at some tutorials. Most (not only in Ergo, everywhere) skip the (for me) important bits


[05/24/2022 8:52 AM] Lemmonade_714 | MetaDEX#2827
1. what are we trying to build


[05/24/2022 8:53 AM] Lemmonade_714 | MetaDEX#2827
2. what are the minimal tasks to solve


[05/24/2022 8:53 AM] Lemmonade_714 | MetaDEX#2827
3. tech choices, including alternatives and justifications


[05/24/2022 8:53 AM] Lemmonade_714 | MetaDEX#2827
3.b. no plugging of non-essential frameworks without justification that you are a fan of personally


[05/24/2022 8:54 AM] Lemmonade_714 | MetaDEX#2827
(node.js and next.js are essential enough but if I need to install something I've not heard of before and it's not clear why I'm closing the tab, sorry)


[05/24/2022 8:55 AM] Lemmonade_714 | MetaDEX#2827
4. how to set things up


[05/24/2022 8:55 AM] Lemmonade_714 | MetaDEX#2827
5. the actual tutorial


[05/24/2022 8:55 AM] Lemmonade_714 | MetaDEX#2827
most just jump in at 4, then you learn in step 5 that it's outdated or afterwards that you learned to build something else than what you wanted


[05/24/2022 8:56 AM] Lemmonade_714 | MetaDEX#2827
I get the didactic purpose of getting people hacking and achieving results asap but that's an illusion for me personally so I resist it


[05/24/2022 9:02 AM] Lemmonade_714 | MetaDEX#2827
(I'll bite the bullet and read the docs from front to finish now, maybe should have done this sooner, never claimed to be not slow myself lol)


[05/24/2022 11:32 AM] Lemmonade_714 | MetaDEX#2827
(Update - this retard probably found what he was looking for. Who knew things could be so simple after all. Open for mockery now lol)


[05/24/2022 11:34 AM] glasgowm#9381
what did you find?


[05/24/2022 12:42 PM] Lemmonade_714 | MetaDEX#2827
The page in the docs seemingly giving a nice entrypoint for development


[05/24/2022 6:21 PM] liquid_phase#4605
Anyone really familiar with GET requests to nodes that can offer some assistance?


[05/24/2022 8:08 PM] ilya | dappstep#9261
What's the question?


[05/24/2022 8:46 PM] liquid_phase#4605
it is mainly about how to parse the request to the node to check a transaction memo.


[05/24/2022 8:47 PM] liquid_phase#4605
i have the ability to inline GET request from my front end using php vars, and can sucessfully get request the node for something basic like unconfirmed transactions, but when i try anything more complex im getting returned errors because my string/vars are incorrect


[05/24/2022 8:48 PM] liquid_phase#4605
```
Server error: `POST https://ergonode.blocpow.io/transactions/check?txId=f58ee6861cea281cbaf73323c4940a8572b75b83dc38b35aa82f396ef981e651` resulted in a `500 Internal Server Error` 
```


[05/24/2022 8:48 PM] liquid_phase#4605
i am looking for a concise list of variables for the endpoint but in swagger it doesnt show all of them, or if it does then the request ability is alot more limited than i would have hoped


[05/24/2022 8:49 PM] liquid_phase#4605
i need to be checking the most recent confirmed transactions against the memo field, where the memo should contain a variable i search for which in this case is the csrf token of the purchaser


[05/24/2022 8:54 PM] ilya | dappstep#9261
This particular endpoint is used to check signed tx json. Like that

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/978747885338361886/unknown.png


[05/24/2022 8:55 PM] ilya | dappstep#9261
If there is an issue with your transaction it will return an error like that

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/978748104134242374/unknown.png


[05/25/2022 2:29 AM] liquid_phase#4605
Do you have any advice for path and query if i am trying to check a specific ergo address for a new confirmed transaction


[05/25/2022 2:41 AM] liquid_phase#4605
Actually, it looks like i might need to be using the explorer API, not the node one


[05/25/2022 5:22 AM] ilya | dappstep#9261
thansaction/check is node api to validate tx.
To check a specific address you need a explorer api as you‚Äôve said

{Reactions}
ü§ù 

[05/25/2022 1:26 PM] capt_nemo#3204
Hey, you need to run an instance of explorer backend for it. https://github.com/ergoplatform/explorer-backend


[05/25/2022 2:14 PM] IFTTT#6211
Interactive Example: Rent NFT
https://ift.tt/tegdk1h

via https://ift.tt/Dc8vGPE


[05/25/2022 4:51 PM] TimL#0815
Running 4.0.30 node on testnet, keeps getting stuck on height 206154. As mentioned from earlier suggestions, I turned off peer discovery, cleared out `history`, `state`, `peers` and `wallet/registry` from `.ergo`. Any suggestions for a fix?


[05/25/2022 4:52 PM] TimL#0815
UI says `node is synced`


[05/25/2022 6:13 PM] MGpai#4313
thanks!


[05/25/2022 9:21 PM] bombibus#2765
How can I get some testnet ergs ? I used the faucet with this discord account but I lost the wallet üòÖ  Anyhow, here is my address, testnet tokens very much welcome üòè  3Wz3EdieAB83agNosdTaXDws7WF24VynNLP5PGphCGQYM84gsyKo


[05/25/2022 9:30 PM] Cheese Enthusiast#0548
How many you need?


[05/25/2022 9:32 PM] bombibus#2765
10 ?


[05/25/2022 9:32 PM] Cheese Enthusiast#0548
I sent 5k lol

{Reactions}
üê≥ 

[05/25/2022 9:32 PM] bombibus#2765
ha thanks you üòÇ üëç


[05/25/2022 9:38 PM] Cheese Enthusiast#0548
Not sure who runs the faucet, but if it ever runs out of testnet ERG then me or someone else at GetBlok can probably re-fund it.


[05/26/2022 3:57 AM] TimL#0815
Tried the same process for v4.0.26, no dice. Anybody have an idea about this?


[05/26/2022 5:24 AM] Cheese Enthusiast#0548
Can you try 4.0.25, specifically the rc2 branch. I've found that to be most stable on testnet so far


[05/26/2022 5:26 AM] TimL#0815
Thanks a lot, I'll try it out now


[05/26/2022 7:13 AM] TimL#0815
RC2 is v4.0.26, and it's just sync'd successfully. Thanks again!


[05/26/2022 5:24 PM] IFTTT#6211
Congrats to DeCo Layman class! Well done on completing the semester. Final project presentations found within.
EU ClassNA ClassThe Ergoscript course will have their final presentations tomorrow and videos will follow soon afterNice job everyone üéâüéäü•≥üçª

via https://ift.tt/vm1QWX7


[05/29/2022 3:06 AM] MGpai#4313
https://github.com/capt-nemo429/nautilus-wallet/blob/master/src/types/internal.ts

{Embed}
https://github.com/capt-nemo429/nautilus-wallet/blob/master/src/types/internal.ts
nautilus-wallet/internal.ts at master ¬∑ capt-nemo429/nautilus-wallet
Privacy wallet designed for Ergo Network. Contribute to capt-nemo429/nautilus-wallet development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/ipghG8ykEC2wP7DVsewzpki956EFKGC1iJ_ryGIKJhY/https/opengraph.githubassets.com/7ca85b6edfc00923934f41c8089915ec3cc42d080f7c62baea8f1b5c16711cbf/capt-nemo429/nautilus-wallet


[05/29/2022 3:07 AM] MGpai#4313
I am not too familiar with JS


[05/29/2022 3:07 AM] MGpai#4313
But how can I access these elements


[05/29/2022 3:07 AM] MGpai#4313
such as


[05/29/2022 3:07 AM] MGpai#4313
```
export enum Network {
  ErgoMainet,
  ErgoTestnet
}
```


[05/29/2022 8:11 PM] Filsommer#8173
Hi guys, I have one question regarding ErgoDex: How can I specify the receiver account when using the Nautilus dApp connector? As far as I am seeing, it uses an "ergoTree" to specify the destination address, can someone explain how to get the ergoTree from a specific ergoTree?


[05/29/2022 8:12 PM] Filsommer#8173
additionalRegisters: {}
assets: []
creationHeight: 760458
ergoTree: "0008cd03d90772c0d42cd0687172fbce7420a6949b0506222545318ec7b715dc1990a30f"
value: "100"

here is an example


[05/29/2022 8:13 PM] Filsommer#8173
But then the wallet select myself as the Recipient.. How can I specify a specific Recipient?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/980549526932832256/Screenshot_2022-05-29_at_21.13.13.png


[05/29/2022 11:20 PM] MGpai#4313
@capt_nemo I can't get the graphQL to work


[05/29/2022 11:20 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/980596613535916052/unknown.png


[05/30/2022 12:30 AM] liquid_phase#4605
looks like it needs to npm install, but not sure how that would work with it being a docker image prebuilt


[05/30/2022 12:32 AM] liquid_phase#4605
the dex is connected directly to your wallet/address via the session - withdrawing to a separate address is an entirely different feature than swapping from a source wallet back to a source wallet. the dex would then need to implement database infrastructure to store your withdrawl addresses, whereas at present, the dex parses all information from the explorer directly (i think) Although i can see the usefulness of this feature and have seen it on big exchanges


[05/30/2022 12:37 AM] MGpai#4313
that gives me a lot of errors while trying without docker


[05/30/2022 12:40 AM] liquid_phase#4605
sorry, i guess it wasnt clear by my saying that, that npm install would need to have happened before they made it into a docker image or be part of the docker compose recipe


[05/30/2022 12:40 AM] MGpai#4313
ahh


[05/30/2022 12:41 AM] liquid_phase#4605
But i assume that since graphQL is working for others, that it must be something else


[05/30/2022 12:42 AM] MGpai#4313
I get these errors


[05/30/2022 12:42 AM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/980617087632425002/unknown.png


[05/30/2022 12:42 AM] liquid_phase#4605
npm install is the command which installs the node module dependencies into node_modules folder. It cant find a module dependency based on your first error, but in theory a docker image should be "pre-built"


[05/30/2022 12:43 AM] liquid_phase#4605
is this a local dev environment where docker is just the graphQL or is the entire dev environment launched through docker


[05/30/2022 12:45 AM] liquid_phase#4605
your local versions seem to be different versions than the specific requirements in the package.json file.


[05/30/2022 12:46 AM] MGpai#4313
my local version of what is different?


[05/30/2022 12:46 AM] liquid_phase#4605
the graphQL server has dependencies it needs to install in order to run. your error is stating that your version of dependencies do not match the dependencies which the author of graphQL server put into their dependencies file (package.json in the project directory) i am not a docker user my self so i will stop my input because i don't want to lead you the wrong direction.


[05/30/2022 2:21 AM] capt_nemo#3204
Hmm ü§î , I added some new dependencies and didn‚Äôt test it on docket for a while, lemme check


[05/30/2022 2:31 AM] MGpai#4313
thanks


[05/30/2022 4:31 AM] nitram147#5106
```
Can't import the named export 'memory'.'buffer' (imported as 'wasm') from default-exporting module (only default export is available)
WARNING in ./node_modules/ergo-lib-wasm-browser/ergo_lib_wasm_bg.js 7626:14-60
Critical dependency: the request of a dependency is an expression
```


[05/30/2022 4:32 AM] nitram147#5106
Even after installing "react-app-rewired" and "wasm-loader" and addition of "config-overrides.js" file. Basically done everything which was mentioned on the stackoverflow page referenced from ergo-lib-wasm-browser page.


[05/30/2022 4:32 AM] nitram147#5106
üò¶


[05/30/2022 4:32 AM] nitram147#5106
Any help? üôÇ


[05/30/2022 12:32 PM] Filsommer#8173
had this issue yesterday. Turns out react-app-rewired is not maintained


[05/30/2022 12:32 PM] Filsommer#8173
try this:


[05/30/2022 12:33 PM] Filsommer#8173
https://dev.to/nicolasrannou/wasm-in-create-react-app-4-in-5mn-without-ejecting-cf6


[05/30/2022 12:33 PM] Filsommer#8173
worked for me

{Reactions}
‚ù§Ô∏è 

[05/30/2022 12:47 PM] Filsommer#8173
Guys, why does my nautilus wallet Txs send a fee to this address? 2iHkR7CWvD1R4j1yZg5bkeDRQavjAaVPeTDFGGLZduHyfWMuYpmhHocX8GJoaieTx78FntzJbCBVL6rf96ocJoZdmWBL2fci7NqWgAirppPQmZ7fN9V6z13Ay6brPriBKYqLp1bT2Fk4FkFLCfdPpe


[05/30/2022 12:47 PM] Filsommer#8173
is this Ergo's official fee address? And how is the fee calculated?


[05/30/2022 12:57 PM] glasgowm#9381
It's the fee address but is claimed by miners. Don't think it is calculated, there's a minimum and you can pay more than that if you want.

{Reactions}
üôå üëç 

[05/30/2022 2:39 PM] capt_nemo#3204
docker-compose file fixed, it should work with `docker-compose up`

{Reactions}
ü§ù (2) 

[05/31/2022 1:09 PM] IFTTT#6211
Release Ergo Protocol Reference Client 4.0.31 ¬∑ ergoplatform/ergo
https://ift.tt/zPxWb4y

via https://ift.tt/Wb1IohG

{Embed}
Release Ergo Protocol Reference Client 4.0.31  ergoplatform/ergo
Release Ergo Protocol Reference Client 4.0.31 ¬∑ ergoplatform/ergo
https://ift.tt/zPxWb4y

via https://ift.tt/Wb1IohG
https://images-ext-1.discordapp.net/external/OCPe9qSdpEasN2qqKTHRRGjgPGxMR10OVMpiQntIo-g/https/opengraph.githubassets.com/598e2bb521d283b014b0e8ac6b40241e5addcaf3aed7f1a067b5889f779928d9/ergoplatform/ergo/releases/tag/v4.0.31
Release Ergo Protocol Reference Client 4.0.31 ¬∑ ergoplatform/ergo via /r/ErgoDevelopers https://ift.tt/Wb1IohG


[05/31/2022 3:05 PM] TheSentientNFT#0744
do i only need the debian port for the node?


[05/31/2022 3:06 PM] TheSentientNFT#0744
like could i just rock dual boot have linux run the handheld nft gaming aspect and debian in the background just shaking hands with peers


[05/31/2022 4:49 PM] Filsommer#8173
Hi guys, I'm using the js ergo-lib-wasm, but I am having trouble decoding a serialized register.


[05/31/2022 4:52 PM] Filsommer#8173
`const byteArray = new TextEncoder().encode("teststring");
const encodedRef = new Uint8Array(byteArray.buffer);
outBoxBuilder.set_register_value(4, wasm.Constant.from_byte_array(encodedRef));`

This is what I sent in my transaction. I can see in the ergo explorer that the register has the serialised value as expected: 0e1556696c736f6d6d656240686f746d61696c2e636f6e 

What I'm missing is how I can decode the serialised value into plain text again


[05/31/2022 5:34 PM] bombibus#2765
I am having an issue with the testnet build of nautilus. Every time I close Brave, the extension is removed. Is it a browser issue ? I installed the extension with the zip release. This made me loose the 5k test ergo from @Cheese Enthusiast üò≠


[05/31/2022 6:39 PM] glasgowm#9381
Better asking in #üí≥„Éªnautilus


[05/31/2022 6:39 PM] glasgowm#9381
Not sure what you mean - Debian port?


[05/31/2022 6:40 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/981250772564074496/unknown.png


[05/31/2022 6:56 PM] TheSentientNFT#0744
thanks all good my man we got it figure out


[05/31/2022 6:56 PM] TheSentientNFT#0744
https://tenor.com/view/jeremiah-johnson-robert-redford-nod-of-approval-yes-you-got-it-gif-3521589

{Embed}
https://tenor.com/view/jeremiah-johnson-robert-redford-nod-of-approval-yes-you-got-it-gif-3521589
nod of approval
https://images-ext-1.discordapp.net/external/ky-q3YmWYwkydeNWj0-xvdGiY5gv6Qg9_VoI7F_V3o4/https/media.tenor.com/KDK4gjRz9ioAAAAD/jeremiah-johnson-robert-redford.png


[05/31/2022 8:10 PM] Filsommer#8173
Might be a dumb question, but what is the most effective/quick way of proving that it was me who sent a transaction? Is there any signature I can send without revealing my private key?


[05/31/2022 8:12 PM] MrStahlfelge#0042
several approaches, so let us hear what is the use case


[05/31/2022 8:30 PM] Filsommer#8173
Sure! Gonna message you briefly


[06/01/2022 8:23 AM] Filsommer#8173
does anyone know this?


[06/01/2022 11:56 AM] bombibus#2765
I may be stupid but there is no #nautilus on the sidebar ??


[06/01/2022 12:11 PM] glasgowm#9381
enable it in #deleted-channel


[06/01/2022 8:59 PM] IFTTT#6211
ERGOHACKFEST: Final Submissions
https://ift.tt/94rHqSE

via https://ift.tt/FmpoEXW


[06/02/2022 2:03 AM] xerofyme#2026
what is the size of data that can be stored in a register of a box? #stupidquestion


[06/02/2022 2:16 AM] liquid_phase#4605
i believe 4kb

{Reactions}
üëç 

[06/02/2022 2:16 AM] liquid_phase#4605
not very much, but enough for some minor scripting perhaps


[06/02/2022 11:09 AM] Krasavice Blasen#4574
yeah 4kb for total box size

{Reactions}
üëç 

[06/02/2022 10:32 PM] ilya | dappstep#9261
Hi, question.
Is it possible in chained TX that each tx will be signed by a different wallet?


[06/03/2022 12:10 AM] Cheese Enthusiast#0548
Yes, I dont see any particular issue with this. As long as the transactions evaluate to true should be fine


[06/03/2022 7:10 AM] ilya | dappstep#9261
Thanks!


[06/03/2022 1:50 PM] SpookyErgo#2659
hello, i am the creator of ergo spookies . it's a nft project in ergo.I am building a pacman style game and i wanted to ask if there is a guide on how to connect ergopay .


[06/03/2022 2:11 PM] MrStahlfelge#0042
there is a video and an accompanying text


[06/03/2022 2:11 PM] MrStahlfelge#0042
https://www.youtube.com/watch?v=Jb6Amjai0Bc

can you tell us some more info how you want to connect pacman and blockchain? üôÇ

{Embed}
Ergo Platform
https://www.youtube.com/watch?v=Jb6Amjai0Bc
ErgoHack 3 | Introduction to ErgoPay | MrStahlfelge
MrStahlfelge, developer of the Android and iOS mobile wallets, talks us through how to implement ErgoPay into your dApp.

Showcase dApp: https://golfgl.de/ergopayshowcase/
Written Tutorial: https://medium.com/@bschulte19e/implement-a-dapp-using-ergopay-d95e17a51410
Spring Boot: https://spring.io/
JDK: https://adoptium.net/
Full example applicati...
https://images-ext-1.discordapp.net/external/w77ADe4sNM6wjitLsnqYILVi81OkRISy3zm26x5jS68/https/i.ytimg.com/vi/Jb6Amjai0Bc/maxresdefault.jpg

{Reactions}
‚ù§Ô∏è 

[06/03/2022 2:18 PM] SpookyErgo#2659
Well basically you will connect your wallet and if you have a spooky nft you get to play the game , every week the user with the higher score will earn a spooky nft.


[06/03/2022 2:20 PM] SpookyErgo#2659
Maybe i will add a small fee to the people that don't own a spooky nft. something like insert your coin to play , like we used to do it the old days.


[06/03/2022 2:20 PM] SpookyErgo#2659
but for now i will just allow holders and maybe there will be a free to play but without the nft rewards.


[06/03/2022 2:27 PM] MrStahlfelge#0042
keep in mind that if someone connects with ergopay, it might be a read only wallet. you need ergoauth to verify that the player has access to the game. are you the developer or the nft artist in this project?


[06/03/2022 2:29 PM] SpookyErgo#2659
A bit of both. If it's read only it has access to the tokens right ? i only need the token id.


[06/03/2022 3:57 PM] MrStahlfelge#0042
everyone can pretend to have the token, that is the problem


[06/03/2022 4:23 PM] SpookyErgo#2659
how it's possible to pretend that you have a token id ? when you connect your wallet the dapp doesn't checks the holdings of that wallet ? i need look on how the dapp connector works. any link to learn about ergoauth also?  my first though it was to run nautilus because this will runs on the browser but i work with unity and the language unity uses is C# and i don't think it will work properly .


[06/03/2022 4:24 PM] MrStahlfelge#0042
you can add read only wallets in safew and mobile wallets


[06/03/2022 4:25 PM] SpookyErgo#2659
oh that's how . i didn't know that. thank you


[06/03/2022 4:26 PM] SpookyErgo#2659
well the rewards will go to the holder address anyway but in that way multiple people can play and increase the high score and then split the nfts


[06/03/2022 4:26 PM] MrStahlfelge#0042
since it is some value you are providing there, you don't forget that the wallets only make requests to your backend. anyone with the technical knowledge can fake these requests


[06/03/2022 4:27 PM] SpookyErgo#2659
so the best solution would be to build a tx that will verify the holder ?


[06/03/2022 4:28 PM] MrStahlfelge#0042
you can this, but it is slow - or you use ergoauth. it was intended to be used by games utilizing NFT


[06/03/2022 4:28 PM] SpookyErgo#2659
where can i find more infos about ergoauth ?


[06/03/2022 4:29 PM] MrStahlfelge#0042
https://ergoplatform.org/en/blog/2022-04-29-ergos-eip-0028-ergoauth/


[06/03/2022 4:31 PM] SpookyErgo#2659
thank you sir


[06/03/2022 4:50 PM] MrStahlfelge#0042
let me know if you need any more information


[06/03/2022 4:53 PM] SpookyErgo#2659
i will, i am few weeks away from the dapp integration though .

{Reactions}
üëç 

[06/04/2022 6:06 PM] HelixEvo#2120
Im looking at docker-compose. Did one service to load a build, thats worked. So continued to add another service, but now its like "docker-compose up" when referencing the .yml file seems to ignore my extra config. Almost like it has the first .yml version in buffer or something.


[06/04/2022 6:06 PM] HelixEvo#2120
Anyone had this or know why?


[06/04/2022 6:11 PM] liquid_phase#4605
a quick google finds this:

"It seems that when using the¬†docker-compose¬†command it saves an intermediate container that it doesnt show you and constantly reruns that never updating it correctly. Sadly the documentation regarding something like this is poor. The way to fix this is to build it first with no cache and then up it like so:
```
docker-compose build --no-cache
docker-compose up -d
```
"


[06/04/2022 6:13 PM] HelixEvo#2120
Thanks mate.. Think I have found the issue though.. Layer 8 issue. üôÇ I used 3 "services:" instead of just one and then containers underneath..


[06/04/2022 6:15 PM] HelixEvo#2120
Yeah that was it.. What a melon.


[06/05/2022 6:36 PM] Cheese Enthusiast#0548
What is the expected result for the following case?

There is tx 1 in the mempool which spends a box. Along with tx 1, there is tx 2 which also exists in the mempool. Tx 2 uses the input box from tx 1 as a data input.
If tx 1 is placed in a block before tx 2, is tx 2 dropped from the mempool?


[06/05/2022 6:46 PM] xerofyme#2026
So I am having some issues running my first Ergo contract https://github.com/ApexTheory/appkit-by-example/blob/main/src/main/scala/freezecoin/FreezeCoin.scala
I am trying to run it from the terminal. I done setting up the appkit from here https://github.com/ergoplatform/ergo-appkit#building-the-appkit-jar-file and did `sbt publishLocal`.
When I try to compile the FreezeCoin.scala file by `scalac FreezeCoin.scala` I get quite some errors


[06/05/2022 6:46 PM] xerofyme#2026
`FreezeCoin.scala:3: error: object ergoplatform is not a member of package org
import org.ergoplatform.appkit._
           ^
FreezeCoin.scala:4: error: object ergoplatform is not a member of package org
import org.ergoplatform.appkit.config.{ErgoNodeConfig, ErgoToolConfig}
           ^
FreezeCoin.scala:13: error: not found: type ErgoToolConfig
    val conf: ErgoToolConfig = ErgoToolConfig.load(configFileName)
              ^
FreezeCoin.scala:13: error: not found: value ErgoToolConfig
    val conf: ErgoToolConfig = ErgoToolConfig.load(configFileName)
                               ^
FreezeCoin.scala:14: error: not found: type ErgoNodeConfig
    val nodeConf: ErgoNodeConfig = conf.getNode
                  ^
FreezeCoin.scala:15: error: not found: value RestApiErgoClient
    val explorerUrl: String = RestApiErgoClient.getDefaultExplorerUrl(NetworkType.TESTNET)
                              ^
FreezeCoin.scala:15: error: not found: value NetworkType
    val explorerUrl: String = RestApiErgoClient.getDefaultExplorerUrl(NetworkType.TESTNET)
                                                                      ^
FreezeCoin.scala:19: error: not found: type Address
    val ownerAddress: Address = Address.create(conf.getParameters.get("ownerAddress"))
                      ^
FreezeCoin.scala:19: error: not found: value Address
    val ownerAddress: Address = Address.create(conf.getParameters.get("ownerAddress"))
                                ^
FreezeCoin.scala:23: error: not found: type ErgoClient
    val ergoClient: ErgoClient = RestApiErgoClient.create(nodeConf, explorerUrl)
                    ^
FreezeCoin.scala:23: error: not found: value RestApiErgoClient
    val ergoClient: ErgoClient = RestApiErgoClient.create(nodeConf, explorerUrl)
                                 ^
11 errors found
`


[06/05/2022 6:46 PM] xerofyme#2026
What am I doing wrong here üò¶


[06/05/2022 6:54 PM] xerofyme#2026
The errors at line 3 and 4 are the main ones. Do I have to do some additional steps after installing appkit to make this work?


[06/05/2022 7:36 PM] Cheese Enthusiast#0548
Are you specifically trying to build from source? Or do you just want to play around with appkit?


[06/05/2022 7:37 PM] xerofyme#2026
Just play around with it.


[06/05/2022 7:37 PM] Cheese Enthusiast#0548
You can always add appkit as a dependency in your build.sbt

```
libraryDependencies ++= Seq(
  "org.ergoplatform" %% "ergo-appkit" % "4.0.9"
)
```
This is likely the easier way to use appkit in your project.


[06/05/2022 7:41 PM] xerofyme#2026
Hmm okay. I will then just clone that whole repo by ApexTheory and run it that way as it has that build.sbt file. In the youtube video he is using an IDE, how do I run it without an IDE?


[06/05/2022 7:42 PM] xerofyme#2026
https://www.youtube.com/watch?v=Md5s-XV6-Hs

The video I am referring to.

{Embed}
Apex Theory
https://www.youtube.com/watch?v=Md5s-XV6-Hs
AppKit by Example
Interacting with the Ergo blockchain using AppKit
Clone the repository on Github: https://github.com/ApexTheory/appkit-by-example
https://images-ext-2.discordapp.net/external/nWixLA9IxgdOziOru48X4ev9gs5qkZjJyrx0NqjRmcY/https/i.ytimg.com/vi/Md5s-XV6-Hs/maxresdefault.jpg


[06/05/2022 7:42 PM] Cheese Enthusiast#0548
You can download and run sbt in a console to execute the program. You can also use the sbt assembly plugin to compile the code into a `.jar` file which you can run with `java -jar`


[06/05/2022 7:43 PM] xerofyme#2026
Imma try that and see if it works. Thanks for the pointers üôÇ


[06/07/2022 11:01 AM] nitram147#5106
When trying to spend some box protected by smartcontract via Nautilus dApp connector, I encountered following error:

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/983671993473826826/unknown.png


[06/07/2022 11:01 AM] nitram147#5106
https://testnet.ergoplatform.com/en/transactions/c0cc8a4aefd4d430c58940d8aca8a078a2de76e362aadbee4c2791e9d1fa58ed


[06/07/2022 11:02 AM] nitram147#5106
I'm trying to spend first output of the before mentioned transaction, protected by the contract:


[06/07/2022 11:02 AM] nitram147#5106
```Scala
{
    
    val owner = SELF.R4[SigmaProp].get
    val heir = SELF.R5[SigmaProp].get

    val nft_id = SELF.R8[Coll[Byte]].get

    val contain_nft = {(output_box: Box) => anyOf(output_box.tokens.map{ (token: (Coll[Byte],Long)) => token._1 == nft_id })}

    val nft_spent = !(OUTPUTS.exists(contain_nft))

    val sent_back_to_itself = OUTPUTS(0).propositionBytes == SELF.propositionBytes
    val sent_to_phase2 = blake2b256(OUTPUTS(0).propositionBytes) == fromBase64("phase2_propBytes_hash_base64")
    
    val registers_preserved = {
        OUTPUTS(0).R4[SigmaProp].get == SELF.R4[SigmaProp].get &&
        OUTPUTS(0).R5[SigmaProp].get == SELF.R5[SigmaProp].get &&
        OUTPUTS(0).R6[Coll[Byte]].get == SELF.R6[Coll[Byte]].get &&
        OUTPUTS(0).R7[Int].get == SELF.R7[Int].get &&
        OUTPUTS(0).R8[Coll[Byte]].get == SELF.R8[Coll[Byte]].get &&
        OUTPUTS(0).R9[Coll[Byte]].get == blake2b256(SELF.propositionBytes)
    }
    
    val ergs_preserved = OUTPUTS(0).value >= (SELF.value - 10000000L)
    val min_ergs = OUTPUTS(0).value >= (11000000L)
    
    val tokens_preserved = OUTPUTS(0).tokens == SELF.tokens

    val all_preserved = registers_preserved && ergs_preserved && tokens_preserved

    val owner_spending = owner && nft_spent
    val owner_draining = owner && min_ergs && sent_back_to_itself && registers_preserved && (!nft_spent)
    val heir_spending = heir && sent_to_phase2 && all_preserved

    owner_spending || owner_draining || heir_spending

}
```


[06/07/2022 11:03 AM] nitram147#5106
Via `owner_spending` path, Nautilus has private key corresponding to the public key saved in the R4 register


[06/07/2022 12:05 PM] MrStahlfelge#0042
evaluation is not lazy all the time, so any .get you use in the contract can throw this error when contract is executed. 
my advice here based on my experiences: easiest is to check the contract off-chain by using appkit and mocked blockchain datasource.


[06/07/2022 12:05 PM] MrStahlfelge#0042
this way, you can comment out lines of the contract to find which one causes the problem


[06/07/2022 3:12 PM] MGpai#4313
are there any tutorials to build frontends that connect to nautilus or safew?


[06/07/2022 4:56 PM] Filsommer#8173
Which frontend framework? I am working on something similar for React


[06/07/2022 5:16 PM] MGpai#4313
any in general


[06/07/2022 5:17 PM] MGpai#4313
react works


[06/07/2022 5:21 PM] Filsommer#8173
Okay! What do you want to achieve exactly? 
You have nightowl's Nautilus connector that lets you interact with the wallet: https://github.com/nightowlcasino/dApp-connector-react-package, and on top of that a package I made that lets users send X amount to wallet Y using the nautilus connector: https://www.npmjs.com/package/react-ergo-payments/v/1.0.1


[06/07/2022 5:26 PM] MGpai#4313
the latter is perfect!

{Reactions}
üôå 

[06/07/2022 5:26 PM] MGpai#4313
thanks


[06/08/2022 12:34 AM] nitram147#5106
Any simple way how to set register (eg. R4) to `SigmaProp` of some address (P2PK) via `ergo-lib-wasm`. No matter what I've tried, I always got serialized bytes `Coll[SByte]` in the register instead of `SSigmaProp` üò¶


[06/08/2022 5:47 AM] greenhat#6562
There is no `SigmaProp` type yet in Wasm layer so there is no simple way. You need to make a `Constant` first. We have `Constant.decode_from_base16` that should handle any  `SigmaProp` and `Constant.from_ecpoint_bytes` for handling `ProveDlog`.


[06/08/2022 12:42 PM] nitram147#5106
One solution would be to use `GroupElement` to store users public key instead of `SigmaProp`. However if I change smartcontracts to use `[GroupElement].get`, they would not work in ErgoPlayground (at least it did not work when I was writing EIP-0031 back in January so I decided to use `SigmaProp` instead which worked in the ErgoPlayground. And even if I used the `GroupElement` I don't see a way to create it via wasm easily see:


[06/08/2022 12:42 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/984059918321610882/unknown.png


[06/08/2022 12:43 PM] nitram147#5106
Because there isn't a method to export raw ECPoint bytes from the Address currently if I'm right


[06/08/2022 12:44 PM] nitram147#5106
I could code it manually from scratch same way as I did in the EIP-0032 when I coded the whole encoding/decoding process from the public key bytes to the P2PK address in Python. But doing it like this in Javascript isn't propably the best solution.


[06/08/2022 12:44 PM] nitram147#5106
What would you recommend to me if I will like to stick with using "just" `ergo-lib-wasm`? üôÇ


[06/08/2022 12:45 PM] nitram147#5106
see this contract (it isn't current version of the contract but the logic for the `owner` and `heir` stays the same). Best would be to use solution which would work also in ErgoPlayground and that could be easily implemented via `ergo-lib-wasm`. Thanks ‚ù§Ô∏è


[06/08/2022 3:45 PM] greenhat#6562
There is `proveDlog(...[GroupElement].get)` that makes a `SigmaProp` from `GroupElement` in ErgoScript.


[06/08/2022 3:47 PM] greenhat#6562
Yes, there is none. I'm thinking of adding `Address::to_ecpoint_bytes() -> Result<Vec<u8>, JsValue>` which returns an error (throw in JS) in case the address is not P2PK. What do you think?


[06/08/2022 4:17 PM] greenhat#6562
Actually, adding `Address::to_raw_bytes() -> Vec<u8>` makes much more sense. For P2PK it returns serialized EcPoint for P2S and P2SH underlying bytes (serialized tree and hash respectively).


[06/08/2022 4:32 PM] nitram147#5106
None of the functions `Address::to_ecpoint_bytes() -> Result<Vec<u8>, JsValue>` and `Address::to_raw_bytes() -> Vec<u8>` is in the `ergo_lib_wasm.d.ts` definitions. However I did figure out how to to make what I've wanted


[06/08/2022 4:33 PM] nitram147#5106
```Javascript
const ownerSigmaProp = wasm.Constant.from_ecpoint_bytes(
    wasm.Address.from_base58(owner).to_bytes(ADDRESS_NETWORK_TYPE_CURRENT).subarray(1, 34)
);
```


[06/08/2022 4:34 PM] nitram147#5106
(assuming that the address defined by the string in the "owner" variable will be always P2PK address)


[06/08/2022 5:00 PM] greenhat#6562
Of course they're absent. I'm only thinking of adding them now. üôÇ


[06/08/2022 5:06 PM] nitram147#5106
Sorry, somehow missed (looked over) the text of your first message (don't know how it happened) üòÖ


[06/08/2022 5:07 PM] nitram147#5106
Yeah, such a function could be useful for various purposes üôÇ


[06/08/2022 5:08 PM] nitram147#5106
Basically it's just the extraction of content bytes from the to_bytes output


[06/08/2022 5:09 PM] greenhat#6562
Yes. It'd produce the same result as to_bytes+subarray calls.

{Reactions}
üëç 

[06/08/2022 5:10 PM] greenhat#6562
@nitram147 I hope to add it tomorrow.

{Reactions}
‚ù§Ô∏è 

[06/08/2022 5:23 PM] nitram147#5106
Great ‚ù§Ô∏è Is there any expected time when you will implement ErgoScript compilation in the `ergo-lib-wasm`, I know it isn't a priority right now üôÇ


[06/08/2022 5:28 PM] greenhat#6562
No ETA yet. When oracle v2 is done I'll shift my focus back to ergo-lib and compiler I believe would be among the top priorities.

{Reactions}
‚ù§Ô∏è 

[06/08/2022 6:07 PM] nitram147#5106
Will the compilation process work exactly the same as the currently implemented compilation in node, or there's a chance that it would use different type of optimizer thus generating semantically the very same ErgoTree but syntactically different ErgoTree? ü§î


[06/08/2022 6:24 PM] greenhat#6562
Well, I've found this to be the biggest challenge as well. We have to make Rust version equivalent to the Scala.


[06/08/2022 6:27 PM] nitram147#5106
Maybe it doesn't have to be like this if the semantic of the resulting ErgoTree is preserved.


[06/08/2022 6:28 PM] nitram147#5106
dApp could then use hardcoded addresses for their contracts (instead of compiling it every time), while noting the version of the compiler and the source ErgoScript so anyone can verify that with that specific version of compiler the source ErgoScript would produce the hardcoded address.


[06/08/2022 6:29 PM] nitram147#5106
This would make many things easier.


[06/08/2022 6:31 PM] nitram147#5106
There could be however still requirement in some usecase to compile the ergoscript on the fly (for example if the address is for each dApp user different), so there have to be a way to call the old compiler version (in case the new version use different optimalization routine) inorder to get the same result.


[06/09/2022 6:55 AM] greenhat#6562
@nitram147 In a way compiled ErgoTree established itself as a source of truth in the current ecosystem. Take a P2S address for example. If you compile the same ErgoScipt and get a different P2S it'd be a never-ending source of errors, right?


[06/09/2022 12:54 PM] greenhat#6562
Done. I ended up calling it  `Address::content_bytes()` since we already have one in Rust API. The alpha version should be published in this CI job https://github.com/ergoplatform/sigma-rust/runs/6811931863?check_suite_focus=true

{Embed}
https://github.com/ergoplatform/sigma-rust/runs/6811931863?check_suite_focus=true
add Address::content_bytes() in Wasm API; ¬∑ ergoplatform/sigma-rust...
Alternative and simple implementation of ErgoTree interpreter - add Address::content_bytes() in Wasm API; ¬∑ ergoplatform/sigma-rust@7ac84b4
https://images-ext-2.discordapp.net/external/KZuiByE_0mEac8Oq_hZoedhdiHV_y8D6Q6pcl6aadS0/https/opengraph.githubassets.com/41bc0eeac9732cd78b148b36f1959cba88b4150dfae1e882dd6c2649e5c0d001/ergoplatform/sigma-rust


[06/09/2022 9:38 PM] SpookyErgo#2659
can i dm you sir to ask few question ?


[06/09/2022 9:39 PM] MrStahlfelge#0042
Sure dm me your questions I will answer tomorrow


[06/09/2022 9:45 PM] SpookyErgo#2659
thank you.


[06/09/2022 10:34 PM] keblaK#5054
Hello everyone! I am writing a script that sends tokens to multiple addresses in one transaction. With having a decent balance, I was able  to sign a transaction with only 256 addresses, and if I add one more address, the error "invalid chacksum" is printed. Any ideas? Thank you in advance. P.S. I've used WT_ADA test token for signing the transaction and ergo-lib-wasm-browser library.


[06/10/2022 1:46 AM] MGpai#4313
https://github.com/mgpai22/ergpy/blob/main/examples/example_1.py#L91


[06/10/2022 1:46 AM] MGpai#4313
This does it


[06/10/2022 12:10 PM] keblaK#5054
is there any solutions on js?


[06/10/2022 1:02 PM] timsahabutdinov#4135
Hi dev ! how can i insert a text message into a transaction ? Or it‚Äôs impossible?


[06/10/2022 1:04 PM] MrStahlfelge#0042
when using appkit and BoxOperations, simply call `withMessage()`


[06/10/2022 1:05 PM] timsahabutdinov#4135
Okey! Thx


[06/11/2022 9:10 PM] ilya | dappstep#9261
Is there a way to get unconfirmed transactions in push (aka webhook) and not with long polling? Being able to keep an open socket connection to read the stream would be useful too.


[06/11/2022 9:35 PM] rrrttt#1690
Hello ü§ü I'm trying to send tx using node and ts and signing with secret key. Tried coinbarn/ergo-ts and ergo-lib-wasm-nodejs libraries with same results - getting tx id in response and that's it. Balance not changed, tx with this id not found. Am i missing some next step, is ergo-ts working? Maybe someone has working example of such script - send tx with secret key? Is there other libraries to do this and why API responds with tx id if nothing happens?


[06/12/2022 1:25 AM] Krasavice Blasen#4574
tx_id of your successful transaction?


[06/12/2022 1:31 AM] Krasavice Blasen#4574
Dont have an example, but I believe youll get a txId back in ergo-lib-wasm if all scripts evaluate true. 
In my experience Ive had a txId returned that later gets rejected in mempool from:
- INPUTS value does not equal OUTPUTS value
- Adding fields to output box json that shouldn't be there (in particular: adding the full explorer response for register information rather than just the serialized value)   
Doing either of these gave me a txId but the tx gets rejected later, because the scripts I used were true but the transactions were actually bad


[06/12/2022 8:05 AM] keblaK#5054
https://explorer.ergoplatform.com/en/transactions/7dd1510029b5ad6e7e0fb7e67ad830b955453a22f861d7e99e6f886e0d72d803


[06/12/2022 10:34 AM] ilya | dappstep#9261
Seems like it's confirmed. You can see "not found" right after tx submission because it takes time for the tx to appear in the mempool


[06/12/2022 11:02 AM] ilya | dappstep#9261
Anyway here is a tutorial on how to initialize a wallet with a seed phrase and sign txs on backend. Without a node though...
https://www.dappstep.com/docs/tutorial-sigma-rust-bindings/sign-tx-with-seedphrase

{Embed}
https://www.dappstep.com/docs/tutorial-sigma-rust-bindings/sign-tx-with-seedphrase
How to sign transaction using backend wallet | Dappstep
There are many cases when it's required to sign a transaction on backend.


[06/12/2022 11:41 AM] Krasavice Blasen#4574
Nah this was his successful one, larger aidrops werent working for him. I cant see why they shouldnt work though


[06/12/2022 12:02 PM] ilya | dappstep#9261
Maybe should submit his tx to /transactions/check


[06/12/2022 12:03 PM] ilya | dappstep#9261
It will tell exactly what‚Äôs wrong with it


[06/12/2022 12:58 PM] keblaK#5054
When i try to enter one more address, it shows error in the inspection console(invalid checksum). Even though balance is decent, transaction is signed successfully only with 256 addresses.


[06/12/2022 6:14 PM] xerofyme#2026
is it possible to get some test ergs on this address? 3Wvo9owXto84yNdGb5d2Ev1zoYt53DifBNZJrVdFAgzZ3ftwZycp


[06/12/2022 6:14 PM] xerofyme#2026
on testnet


[06/12/2022 6:15 PM] xerofyme#2026
the faucet at https://testnet.ergofaucet.org/payment/address/ is not working for me. keeps saying it already sent me but i didnt receive any.


[06/12/2022 6:22 PM] Cheese Enthusiast#0548
Sent some just now

{Reactions}
‚ù§Ô∏è 

[06/12/2022 6:35 PM] xerofyme#2026
thank you c:


[06/12/2022 7:14 PM] MGpai#4313
are there other explorers I can use for the api?


[06/12/2022 7:14 PM] MGpai#4313
appkit keeps getting timed out


[06/12/2022 9:37 PM] MrStahlfelge#0042
Yeah unreliable at the moment unfortunately. There are no other public instances I am aware of


[06/12/2022 11:29 PM] xerofyme#2026
so i am trying to do the freeze coin example by https://www.youtube.com/watch?v=Md5s-XV6-Hs. i sent an erg with the transaction id 261072bf85f7443482966b7adb7a657492f89fc4f3f17b2b13dd65a2595c6eb3. i am trying to withdraw it https://github.com/ApexTheory/appkit-by-example/blob/main/src/main/scala/freezecoin/SpendFrozenCoin.scala and i am getting this error


[06/12/2022 11:30 PM] xerofyme#2026
`Exception in thread "main" java.lang.AssertionError: assertion failed: Tree root should be real but was UnprovenSchnorr(ProveDlog((18d92121d80f2aba40acc6549bd3e3fcf6a73acc3e8310b39f61af65ce378adc,392c04ce72b5fe39f35ad382404f74db7d35666206038580b5620fc4349c0068,1)),None,None,None,true,0)
    at scala.Predef$.assert(Predef.scala:223)
    at sigmastate.interpreter.ProverInterpreter.prove(ProverInterpreter.scala:75)
    at sigmastate.interpreter.ProverInterpreter.prove$(ProverInterpreter.scala:68)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.prove(AppkitProvingInterpreter.scala:44)
    at sigmastate.interpreter.ProverInterpreter.generateProof(ProverInterpreter.scala:143)
    at sigmastate.interpreter.ProverInterpreter.generateProof$(ProverInterpreter.scala:135)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.generateProof(AppkitProvingInterpreter.scala:44)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.proveReduced(AppkitProvingInterpreter.scala:241)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.$anonfun$signReduced$2(AppkitProvingInterpreter.scala:195)
    at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:877)
    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)
    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)
    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)
    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:876)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.signReduced(AppkitProvingInterpreter.scala:192)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.$anonfun$sign$1(AppkitProvingInterpreter.scala:90)
    at scala.util.Try$.apply(Try.scala:213)
    at org.ergoplatform.appkit.AppkitProvingInterpreter.sign(AppkitProvingInterpreter.scala:83)`


[06/12/2022 11:31 PM] xerofyme#2026
`    at org.ergoplatform.appkit.impl.ErgoProverImpl.sign(ErgoProverImpl.scala:45)
    at org.ergoplatform.appkit.impl.ErgoProverImpl.sign(ErgoProverImpl.scala:39)
    at org.ergoplatform.appkit.BoxOperations.spendBoxesTx(BoxOperations.java:216)
`


[06/12/2022 11:31 PM] xerofyme#2026
this is on the testnet


[06/12/2022 11:38 PM] xerofyme#2026
this is in my config file

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/985674426500657213/unknown.png


[06/12/2022 11:39 PM] xerofyme#2026
is it something to do with Parameters.MinFee in line 39 and|or 49 of SpendFrozenCoin.scala


[06/12/2022 11:42 PM] xerofyme#2026
i did not realize @Apextheory is in this discord. hi c:


[06/13/2022 12:39 AM] Apextheory#6577
Hi.  Haven't been around much lately.   You are using node wallet?  The mnemonic and/or password were provided correctly to the prover?  And 20 blocks had past from the initial FreezeCoin run?


[06/13/2022 12:57 AM] Apextheory#6577
and the ownerAddress is one you provided?  From your node wallet?


[06/13/2022 2:03 AM] xerofyme#2026
Yes, I am using the node wallet. The mnemonic and password were provided correctly. The config file is the same as the one it was used to freeze the coin (with freezeAddress changed to match the box in transaction). 20 blocks have passed https://testnet.ergoplatform.com/en/transactions/261072bf85f7443482966b7adb7a657492f89fc4f3f17b2b13dd65a2595c6eb3.


[06/13/2022 2:03 AM] xerofyme#2026
yes


[06/13/2022 8:03 AM] kii#8888
Hi

I'm trying to upgrade our app to utilize Ergo-Appkit 4.0.9, however I've been receiving this error when deserializing:
```
Caused by: java.lang.ClassCastException: class [Ljava.lang.Byte; cannot be cast to class [B ([Ljava.lang.Byte; and [B are in module java.base of loader 'bootstrap')
    at special.collection.CollOverArray.toArray$mcB$sp(CollsOverArrays.scala:19)
    at sigmastate.serialization.DataSerializer$.serialize(DataSerializer.scala:58)
    at 
.....
```

I believe this happens when I'm trying to deserialize a Coll[Coll[Byte]]. To create the Coll[Coll[Byte]] register, i used this code:
```
val elementsInColl: Array[Coll[java.lang.Byte]] = elements
        .map(array => JavaHelpers.SigmaDsl.Colls.fromArray(array))
      val elementsInCollEntirely: Coll[Coll[java.lang.Byte]] =
        JavaHelpers.SigmaDsl.Colls.fromArray(elementsInColl)

      ErgoValue.of(
        elementsInCollEntirely,
        ErgoType.collType(ErgoType.byteType())
      )
```

I'm using SigmaState 4.0.6 and notice this code in DataSerializer:
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/727b7b749b952a86a4b252b2737fee01995ab6f9/sigmastate/src/main/scala/sigmastate/serialization/DataSerializer.scala#L58
```
w.putBytes(coll.asInstanceOf[Coll[Byte]].toArray)
```
We're moving towards using java.lang.Byte, but in this part of the code, Byte is still Scala.Byte. Could that be the issue? I did read that the error could be caused by it being converted from byte[] to Byte[]. So I'm kinda confused. Any ideas on how we can do this conversion properly?


Extra:
I got this error by running this code:
```
        val inputServiceBox = serviceBox
          .getOutputServiceBox(ctx, txB)
          .convertToInputWith(dummyTxId, 0)
```
it throws at convertToInputWith

Full Error:
```
Caused by: java.lang.ClassCastException: class [Ljava.lang.Byte; cannot be cast to class [B ([Ljava.lang.Byte; and [B are in module java.base of loader 'bootstrap')
    at special.collection.CollOverArray.toArray$mcB$sp(CollsOverArrays.scala:19)
    at sigmastate.serialization.DataSerializer$.serialize(DataSerializer.scala:58
    at sigmastate.serialization.DataSerializer$.serialize(DataSerializer.scala:63)
    at sigmastate.serialization.ConstantSerializer.serialize(ConstantSerializer.scala:17)
    at sigmastate.serialization.ValueSerializer$.serialize(ValueSerializer.scala:358)
    at sigmastate.utils.SigmaByteWriter.putValue(SigmaByteWriter.scala:125)
    at org.ergoplatform.ErgoBoxCandidate$serializer$.serializeBodyWithIndexedDigests(ErgoBoxCandidate.scala:168)
    at org.ergoplatform.ErgoBoxCandidate$serializer$.serialize(ErgoBoxCandidate.scala:177)
    at org.ergoplatform.ErgoBox$sigmaSerializer$.serialize(ErgoBox.scala:182)
    at org.ergoplatform.ErgoBox$sigmaSerializer$.serialize(ErgoBox.scala:179)
    at sigmastate.serialization.SigmaSerializer.toBytes(SigmaSerializer.scala:98)
    at org.ergoplatform.ErgoBox.bytes$lzycompute(ErgoBox.scala:78)
    at org.ergoplatform.ErgoBox.bytes(ErgoBox.scala:78)
    at org.ergoplatform.ErgoBox.id$lzycompute(ErgoBox.scala:64)
    at org.ergoplatform.ErgoBox.id(ErgoBox.scala:64)
    at org.ergoplatform.appkit.impl.InputBoxImpl.<init>(InputBoxImpl.java:32)
    at org.ergoplatform.appkit.impl.OutBoxImpl.convertToInputWith(OutBoxImpl.scala:31)
```

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/727b7b749b952a86a4b252b2737fee01995ab6f9/sigmastate/src/main/scala/sigmastate/serialization/DataSerializer.scala
sigmastate-interpreter/DataSerializer.scala at 727b7b749b952a86a4b2...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/DataSerializer.scala at 727b7b749b952a86a4b252b2737fee01995ab6f9 ¬∑ ScorexFoundation/sigmasta...
https://images-ext-2.discordapp.net/external/1R6eVLL-WigaEmWt2-A0ZRj_CUTEPttQDCrdno0gcGk/https/opengraph.githubassets.com/f4ceded99c160df7739066334df956946e734f0607fb232026888f5ed3880825/ScorexFoundation/sigmastate-interpreter


[06/13/2022 8:13 AM] MrStahlfelge#0042
The error tells you that you can't spend the coin, it is frozen


[06/13/2022 1:54 PM] Apextheory#6577
I am thinking this has to do with the ownerAddress in the config? https://testnet.ergoplatform.com/en/addresses/7nTPtFSiYMa8naXferTCyyzXyohyKF2NLwn1zmVfoA9dT2Gk4JTrS82NHcknSvZTwvSgy5bFbx6


[06/13/2022 1:55 PM] Apextheory#6577
Is this a 2nd or 3rd address generated from node wallet?  You may need to increment `.withEip3Secret(0)` when initializing the prover.  Alternatively, try everything using the same address `3WzTtCuXYoHXVGxu5xpUeV9aPVcpe4wuzKevtinoSAtJJr3x6nex`


[06/14/2022 12:58 AM] xerofyme#2026
apparently I had generated another wallet and I don't have its mnemonic anymore and it has 2k coins in it D: that's the address I had entered in the config file which i shared earlier.


[06/14/2022 12:58 AM] xerofyme#2026


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/986057122037006366/unknown.png


[06/14/2022 12:59 AM] xerofyme#2026
this is my current config file


[06/14/2022 1:00 AM] xerofyme#2026
i still cant get that coin out. still gives me `Tree root should be real but was UnprovenSchnorr(ProveDlog(...`


[06/14/2022 1:03 AM] Apextheory#6577
It was frozen with the other wallet.  Probably locked for good.  Freeze a new box with current wallet.


[06/14/2022 1:06 AM] xerofyme#2026
for any `.withEip3Secret(0)` other than 0 I cant even run FreezeCoin program. It gives me `Not enough funds in boxes to pay 1001000000 nanoERGs,` error.


[06/14/2022 1:10 AM] xerofyme#2026
It was frozen with the ownerAddress in this new config.


[06/14/2022 1:10 AM] xerofyme#2026
https://testnet.ergoplatform.com/en/addresses/3WzTtCuXYoHXVGxu5xpUeV9aPVcpe4wuzKevtinoSAtJJr3x6nex


[06/14/2022 1:11 AM] xerofyme#2026
I have sent few transactions some minutes ago


[06/14/2022 1:11 AM] xerofyme#2026
All of them are with FrozenCoin program


[06/14/2022 1:14 AM] xerofyme#2026
The config file looks okay now I think.


[06/14/2022 2:05 AM] Cheese Enthusiast#0548
Are you talking abt the testnet one?


[06/14/2022 2:05 AM] Cheese Enthusiast#0548
I can send you another 2k


[06/14/2022 3:20 AM] xerofyme#2026
I recovered it.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/986092654876053575/unknown.png


[06/14/2022 3:22 AM] xerofyme#2026
had the wallet folder for the other address. remembered its password but didn't save the mnemonic code. node doesn't ask for it again after it is initialized so just sent the 2k coins to the address whose mnemonic I still know c:


[06/14/2022 3:25 AM] xerofyme#2026
i will try the freezecoin examples again with lower delay times.


[06/14/2022 3:44 AM] xerofyme#2026
i made a transaction with 3 box delays and was able to successfully take it out after 3 boxes.


[06/14/2022 3:46 AM] xerofyme#2026
why am i still not able to get the frozen coin in this transaction out. or many of the earlier ones.


[06/14/2022 3:55 AM] kii#8888
@morphic , would you have an idea on this?


[06/14/2022 11:09 AM] rrrttt#1690
Thank you for answer üôÇ
Shouldn't inputs value be greater than outputs value? or you mean case when inputs > outputs?
In coinbarn there is just method client.transfer(sk, recipient, amount) - i tried many values of amount which should've worked, but only got txIds. And as you can see from method args, there is no much place where i could fkd up, such as add wrong field to output... So im frustrated. I assume ergo-ts may not work and in ergo-lib-wasm i did something wrong. Maybe i can send you my script so you can check it?


[06/14/2022 11:11 AM] Krasavice Blasen#4574
For ergo-lib-wasm feel free to send the tx object that you are trying to sign


[06/14/2022 11:21 AM] rrrttt#1690
As json file? Also what is difference between route 'transactions/send' and 'mempool/transactions/submit'? Which one preferred?


[06/14/2022 11:24 AM] Krasavice Blasen#4574
sent dm to chat


[06/14/2022 11:24 AM] xerofyme#2026
I have resolved all my issues in the FreezeCoin app. It was due to my faulty assumptions in config. In the beginning I was using the wallet 3WzTtCuXYoHXVGxu5xpUeV9aPVcpe4wuzKevtinoSAtJJr3x6nex but had sent the frozen coin to the owner address of the one in this pic.

{Reactions}
ergo_orange 

[06/14/2022 11:26 AM] xerofyme#2026
this could still work if I had mnemonic of this address but I didn't.


[06/14/2022 11:29 AM] xerofyme#2026
I did the FreezeCoin example where I sent some coins with ownerAddress of another wallet and then retrieved the coin from that other wallet provided that the assumptions in the config file are correct. https://testnet.ergoplatform.com/en/addresses/7nTPtDveMBCVGBQKSfFdkCdrkpU5X4bYcV4mXZJE5LnLLC4XqcwPrhzdgVgL8Yvy16ijzCosx25


[06/14/2022 11:30 AM] xerofyme#2026
Can say I understand the transactions better now. Thanks for the help guys üôÇ Will move on to the Pin Lock contract now \o/


[06/14/2022 11:35 AM] xerofyme#2026
A question, might be a stupid one. Are the smart contracts private? From the outside can one tell what condition was there in the sigmaProp when the transaction was made?


[06/14/2022 11:54 AM] rrrttt#1690
What does this error mean?

If the root of the tree is marked ``simulated'' then the prover does not have enough witnesses to perform the proof. Abort.


[06/14/2022 12:39 PM] MrStahlfelge#0042
is it a contract that needs multiple signatures?


[06/14/2022 1:57 PM] xerofyme#2026
Can someone please explain what is happening in these 2 transaction. Did I lose the coins?
https://testnet.ergoplatform.com/en/transactions/52c03bc265fccf193e80fa77f241ba3f9c627ccff231f95f493fc208ad116f6c
https://testnet.ergoplatform.com/en/transactions/214bba1350a1074e773102261f500ba612447292f717d5b1f466153f02bb1319
These transactions are done by running https://github.com/ApexTheory/appkit-by-example/blob/main/src/main/scala/pinlock/PinLockCoin.scala.
Why is the remainder sent to 3Wy1Qi3epRvuSkQy1o4ceikfHoFFNFxBEjNeSveTFrcXVHXJ7PC6 instead of 3WzTtCuXYoHXVGxu5xpUeV9aPVcpe4wuzKevtinoSAtJJr3x6nex?


[06/14/2022 1:58 PM] rrrttt#1690
it happens at wallet.sign_transaction(stateCtx, unsignedTx, inputBoxes, dataInputs), where unsignedTx is just basic tx - erg transfer from one address to another


[06/14/2022 2:00 PM] MrStahlfelge#0042
okay, seems to be something on JS what you use. I don't know typical sigma rust error messages, but I would guess it is just not the correct mnemonic


[06/14/2022 2:03 PM] rrrttt#1690
oh, i just forgot to add secret key to my secret keys and tried to sign everything with empty secret keys duh


[06/14/2022 2:06 PM] xerofyme#2026
https://testnet.ergoplatform.com/en/transactions/937f69f6a9ba810f1546e0a1b616cb3f5ca0928572d5b7c215ee466bcfd9cb78
transferred it back via node wallet. how is the node wallet sending from 3Wy1Qi3epRvuSkQy1o4ceikfHoFFNFxBEjNeSveTFrcXVHXJ7PC6 when the wallet 3WzTtCuXYoHXVGxu5xpUeV9aPVcpe4wuzKevtinoSAtJJr3x6nex is the one that's loaded


[06/14/2022 2:19 PM] IFTTT#6211
ergoplatform.org GitHub now open for PRs (improvements, translations, etc)
https://ift.tt/QcAexjg

via https://ift.tt/NuC4ea1

{Embed}
ergoplatform.org GitHub now open for PRs (improvements translations etc)
ergoplatform.org GitHub now open for PRs (improvements, translations, etc)
https://ift.tt/QcAexjg

via https://ift.tt/NuC4ea1
https://images-ext-1.discordapp.net/external/AJ-njS-7SBNbnLFhEZjNyao9sZzPYC7kaUUpWKJRdes/https/opengraph.githubassets.com/330e4a73e1f71f4724f0a3c3aa14fa00c2a1df9dfc75f83737589ec101272e77/ergoplatform/ergoweb
ergoplatform.org GitHub now open for PRs (improvements, translations, etc) via /r/ErgoDevelopers https://ift.tt/NuC4ea1


[06/14/2022 3:47 PM] morphic#4133
how you construct the `elements` array of arrays?


[06/14/2022 4:07 PM] MiloVentimiglia#6383
Hi @morphic,

I am trying to build  the ergo project but I think there's an issue, and I cannot even run the tests.

line 6 of src/main/scala/org/ergoplatform/local/ErgoStatsCollector.scala:  -> import org.ergoplatform.Version

Where did this object go? It is nowhere in the project.


[06/14/2022 6:15 PM] morphic#4133
this object is generated during sbt build. you need to clone the repo and them use `sbt`


[06/14/2022 6:16 PM] morphic#4133
Also, @pragmaxim may know better about setup build.sbt in Ergo Node repo


[06/14/2022 6:26 PM] pragmaxim#0778
that sounds like Intellij idea build ... I think I solved that by going to project settings, there was some target dir twixe on classpath


[06/14/2022 10:23 PM] Apextheory#6577
Glad to hear it.  I did hint at this issue above.  You probably learned a lot more figuring it out yourself too.


[06/14/2022 10:31 PM] Apextheory#6577
It is using a change address.  It is another derived address controlled by same mnemonic.  You can spend using the same signer.

see this line: https://github.com/ApexTheory/appkit-by-example/blob/5d72b6d9f3274fbf31db2c8df5ceed4dd288afe8/src/main/scala/pinlock/PinLockCoin.scala#L65


[06/14/2022 10:32 PM] Apextheory#6577
good time to learn about different address types and how they are derived.


[06/14/2022 10:32 PM] Apextheory#6577
https://ergoplatform.org/en/blog/2019_07_24_ergo_address/


[06/15/2022 9:59 AM] ilya | dappstep#9261
Hi, getting this error, when trying to submit tx.
```
Failed to parse ErgoBox from JSON string: JsValue(Object({"boxId":"8062b2915fb7c88d0942cc8ba47835e6832a09e9b36870d49597cdd4350dd28e","transactionId":"2d6e69220b9c79e4dfe96e19be0778b1f834bf3a48ab1e8c2df934baf84a542f","index":1,"ergoTree":"0008cd03bce97a3de134b1f85afe530caa42b0f8618e7883c4b389bb9f4def5d8245a8c4","creationHeight":746709,"value":"100000","assets":[{"tokenId":"66bcd7dceae98fc718a022481a66cf1193b218d725a6285fb0d55d6b5f95b3aa","amount":"1"}],"additionalRegisters":{},"confirmed":true,"extension":{}})) with error: Box id parsed from JSON differs from calculated from box serialized bytes


```


[06/15/2022 10:01 AM] ilya | dappstep#9261


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/986555948413902878/message.txt


[06/15/2022 10:01 AM] ilya | dappstep#9261
Here is the tx itself, I'm basically trying to send the token to a SC and adding some registers to the box


[06/15/2022 10:02 AM] ilya | dappstep#9261
This is my tokenId 66bcd7dceae98fc718a022481a66cf1193b218d725a6285fb0d55d6b5f95b3aa


[06/15/2022 10:14 AM] MrStahlfelge#0042
how did you come up with the box id?


[06/15/2022 11:09 AM] ilya | dappstep#9261
It worked fine with another NFT, with the same tx generation code. So I guess the issue is with this particularar NFT


[06/15/2022 11:10 AM] ilya | dappstep#9261
Sorry didn't see you response


[06/15/2022 12:30 PM] MrStahlfelge#0042
could be. afaik the box id is the hash of the box contents, so if the code you are using to create the box differs slightly it could work for some boxes and for some not


[06/15/2022 3:50 PM] ilya | dappstep#9261
Happened again with the same NFT that worked last time, the only difference is that the NFT is not in separate box

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/986643815697899620/unknown.png


[06/15/2022 3:51 PM] ilya | dappstep#9261
```
Failed to parse ErgoBox from JSON string: JsValue(Object({"boxId":"5c2be68c432a4789a242153a20a465ddde130dd91261b3548a7480b7feec1c0b","transactionId":"20752e59f20c2dd2e219579d1ad84171eec02c478d55ffefa216910d560374a6","index":0,"ergoTree":"0008cd03bce97a3de134b1f85afe530caa42b0f8618e7883c4b389bb9f4def5d8245a8c4","creationHeight":772443,"value":"200000","assets":[{"tokenId":"0fb7067499b8cbc8ac343d694ab817a3c750b641cf4e9aee73cceca2a7d7a770","amount":"1"}],"additionalRegisters":{},"confirmed":true,"extension":{}})) with error: Box id parsed from JSON differs from calculated from box serialized bytes
```


[06/15/2022 3:54 PM] ilya | dappstep#9261
Ok, I think I know what happened, there were some registers defined on that box,


[06/17/2022 5:34 PM] NoahErgo#4349
Could anybody help me with this request from a developer:

could you tell me if there's any js library which can be used to generate wallet as well as creating transaction for ERG? It can help us to reduce investigating time.
I saw that there's ERG wallet app writting on Kotlin

@MrStahlfelge maybe?


[06/17/2022 5:36 PM] MrStahlfelge#0042
Nemo is the one to ask when it comes to js


[06/17/2022 5:36 PM] NoahErgo#4349
okay great thank you


[06/17/2022 5:38 PM] glasgowm#9381
https://docs.ergoplatform.com/dev/wallet/payments/dApp/


[06/17/2022 5:39 PM] glasgowm#9381
Oh nm, not sure whatd be best. ergo-js maybe? But that's the one with the missing burn safeguards iirc


[06/17/2022 5:39 PM] NoahErgo#4349
yes that was my thought as well


[06/17/2022 5:40 PM] glasgowm#9381
https://github.com/coinbarn/ergo-ts maybe? someone would need to confirm though

{Embed}
https://github.com/coinbarn/ergo-ts
GitHub - coinbarn/ergo-ts
Contribute to coinbarn/ergo-ts development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/BZ0p9Wu3Yh18z_mpo4WxePC8IgSwOSlqliycA6lYv6A/https/opengraph.githubassets.com/8f80b13ac0e8670b678e93b55af2507650f2ed9bbc7b0dc7e56dcda35adaca96/coinbarn/ergo-ts


[06/17/2022 5:40 PM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/987396311559065670/unknown.png


[06/17/2022 5:41 PM] NoahErgo#4349
i asked nemo on telegram will see what they say


[06/17/2022 7:54 PM] nitram147#5106
@Cheese Enthusiast Are there any reverse proxies providing access to some testnet node via HTTPS - so my code (for testnet) could be deployed on HTTPS site without `Mixed content` errors? üôÇ


[06/17/2022 7:55 PM] nitram147#5106
I found that there exists such a site for mainnet, see: `https://ergonode.blocpow.io`


[06/17/2022 7:55 PM] nitram147#5106
So I'm looking for a testnet equivalent of it


[06/17/2022 8:12 PM] Cheese Enthusiast#0548
I believe our testnet node is http only right now, can ask to make it https but might take a while. Have lots of other things to deal with at the moment üòÖ

{Reactions}
üëç (2) 

[06/18/2022 8:50 PM] kii#8888
I did this:
```
    def ergoValueOf(
      elements: Array[Array[java.lang.Byte]]
    ): ErgoValue[Coll[Coll[java.lang.Byte]]] = {
      val elementsInColl: Array[Coll[java.lang.Byte]] = elements
        .map(array => JavaHelpers.SigmaDsl.Colls.fromArray(array))
      val elementsInCollEntirely: Coll[Coll[java.lang.Byte]] =
        JavaHelpers.SigmaDsl.Colls.fromArray(elementsInColl)

      ErgoValue.of(
        elementsInCollEntirely,
        ErgoType.collType(ErgoType.byteType())
      )
    }
```


[06/18/2022 10:06 PM] ilya | dappstep#9261
Hey! Here is a tutorial on generating a wallet
https://www.dappstep.com/docs/tutorial-sigma-rust-bindings/sign-tx-with-seedphrase

And also I'm building tools for js developers dAppstep üôÇ so feel free to send him my way

{Embed}
https://www.dappstep.com/docs/tutorial-sigma-rust-bindings/sign-tx-with-seedphrase
How to sign transaction using backend wallet | Dappstep
There are many cases when it's required to sign a transaction on backend.


[06/20/2022 11:25 AM] morphic#4133
I mean where the `elements` parameter come from? How it is created? Also you shouldn't use java.lang.Byte in Scala. The reason is scala.Byte is implicitly converted to java.lang.Byte when boxing is necessary, but it shouldn't be necessary for Array[Byte]. In fact, Coll[Byte] should be backed by Array[Byte] with unboxed bytes.


[06/20/2022 11:26 AM] morphic#4133
Why you decided to use java.lang.Byte explicitly in the parameter type?


[06/20/2022 10:06 PM] ilya | dappstep#9261
Can't understand what's wrong with my tx. Looks legit. json attached, does anyone see any issue?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/988550373587423342/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/988550373801361418/message.txt


[06/20/2022 10:08 PM] ilya | dappstep#9261
It says ```
Malformed transaction: Every input of the transaction should be in UTXO. 222e2b7c952f9c4c4385bd8d8355b57fca4882578c7c218dc83ff4de8f66bd0a: 0 == 1
```


[06/20/2022 10:20 PM] ilya | dappstep#9261
Hhmm weird, it seems like ergo.get_utxo() pulled a wrong box for some time...


[06/20/2022 10:20 PM] ilya | dappstep#9261
Not sure what happened, but It just got back to work


[06/20/2022 10:26 PM] MrStahlfelge#0042
The error message says that one of the inputs was already spent.


[06/20/2022 10:32 PM] ilya | dappstep#9261
Yeah i figured it out after matching boxId, but it's weird, because I've fetched boxes to spend with ergo.get_utxos() for the dapp connector. but for some reason, i was fetching the wrong box


[06/20/2022 10:32 PM] MrStahlfelge#0042
Can happen when the list of unspent boxes is outdated

{Reactions}
üôè 

[06/21/2022 1:35 AM] kii#8888
I was receiving an error in 4.0.9 that java.lang.Byte is required


[06/21/2022 8:45 AM] ilya | dappstep#9261
Airbnb for ergo nodes? ü§î
Are you developing a dApp?NFT project?Analytics tool?
Please answer this super short survey (1-2minutes)!
https://8hhdqaflb2m.typeform.com/to/mBlo24Ix

{Embed}
Typeform
https://8hhdqaflb2m.typeform.com/to/mBlo24Ix
Ergo Node
Turn data collection into an experience with Typeform. Create beautiful online forms, surveys, quizzes, and so much more. Try it for FREE.
https://images-ext-1.discordapp.net/external/cMN-eGsQViaLIb4ypC3K5VbDcQKCoHP0jbNX5dLxGO0/https/images.typeform.com/images/2VWurKeiR4R7/image/default


[06/21/2022 2:56 PM] TheSentientNFT#0744
could anyone spare sometime to quickly go over the params in the ergo.conf for a master node. we are at the point were we need to recompile with our conf and wanted some input on some of the less obvious param implications that are in the conf


[06/22/2022 7:00 PM] nitram147#5106
Could somebody provide more info about how is the transaction id calculated? (If I want to code it from scratch without using any ergo related libraries)


[06/22/2022 7:18 PM] greenhat#6562
It's a hash of serialized tx body. Check out rust implementation - https://github.com/ergoplatform/sigma-rust/blob/481748de7f7b830dfeefe9d6433947e2e04a1179/ergo-lib/src/chain/transaction.rs#L133

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/481748de7f7b830dfeefe9d6433947e2e04a1179/ergo-lib/src/chain/transaction.rs
sigma-rust/transaction.rs at 481748de7f7b830dfeefe9d6433947e2e04a11...
Alternative and simple implementation of ErgoTree interpreter - sigma-rust/transaction.rs at 481748de7f7b830dfeefe9d6433947e2e04a1179 ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/JV_TScAF5jBbzBANyTEo-63-Z0rsjeomq9EZfENY9Wc/https/opengraph.githubassets.com/395df5213e3eaabb82750ffe443a99f0de4937771bc3f125b14797f942cd130e/ergoplatform/sigma-rust


[06/22/2022 8:15 PM] glasgowm#9381
There are lots. Which ones in particular ?


[06/22/2022 9:04 PM] TheSentientNFT#0744


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/989259614904270908/20220622_Questions_About_Ergo_Application_conf.txt


[06/22/2022 9:46 PM] glasgowm#9381
maxTransactionSize = max is undefined, so 1,073,741,823. Accepting large tx can be problematic for bootstrapping.
bounded-mailbox = By default Akka discards overflowing messages into DeadLetters and actor don't stop. Helps it stop running out of memory
executionContext =  Dispatches the actors in a thread pool and passes the execution context 
poolNTP = Network Time Protocol - Time synchronisation

Not sure about the others @pragmaxim or kushti probably best

{Reactions}
ergo_orange üíõ 

[06/22/2022 9:47 PM] nitram147#5106
So I would need to implement whole serialization from scratch üò¶ Probably it would be better to use already made libraries. Is there a way how to use sigma-rust from Python?


[06/22/2022 9:48 PM] nitram147#5106
Or is there an extensive documentation for appkit (which has already got python wrapper) @MrStahlfelge ? I don't like the idea of "reverse engineering" code in tons of file in a lot of folders in order to somehow deduce how it works üôÇ


[06/22/2022 10:04 PM] MrStahlfelge#0042
The documentation is in the code with lots of unit tests and Java docs. At the end of the day, that's better than other documentation because it is always up to date.


[06/22/2022 10:04 PM] MrStahlfelge#0042
Problem with the Python wrapper is that it does not show the Java docs afaik, so you need to keep the Appkit project open to check it


[06/22/2022 10:05 PM] TheSentientNFT#0744
thanks


[06/22/2022 10:07 PM] TheSentientNFT#0744
follow up question what about the hierarchy for these conf files. Is application.conf the main conf file then any input from testnet.conf replaces those params


[06/22/2022 10:22 PM] nitram147#5106
In the `ergo-lib-wasm` I can see class definitions and corresponding methods in a clear and obvious way (see provided picture). Where in the appkit repo (https://github.com/ergoplatform/ergo-appkit) I can find such a overview of available classes / methods / functions? üôÇ

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/989279255244447744/unknown.png

{Embed}
https://github.com/ergoplatform/ergo-appkit
GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot D...
Appkit: A Library for Polyglot Development of Ergo Applications - GitHub - ergoplatform/ergo-appkit: Appkit: A Library for Polyglot Development of Ergo Applications
https://images-ext-1.discordapp.net/external/BRc629cqYr72AQDlBWk6Tq6GaOG0Y78T1MQy9E7Bqp8/https/opengraph.githubassets.com/60720eb1b71bb4749d8228835c2327f96fee27c55f5555518d4c01cd98ac1e43/ergoplatform/ergo-appkit


[06/22/2022 10:27 PM] MrStahlfelge#0042
There is no such thing for appkit.  Java ecosystem heavily relies on powerful IDEs doing their part. If you open Appkit in intellij and wait until it's done building indices, press Ctrl N to search for classes.
There is some kind of javadoc export that many libs are using which we could check how to activate it, but usually it is of not so much value because having everything in the ide is more handy


[06/22/2022 10:28 PM] MrStahlfelge#0042
For example, the unsignedtransaction class is available in appkit too.


[06/22/2022 10:30 PM] nitram147#5106
I don't like the idea of installing some huge (GBs) IDE for java (which my linux somehow also don't like - I've always had problems with java). From the repo overview it looks a bit messy for me. I just need a simple thing - make transaction which spends two UTXOs (both do not require any spending proof), and generate a new one (which will have exact copy of registers as one from the inputs, except one register difference) and pay some transaction fee.


[06/22/2022 10:31 PM] nitram147#5106
I wanted to code it on  my own from scratch in transaction json format - it would be easy, however I was not able to calculate correct transaction id because I have not coded transaction serialization to bytes


[06/22/2022 10:31 PM] nitram147#5106
Is there a simple way without tons of non necessary overhead? üôÇ


[06/22/2022 10:40 PM] MrStahlfelge#0042
I can understand that you don't want to download something big, however Linux is the best system for doing that stuff because you can install and unbloated Java right from the command line üòÖ
Additionally, intellij ships with its own jdk.
You can go your way by browsing the examples and GitHub. It is just so much effort to search for classes on GitHub instead of opening them with Ctrl click that I often find myself cloning repos into my ide just to check them out. But okay.
You could for example take a look at the ergopay payment portal to see how it builds the transaction.

https://github.com/MrStahlfelge/ergopay-payment-portal/blob/master/src/main/kotlin/org/ergoplatform/ergopay/paymentportal/service/PaymentService.kt#L85

Or, as you say you already know the boxes to spent, the spent box example in ergopay example is fitting:

https://github.com/MrStahlfelge/ergopay-server-example/blob/master/src/main/java/org/ergoplatform/ergopay/ErgoPaySampleController.java#L264

When opening these in intellij, you will see the Appkit documentation when the mouse hovers over a method. You can also see it on GitHub when you search for the class name in the repo and open it there

{Embed}
https://github.com/MrStahlfelge/ergopay-server-example/blob/master/src/main/java/org/ergoplatform/ergopay/ErgoPaySampleController.java
ergopay-server-example/ErgoPaySampleController.java at master ¬∑ MrS...
ErgoPay server example. Contribute to MrStahlfelge/ergopay-server-example development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/IS-Qz9M_4o9JE3nhI58nmY84pjRXoEKOiJl8edAQPqM/https/opengraph.githubassets.com/5283e87df9fc844123078261adc8ce3d24074e49f45a2b52bde71c7a93bcf7e7/MrStahlfelge/ergopay-server-example

{Embed}
https://github.com/MrStahlfelge/ergopay-payment-portal/blob/master/src/main/kotlin/org/ergoplatform/ergopay/paymentportal/service/PaymentService.kt
ergopay-payment-portal/PaymentService.kt at master ¬∑ MrStahlfelge/e...
Process Ergo network transactions from your website, application or app with ease - ergopay-payment-portal/PaymentService.kt at master ¬∑ MrStahlfelge/ergopay-payment-portal
https://images-ext-1.discordapp.net/external/jhZF3cFrSxjKsW0kpX7VT8CeQ_F2ViVH1viL2po2K88/https/opengraph.githubassets.com/3c25e54098eece6762d426853b289fece4ccefb3bd2a58e16f8058e915a2f8d4/MrStahlfelge/ergopay-payment-portal

{Reactions}
‚ù§Ô∏è 

[06/22/2022 10:43 PM] MrStahlfelge#0042
And I agree that appkit looks messy. This is probably due to the fact that it provides everything that can be done, in different abstraction layers. But if you look at the actual code using Appkit, everything falls into place (imo) so the problem is mostly how to get in.


[06/22/2022 10:45 PM] MrStahlfelge#0042
Maybe of help, too: code in wallet app to send a tx 
https://github.com/ergoplatform/ergo-wallet-app/blob/develop/common-jvm/src/main/java/org/ergoplatform/ErgoFacade.kt#L127

{Embed}
https://github.com/ergoplatform/ergo-wallet-app/blob/develop/common-jvm/src/main/java/org/ergoplatform/ErgoFacade.kt
ergo-wallet-app/ErgoFacade.kt at develop ¬∑ ergoplatform/ergo-wallet...
Ergo Wallet App. Contribute to ergoplatform/ergo-wallet-app development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/sdoPU4IrMbbc9Z_JPriz4LmoD-X8heOM5xgTmT7Oalc/https/repository-images.githubusercontent.com/376102125/285332e6-a959-4c88-8786-73655ce4ed94


[06/22/2022 10:48 PM] nitram147#5106
Yeah, getting to know the code structure of bigger project is always the hardest step üòÑ Thank's for your help, the examples seems to fit my needs ‚ù§Ô∏è I will have a deeper look at them and try to port them into my python use-case tomorrow üôÇ


[06/22/2022 10:49 PM] MrStahlfelge#0042
Feel free to ask if there are questions üëç

{Reactions}
‚ù§Ô∏è 

[06/22/2022 11:52 PM] anon_br#2282
Transaction id isn't required )


[06/23/2022 4:49 AM] MGpai#4313
ergpy is there too!


[06/23/2022 4:49 AM] MGpai#4313
https://github.com/mgpai22/ergpy


[06/23/2022 8:23 AM] MrStahlfelge#0042
yep I guess nitram will use it - but the JavaDocs are not available, are they?


[06/23/2022 8:23 AM] MrStahlfelge#0042
ha, that's most probably the easiest way to solve it üòÑ

{Reactions}
üòÖ üëç 

[06/23/2022 12:54 PM] ilya | dappstep#9261
Check out https://github.com/nirvanush/ergoscript
It has a Transaction builder written in typescript.
It has eUTXO box class, that is immutable. So for your example (adding deleteing registers) it will work like this
```
const INPUT_0 = new eUTXOBox(BoxJSON);
const OUTPUT_0 = INPUT_0.setRegisters({R5: { value: 3, type: 'Long' }})

// if you are sending box from Contract to a different address you just do
const INPUT_0 = new eUTXOBox(BoxJSON);
const OUTPUT_0 = INPUT_0.sendTo(`<address>`);

// you can also reset registers like that
const OUTPUT_0 = INPUT_0.resetRegisters();

// this will reset registers, set a new one and send to a different address
const OUTPUT_0 = INPUT_0
                    .resetRegisters()
                    .setRegisters({R4: { value: 3, type: 'Long' }})
                    .sendTo(`<address>`)

// create a tx with those
const tx = new Transaction(
   [INPUT_0, OUTPUT_0]
);

// submit it via dapp connector or directly via explorer
const unsignedTx = (await tx.build()).toJSON()

const signedTx = ergo.sign_tx(unsignedTx)
ergo.submit_tx(signedTx)
```


[06/23/2022 1:01 PM] ilya | dappstep#9261
question..
In which case proofBytes are empty? is there a way in signed tx to see the ergoTree of the input box?


[06/23/2022 1:04 PM] MrStahlfelge#0042
no only input box id/hash is included. you need to fetch the box to check its ergotree and other data

{Reactions}
üëç 

[06/23/2022 1:06 PM] ilya | dappstep#9261
Got you, thanks!


[06/23/2022 1:14 PM] ilya | dappstep#9261
What about empty proofBytes? I assume it's when the box is comming from a contract address?


[06/23/2022 1:15 PM] MrStahlfelge#0042
would suspect it but I don't know for sure, so hope someone else can confirm


[06/23/2022 2:12 PM] anon_br#2282
proofBytes are the signature bytes, so it can only be empty if the tx is unsigned, I guess


[06/23/2022 2:13 PM] ilya | dappstep#9261
I see those in unconfirmed txs response from node ü§∑üèª‚Äç‚ôÇÔ∏è


[06/23/2022 2:25 PM] anon_br#2282
Yup, mempool transactions are signed )


[06/23/2022 2:34 PM] MrStahlfelge#0042
there are signed transactions that don't need to be signed with a secret, for example if you withdraw from the `true` contract. it could be that their proofbytes are empty, but I don't know that for sure. I thought the question was referring to a signed transaction with empty proofBytes.

{Reactions}
ü§î 

[06/23/2022 3:04 PM] ilya | dappstep#9261
Yes I'm talking about signed transactions, I assume that all unconfirmed tx in the mempool are signed


[06/23/2022 3:21 PM] MrStahlfelge#0042
yeah, some contracts can be signed with an empty prover. maybe then the proofBytes are empty

{Reactions}
üëç (2) 

[06/23/2022 5:57 PM] koutelier#5178
is there a way to mint nfts faster yet? not just one by one?


[06/23/2022 5:57 PM] glasgowm#9381
https://github.com/mgpai22/ergo-nft-bulk-minter

{Embed}
https://github.com/mgpai22/ergo-nft-bulk-minter
GitHub - mgpai22/ergo-nft-bulk-minter: Repository for the ergo NFT ...
Repository for the ergo NFT bulk minter. Contribute to mgpai22/ergo-nft-bulk-minter development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/8RcOwX86WNpAo7g5j6CfMD5BKMenWWCjcy29DbTVcQA/https/opengraph.githubassets.com/25223273f3017aecdd1fb001c288e8505050eb831d4d05eb09eba3882dbd57a3/mgpai22/ergo-nft-bulk-minter

{Reactions}
üî• 

[06/23/2022 5:59 PM] koutelier#5178
/tip 100 comet


[06/23/2022 6:00 PM] koutelier#5178
no tip bot?


[06/23/2022 6:01 PM] Ergo Tipper Bot[BETA]#0902
@glasgowm sent a tip of 100.0 COMET to @koutelier!


[06/23/2022 6:01 PM] Ergo Tipper Bot[BETA]#0902
@koutelier sent a tip of 1000.0 COMET to @glasgowm!

{Reactions}
shock_surprise_wtf 

[06/23/2022 6:01 PM] koutelier#5178
one pizza


[06/23/2022 6:01 PM] koutelier#5178
thanks glasgow


[06/23/2022 6:02 PM] koutelier#5178
but what about royalties ?


[06/23/2022 6:04 PM] glasgowm#9381
I guess not, think hazey has one that can do royalties


[06/23/2022 6:07 PM] koutelier#5178
open source ?


[06/23/2022 7:13 PM] error#5683
an alternative way is to use the /transactions/checkTransaction node endpoint. It will validate the tx without sending it over the network and if it is valid you get the txid as return value.

{Reactions}
üëç 

[06/23/2022 7:33 PM] nitram147#5106
@ilya | dappstep Have a look here, I made a transaction example for you without the spending proof


[06/23/2022 7:33 PM] nitram147#5106
https://testnet.ergoplatform.com/en/transactions/cfe18fb981e4c1c7cc4e4c08d13d88e1d56f1f2be9478f46b9e0621d98502990


[06/23/2022 7:34 PM] nitram147#5106
It's spending from the ergoscript "true" contract so I doesn't have to contain any spending proof


[06/23/2022 7:34 PM] nitram147#5106
Your assumption is right, the boxes my python will spend will come from P2S addresses


[06/23/2022 7:35 PM] ilya | dappstep#9261
Cool! Thank you for verifying it!


[06/23/2022 7:36 PM] nitram147#5106
You are welcome! üòâ I know about this feature since I remember that I read about it somewhere in the Ergo papers (don't remember in which paper) a while ago (maybe a year ago or so) üôÇ


[06/23/2022 7:39 PM] nitram147#5106
Great! But it seems to be not required anymore. I've found out that nor transaction id neither box id is required when sending transaction. It means I can just made the simple json myself without using any of the before mentioned libraries, thus avoiding non necessary overhead ‚ù§Ô∏è üôÇ

{Reactions}
üëç 

[06/23/2022 7:56 PM] MrStahlfelge#0042
if you want to perform the sacred magic of developing on the JVM anytime in the future, we will welcome you and wait for it üòâ

{Reactions}
üëç 

[06/24/2022 1:40 AM] MGpai#4313
I am going to have a v2 of this soon which will be a lotttt better

{Reactions}
ergo_orange (2) üî• (2) evo3 

[06/24/2022 1:40 AM] MGpai#4313
but I am waiting for the new eips


[06/24/2022 2:42 PM] ilya | dappstep#9261
Sir when V2 for https://github.com/mgpai22/ergo-synced-node ?  Really great job there


[06/24/2022 3:09 PM] MGpai#4313
thank you but I dont really see what more is required for a v2 for the node


[06/24/2022 3:09 PM] MGpai#4313
however feel free to create a PR if you think anything is needed!


[06/24/2022 9:44 PM] ilya | dappstep#9261
Can someone explain to me how a transaction can be submitted to a mempool and then get deleted? How does it work and what is the criteria? I see a transaction that has been stuck in the mempool for 18.2 minutes, other transactions were submitted after it and got verified much earlier. 
I assume there is something to do with a eutxo ERG value being to small for the eutxo size, but is there a way to predict it before the tx was submitted that it will never be mined?


[06/24/2022 11:57 PM] ilya | dappstep#9261
Here is an example of transactions and I can't find a pattern of problematic tx:
Those three txs are stuck in the mempool for more then 2 hours (here the age is 23.9 minutes, because this for how long I'm tracking it)
```
0aae7bcecaba87f5c88c775c52231bbaf04c55d6daeff3ce384319afc8d87f17 age: 23.9 fee: 0.001 size: 1799 rate: 556 inputs: 3 outputs: 31
0b1829d981b08f9d2271ac5b7347e7ef678c1f266e7c1cfbb018982be6a37cd1 age: 23.9 fee: 0.01 size: 2012 rate: 4970 inputs: 20 outputs: 3
9396943a782e4a782ffd847ddb19c11036fe0dff20b3b1d631b36e3f3392f472 age: 23.9 fee: 0.01 size: 2012 rate: 4970 inputs: 20 outputs: 3
```
What's similar for those transactions when compared to tx is that it has many inputs or many outputs.

But then I have another transaction that got confirmed in a less then two minutes, it has 120 outputs and fee per byte is very small compared even to 0aae7bcecaba87f5c88c775c52231bbaf04c55d6daeff3ce384319afc8d87f17
https://explorer.ergoplatform.com/en/transactions/952ff772150c9b6ae15b810122e7e23a2f4652f6a4cb09b158f09389bbbb8cc7

So I still can't figure out the pattern


[06/25/2022 3:50 AM] Krasavice Blasen#4574
If you are using a node to submit these then in my experience (presuming you are using transactions/check to check txs first) you either have some issue with double-spending i.e. tx gets submitted and then a dataInput gets spent whilst tx in mempool, your node has a bad utxo set and thinks some boxes are unspent when they actually are, or you might be using block header context which Ive had trouble with depending on how its used.

If using ergo-lib-wasm then you might just have a poorly formed tx, like Inputs value != outputs value, or some other things that get to mempool stage but are eventually rejected. 

What are you using to submit the txs?

{Reactions}
‚òùÔ∏è 

[06/25/2022 5:03 AM] ilya | dappstep#9261
Hey! Here i‚Äôm not submitting any transactions, i just scan transactions/unconfirmed for incoming transactions for my offline bot. I manage a list of scanned transactions with a timestamp and what i see is that out of 95 transactions in a mempool right now 50% are hanging there more that one hour, another 1/4 for half hour-20mins and only 1/4 are being confirmed on regular basis within more or less acceptable time


[06/25/2022 5:05 AM] ilya | dappstep#9261
This is mempool right now. age of tx is in minutes

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/990105542238273556/message.txt


[06/25/2022 5:15 AM] ilya | dappstep#9261
Also when i create a tx i use ergo-lib-wasm and submit it via dapp connector which uses an explorer. It will not let unbalanced txs (i.value != o.value) to pass through and throw a validation error.  It handles most validation before accepting the tx


[06/25/2022 5:46 AM] ilya | dappstep#9261


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/990115803997306930/message.txt


[06/25/2022 9:17 AM] MrStahlfelge#0042
tx are sorted by fee/size by miners. probably low fee and big tx when it hangs for longer


[06/25/2022 9:18 AM] MrStahlfelge#0042
ok, you've found that reason yourself. I had the feeling that p2pk inputs and especially less inputs are preferred over many inputs and big contracts


[06/25/2022 9:48 AM] ilya | dappstep#9261
Yeah but then i‚Äôve found a tx with 120 outputs that was confirmed within 2 mins, see the link above.
Fee per byte also doesn‚Äôt explain it. Check the ‚Äúrate‚Äù column in my file. It‚Äôs fee/size basically multiplied by 1000 or so. Distribution is pretty big and it look totally random


[06/28/2022 11:09 AM] IFTTT#6211
DeCo: Summer-class
Hello everyone,I have just started a summer exercise using the DeCo education videos. Those that participate will cover the material at their own pace and over a couple of days we will all be focused on the same subject, please help me spread the word about this a little bit and lets get some people started on their journey to learn about ErgoCheck us out in the DeCO Hallway and jump into the conversation/ ask questions if you need, details about the exercise are found in that channel.

via https://ift.tt/UpP5szY


[06/28/2022 11:39 AM] IFTTT#6211
Ergo GraphQL instance
https://ift.tt/BPEZmxW

via https://ift.tt/bi4WJwP


[06/28/2022 8:04 PM] IFTTT#6211
DEXy Stablecoin first draft
https://ift.tt/Bgnho2E

via https://ift.tt/ZOqh8NA

{Embed}
DEXy Stablecoin first draft
DEXy Stablecoin first draft
https://ift.tt/Bgnho2E

via https://ift.tt/ZOqh8NA
https://images-ext-1.discordapp.net/external/n6A4lm4D14UC2m2HtGAD3_9OKo_9IfaG-JHWaOyNSos/https/opengraph.githubassets.com/073b3345a1c1cc63b13164a4e94cec25a657c4979aa4c6d3b8eee6e152f27b35/kushti/dexy-stable
DEXy Stablecoin first draft via /r/ErgoDevelopers https://ift.tt/ZOqh8NA


[06/30/2022 11:39 AM] IFTTT#6211
Release Ergo Protocol Reference Client 4.0.32 ¬∑ ergoplatform/ergo
https://ift.tt/bzYTmtv

via https://ift.tt/V8vTYrX

{Embed}
Release Ergo Protocol Reference Client 4.0.32  ergoplatform/ergo
Release Ergo Protocol Reference Client 4.0.32 ¬∑ ergoplatform/ergo
https://ift.tt/bzYTmtv

via https://ift.tt/V8vTYrX
https://images-ext-1.discordapp.net/external/GwOm_9imMabbko70sBd35jL7oiD_96c5K0fU3sEclfk/https/opengraph.githubassets.com/f7ec25d656326b47aa3cbc7a91cc2bd1b008e2731e7e532d01e305c950d66c5f/ergoplatform/ergo/releases/tag/v4.0.32
Release Ergo Protocol Reference Client 4.0.32 ¬∑ ergoplatform/ergo via /r/ErgoDevelopers https://ift.tt/V8vTYrX


[07/02/2022 6:22 AM] dusek#6153
are there any steps for setting up a devnet/my own chain? The devnet is up and running, I've created a wallet, and mining has started, but my wallet balance is still 0 so I can't actually do anything


[07/02/2022 6:22 AM] dusek#6153


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/992661576257650708/ergo.conf


[07/02/2022 6:38 AM] zargarzadehmoein#2928
by default minerRewardDelay is 720 block


[07/02/2022 6:39 AM] dusek#6153
hmm, I tried changing it but I was getting a different error about unconfirmed transaction or something


[07/02/2022 6:39 AM] dusek#6153
I'll try waiting 720 blocks then, thanks!


[07/02/2022 1:45 PM] nitram147#5106
Do somebody run explorer for the new version of testnet?


[07/02/2022 1:45 PM] nitram147#5106
(official explorer still not updated even after 3 days)


[07/03/2022 6:50 AM] koutelier#5178
Can someone explains me how this is possible? lol 
it's appearing like it's in my wallet even though it isn't also the date of birth is 0

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/993030965242904626/minernut16.jpg


[07/04/2022 2:09 PM] IFTTT#6211
Testnet explorer now shows new testnet, with 5.0 interpreter activated and 5 secs between blocks on average
https://twitter.com/chepurnoy/status/1543880267290624000

via https://ift.tt/HMzt7yT

{Embed}
Testnet explorer now shows new testnet with 5.0 interpreter activated and 5 secs between blocks on average
Testnet explorer now shows new testnet, with 5.0 interpreter activated and 5 secs between blocks on average
https://twitter.com/chepurnoy/status/1543880267290624000

via https://ift.tt/HMzt7yT
https://images-ext-2.discordapp.net/external/NS8mWRwEeWd00SY1zscMy7fOqf5oqiEcUqPQDwk1YT8/https/abs.twimg.com/errors/logo46x38.png
Testnet explorer now shows new testnet, with 5.0 interpreter activated and 5 secs between blocks on average via /r/ErgoDevelopers https://ift.tt/HMzt7yT


[07/04/2022 2:09 PM] IFTTT#6211
GitHub - abchrisxyz/ergo-setup: Simple Ergo lab setup
https://ift.tt/YNfkdHK

via https://ift.tt/SOPFgsz

{Embed}
GitHub - abchrisxyz/ergo-setup: Simple Ergo lab setup
GitHub - abchrisxyz/ergo-setup: Simple Ergo lab setup
https://ift.tt/YNfkdHK

via https://ift.tt/SOPFgsz
https://images-ext-1.discordapp.net/external/_bJGfgCj26BwzCnCVyUHVblyXX1iSy5x-B7plSLr3Gs/https/opengraph.githubassets.com/fb31a32ba800c42b6c1d2c03ddb9aac3b72f7827e6d4a1139c01e2f3efbe4e95/abchrisxyz/ergo-setup
GitHub - abchrisxyz/ergo-setup: Simple Ergo lab setup via /r/ErgoDevelopers https://ift.tt/SOPFgsz


[07/05/2022 9:24 PM] IFTTT#6211
TosiDrop on Twitter: We're excited to announce our first hackathon, TosiHack, will begin July 15th, 2022. There will be +1,850 ERG in prizes and more ‚òîÔ∏è
https://twitter.com/TosiDrop/status/1544350468650008576

via https://ift.tt/NsrQWCi

{Embed}
TosiDrop on Twitter: We're excited to announce our first hackathon TosiHack will begin July 15th 2022. There will be 1850 ERG in prizes and more
TosiDrop on Twitter: We're excited to announce our first hackathon, TosiHack, will begin July 15th, 2022. There will be +1,850 ERG in prizes and more ‚òîÔ∏è
https://twitter.com/TosiDrop/status/1544350468650008576

via https://ift.tt/NsrQWCi
https://images-ext-1.discordapp.net/external/8_8sUhNdmumVnvTLMJWa6kv3Fsy16t-60t_YblhF8QU/https/abs.twimg.com/errors/ErrorState_NotFound.png
TosiDrop on Twitter: We're excited to announce our first hackathon, TosiHack, will begin July 15th, 2022. There will be +1,850 ERG in prizes and more ‚òîÔ∏è via /r/ErgoDevelopers https://ift.tt/NsrQWCi


[07/08/2022 8:44 AM] keblaK#5054
hello everyone! i am new to ergo and wanted to create an airdrop app, which interacts with nautilus or any other wallet via dapp. Are there developers who have experience in such project or  are there any working open-source examples?


[07/08/2022 9:18 AM] keblaK#5054
@glasgowm @kushti @Armeanio @mhs_sam @CW @greenhat @Ilya | Spectrum @MrStahlfelge @Affable Villain @dashmunn @Luivatra @√Ör√ñhB√™

{Reactions}
ü§î (2) Ping (2) 

[07/08/2022 9:18 AM] keblaK#5054
sorry for bothering, maybe you guys know


[07/08/2022 10:04 AM] glasgowm#9381
sir


[07/08/2022 10:05 AM] glasgowm#9381
no need


[07/08/2022 10:05 AM] glasgowm#9381
dApp connector stuff on the docs - search for more

https://docs.ergoplatform.com/dev/wallet/payments/dApp/


[07/08/2022 10:05 AM] glasgowm#9381
There's a few airdrop tools on sigmaverse.io you could probably find the source for


[07/08/2022 2:05 PM] Luivatra#9076
Nice meta question, about airdrops and includes an airdrop of discord mentions

{Reactions}
üòÇ (3) 

[07/09/2022 8:31 PM] ilya | dappstep#9261
Check borscht airdrop tool on sigmaverse.io it accepts addresses and amounts from a csv file.
You can also find a good borscht receipt there.

Also check this npm package of tx builder, there is an example in doc on how to build an airdrop tx

https://github.com/nirvanush/ergoscript

{Embed}
https://github.com/nirvanush/ergoscript
GitHub - nirvanush/ergoscript: ergo transaction builder optimized f...
ergo transaction builder optimized for contract development - GitHub - nirvanush/ergoscript: ergo transaction builder optimized for contract development
https://images-ext-1.discordapp.net/external/5KqP4YSBA2hahMTcSA78T6gnqq8XwyV9-2bHMAGlaRk/https/opengraph.githubassets.com/6e37eac24dd96e68eaa6231f82162e9c535bf814cbc79f7496895110f4f4a541/nirvanush/ergoscript

{Reactions}
ü§£ 

[07/09/2022 8:31 PM] ilya | dappstep#9261
@keblaK


[07/09/2022 8:34 PM] keblaK#5054
sir, thank you very much, so much appreciated

{Reactions}
üëç 

[07/11/2022 1:29 PM] IFTTT#6211
EIP-0031 - Babel Fees by nitram147 ¬∑ Pull Request #54 ¬∑ ergoplatform/eips ¬∑ GitHub
https://ift.tt/z76IUvq

via https://ift.tt/LqCl3s0

{Embed}
EIP-0031 - Babel Fees by nitram147  Pull Request #54  ergoplatform/eips  GitHub
EIP-0031 - Babel Fees by nitram147 ¬∑ Pull Request #54 ¬∑ ergoplatform/eips ¬∑ GitHub
https://ift.tt/z76IUvq

via https://ift.tt/LqCl3s0
https://images-ext-2.discordapp.net/external/0X7k9gwJb3mVTy-sttvup8nPxk0k-8uocWLRFihZTZ0/https/opengraph.githubassets.com/abcf232ecf5efd8aafa28fd126d657874b59a1514578838b58fa8276bcda0a5e/ergoplatform/eips/pull/54
EIP-0031 - Babel Fees by nitram147 ¬∑ Pull Request #54 ¬∑ ergoplatform/eips ¬∑ GitHub via /r/ErgoDevelopers https://ift.tt/LqCl3s0


[07/13/2022 11:49 AM] Leif Erickson#8939
It seems that EIP-0027 outputs do not show in utxo/byId node querys for tokens 20fa2bf23962cdf51b07722d6237c0c7b8a44f78856c0f7ec308dc1ef1a92a51 and d9a2cc8a09abfaed87afacfbb7daee79a6b26f10c6613fc13d3f3953e5521d1a

is this intentional?

http://node:9053/utxo/byId/2f7e55d317514a7fcb341313f202dfe9d5adbf610044e962fc92237ff6b77a30

https://explorer.ergoplatform.com/en/transactions/9d3805d96ea77042122d4c21e28754c94f67c7443cdea231477a01fa6ffdf5a3


[07/13/2022 12:32 PM] Krasavice Blasen#4574
Was this box spent when you tried the query?


[07/13/2022 2:49 PM] Leif Erickson#8939
it was not spent when I tried the query


[07/14/2022 1:18 AM] Cheese Enthusiast#0548
Can I use tree height to determine the minimum / maximum number of possible keys in a given AVL tree? I originally thought to use the normal equation for determining number of nodes in the tree, but then remembered that important data is stored only in leaf nodes.


[07/15/2022 6:03 AM] keblaK#5054
hello everyone! currently i am working with 'ergo-lib-wasm-browser' package, and i wanted to parse my utxo to ErgoBox class for the selector. All my utxos are parsed correctly except one that has 1 erg (1000000000 nanoerg), and it throws an error that the value cannot be converted. The value itself comes from the response as a string. Fewer values works fine. Any ideas?


[07/15/2022 11:58 AM] greenhat#6562
Hi! That's weird. Can you share the JSON?


[07/15/2022 11:59 AM] keblaK#5054
Of course sir, one moment


[07/15/2022 12:51 PM] keblaK#5054


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/997470399539462144/unknown.png


[07/15/2022 12:51 PM] keblaK#5054


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/997470447132229702/unknown.png


[07/15/2022 12:51 PM] keblaK#5054
@greenhat


[07/15/2022 12:52 PM] keblaK#5054
field "value"


[07/15/2022 1:05 PM] nitram147#5106
There's problem with the "Unit" constant value "62"


[07/15/2022 1:05 PM] nitram147#5106
SigmaRust has problem with parsing such value while the app-kit has no problems if I'm right


[07/15/2022 1:06 PM] nitram147#5106
Your box received the EIP-0029 message which is the reason why this problem happened


[07/15/2022 1:06 PM] nitram147#5106
@keblaK


[07/15/2022 1:07 PM] keblaK#5054
so what should I do as a solution?


[07/15/2022 1:08 PM] keblaK#5054
use appkit instead of sigmarust?


[07/15/2022 1:09 PM] nitram147#5106
Probably there isn't any way to avoid this problem, just don't use the UTXO containing EIP-0029 messages


[07/15/2022 1:09 PM] nitram147#5106
(while using sigmarust)


[07/15/2022 1:09 PM] nitram147#5106
@MrStahlfelge


[07/15/2022 1:09 PM] nitram147#5106
Could you elaborate a bit?


[07/15/2022 1:10 PM] keblaK#5054
actually i have no idea nor experience on how to send utxo other than EIP-0029


[07/15/2022 1:10 PM] MrStahlfelge#0042
should be added to sigma-rust


[07/15/2022 1:10 PM] nitram147#5106
You have to include only that UTXOs which don't contain the "62" value in any of it's registers, otherwise it will cause the problem


[07/15/2022 1:11 PM] nitram147#5106
So easiest solution right now would be to manually check via javascript whether some UTXO contain "62" value in any of it's registers and if so, then drop it and don't use it


[07/15/2022 1:12 PM] nitram147#5106
Unfortunately there's probably no other way of fixing such a problem üôÇ


[07/15/2022 1:13 PM] keblaK#5054
so right now, most of my "money" values are inside that EIP-0029 UTXO, and maybe there exists is a way to take only the value and somehow use it inside the box?


[07/15/2022 1:15 PM] nitram147#5106
Spend that UTXO via ErgoMobile wallet and send it back to your address


[07/15/2022 1:15 PM] nitram147#5106
This way you will destroy the register value and you will be able to use the new UTXO üòâ


[07/15/2022 1:15 PM] keblaK#5054
oh okay, thank you very much


[07/15/2022 1:16 PM] nitram147#5106
How did you managed to get that EIP-0029 values in the UTXO?


[07/15/2022 1:16 PM] nitram147#5106
Did you used some "append" message feature of the wallet?


[07/15/2022 1:16 PM] keblaK#5054
i  have received money from my friend, and  continuously I got that UTXO


[07/15/2022 1:18 PM] nitram147#5106
So let know your friend to not attach any message to the money which is he sending to you - if he attach some message, it will create such UTXO which you can't use via the `ergo-lib-wasm`


[07/15/2022 1:19 PM] keblaK#5054
okay, got it. thanks a lot


[07/15/2022 1:25 PM] nitram147#5106
You're welcome üòâ


[07/15/2022 1:26 PM] nitram147#5106
Also bear in mind that current EIP-0029 only support plaintext messages so anybody is able to see a message which your friend sent to you:


[07/15/2022 1:26 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/997479230973693984/unknown.png


[07/15/2022 1:27 PM] nitram147#5106
@keblaK


[07/15/2022 1:27 PM] keblaK#5054
wow, interesting. will definitely try it


[07/15/2022 1:27 PM] keblaK#5054
thanks


[07/15/2022 1:38 PM] greenhat#6562
Yep, sigma-rust cannot parse it.  I'll look into EIP-0029 support for sigma-rust.


[07/15/2022 3:56 PM] nitram147#5106
@HelixEvo Did you build the `https://ergonode.blocpow.io` testnet alternative? üôÇ


[07/15/2022 3:57 PM] nitram147#5106
It would be really useful (at least for me)


[07/15/2022 3:57 PM] nitram147#5106
So I can deploy testnet frontends to the github pages and they will work so people can try to play with them üôÇ


[07/15/2022 3:57 PM] nitram147#5106
‚ù§Ô∏è


[07/15/2022 3:59 PM] HelixEvo#2120
I knew there was something I was going to do!!! I‚Äôll get something up on the weekend.

{Reactions}
üëç 

[07/15/2022 4:01 PM] nitram147#5106
Yeah, it would be great if it was ready on Sunday so it can be used to showcase the TosiHackathon results üôÇ


[07/15/2022 5:39 PM] Marty#4039
Has anyone used the node to manually generate a transaction? I'd like to burn some tokens


[07/15/2022 5:40 PM] Marty#4039
I was going to do a test transaction using `/wallet/payment/send` or `/wallet/transaction/send` but i'm worried if i build it wrong, i'll accidentally burn tokens i didn't intend to


[07/15/2022 5:41 PM] Marty#4039
using `/wallet/boxes/unspent` i found the UTXO that contains the ones I want to burn. Do i have to manually add the change box into `/wallet/transaction/send` or does the node build it for me?


[07/15/2022 5:59 PM] IFTTT#6211
[Bounty - 250 ERG] Raffle bot for Telegram
/r/ErgoJobs/comments/vzt6jm/bounty_250_erg_raffle_bot_for_telegram/

via https://ift.tt/WORvFVh

{Embed}
[Bounty - 250 ERG] Raffle bot for Telegram
[Bounty - 250 ERG] Raffle bot for Telegram
/r/ErgoJobs/comments/vzt6jm/bounty_250_erg_raffle_bot_for_telegram/

via https://ift.tt/WORvFVh
https://images-ext-2.discordapp.net/external/0T-ciiI89r6MZasvnvzXFs-o7mutSbWRuj2S95rO8Yg/https/ifttt.com/images/no_image_card.png
[Bounty - 250 ERG] Raffle bot for Telegram via /r/ErgoDevelopers https://ift.tt/WORvFVh


[07/16/2022 1:03 AM] kii#8888
What happens if we have a whole bunch of boxes that exists and never goes away. Does it clogs up the blockchain, or it does not matter. Or that it does not matter until it is reclaimed for store rent


[07/16/2022 4:36 AM] Krasavice Blasen#4574
Node will build change for you üôÇ


[07/16/2022 4:36 AM] Krasavice Blasen#4574
assetsToBurn is the only way the node will burn assets, anything spare will be sent to change


[07/16/2022 4:37 AM] Marty#4039
That's great to know


[07/16/2022 4:39 AM] Krasavice Blasen#4574
I believe it will also create multiple change boxes if there are many assets involved


[07/16/2022 4:40 AM] Krasavice Blasen#4574
So shoudnt need to worry about anything üôÇ


[07/16/2022 4:41 AM] Krasavice Blasen#4574
And a tip for using the node, if you ever make a mistake, you can quickly try and double spend the box with a higher fee haha (you will need to explictly include the input box to do this)


[07/16/2022 10:26 AM] HelixEvo#2120
TESTNET node is up.. Its just syncing through.. https://ergotestnetnode.blocpow.io

{Reactions}
‚ù§Ô∏è (2) üëç 

[07/16/2022 10:27 AM] HelixEvo#2120
Find it confusing the version is not saying 5.0 though


[07/18/2022 12:47 PM] greenhat#6562
It turns out sigma-rust is capable of parsing Unit value in registers ("62"). The error you saw is not related to a box value but a register value. Some value in the register cannot be parsed which caused the error. Unfortunately, error message was botched and did not include what was the string that was not parsed. I checked all register values from your screenshot and they were parsed fine. I fixed the error message to include the json string that was failed on parsing in https://github.com/ergoplatform/sigma-rust/pull/600 /cc @nitram147

{Embed}
https://github.com/ergoplatform/sigma-rust/pull/600
Unit in register + improve error on constant value parsing from JSO...
add type conversion and serialization tests for unit value in
registers;
https://images-ext-1.discordapp.net/external/6YWI0pNZnda8GQ2LfKRUMRfWy_1_XDpnrhGNs4TP164/https/opengraph.githubassets.com/3d82f500d0815bc1211a197bd6d89f9e87763fd440bc5fdd9c7a48e0d354ad8d/ergoplatform/sigma-rust/pull/600


[07/18/2022 1:13 PM] nitram147#5106
If I got your message right, the error that the @keblaK  encountered was made by the R9 (all other registers have the Unit "62" value). This would then imply that the sigma-rust have problem with parsing such a values - or am I wrong?


[07/18/2022 1:14 PM] nitram147#5106
Here's the value from the screenshot
```
3c0e400e035052500403546878
```


[07/18/2022 1:16 PM] greenhat#6562
The funny thing is that I tested the R9 value and it parsed just fine. @keblaK Could you provide the full JSON as text?


[07/18/2022 1:18 PM] keblaK#5054
unfortunately, i‚Äôve already spent that utxo to avoid registers


[07/18/2022 1:25 PM] greenhat#6562
At least next time we'll see what failed to parse. :)


[07/18/2022 1:32 PM] nitram147#5106
Where did you spend your box?


[07/18/2022 1:32 PM] nitram147#5106
This should be it's ID (from the screenshot)


[07/18/2022 1:32 PM] nitram147#5106
```
18419b8756dbef081f7f0541bc38dd61fa6e9d4858d89d94d6bf997d465434a4
```


[07/18/2022 1:32 PM] nitram147#5106
However I can't find such a spend box neither on mainnet nor on testnet


[07/18/2022 1:36 PM] keblaK#5054
i‚Äôve sent my money back to my address


[07/18/2022 1:42 PM] nitram147#5106
My fault, I've taken wrong boxId from the picture (first box on the picture isn't a real existing box).


[07/18/2022 1:42 PM] nitram147#5106
https://api.ergoplatform.com/api/v1/boxes/a050a35f530add851deb12debfde9777c95511e191251b361a6575e65ec554df


[07/18/2022 1:42 PM] nitram147#5106
Here you go


[07/18/2022 1:44 PM] greenhat#6562
Thank you!


[07/18/2022 1:48 PM] greenhat#6562
It parses fine. @keblaK Are you sure the error was from parsing this exact box?


[07/18/2022 1:48 PM] nitram147#5106
Yep:


[07/18/2022 1:48 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/998572000119373834/unknown.png


[07/18/2022 1:48 PM] nitram147#5106


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/998572062270570637/unknown.png


[07/18/2022 1:49 PM] keblaK#5054
yeah, 100%


[07/18/2022 1:51 PM] nitram147#5106
Mnn, in the screenshot error, there's the same boxId as I've send here


[07/18/2022 1:52 PM] greenhat#6562
Yes, the `error parsing constant from string: {:?}` error is for parsing constants from strings, so it's only for reg values.


[07/18/2022 1:52 PM] keblaK#5054
when I tested, everything was fine with 1 box, worked absolutely fine


[07/18/2022 1:53 PM] nitram147#5106
Do you know which version of library did you used? @keblaK


[07/18/2022 1:55 PM] keblaK#5054
8.13.1


[07/18/2022 1:56 PM] nitram147#5106
?


[07/18/2022 1:56 PM] nitram147#5106
I have `"ergo-lib-wasm-browser": "^0.16.1",`


[07/18/2022 1:56 PM] nitram147#5106
How could you have "8.13.1"?


[07/18/2022 1:56 PM] nitram147#5106
@keblaK


[07/18/2022 2:10 PM] keblaK#5054
oh sorry, it‚Äôs 0.14.0


[07/18/2022 2:13 PM] greenhat#6562
This is I suspect the reason you saw this error. It's way too old.


[07/18/2022 2:56 PM] keblaK#5054
okay, thank you very much üòâ


[07/18/2022 3:01 PM] keblaK#5054
Also, i have another question. Right now, I am working on an airdrop app, so that there are 4K addresses. I have 3 erg, and I want to test the transaction by sending 0.00065 erg equally for each one. Previously, when I conducted test with 200 addresses, it was working fine when I've sent 0.0001 erg for each. But with 4K addresses, the transaction is signed successfully and id is generated, however it shows an error that "Transaction with this ID was not found, or it has not entered Mempool yet". Are there any specific rules for the increasing number of addresses, or maybe I am doing something wrong?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/998590385356017827/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/998590385586708500/unknown.png


[07/18/2022 3:02 PM] keblaK#5054
This is my successful transaction I've tested with 256 addresses: https://explorer.ergoplatform.com/en/transactions/7dd1510029b5ad6e7e0fb7e67ad830b955453a22f861d7e99e6f886e0d72d803


[07/18/2022 3:30 PM] greenhat#6562
Serialized tx size limit comes to mind.


[07/18/2022 4:00 PM] keblaK#5054
Is there any exact tx size amount?


[07/18/2022 4:04 PM] greenhat#6562
I cannot find any tx size limit in node's code. Seems like I was mistaken.


[07/18/2022 11:20 PM] Krasavice Blasen#4574
I thought there is 96kb tx size limit


[07/18/2022 11:21 PM] Krasavice Blasen#4574
https://discord.com/channels/668903786361651200/908347206988365864/978396053101506560


[07/18/2022 11:21 PM] Krasavice Blasen#4574
Think ive seen it mentioned somewhere in node config too before


[07/19/2022 6:06 AM] greenhat#6562
Thanks! I thought we ought to have one.


[07/19/2022 6:51 PM] koutelier#5178
when the babel fees are available, projects will have to add liquidity there same way we do on ergodex for example ?


[07/20/2022 1:08 PM] capt_nemo#3204
Something like that, but for babel boxes you will need to set a price for your ERG. Something very close to a selling order book for ERG.


[07/20/2022 2:34 PM] koutelier#5178
@MrStahlfelge i forked the wallet but i get an gradle sync issue : 
`Unable to find method ''void org.apache.commons.compress.archivers.zip.ZipFile.<init>(java.nio.channels.SeekableByteChannel)''
'void org.apache.commons.compress.archivers.zip.ZipFile.<init>(java.nio.channels.SeekableByteChannel)'`


[07/20/2022 2:59 PM] MrStahlfelge#0042
use java 11


[07/20/2022 3:01 PM] koutelier#5178
so i have to downgrade ? i use 18


[07/20/2022 3:01 PM] MrStahlfelge#0042
you can have multiple installed. android is build with 11 no way around that.


[07/20/2022 3:03 PM] koutelier#5178
thank you sir. also for the ios app i will need a macos device right ?


[07/20/2022 3:03 PM] MrStahlfelge#0042
yes, and many patience

{Reactions}
ü§£ 

[07/20/2022 3:05 PM] koutelier#5178
rip comet ios wallet


[07/20/2022 3:05 PM] MrStahlfelge#0042
check out desktop branch for the desktop version, maybe that one is for you

{Reactions}
like 

[07/20/2022 3:07 PM] koutelier#5178
thank you


[07/20/2022 7:30 PM] drehaf#0090
hello! Wondering if any of you would mind testing a smallish webapp/scripts I made to allow the tally of ERGO Native Assets?

Essentially it lets you put in the amount of ERG/SIG/COMET..etc...and it gets the current price and gives you a individual and a portfolio total.

I'm not a great programmer and I did it in PERL (it's all I know, but it's fast) but it was something I wanted to have that would be fast and eventually viewable on mobile.

I hope to add more ERGO native tokens as well as start adding Cardano Native Tokens too (all the ones that CMT won't track).

Haven't adjusted for mobile yet, so please if you do, use a desktop/laptop

For now, it gets all the coin prices from ERGODEX

Here is the site <https://my.ergoport.dev/>

Here is the code:
<https://github.com/andrehafner/my.ergoport.dev>

{Reactions}
üëç (2) üî• (2) 

[07/20/2022 7:31 PM] drehaf#0090
the portfolios are easily shareable as well with just the id#


[07/21/2022 4:36 AM] HelixEvo#2120
Retro


[07/21/2022 4:38 AM] drehaf#0090
Unfortunately retro is the result of my limited chops üòâ


[07/21/2022 4:40 AM] HelixEvo#2120
It‚Äôs cool, different


[07/21/2022 4:59 AM] drehaf#0090
OH TY!


[07/21/2022 5:00 AM] drehaf#0090
I just got the feed from Minswap so I‚Äôm going to try to put some Cardano tokens in there that aren‚Äôt in CMC


[07/21/2022 7:42 AM] Petur#0675
Hello,

I'm looking into integrating Ergo with my product and I have a few questions that I was hoping someone could help me with:
- I've heard that Ergo uses eUTXO, like Cardano. I assume that this means that Ergo wallets have an public key (xpub) that can be used to derive a list of addresses. IOHK has developed this handy tool for Cardano: https://github.com/input-output-hk/cardano-addresses
Is there a similar tool for Ergo or can you share an easy way to derive all public addresses from an xpub key (maybe there is an API that can do this? Or maybe the xpub can be used directly to sync the full transaction history without the need to derive every address used?)

Thank you for your help!


[07/21/2022 8:58 AM] ilya | dappstep#9261
Hey, question


[07/21/2022 8:58 AM] ilya | dappstep#9261
In order to generate 2...n tx in the chain, the outputs of n-1 have to be in the mempool already?


[07/21/2022 9:06 AM] ilya | dappstep#9261
Check out this part of the Nautilus wallet source code https://github.com/capt-nemo429/nautilus-wallet/blob/master/src/api/ergo/bip32.ts

You can also try to describe what are you trying to achieve from user perspective, I might be able to help

{Embed}
https://github.com/capt-nemo429/nautilus-wallet/blob/master/src/api/ergo/bip32.ts
nautilus-wallet/bip32.ts at master ¬∑ capt-nemo429/nautilus-wallet
Privacy wallet designed for Ergo Network. Contribute to capt-nemo429/nautilus-wallet development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/-oNU2NAsD669ielT_pcMrFUTLZ5SuZmKr9Ou5l5KcKw/https/opengraph.githubassets.com/d74b9388ef0a0803b7e23064a9fcaf16bc4e0f1db00280e103344475da3c325a/capt-nemo429/nautilus-wallet


[07/21/2022 9:12 AM] ilya | dappstep#9261
@MrStahlfelge sir


[07/21/2022 9:14 AM] MrStahlfelge#0042
Yes, you need to submit in correct order


[07/21/2022 9:19 AM] ilya | dappstep#9261
So I need to wait for some time for the first tx to propagate to all nodes?


[07/21/2022 9:22 AM] MrStahlfelge#0042
Never tried to submit it in short periods of time. But my guess is, as long as you submit to the same node, it should work without waiting time


[07/21/2022 9:22 AM] ilya | dappstep#9261
üí™ üí™ üí™ 
https://stackoverflow.com/questions/73062876/getting-input-not-found-error-when-trying-to-submit-chained-transaction

{Embed}
https://stackoverflow.com/questions/73062876/getting-input-not-found-error-when-trying-to-submit-chained-transaction
Getting "Input not found error" when trying to submit chained trans...
I'm trying to submit multiple chained transactions at once.
The First tx gets submitted succesfully, the second one receive this error:
Bad request: Transaction is invalid. Input 0:
https://images-ext-1.discordapp.net/external/VbfwnzN2MM794XNccNxDzrB1YeuPrxR53y11bwRfflY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon%402.png


[07/21/2022 9:22 AM] MrStahlfelge#0042
I think @Luivatra made some more tests, think he said more than 3 did not work for him?


[07/21/2022 9:23 AM] ilya | dappstep#9261
More than 3 txs in chain?


[07/21/2022 9:24 AM] MrStahlfelge#0042
Yes but let's wait what he says


[07/21/2022 9:35 AM] Petur#0675
Thank you. This might be all I need but not quite sure yet.

Basically, we will need to extract the entire transaction history for any given wallet. Since Ergo is (e)UTXO, we won't get the full transaction history from a single address so we will need to ask users for their xpub keys instead.
I have also been looking through the API docs and it seems like this endpoint is able to fetch the full transaction history for a given address (including all tokens):
https://api.ergoplatform.com/api/v1/docs/#operation/getApiV1AddressesP1Transactions


[07/21/2022 10:10 AM] ilya | dappstep#9261
Ok, first of all, yes the issue was that output wasn't in a pool worked with 10 sec sleep

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/999604235035484220/unknown.png

{Reactions}
üëç 

[07/21/2022 10:13 AM] ilya | dappstep#9261
in dapp connector you have ergo.get_used_addresses() and ergo.get_unused_addresses(). that might help


[07/21/2022 11:01 AM] Petur#0675
that is helpful but this won't be a dapp. We'll only be asking for user's addresses/xpub as a string.
We'll look further into this so might be back with some questions in a few weeks üôÇ


[07/21/2022 11:18 AM] Luivatra#9076
Nah it was more than that, it just seemed like at some point the mempool/node doesnt accept more. But never got around to testing specifically. Think if submitting to the same node no sleep is needed though. When bootstrapping a staking setup I mint 5 tokens/nft's and the final tx binds it all together into the contracts, so 6 transactions chained without sleep.


[07/22/2022 5:08 PM] NoahErgo#4349
Hey Petur good to see you here üòÑ

{Reactions}
üòä 

[07/22/2022 5:10 PM] NoahErgo#4349
There are also apis available for prices if you need those, most tokens are not listed on coingecko


[07/22/2022 5:18 PM] capt_nemo#3204
Hey, you can derive public keys by using bitcoinjs' bip32 lib and `m/44'/429'/0'/0` path, and  then encode pks to ergo addresses by using ergo-ts (npm: @nautilus-wallet/ergo-ts)

For transaction history, we also have a GraphQL service: https://gql.ergoplatform.com/

{Reactions}
‚ù§Ô∏è 

[07/22/2022 5:24 PM] capt_nemo#3204
Alternatively we have sigma-rust library that also can do it üôÇ

https://github.com/ergoplatform/sigma-rust


[07/22/2022 5:36 PM] MrStahlfelge#0042
On which tech level are you developing? There's also a Java SDK to derive the addresses from xpubkey. It is basically the same than Bitcoin, the address is just encoded a bit different for separation


[07/23/2022 3:51 AM] kii#8888
Hi, I'm using data inputs in a guardscript. and have this line.

```

        val sltServiceBoxAsDataInput: Box           = CONTEXT.dataInputs(0)
```

The thing is, I have 2 conditions. One uses dataInputs, and one doesnt. When I'm creating the txs, I dont insert the dataInputs for the one that doesnt use the datainputs. 

However, when I try to run the tx that doesnt use the data inputs and don't take the dataInputs. It fails. 

Is this expected? Are there workaround for it?


[07/23/2022 8:40 AM] MrStahlfelge#0042
AFAIK it has something to do with AOT costing, so yes, it is expected. you can try if it is different on 5.0


[07/25/2022 1:27 AM] kii#8888
When you say 5.0, you meant appkit 5.0?


[07/25/2022 4:00 AM] MGpai#4313
I have a bunch of chained examples on python appkit


[07/25/2022 4:00 AM] MGpai#4313
https://github.com/mgpai22/ergpy/blob/main/examples/example_2_chained_txs_simple_send.py


[07/25/2022 4:00 AM] MGpai#4313
Generally I found that you dont need to wait


[07/25/2022 4:01 AM] MGpai#4313
however, waiting a small amount of time could provide stability


[07/25/2022 4:01 AM] MGpai#4313
Also there isnt a limit


[07/25/2022 4:01 AM] MGpai#4313
I done 1000s of chained txs


[07/25/2022 6:50 AM] MrStahlfelge#0042
wow really?


[07/25/2022 6:53 AM] MrStahlfelge#0042
yes for appkit you have to wait for 5.0. don't know when we will release that, it is up to @morphic - but you can work with 5.0 on the testnet by submitting the tx directly. I think that is how @Luivatra tested


[07/25/2022 7:57 AM] Krasavice Blasen#4574
Definitely, Ive done around 1500 before

{Reactions}
üî• 

[07/25/2022 7:58 AM] Krasavice Blasen#4574
Not sure if p2s addresses any different but chaining txs on the node, never had a problem


[07/25/2022 8:28 AM] Luivatra#9076
Yeah, I constructed a json and signed on node


[07/25/2022 8:49 AM] Petur#0675
that's interesting. Which apis are these? Not seeing this on the official API


[07/25/2022 8:25 PM] lgd#5847
Some questions about the oracle protocol:
1. Does the posting schedule need to be a whole number? (i.e. does it make any sense for this to be a fraction of a block?)
2. Does the datapoint have to be a "single" value or could it be a tuple/collection of data?


[07/26/2022 3:48 AM] NoahErgo#4349
You can use ergodex api for this 

I think it is this https://api.ergodex.io/v1/docs/

@Ilya | Spectrum can you confirm?

{Reactions}
üôè 

[07/26/2022 3:52 AM] NoahErgo#4349
Also for sigusd/sigrsv can use ergo watch

https://ergo.watch/apis

{Embed}
https://ergo.watch/apis
ErgoWatch
Ergo Blockchain Stats & Monitoring

{Reactions}
ü§ü 

[07/26/2022 9:03 AM] ilya | dappstep#9261
Hi all! I've just published the Part II of dapp development course, which can be found here 
https://www.youtube.com/watch?v=742qiUg5pxY

{Embed}
dappstep
https://www.youtube.com/watch?v=742qiUg5pxY
Hitchhiker's guide to dApp development on Ergo   Part II: Project s...
Join the community of builders! Discuss your projects and get help
https://twitter.com/dappstepjs


All mentioned links:
https://nextjs.org/

https://github.com/nirvanush/dao-dapp - Project repo to follow the progress

https://github.com/nirvanush/ergoscript - Transaction builder library

https://github.com/nirvanush/dappstep-play - Resource for...
https://images-ext-1.discordapp.net/external/GlrtjhRZos_Q8uuQkMLuHxwVZpYdaCfRrXdfXafWrZc/https/i.ytimg.com/vi/742qiUg5pxY/maxresdefault.jpg

{Reactions}
üôå 

[07/26/2022 9:57 AM] morphic#4133
I think it is up to kushti, he is preparing v5.0 release now.


[07/26/2022 11:56 AM] MrStahlfelge#0042
for appkit as well?


[07/26/2022 11:59 AM] morphic#4133
Ah, you meant Appkit, then yes I will release Appkit 5.0 after Ergo 5.0 is out.

{Reactions}
üëç 

[07/26/2022 4:56 PM] Cheese Enthusiast#0548
Are there any changes to the ergoscript compiler in 5.0 outside of lazy if evaluation? For example, allowing Options to be used in contracts, additional collection functions, etc.?


[07/28/2022 9:20 AM] sakata#4279
Hey, does anybody know how to change the slick jdbc username & password in a client's & server's config for a ZKT?  I get an unexpected exception whenever they are changed. Also, could someone guide me on generating a P2SH address on testnet? üôÇ


[07/28/2022 11:29 AM] zargarzadehmoein#2928
what do you mean with ZKT? zero knowledge treasury?


[07/28/2022 11:30 AM] sakata#4279
Yea


[07/28/2022 11:31 AM] zargarzadehmoein#2928
do you want to change password for the existing database or new database ?


[07/28/2022 11:31 AM] zargarzadehmoein#2928
@sakata


[07/28/2022 11:32 AM] sakata#4279
So its not possible to change the password once the app has been launched with a config?


[07/28/2022 11:34 AM] zargarzadehmoein#2928
what is your database? are you using default database (I guess H2)?


[07/28/2022 11:35 AM] sakata#4279
The standard setup from github


[07/28/2022 11:46 AM] zargarzadehmoein#2928
for change your password you need a client for connect with JDBC to H2 database and execute a query for alter your password I guess there a client in site of H2

`ALTER USER admin SET PASSWORD 'test';`

NOTE: PLEASE GET A BACKUP FROM YOUR DB's FILE BEFORE TRY TO ALTER


[07/28/2022 12:00 PM] sakata#4279
That's great! Thanks for your help

{Reactions}
üëç 

[07/28/2022 1:43 PM] sakata#4279
Would it be possible if you could guide me on creating a P2SH on testnet, too? Something similar to what you can do on plutomonkey


[07/28/2022 3:56 PM] zargarzadehmoein#2928
I guess plutomonkey returns P2S, however, you can use by API of node to create P2S or P2SH

{Reactions}
‚ù§Ô∏è 

[07/28/2022 5:14 PM] sakata#4279
So it is, thanks again

{Reactions}
üëç 

[07/29/2022 7:37 PM] koutelier#5178
sirs i am building a burn tx. basically i created an output box without the tokens


[07/29/2022 7:37 PM] koutelier#5178
is that the right way?


[07/29/2022 7:38 PM] koutelier#5178
these tokens(comet tokens) will end up in some miners wallet at some point?


[07/29/2022 9:04 PM] zargarzadehmoein#2928
which sdk?


[07/29/2022 9:14 PM] koutelier#5178
wdym ?


[07/29/2022 10:48 PM] MrStahlfelge#0042
Appkit or sigma-rust or node API?


[07/30/2022 2:17 PM] koutelier#5178
Sigma rust


[07/30/2022 6:20 PM] NoahErgo#4349
@MGpai check dms sir üôÇ

{Reactions}
üëç 

[08/01/2022 6:58 PM] Quwin#6226
I'm having trouble making an Array of data into an ErgoValue,  getting `overloaded method value of with alternatives`. Is there an example of how I could do this?

This is on Appkit


[08/01/2022 7:45 PM] zargarzadehmoein#2928
what is type of your data?


[08/01/2022 7:48 PM] Quwin#6226
I need an `Array[Int]` right now but I assume it's the same for all types besides an array of bytes

I also tried turning the Ints to bytes but I don't know how to make an ErgoValue of an `Array[Array[Byte]]` either lol


[08/01/2022 7:54 PM] zargarzadehmoein#2928
This is `Coll[Coll[Byte]]`:
https://github.com/ErgoGravity/gateway-proxy/blob/9cbf72b934b08e258457367e366050a1734f1050/app/gateway/Adaptor.scala#L331

{Embed}
https://github.com/ErgoGravity/gateway-proxy/blob/9cbf72b934b08e258457367e366050a1734f1050/app/gateway/Adaptor.scala
gateway-proxy/Adaptor.scala at 9cbf72b934b08e258457367e366050a1734f...
Wrapper of Ergo Node to work with Gravity.tech. Contribute to ErgoGravity/gateway-proxy development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/81cCV4rTgsXZNY8RovIePoQcc6IvDEIUkBOVM2zlP-w/https/opengraph.githubassets.com/a46e6317164bdae9a7e81a86dcc2760056d7583ccd5fa2e815b27b5ad17c5189/ErgoGravity/gateway-proxy


[08/01/2022 8:06 PM] zargarzadehmoein#2928
for Array[Int] you need do this:

```
val forTests: Array[Integer] = List(Iso.jintToInt.from(1), Iso.jintToInt.from(2), Iso.jintToInt.from(3)).toArray

val IntValues = ErgoValue.of(forTests , ErgoType.integerType)
```


[08/01/2022 8:08 PM] Quwin#6226
Thanks, is there a best practice between putting an Integer or array of bytes to a Box register?


[08/01/2022 8:13 PM] zargarzadehmoein#2928
yw, I guess both are ok, this depends on your use case


[08/01/2022 8:15 PM] zargarzadehmoein#2928
maybe this could help you about size of both and etc

https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md#data-types

{Embed}
https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md
sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/si...
ErgoScript compiler and ErgoTree Interpreter implementation for Ergo blockchain - sigmastate-interpreter/LangSpec.md at develop ¬∑ ScorexFoundation/sigmastate-interpreter
https://images-ext-1.discordapp.net/external/k0gzKtKJChdxhI4zYzxk0nZf-krsrssX4acMyvPros8/https/opengraph.githubassets.com/b977079e4d8adbf09f60bf249c0ce4442e95482c38fed3dd1f3a459a587dd04d/ScorexFoundation/sigmastate-interpreter


[08/01/2022 8:25 PM] Quwin#6226
Huh in the `Array[Int]` example it works as an Int, but not as any other type, is there a reason for that?

At least it didnt work for `Array[Long]` or `Array[Short]`


[08/01/2022 8:45 PM] zargarzadehmoein#2928
```
import java.lang.{Short => JShort, Integer => JInt, Long => JLong}

// Array[Short]:
val forTests: Array[JShort] = List(JShort.valueOf(1.toShort), JShort.valueOf(1.toShort), JShort.valueOf(1.toShort)).toArray
val ShortValues = ErgoValue.of(forTests , ErgoType.shortType())


// Array[Int]:
val forTests: Array[JInt] = List(JInt.valueOf(1), JInt.valueOf(2), JInt.valueOf(3)).toArray
val intValues = ErgoValue.of(forTests , ErgoType.integerType())


// Array[Long]:
val forTests: Array[JLong] = List(JLong.valueOf(1L), JLong.valueOf(2L), JLong.valueOf(3L)).toArray
val longValues = ErgoValue.of(forTests , ErgoType.longType())
```

you can use directly `java.lang` to convert your scala type to java type or use ‚Äç`Iso` functions (previous example for Int) to convert types


[08/01/2022 8:48 PM] Quwin#6226
Got it, thanks so much

{Reactions}
üëç 

[08/02/2022 10:00 AM] kii#8888
Hi guys. I recently came across this issue where I send a tx, and it shows up in the mempool. However it never completes, and the tx just disappears. What does this mean?


[08/02/2022 1:10 PM] sakata#4279
Hey, could someone guide me on how to use the p2sAddress method in the node API? I have a script but am unsure on how to denote it in JSON


[08/02/2022 4:46 PM] Cheese Enthusiast#0548
Could mean input boxes are getting double spent, or the box script relies on information that changes once it gets into mempool such as data inputs.


[08/02/2022 6:24 PM] dusek#6153
if you have some ergoscript code, call the p2sAddress method with ```{"source":"ErgoScript Code Here"}```

{Reactions}
‚ù§Ô∏è 

[08/02/2022 6:26 PM] sakata#4279
Thanks!


[08/02/2022 6:28 PM] dusek#6153
also, I should probably mention. I apparently mined a few dozen blocks on testnet, so if anyone wants some testnet ERG you can ping me


[08/02/2022 9:21 PM] kii#8888
Could there be other reasons? It doesnt seem like those are the cases


[08/02/2022 9:23 PM] Cheese Enthusiast#0548
Maybe the transaction requires the height to be in a certain range, and the height changes by the time its in mempool? That has happened to me before and caused the transaction to fail in mempool.


[08/02/2022 9:23 PM] Cheese Enthusiast#0548
If that‚Äôs not it, send it over and I can try to see what the issue is. Could be lots of things honestly.


[08/02/2022 9:25 PM] kii#8888
wanna hop on a call on exle dev?


[08/02/2022 9:27 PM] Cheese Enthusiast#0548
I‚Äôm at the gym rn üòÖ


[08/02/2022 9:27 PM] Cheese Enthusiast#0548
Gimme around 40ish minutes


[08/02/2022 9:28 PM] kii#8888
hahah you're replying at the gym bro?


[08/02/2022 9:28 PM] kii#8888
gotta take those weights serious man


[08/02/2022 9:28 PM] kii#8888
aight hit me up when you're good

{Reactions}
üëç 

[08/02/2022 9:30 PM] Cheese Enthusiast#0548
Lol gotta use my min and a half rest between sets wisely


[08/02/2022 9:35 PM] kii#8888
LOLLOL man is made to be CEO


[08/03/2022 10:03 AM] kii#8888
What does it mean when a tx takes forever to sign but never throws an error?


[08/03/2022 3:47 PM] sakata#4279
Anyone know why I get this error when trying to sign a proposal in the zkt? I'm running on testnet if that helps
`[error] c.Controller - error while generating commitment! No content to map due to end-of-input at [Source: (String)""; line: 1, column: 0]`


[08/04/2022 3:36 PM] Quwin#6226
Quick questions: Whats the maximum supply of a token when it gets minted? 10 Mil? u64MAX?

Also, there's no way to mint multiple tokens within a single transaction, right?


[08/04/2022 4:06 PM] Cheese Enthusiast#0548
I believe its Long.MAX, maybe BigInt.MAX is possible if the tokens are split into several output boxes but I'm not too sure about that.

And yes, because each minted token id is the id of the first input box, you can only ever mint one unique token per transaction.


[08/04/2022 7:27 PM] Quwin#6226
Is it possible to mint additional tokens after an initial mint in ergo?

With the same token id


[08/04/2022 8:46 PM] Cheese Enthusiast#0548
Not possible, if you want a more elastic supply you could mint max tokens and lock them in a smart contract. I can't imagine ever needing more than BigInt.MAX or even Long.Max. Other option is to mint a new token and allow for 1:1 trades with the old one via a smart contract.

{Reactions}
üëç ‚úÖ 

[08/05/2022 1:26 AM] MGpai#4313
Hey I would love if people could help out and test this for me!


[08/05/2022 1:26 AM] MGpai#4313
https://discord.com/channels/668903786361651200/669989266478202917/1004432104693715024


[08/05/2022 8:42 AM] MrStahlfelge#0042
tried with ergopay, but have two problems:
- can't change anything in the input fields, so can't set my address to send to
- shows a qr code but I am on the same device so need the button/ergopay link in clipboard


[08/05/2022 7:37 PM] MGpai#4313
ergopay should work now, I updated the appkit version and it seems to be good


[08/05/2022 7:38 PM] MGpai#4313
If you are on mobile, the button should open the ergo wallet app directly


[08/05/2022 7:38 PM] MGpai#4313
make sure you dont have the "desktop site" selected in the browser


[08/05/2022 7:39 PM] MGpai#4313
I see how the input field can get confusing. That is meant to show the recipient of the ERG/ my wallet


[08/05/2022 11:11 PM] MGpai#4313
@J - The Ergod hey I am using https://github.com/nightowlcasino/dApp-connector-react-package

Are there any updates such as SAFEW getting supported? Also is it possible to center wallet addresses?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1005236524713005206/unknown.png


[08/05/2022 11:55 PM] J - The Ergod#0899
@MGpai hey! @Daniumy should be able to help


[08/06/2022 12:29 AM] MGpai#4313
thanks


[08/06/2022 12:45 AM] Daniumy#5792
It is weird that the address is being shown up there, could that be due to some CSS styling applied to divs containing it?


[08/06/2022 12:46 AM] Daniumy#5792
Play around with it a bit place it in diff div containers and see if it still shows up there


[08/06/2022 12:48 AM] Daniumy#5792
And yeah safew will be supported too, tbh I could already upload the first version of it, it is been done for a while, will soon try to add the new version


[08/06/2022 9:18 AM] MrStahlfelge#0042
Ah okay I was on desktop working with the desktop wallet app.
Good, by scanning the qr with the mobile app something is sent to 
3WxiMe1AMCaX7VCyicgaE3TQEocXHfAq7j4pyycQ7SBPShrQDQvZ
Is that what's expected?


[08/06/2022 1:39 PM] MGpai#4313
Ah I just realized I changed it while modifying the frontend yesterday


[08/06/2022 1:40 PM] MGpai#4313
Try again it should be all set to the proper values


[08/06/2022 3:40 PM] MrStahlfelge#0042
the values are set, yes. but I cannot edit them so it is always going to 3WxKEToCgavDCsfCd79ucbKLrP99voiRdStVaPRcnCNW8JuTSmKu


[08/06/2022 3:41 PM] MGpai#4313
yes that is correct, it should go there


[08/06/2022 3:41 PM] MGpai#4313
only I am the one who can edit it


[08/06/2022 3:43 PM] MrStahlfelge#0042
Okay then it is working as intended


[08/07/2022 12:01 AM] Omnia#7128
when writing the ergoscript, can I set a spending condition that the total amount of a specific token  of one address is less than a number? and if so, how? thanks.


[08/08/2022 4:45 PM] NoahErgo#4349
Hey @greenhat saw you updated sigma rust to prevent token burns.

Should we consider removing the following repo from github or marking it as deprecated or something?

https://github.com/ergoplatform/ergo-js

An app was built with this library a while back that burned a bunch of my tokens because the dev was inexperienced with ergo and it seemed like the easiest one to pick up for a js developer, but the library doesnt have any checks to ensure tx safety

{Embed}
https://github.com/ergoplatform/ergo-js
GitHub - ergoplatform/ergo-js: JS library for Ergo integration
JS library for Ergo integration. Contribute to ergoplatform/ergo-js development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/h2kqigIzQTZvPJh2oazfoM2QX5CjBrZe35m9tTgwPss/https/opengraph.githubassets.com/4a2e011adc8048914efbb072dd8cc5ba552941f95dcd83e16875b4b2f343763f/ergoplatform/ergo-js


[08/08/2022 4:58 PM] greenhat#6562
We better ask @Dmitry Usov


[08/08/2022 5:00 PM] Dmitry Usov#0134
Need to archive it

{Reactions}
üëç 

[08/08/2022 5:20 PM] NoahErgo#4349
Made a github issue and tagged you

{Reactions}
‚ù§Ô∏è 

[08/10/2022 12:48 PM] glasgowm#9381
Trying out Discord new forum feature - please open any support requests in #dev-forum


[08/10/2022 2:29 PM] IFTTT#6211
The third part of dapp development course for javascript developers is released
https://www.youtube.com/watch?v=44yrT7wJt1g

via https://ift.tt/7RsGnpb

{Embed}
The third part of dapp development course for javascript developers is released
The third part of dapp development course for javascript developers is released
https://www.youtube.com/watch?v=44yrT7wJt1g

via https://ift.tt/7RsGnpb
https://images-ext-1.discordapp.net/external/Jo9sNu9AyKUM1mayPF8eKSRfqhtIatrr4AIYXJH0wwg/https/i.ytimg.com/vi/44yrT7wJt1g/hqdefault.jpg
The third part of dapp development course for javascript developers is released via /r/ErgoDevelopers https://ift.tt/7RsGnpb


[08/10/2022 3:24 PM] IFTTT#6211
DeCo: Next semester's teachers Roster:
https://twitter.com/DeCoEducation/status/1557368619662598144

via https://ift.tt/SqM5stQ

{Embed}
DeCo: Next semester's teachers Roster:
DeCo: Next semester's teachers Roster:
https://twitter.com/DeCoEducation/status/1557368619662598144

via https://ift.tt/SqM5stQ
https://images-ext-1.discordapp.net/external/8_8sUhNdmumVnvTLMJWa6kv3Fsy16t-60t_YblhF8QU/https/abs.twimg.com/errors/ErrorState_NotFound.png
DeCo: Next semester's teachers Roster: via /r/ErgoDevelopers https://ift.tt/SqM5stQ


[08/10/2022 3:25 PM] glasgowm#9381
Where did that fancy dog come from


[08/14/2022 4:40 PM] 6directions#1089
noticing something really odd on testnet and not sure how to make sense of it.
1. I send some ERG to myself
2. tx appears as unconfirmed on explorer for a brief amount of time
3. as soon as tx confirms, I cannot see it in the explorer anymore
4. when I enter my wallet address on the explorer, there is no visible record of that tx (notice the last visible tx is from last week)

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1008399742847418429/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/1008399743203950744/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/1008399743531098152/unknown.png
https://cdn.discordapp.com/attachments/840313005064585246/1008399743866650704/unknown.png


[08/14/2022 4:51 PM] Cheese Enthusiast#0548
I believe testnet explorer is broken rn


[08/14/2022 6:02 PM] MGpai#4313
@6directions https://discord.com/channels/668903786361651200/669989266478202917/1007796048367992865


[08/14/2022 6:02 PM] MGpai#4313
Its been like this for days


[08/14/2022 6:02 PM] MGpai#4313
I been testing on mainnet now lol


[08/15/2022 2:39 PM] IFTTT#6211
Self-maintained open-source development - Research and Development
https://ift.tt/f3ZWym4

via https://ift.tt/gbOqNY3


[08/16/2022 12:44 PM] IFTTT#6211
Decentralized P2P options contracts on Ergo
https://ift.tt/uWvXBK0

via https://ift.tt/X7l1fYt


[08/16/2022 12:44 PM] IFTTT#6211
Scalable, On-Demand NFT Minting - Research and Development
https://ift.tt/n2736Lx

via https://ift.tt/XMLOVqF


[08/17/2022 3:19 PM] IFTTT#6211
What is a DeCo Community | DeCo Education
https://ift.tt/RQbKjd1

via https://ift.tt/jsx914l

{Embed}
What is a DeCo Community | DeCo Education
What is a DeCo Community | DeCo Education
https://ift.tt/RQbKjd1

via https://ift.tt/jsx914l
https://images-ext-1.discordapp.net/external/_4UOpxEbSIwPKuUYSQDjSzMmeDvPqkJU3ZOaIzOYpxg/https/deco-education.github.io/deco-docs/img/DeCo_Logo.svg
What is a DeCo Community | DeCo Education via /r/ErgoDevelopers https://ift.tt/jsx914l


[08/18/2022 12:35 AM] HelixEvo#2120
For the devs out there. What difference for a repository clone, pull request or just editing file in master branch?


[08/18/2022 12:42 AM] lgd#5847
clone: copying repository to your computer
pull request: requesting to add your local changes in a particular branch to the original repository you cloned/forked in a corresponding branch
editing file in master branch: if you created the repo and are just modifying your own file then you are just updating your own project, if you cloned/forked then you are modifying your own copy of the repository. if you want the changes to show up in the original repo, submit a pull request.

{Reactions}
üëç 

[08/18/2022 1:25 AM] HelixEvo#2120
Thanks. Is there a way to roll back changes to a branch I am developing on?


[08/18/2022 1:25 AM] HelixEvo#2120
Before making pull request


[08/18/2022 1:27 AM] lgd#5847
yeah you need to revert to a previous commit


[08/18/2022 1:27 AM] lgd#5847
just google how to do that


[08/18/2022 1:35 AM] HelixEvo#2120
Thanks. Seems that‚Äôs not possible in the website. Thanks for info though


[08/18/2022 8:30 AM] MrStahlfelge#0042
easiest is to do another commit and stash


[08/18/2022 9:17 AM] HelixEvo#2120
My working now is created a dev branch. Putting to changes to that. Then when I want prod I just pull request?


[08/18/2022 5:02 PM] MGpai#4313
how is encoding done in registry for sigma types?


[08/18/2022 9:38 PM] koutelier#5178
does ergowatch apis are updated ?


[08/19/2022 12:40 AM] HelixEvo#2120
If I add a collaborator to a repository.. Will any changes they do have to be approved by me?


[08/19/2022 1:06 AM] glasgowm#9381
good one for #dev-forum is the registry page on the docs hasnt helped


[08/19/2022 1:06 AM] glasgowm#9381
updated? they're working again if you mean that


[08/19/2022 1:07 AM] glasgowm#9381
Don't think so, although there may be a setting for it - but anyone can submit a PR already if its public


[08/19/2022 1:35 AM] HelixEvo#2120
Confusing. I see plenty people say ‚Äúapproved‚Äù ‚Äúmerged‚Äù. Thought it goes through some peer review process before changes allowed to go into master branch


[08/19/2022 1:35 AM] HelixEvo#2120
I‚Äôm very green at dev stuff üò≥


[08/19/2022 1:38 AM] glasgowm#9381
It does yeah you can request reviews, set minimum amount needed etc - you can see this on the ergo repos; but if it's just a single repository and you want to avoid them being able to merge without your approval best just leaving it as PRs (iirc!)

{Reactions}
üëå 

[08/19/2022 6:06 AM] koutelier#5178
i think the token_supply_tokens__token_id__supply_get doesn't work properly . we areburning some comet but the number of burned tokens doesn't change


[08/19/2022 10:56 AM] HelixEvo#2120
Tell you what it is. I think of a pull as take away from main branch. They should rename it push just for me üòÇ


[08/19/2022 1:59 PM] IFTTT#6211
Trustless Oracle Contracts - Research and Development
https://ift.tt/yaihwSs

via https://ift.tt/3Uk59Y4


[08/21/2022 10:16 PM] Cheese Enthusiast#0548
Anybody else running into this problem more often? Seen it happen to a few different people. It randomly occurs while I'm in the middle of chaining transactions and ends up being a pain to deal with.

 ``` "error" : 400,
  "reason" : "bad.request",
  "detail" : "Ask timed out on [Actor[akka://ergoref/user/$b#259538380]] after [5000 ms]. Message of type [org.ergoplatform.nodeView.ErgoNodeViewHolder$ReceivableMessages$LocallyGeneratedTransaction]. A typical reason for `AskTimeoutException` is that the recipient actor didn't send a reply.```


[08/22/2022 4:39 AM] MGpai#4313
Yes


[08/23/2022 3:24 PM] IFTTT#6211
Most Rosen Bridge repositories are now public on GitHub
https://ift.tt/AeVJkXn

via https://ift.tt/vqmSadb

{Embed}
Most Rosen Bridge repositories are now public on GitHub
Most Rosen Bridge repositories are now public on GitHub
https://ift.tt/AeVJkXn

via https://ift.tt/vqmSadb
https://images-ext-2.discordapp.net/external/dvK-Tg8Ny6k2suHfmpx8gnK0qhA-rkt2IeX5Khmi4w8/%3Fs%3D280%26amp%3Bv%3D4/https/avatars.githubusercontent.com/u/105315198
Most Rosen Bridge repositories are now public on GitHub via /r/ErgoDevelopers https://ift.tt/vqmSadb


[09/01/2022 6:31 AM] 6directions#1089
anybody knows if Nautilus can handle chained txs where more than 1 party needs to sign?
1 party would be the user, the other the dApp


[09/01/2022 8:46 AM] Luivatra#9076
you mean a p2s address?


[09/01/2022 6:33 PM] 6directions#1089
It involves a p2s address but not quite.

Tx1: User sends funds to p2s address with some data in registers -> Tx2: dApp backend service spends box at p2s address and produces some outputs

Tx1 requires user to sign with wallet of choice

Tx2, in this particular case, requires dApp to sign.

Wondering if a wallet like nautilus can build the chained txs and submit them at once, but the more I think about it the more I think the answer is "no", bc to sign tx2 the dApp's wallet keys are needed and those are not available at the time the user sends the funds to the p2s address


[09/01/2022 6:41 PM] capt_nemo#3204
Yes, Nautilus can sign chained transactions, when using a p2s contract it will try to find a owned pk in ergotree and registers, if nothing is found then the fist derived sk will be used to sign

{Reactions}
üëç 

[09/02/2022 1:02 PM] DeadMan#9961
how to make a node available for remote connection? Why can't I find it in the documentation?


[09/02/2022 1:12 PM] glasgowm#9381
You just need to set it up with nginx or Apache as you would any other web service. There's an example config here 

https://docs.ergoplatform.com/node/install/faq/


[09/02/2022 1:13 PM] DeadMan#9961
I just need to connect by address and port! how to do it in config file? why there are no commands and in general there is nothing at all in the config file


[09/02/2022 1:15 PM] glasgowm#9381
See nginx config in URL above


[09/02/2022 1:17 PM] DeadMan#9961
myIP:port/swagger not work??? realy need use nginx??? wtf


[09/02/2022 1:20 PM] glasgowm#9381
Works locally and other nodes can reach it through P2P layer, if you want a node on the web you'll need to use a webservice yeah


[09/02/2022 1:23 PM] DeadMan#9961
Oh, to create a wallet on the server, I need to additionally configure nginx, make a separate domain, and only then can I create an API-Key and create a wallet. Great system. The best.


[09/02/2022 1:24 PM] glasgowm#9381
Can all be done via cli and no need for a domain


[09/02/2022 1:25 PM] DeadMan#9961
How? Where it in Wiki?


[09/02/2022 1:25 PM] glasgowm#9381
You always need a webserver on a remote server anyway. How else would it be accessible ?


[09/02/2022 1:26 PM] glasgowm#9381
If you want to access via web anyway


[09/02/2022 1:27 PM] glasgowm#9381
https://docs.ergoplatform.com/node/swagger/

Follow link to full API spec


[09/02/2022 1:28 PM] DeadMan#9961
Ok, how do I start the node so that I can connect to serverIP:port/swagger


[09/02/2022 1:32 PM] glasgowm#9381
bash -c "$(curl -s https://node.phenotype.dev)"

Should work if you're SSHd in on a Unix based system. Or just execute the commands from within manually.


[09/02/2022 1:33 PM] glasgowm#9381
But if you want to access anything via IP, you need a webservice so just Google 'nginx ubuntu' or whatever you're using


[09/02/2022 1:33 PM] glasgowm#9381
Or just access it via cli locally if you're SSHd in


[09/02/2022 1:40 PM] DeadMan#9961
The best coin. You can't just take it and run it on a remote server.


[09/02/2022 1:42 PM] glasgowm#9381
This is how you run anything on a remote server lol


[09/02/2022 1:44 PM] glasgowm#9381
You could also tunnel in locally


[09/02/2022 1:44 PM] DeadMan#9961
how i can create api key and wallet with command line


[09/02/2022 1:45 PM] DeadMan#9961
Usage: ergo [options]

  -c, --config <value>  location of ergo node configuration
  --devnet              set network to devnet
  --testnet             set network to testnet
  --mainnet             set network to mainnet
  --help                prints this usage text


[09/02/2022 1:52 PM] glasgowm#9381
```
java -jar -Xmx4G ergo-*.jar --mainnet -c ergo.conf

[in a new tab]
curl -X POST "http://localhost:9053/utils/hash/blake2b" -H "accept: application/json" -H "api_key: hello" "Content-Type: application/json" -d "\"$input\""

curl -X POST "http://127.0.0.1:9053/wallet/init" -H "accept: application/json" -H "api_key: hello" -H "Content-Type: application/json" -d "{\"pass\":\"string\",\"mnemonicPass\":\"\"}"

```


[09/02/2022 1:54 PM] DeadMan#9961
curl: (7) Failed to connect to 127.0.0.1 port 9053: Connection refused
curl: (3) URL using bad/illegal format or missing URL


[09/02/2022 1:54 PM] DeadMan#9961
curl: (7) Failed to connect to localhost port 9053: Connection refused
curl: (3) URL using bad/illegal format or missing URL


[09/02/2022 1:56 PM] glasgowm#9381
and what does `curl 127.0.0.1:9053/info` say?


[09/02/2022 1:57 PM] DeadMan#9961
curl: (7) Failed to connect to 127.0.0.1 port 9053: Connection refused


[09/02/2022 1:57 PM] glasgowm#9381
So the node isn't running - what's the status of `java -jar -Xmx4G ergo-*.jar --mainnet -c ergo.conf` ?


[09/02/2022 1:57 PM] DeadMan#9961
yes


[09/02/2022 1:57 PM] DeadMan#9961
ergo {
  node {
    mining = false
  }
}


[09/02/2022 1:58 PM] glasgowm#9381
What is the cli output of this?


[09/02/2022 1:59 PM] DeadMan#9961


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1015244595749195846/unknown.png


[09/02/2022 2:02 PM] glasgowm#9381
looks fine. Did you ssh back in on the new tab?


[09/02/2022 2:03 PM] DeadMan#9961
curl: (7) Failed to connect to 127.0.0.1 port 9053: Connection refused


[09/02/2022 2:10 PM] glasgowm#9381
? Are you ssh'd backed in? Doesn't look like it.


[09/02/2022 2:11 PM] DeadMan#9961


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1015247603799175200/unknown.png


[09/02/2022 2:13 PM] glasgowm#9381
And the node is still running in other tab with no errors/warnings ?


[09/02/2022 2:14 PM] DeadMan#9961
yep


[09/02/2022 2:17 PM] glasgowm#9381
```
netstat -ln | grep 9053
sudo netstat -tulpn
```


[09/02/2022 2:18 PM] glasgowm#9381
or maybe try

```
curl -v http://localhost:9053/info
```


[09/02/2022 2:18 PM] DeadMan#9961
*   Trying ::1:9053...
* TCP_NODELAY set
* connect to ::1 port 9053 failed: Connection refused
*   Trying 127.0.0.1:9053...
* TCP_NODELAY set
* connect to 127.0.0.1 port 9053 failed: Connection refused
* Failed to connect to localhost port 9053: Connection refused
* Closing connection 0
curl: (7) Failed to connect to localhost port 9053: Connection refused


[09/02/2022 2:20 PM] glasgowm#9381
some sort of firewall setup maybe?


[09/02/2022 2:20 PM] DeadMan#9961
firewall disable


[09/02/2022 2:22 PM] DeadMan#9961
netstat -ln | grep 9053
empty


[09/02/2022 2:22 PM] glasgowm#9381
```
tail -Fn+0 ergo.log | grep 'ERROR\|WARN'
```


[09/02/2022 2:24 PM] DeadMan#9961


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1015250855475294350/unknown.png


[09/02/2022 2:26 PM] glasgowm#9381
Yeah node looks like its shutting down

```
tail -Fn+0 ergo.log | grep 'ERROR\|WARN' > output.log
```


[09/02/2022 2:28 PM] DeadMan#9961
WARN  [tor.default-dispatcher-20] o.e.n.ErgoSyncTracker - Trying to clear status for ConnectedPeer(connection: ConnectionId(remote=/195.123.219.3:48908, local=/89.108.127.62:9030, direction=Incoming) , remote version: None), but it is not found


[09/02/2022 2:31 PM] DeadMan#9961
[tor.default-dispatcher-20] o.e.n.ErgoNodeViewSynchronizer - Chain is stuck! Node already stuck when started


[09/02/2022 2:31 PM] glasgowm#9381
Can't tell from what you've posted - post full logs

https://docs.ergoplatform.com/node/install/troubleshooting/


[09/02/2022 2:34 PM] DeadMan#9961
its a full error  log in output.log


[09/02/2022 2:36 PM] DeadMan#9961
port 9053 not working
port 9030 working


[09/02/2022 2:36 PM] DeadMan#9961
Trying ::1:9030...
* TCP_NODELAY set
* Connected to localhost (::1) port 9030 (#0)
> GET /info HTTP/1.1
> Host: localhost:9030
> User-Agent: curl/7.68.0
> Accept: */*
>
* Received HTTP/0.9 when not allowed

* Closing connection 0
curl: (1) Received HTTP/0.9 when not allowed


[09/02/2022 3:39 PM] DeadMan#9961
ubuntu not started RPC server


[09/02/2022 3:39 PM] DeadMan#9961
windows OK. but we need ubuntu


[09/02/2022 11:18 PM] lgd#5847
**I have questions about kushti's paper on ADD:**
**1.** It says that verifiers hold a proof of the validity of the transactions, proof of utxo set transformations, and digest of tree holding txs
**1.a)** So a verifier can obtain a new digest of tx tree for the proposed block from miner with just using the old digest and new proofs of utxo set transformation? 
**1.b)** The verifier does not need the tree itself in order to produce a new digest? 
**1.c)** How is new digest produced without tree?
**1.d)**  Is the tx tree digest the verifier needs the digest of the tree holding the utxo set transformation operation proofs or digest of tree holding the list of tx ids?
**1.e) ** What is the difference between the digest of a proof (proof bytes of operations on a tree?) and the digest of an avl tree?
**2.**
**2.a) ** In ergo repo, in Header class, there is parameter called stateRoot, the digest for the utxo set, in what class/where is this calculated from?
**2.b)** Is utxo set stored in block, if so what section is it in? I see ADProofs class, but code says it stores digest of proof of operations on utxo set, but not a tree with the set of utxos itself. 
**3. ** In paper, it says miner's have incentive to make verification of block take as long as possible, what does this mean and why?
**4.** Are the trees used to store information in the different sections of the block all AVL Trees?


[09/03/2022 2:13 AM] Cheese Enthusiast#0548
1a: Yes all you need is the digest and a proof to update a tree / tree's digest
1b: No, if you consider the tree to be the database holding all values, then no you do not need all of that data to perform an update
1c: Only the leaves of the tree are considered key values, I believe all other nodes are just pointers that are hashes of their children. If you can change part of the tree, then you change the entire digest due to the way hashes work.
1d: The tx tree digest is not an AVL Tree, it's a similar (but different) data structure known as a Merkle Tree. Each leaf is the tx data, and can be found using the tx id.
1e: I have never heard of the digest of a proof. 

2a: Likely somewhere in `/nodeView/state/`
2b: The digest of the UTXO set is stored as the `stateRoot`. In ErgoScript, an AVL Tree really is just a digest, because digest + key-value + proof is all that is needed to modify the tree (without knowledge of all of the actual key-values in the tree)
3. Idk
4. Not all trees are AVL Trees in the block sections. Most are actually merkle trees which are not supported in ErgoScript just yet. The UTXO State is an AVL Tree digest however.

{Reactions}
‚ô•Ô∏è 

[09/03/2022 2:39 AM] lgd#5847
thanks


[09/03/2022 2:44 AM] lgd#5847
about 1.e), line 25 here

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1015437019964510239/Screenshot_2022-09-02_at_21-43-33_ergo_ADProofs.scala_at_master_ergoplatform_ergo.png


[09/03/2022 2:45 AM] Cheese Enthusiast#0548
Looks like its just the hash of the proof


[09/03/2022 2:46 AM] lgd#5847
i guess a digest is just that really, isn't the digest of the avl tree just the hash of the root node?


[09/03/2022 3:03 AM] Cheese Enthusiast#0548
Yeah pretty much, usually just means the output of a hash function of some sort


[09/03/2022 3:06 AM] lgd#5847
about 1.d) in the BlockTransactions class it shows that the transaction ids are only stored in the Merkel Tree, so how is the information about a particular transaction in a block retrieved then? What am I missing somewhere in my understanding?


[09/03/2022 3:07 AM] lgd#5847


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1015442782908854282/Screenshot_2022-09-02_at_22-06-54_ergo_BlockTransactions.scala_at_master_ergoplatform_ergo.png


[09/03/2022 3:09 AM] Cheese Enthusiast#0548
It's not about retrieving the information, its about the node verifying that the information it has in its database is the correct info. You can only retrieve the information with a merkle path (like avl proof), which requires knowledge of all the transactions stored there already. So the merkle digest is useful for checking if a transaction exists with a merkle path in ErgoScript (Eventually, I asked kushti and he said merkle tree support in 6.0). It's also useful for checking if your off-chain database is holding the correct transactions in it. It's not useful for just extracting information out of it, because a hash is a one way function.


[09/03/2022 3:12 AM] lgd#5847
ok yeah that makes sense. so a mining node needs to download all the transaction information vs a non-mining node. but then where does the transaction information actually get stored, bc i can't find where that happens.


[09/03/2022 3:14 AM] lgd#5847
if each block only contains a merkel tree of transaction ids, then where does all the extra transaction info come from?


[09/03/2022 3:19 AM] Cheese Enthusiast#0548
Let me clarify a bit, the off-chain database holds all the transaction info in each block. The Header is what holds the merkle tree.


[09/03/2022 3:21 AM] lgd#5847
now im confused lol, i thought the header only had the digest of the tx merkel tree and the transactions section of the block contains the actual merkel tree itself?


[09/03/2022 3:21 AM] lgd#5847
so the blockchain is somewhat meaningless without the off-chain database?


[09/03/2022 3:22 AM] lgd#5847
so how does the off-chain database come to exists in the first place and how do you and me get the same version of it eventually?


[09/03/2022 3:22 AM] Cheese Enthusiast#0548
In possibly overly simplistic terms, a blockchain is just an off-chain database that everybody agrees on (everyone has a *consensus* on)


[09/03/2022 3:23 AM] lgd#5847
yeah okok


[09/03/2022 3:24 AM] Cheese Enthusiast#0548
I create a node and mine to it. You have a node with the same code inside of it. Your node syncs to my node, because part of the node's rules are that you sync with whichever person you're connected to that has the longest valid chain.


[09/03/2022 3:24 AM] Cheese Enthusiast#0548
At least for PoW it works kind of like that. Not sure about PoS.


[09/03/2022 3:27 AM] lgd#5847
okok cool, thanks. so to reiterate what you said, the data for the off-chain database comes from being downloaded from someone else's node/computer and has nothing to do with the blocks in the blockchain?


[09/03/2022 3:31 AM] Cheese Enthusiast#0548
I wouldn't get too caught up in definitions here. Transactions are stored in blocks. Blocks have both transactions + a header. This entire data is stored in an off-chain database. All of this data comes from being downloaded by another node (or created by one if you start a new chain). So, yes transactions have to do with blocks in the blockchain, but yes they are also downloaded / synced from another node pretty much everytime unless you're the one who mined the block.

{Reactions}
üëç 

[09/03/2022 3:32 AM] lgd#5847
thanks


[09/05/2022 2:14 AM] 6directions#1089
Is this what the ergo node and API use for logging? https://logback.qos.ch/index.html


[09/05/2022 4:52 AM] kii#8888
didnt log4j had the big incident?


[09/06/2022 5:12 AM] kii#8888
hi @morphic and @MrStahlfelge question about the recent migration to 4.0.10. It seems like ergovalue now returns ErgoValue[java.lang.Long] instead of ErgoValue[scala.Long]. Supposedly, would this affect conversion and contract checks?

I recently did a migration today, and fixed up all the errors, however, when trying to process a singleton contract we have (which the conditions is to ensure that every registers is the same as the output) on chain, it fails.

Though I am not entirely sure yet, but i am curious to know if its related to this change. The reason I say this is because when we retrieve the boxes, the boxes returned are actually using scala.long/scala.bytes rather than java.lang.long/java.lang.byte. 

The failure is at ctx.signtx. I was wondering if this is actually failing due to the preliminary check at this function call, where the inputBox is compared to the new OutBox, however it is failing due to scala.long != java.lang.long. Since this is discovered today and I havent had the time to investigate into it, i figured i reached out to ask for some guidance before i dive in this weekend.


[09/06/2022 7:47 AM] Luivatra#9076
You can print out a json of the unsigned tx and compare the inputs and outputs, that is what I usually do


[09/06/2022 7:47 AM] Luivatra#9076
or in debug of course


[09/06/2022 8:57 AM] MrStahlfelge#0042
can you post the real error message?

we made the change because the value was declared wrong before. when using from scala, this was not noticeable because scala treated both long the same, but in Java a hacky recast from the wrong to the correct type was necessary.


[09/06/2022 9:11 AM] morphic#4133
At runtime (inside JVM) scala.Long becomes java.lang.Long, in other words there is no such thing as scala.Long at runtime, it is entirely compile-time class. This is reflected by conversions from scala.Predef  
```
  implicit def byte2Byte(x: Byte): java.lang.Byte             = x.asInstanceOf[java.lang.Byte]
  /** @group conversions-anyval-to-java */
  implicit def short2Short(x: Short): java.lang.Short         = x.asInstanceOf[java.lang.Short]
  implicit def long2Long(x: Long): java.lang.Long             = x.asInstanceOf[java.lang.Long]

```


[09/06/2022 9:14 AM] morphic#4133
@kii from Scala you can construct ErgoValue using recently added ErgoValueBuilder (see ErgoValueBuilderSpec for examples)


[09/06/2022 5:47 PM] kii#8888
We did that. Its entirely the right values. That's why I'm curious


[09/06/2022 5:47 PM] kii#8888
Script reduced to false

This is the one we got. We've fixed most of the errors that came out, but our box can't be spent now


[09/06/2022 5:50 PM] MrStahlfelge#0042
It means the sigmaprop is false


[09/06/2022 5:50 PM] kii#8888
That would be helpful. I figured it should be the same too, because at the end of the day we're just storing the data. Which looking at it, the data from inputs and outputs its entirely the same (which is the expected behaviour from our contract)

However when signing it, it fails. That's where I'm confused on why i fail and how it can fail.

I was definitely getting some error thrown before about java.lang.Long vs scala.Long parsing.


[09/06/2022 5:52 PM] Luivatra#9076
tough to say without seeing the contract and the unsigned tx


[09/06/2022 5:52 PM] kii#8888
yeah I get that, I'm trying to figure out why would it be false. Because i migrated after i ensure our whole system works. 

But right after migrating to 4.0.10, and clearing up all the errors for conversion between scala.long and java.lang.long, the contract started failing. (That's why I'm confused haha)


[09/06/2022 5:52 PM] MrStahlfelge#0042
I usually test with unit tests and when it reduces to false commenting out certain conditions to find the failing one


[09/06/2022 5:53 PM] Luivatra#9076
hey, commenting out is my secret technique! üòÇ


[09/06/2022 5:54 PM] kii#8888
That's what I usually do. So here's the interesting part. 

If i do unit tests, it passes, all my test passes. However, when I pull the box from the blockchain, it fails. 

And honestly it may be something that I missed out during migration, but I havent noticed anything yet


[09/06/2022 5:54 PM] MrStahlfelge#0042
The tower of software engineering:
Debugger -> println -> comment out


[09/06/2022 5:54 PM] kii#8888
give me a sec to share the contract and tx


[09/06/2022 5:56 PM] kii#8888
This is the contract that is failing:
https://github.com/Ergo-Lend/exle-dot/blob/main/modules/single-lender/src/main/resources/ExleContracts/SingleLender/Tokens/BoxGuardScripts/SLTServiceBoxGuardScript.es

And the visualized tx for the boxes

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1016753754827132959/failing_service_box.rtf

{Embed}
https://github.com/Ergo-Lend/exle-dot/blob/main/modules/single-lender/src/main/resources/ExleContracts/SingleLender/Tokens/BoxGuardScripts/SLTServiceBoxGuardScript.es
exle-dot/SLTServiceBoxGuardScript.es at main ¬∑ Ergo-Lend/exle-dot
ergolend backend (latest). Contribute to Ergo-Lend/exle-dot development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/yoFcLESoTgQVMoVQCuemBlTiahji3ri40Jmqp9F3D-8/https/opengraph.githubassets.com/f31a3b4217798221ac5a3764380a879f865476fb9cecacc7fe8169eafc169eae/Ergo-Lend/exle-dot


[09/06/2022 5:56 PM] Luivatra#9076
if all else fails try manually make it signed (proof for p2s input is empty) and submit to node, I have had that work before, but thought it was due to python<->jvm quirk


[09/06/2022 5:57 PM] kii#8888
how do you do that?

I'll probably have to try that out to double check if it could work on the blockchain


[09/06/2022 5:57 PM] Luivatra#9076
https://github.com/ergo-pad/paideia-offchain/blob/1df7938d2c818e17dbf5abb71f8f1d767f0f04ab/staking/__main__.py#L242

{Embed}
https://github.com/ergo-pad/paideia-offchain/blob/1df7938d2c818e17dbf5abb71f8f1d767f0f04ab/staking/__main__.py
paideia-offchain/__main__.py at 1df7938d2c818e17dbf5abb71f8f1d767f0...
Contribute to ergo-pad/paideia-offchain development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/m8w5mqu4Vn4vSg_yNpE_qnD1uLa4rHKepfHam_XZsGc/https/opengraph.githubassets.com/4e0fbd762c6e376f6f00300c2a34c9dd08db99e36d1cb9d18078553c65910d58/ergo-pad/paideia-offchain

{Reactions}
‚ù§Ô∏è 

[09/06/2022 6:03 PM] kii#8888
this does mean that we dont run signtx from tx builder, right?


[09/06/2022 6:04 PM] Luivatra#9076
yeah, you can post that straight to the nodes transaction/send


[09/06/2022 6:08 PM] kii#8888
aight ill try that


[09/06/2022 6:08 PM] kii#8888
thanks bro


[09/06/2022 6:14 PM] kii#8888
Why did you had to do that?


[09/06/2022 7:53 PM] MGpai#4313
Mockchain in python?


[09/06/2022 8:43 PM] Luivatra#9076
no, that was regarding signing messages. the mockchain part is basically copied from the official appkit but those classes are not part of the jar, so will need to implement some in python or they need to be included in the appkit jar


[09/06/2022 9:27 PM] MGpai#4313
good to know, thanks


[09/06/2022 9:31 PM] Luivatra#9076
I am sorry I went to the dark side of Scala üòÖ

{Reactions}
üòµ‚Äçüí´ üòÅ 

[09/07/2022 2:15 AM] dusek#6153
Does anyone remember the address of the explorer that had an ErgoTree disassembler built in?


[09/07/2022 2:15 AM] dusek#6153
It could show ergoscript


[09/07/2022 2:43 AM] MGpai#4313
http://185.230.138.121:3000/en/blocks/dd71b48d38603c6a1882ce3e867fa6a2afcafad735e131b866ff7d35a184e237/transactions


[09/07/2022 2:46 AM] dusek#6153
Thanks!


[09/07/2022 4:07 AM] dusek#6153
@anon_real theres someone who seems to have SigRSV stuck in proxy contract on reddit. Looking at the source code it seems only the owner of the assembler can initiate the refund request. If so could you take a look (I assume sigmausd.io belongs to you?) since it throws an error when initiating refund on sigmausd.io https://www.reddit.com/r/ergonauts/comments/x7a7mw/lost_sigmarsv_i_need_help/

{Embed}
https://www.reddit.com/r/ergonauts/comments/x7a7mw/lost_sigmarsv_i_need_help/
r/ergonauts - Lost SigmaRSV, I need help
20 votes and 2 comments so far on Reddit
https://images-ext-2.discordapp.net/external/jP6q-qNE5KU9C9gIfoHqZb_eRh4kBaew8i0iFfpLFv8/%3Fauto%3Dwebp%26s%3D5b7cfa676c3a71f83df01804d7d846147467abb4/https/external-preview.redd.it/TFvs2lCl-h1EcD3KVBkPpkKM8mSxUpnMopFepr_q4M4.jpg


[09/07/2022 4:26 AM] dusek#6153
also, what is the reason for removing the height refund condition from eip 17 in proxy contracts from sigmausd.io, that allows anyone to initiate a refund after some time? It's quite common for interacting with sigmausd to fail, and i can imagine it would be quite stressful if sigmausd.io goes down (maybe permanently) and being unable to initiate a refund


[09/07/2022 9:02 AM] anon_real#2768
It was due to the node being out of sync. Fixed now.

{Reactions}
üëç 

[09/07/2022 9:03 AM] anon_real#2768
You are right. That won't happen since the node's mnemonic is shared between some trusted parties including @kushti. But I will look into improving the contracts. Thanks for the feedback.


[09/07/2022 9:42 AM] dusek#6153
Great! But I think it would still be worthwhile to allow refund after height. For something like SigmaUSD I guess maybe a height of +10 to 20 would be good enough. In this case it would also prevent losses, since it took 12 hours to refund SigRSV and the ERG price has moved a fair bit since.

{Reactions}
üëç 

[09/07/2022 4:16 PM] MGpai#4313
Does anyone familiar with Cardano know if it supports chained txs similar to Ergo?


[09/10/2022 4:52 PM] DeadMan#9961
testnet is dead?


[09/10/2022 5:26 PM] MGpai#4313
use bloknet


[09/10/2022 5:26 PM] MGpai#4313
https://discord.com/channels/668903786361651200/668930902751182913/1017278320427147325


[09/11/2022 12:42 AM] Balb#7267
is bloknet stuck?


[09/11/2022 2:51 AM] DeadMan#9961
bloknet is dead


[09/11/2022 2:51 AM] DeadMan#9961
"previousFullHeaderId": null,
  "fullHeight": null,
  "headersHeight": 292,
  "stateVersion": "0000000000000000000000000000000000000000000000000000000000000000",
  "fullBlocksScore": null,
  "maxPeerHeight": 5387,

it's been like that for 5 hours.


[09/11/2022 7:46 AM] dusek#6153
Bloknet doesn't have any miners right now unfortunately, the last 7 blocks were mined by me but I can't do it 24/7


[09/11/2022 7:48 AM] dusek#6153
if you're doing some testing then ping me and if im awake i could maybe mine a few blocks. usually takes my GPU a 2-3 minutes or so to find a block


[09/11/2022 7:54 AM] DeadMan#9961
The problem is that the blocks are not loaded and it is impossible to start mining...


[09/11/2022 7:57 AM] DeadMan#9961
`  "fullHeight": null,
  "headersHeight": 292,
  "stateVersion": "0000000000000000000000000000000000000000000000000000000000000000",
  "fullBlocksScore": null,
  "maxPeerHeight": 5387,`


[09/11/2022 7:57 AM] DeadMan#9961
not synced


[09/11/2022 7:57 AM] DeadMan#9961
bloknet dead


[09/11/2022 7:59 AM] DeadMan#9961
always stuck

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1018415558984736768/unknown.png


[09/11/2022 8:01 AM] DeadMan#9961
`{
  "error": 500,
  "reason": "internal.error",
  "detail": "Miner has not started yet"
}`


[09/11/2022 8:05 AM] DeadMan#9961
i think bloknet is a scam


[09/11/2022 8:06 AM] dusek#6153
5387 is the latest block, i think the Miner has not started yet error is because you haven't enabled mining in ergo.conf


[09/11/2022 8:08 AM] DeadMan#9961
im enable mining


[09/11/2022 8:09 AM] DeadMan#9961
` "isMining": true`


[09/11/2022 8:09 AM] dusek#6153
i believe the correct option is mining = true


[09/11/2022 8:09 AM] dusek#6153
```
ergo {
  networkType = "testnet"
  node {
    mining = true
    offlineGeneration = true
    useExternalMiner = true
  }
  wallet {
        checkEIP27 = true
  }
}
```


[09/11/2022 8:09 AM] DeadMan#9961
its swagger


[09/11/2022 8:09 AM] dusek#6153
this is what im using for bloknet


[09/11/2022 8:10 AM] DeadMan#9961
node info


[09/11/2022 8:10 AM] dusek#6153
do you have useExternalMiner = true on as well


[09/11/2022 8:10 AM] dusek#6153
what output do you get if you go to swagger and execute /mining/candidate ?


[09/11/2022 8:10 AM] DeadMan#9961
`{
  "error": 500,
  "reason": "internal.error",
  "detail": "Miner has not started yet"
}`


[09/11/2022 8:10 AM] dusek#6153
try enabling useExternalMiner along with mining = true


[09/11/2022 8:15 AM] DeadMan#9961
OK. How to load blocks above 292 if they are not loaded since yesterday?


[09/11/2022 8:18 AM] dusek#6153
hmm, not sure. You can try adding 69.164.215.107:9026 to your peers list which is an explorer + node for bloknet


[09/11/2022 8:18 AM] dusek#6153
pass that to /peers/connect in swagger


[09/11/2022 8:25 AM] DeadMan#9961
`o.e.n.ErgoNodeViewSynchronizer - Extension is empty while comparison is younger`


[09/11/2022 8:25 AM] DeadMan#9961
` "previousFullHeaderId": null,
  "fullHeight": null,
  "headersHeight": 5387,
  "stateVersion": "0000000000000000000000000000000000000000000000000000000000000000",
  "fullBlocksScore": null,
  "maxPeerHeight": 5387,`


[09/11/2022 8:25 AM] dusek#6153
seems to be synced


[09/11/2022 8:27 AM] DeadMan#9961
Syncing headers: 100.00%


[09/11/2022 8:32 AM] dusek#6153
i found another block, don't know if its propagated to you yet


[09/11/2022 9:20 AM] DeadMan#9961
`:Invalid block mined: requirement failed: h(f) < b condition not met`
I'm trying to send data for a block and I'm getting an error


[09/11/2022 11:22 AM] DeadMan#9961
how to set mining address?


[09/11/2022 11:29 AM] dusek#6153
not sure, it's just your node address i believe


[09/11/2022 11:29 AM] dusek#6153
you won't be able to claim the block reward until after your block has 720 confirmations though


[09/11/2022 11:29 AM] dusek#6153
so for example if you mined block #5389 the contract wont let you claim it until block #6109


[09/11/2022 12:40 PM] DeadMan#9961
wow


[09/11/2022 12:56 PM] DeadMan#9961
Why is the work on the node updated every time if the share did not find the block ???


[09/11/2022 4:30 PM] Luivatra#9076
ü§î


[09/11/2022 4:44 PM] 6directions#1089
im also mining in bloknet but only using the node's built in miner


[09/11/2022 4:44 PM] 6directions#1089
any idea of how to fix bloknet?


[09/11/2022 5:04 PM] 6directions#1089
how can it be a scam??? it's a testnet for testing


[09/11/2022 8:58 PM] √Ör√ñhB√™#8289
https://tenor.com/view/problematic-stressed-smh-oh-dear-gif-23576897

{Embed}
https://tenor.com/view/problematic-stressed-smh-oh-dear-gif-23576897
https://images-ext-2.discordapp.net/external/Z0tMYIjnZFFTU0MUdX_G5gWbQOASIDGpDVf-QUnTzkA/https/media.tenor.com/wYwLJAHbuWEAAAAD/problematic-stressed.png


[09/11/2022 9:57 PM] MGpai#4313
I can get pai-net going if everyone wants, I have not had any issues


[09/11/2022 9:57 PM] MGpai#4313
on block 48k


[09/11/2022 9:57 PM] MGpai#4313
Will need some people to help out with public nodes


[09/11/2022 9:57 PM] MGpai#4313
I have everything local


[09/11/2022 9:58 PM] MGpai#4313
15 second blocktime


[09/12/2022 3:53 AM] MGpai#4313
paiNet is live


[09/12/2022 3:53 AM] MGpai#4313
https://github.com/mgpai22/paiNet


[09/12/2022 3:53 AM] MGpai#4313
45 seconds blocktime
live node: https://pai-net.mempoolnode.live/panel
explorer: https://explorer.mempoolnode.live/
api: https://api.mempoolnode.live/api/v1/docs/
gql: https://gql.mempoolnode.live/


[09/12/2022 6:56 AM] kii#8888
Cheese net, bloknet, painet, whats the next million dollar net?


[09/12/2022 7:20 AM] kii#8888
To continue the saga and provide some updates @morphic @MrStahlfelge and @Luivatra 

I've digged deeper into the ergo tree and found this:

Even though the values are the same. It is returning false. I'm not sure why yet. The investigation continues.

I thought it may be because of the type, but it seems the types are the same based on pic 3

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1018768050553638992/Screen_Shot_2022-09-11_at_11.14.31_PM.png
https://cdn.discordapp.com/attachments/840313005064585246/1018768050964660284/Screen_Shot_2022-09-11_at_11.14.20_PM.png
https://cdn.discordapp.com/attachments/840313005064585246/1018768051199553647/Screen_Shot_2022-09-11_at_11.19.13_PM.png


[09/12/2022 7:21 AM] kii#8888
I swear to god this may be some small issue, like a semicolon kind of bug that I am encountering hahaha


[09/12/2022 11:59 AM] MGpai#4313
It always is smh


[09/12/2022 6:41 PM] MGpai#4313
faucet: https://painet-faucet.mempoolnode.live/


[09/13/2022 8:45 PM] Tyrynt#5882
is testnet down ?


[09/13/2022 9:34 PM] MGpai#4313
use this https://github.com/mgpai22/paiNet


[09/13/2022 9:50 PM] Tyrynt#5882
Can I simply use the conf file from it on my existing test node ?


[09/13/2022 10:12 PM] MGpai#4313
no


[09/13/2022 10:12 PM] MGpai#4313
you dont need to run your own node


[09/13/2022 10:12 PM] MGpai#4313
just look at readme for all links


[09/15/2022 8:14 AM] DeadMan#9961
How to get the id of the newly mined block?


[09/15/2022 4:03 PM] Krasavice Blasen#4574
Explorer, explorer api, node api


[09/22/2022 6:27 PM] x4E554C4C#0828
could someone fund this testnet addr for me possibly üôÇ `3WxeCdbkY1ekYkY266i7rCYtZMDhEBSzE1g9vNXVte7bmMG2sUpU`


[09/22/2022 7:59 PM] MGpai#4313
Use paiNet faucet

{Reactions}
‚ù§Ô∏è 

[09/22/2022 8:01 PM] x4E554C4C#0828
is there no official testnet then?


[09/22/2022 8:02 PM] MGpai#4313
Official will be paiNet soon right @kushti ?


[09/22/2022 8:25 PM] wombo22#5461
https://discord.com/channels/668903786361651200/908347206988365864/1022582080611291178


[09/23/2022 5:06 AM] x4E554C4C#0828
Does the node ever get stuck syncing headers? It was stuck at 99.6% for hours and now 100%. Is this normal behavior? I imagine I should just wait? (this is --testnet)


[09/23/2022 5:07 AM] x4E554C4C#0828


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1022720893161590874/Screenshot-20220922220849-343x222.png


[09/23/2022 7:22 AM] Krasavice Blasen#4574
Testnet does have problems sometimes, maybe message in #node for some more help


[09/23/2022 7:23 AM] x4E554C4C#0828
So does everyone code on mainnet or testnet to test stuff? What is the process everyone uses?


[09/23/2022 7:26 AM] Krasavice Blasen#4574
With the fees so cheap on mainnet, testing on mainnet is fairly commonplace (maybe a little annoying with these slow blocks times atm), many devs also use appkit. Also you can use scastise

{Reactions}
‚ù§Ô∏è 

[09/23/2022 7:27 AM] x4E554C4C#0828
@MGpai is this because testnet doesn't work?


[09/23/2022 7:27 AM] x4E554C4C#0828
Do I have to use your third party one?


[09/23/2022 7:27 AM] Krasavice Blasen#4574
Yeah people do use third party ones, maybe someone else knows more since I havent used testnet.


[09/23/2022 7:28 AM] x4E554C4C#0828
Sound good! I would love to figure out if they use @MGpai or the other one. I am trying to do really fun stuff so I need to be able to go wacko on the testnet.


[09/23/2022 7:29 AM] x4E554C4C#0828
He told me earlier to use his faucet is why I wondered. The way it keeps bouncing makes me feel like it is broken. It makes me uncomfortable using third party apps without digging into everything being used and I don't have time rn.


[09/23/2022 7:30 AM] x4E554C4C#0828
Thank you for the help  ‚ù§Ô∏è I asked in node aswell so hopefully things get moving. I am excited to be part of the ecosystem.

{Reactions}
üöÄ 

[09/23/2022 8:52 AM] Cheese Enthusiast#0548
PaiNET is fine, I would test there. We used to have bloknet / cheesenet but ended up dying so mgpai is managing a testnet now


[09/24/2022 5:02 AM] DeadMan#9961
How to disable logging? 200 gigabytes of memory fly away in a couple of days


[09/24/2022 10:48 AM] zargarzadehmoein#2928
what is your stack? (docker ?)


[09/27/2022 1:06 PM] orobor#4005
hey! sorry for the stupid ergo api question again, but: 

i have a discord bot, that verifies if you are holding an nft or not. first i want to check if the wallet you add as an input is really yours. for this, i will ask the user to send 0.0xxx erg to itself.

is there an api call, to get the last x number of transactions sent to a wallet?


[10/02/2022 12:04 PM] bombibus#2765
I am looking for a scala library to check signatures made with the private key of a wallet, any idea ?


[10/02/2022 4:32 PM] MrStahlfelge#0042
ergo-appkit


[10/02/2022 4:32 PM] MrStahlfelge#0042
there is a signature verifyer


[10/05/2022 5:43 PM] x4E554C4C#0828
do I need to wait for sync state before my wallet balance updates?I can check wallet sync on Cardano, how would I on here? This is if this assumption is even correct?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1027259767640572055/Screenshot-20221005104430-239x118.png


[10/05/2022 5:45 PM] x4E554C4C#0828
I have 40 ERG and confirmed so I imagine I have to wait on a sync? (as above pretty much is showing).https://testnet.ergoplatform.com/en/addresses/3WxYSY6T2aC4KRdsWECz5RQgciH6Fwq7o5hLovyeqaZQhs4ib9rw


[10/05/2022 6:00 PM] MGpai#4313
yes you have to wait

{Reactions}
üî• 

[10/05/2022 6:00 PM] MGpai#4313
it should be fast on testnet


[10/05/2022 6:01 PM] x4E554C4C#0828


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1027264184225898608/painet_avi.png

{Reactions}
ü§£ 

[10/05/2022 6:01 PM] MGpai#4313
you can also sync wallet specific height which I recommend since it is instant


[10/05/2022 6:01 PM] MGpai#4313
its this endpoint


[10/05/2022 6:01 PM] MGpai#4313
http://213.239.193.208:9052/swagger#/wallet/walletRescan


[10/05/2022 6:01 PM] MGpai#4313
ofcourse use your node


[10/05/2022 6:02 PM] MGpai#4313
I would sync wallet from height 36580


[10/05/2022 6:03 PM] x4E554C4C#0828
just send it in the post req is what you do?


[10/05/2022 6:03 PM] MGpai#4313
do this


[10/05/2022 6:03 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1027264817385447454/unknown.png


[10/05/2022 6:03 PM] MGpai#4313
and hit execute


[10/05/2022 6:03 PM] x4E554C4C#0828
Okay cool. I am going to make a little shell script with curl.


[10/05/2022 6:04 PM] x4E554C4C#0828
You are a legend bro!


[10/05/2022 6:04 PM] MGpai#4313
make sure your authorized by clicking

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1027264965297590343/unknown.png


[10/05/2022 6:04 PM] MGpai#4313
and entering apikey


[10/05/2022 6:04 PM] MGpai#4313
it is all the way at the top of the page

{Reactions}
üí™üèΩ 

[10/05/2022 6:04 PM] x4E554C4C#0828
I am trying to do everything via curl commands just so it sticks in my brain better.


[10/05/2022 6:06 PM] x4E554C4C#0828


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1027265519931379772/Screenshot-20221005110817-354x73.png


[10/05/2022 6:06 PM] x4E554C4C#0828
LFG! Thanks G!

{Reactions}
üëç 

[10/05/2022 7:16 PM] x4E554C4C#0828
726200/843624. Already 86%.


[10/05/2022 7:39 PM] x4E554C4C#0828


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1027288906368024607/Screenshot-20221005124033-898x571.png
https://cdn.discordapp.com/attachments/840313005064585246/1027288906720346172/Screenshot-20221005124024-533x309.png
https://cdn.discordapp.com/attachments/840313005064585246/1027288907173335050/Screenshot-20221005124013-364x177.png


[10/06/2022 10:15 AM] MrStahlfelge#0042
any chance to get some funds on the new testpainet?


[10/06/2022 11:07 AM] glasgowm#9381
https://painet-faucet.mempoolnode.live/ ?


[10/06/2022 11:11 AM] MrStahlfelge#0042
thanks, now all we need is a miner üòÑ


[10/06/2022 12:47 PM] bombibus#2765
`const c = await ergoConnector.nautilus.getContext();
const usedAddresses = await c.get_used_addresses();
const addr = await c.get_change_address();
const s = c.sign_data(addr, "login")` the last line gives me "function":"signData","return":{"isSuccess":false,"data":{"code":-1,"info":"not implemented" is that correct or should I upgrade something ? Any idea of how long it will take to implement signing arbitrary data with the nautilus wallet ? Should be pretty easy, since it already signs transactions, right ?


[10/06/2022 3:36 PM] MGpai#4313
accidently closed my stratum terminal lol...should be good now

{Reactions}
üëç 

[10/06/2022 10:09 PM] WilfordGrimley#0124
As a function of a contract, I want to grant users the ability to sign future transactions without being required to actually spend and ERG.

I know that to achieve this, the contract must grant the user a box, but what I am stuck on is if the contract must grant the user an NFT marker or not.


[10/07/2022 12:57 AM] MGpai#4313
Can someone deploy oracles to testnet?


[10/07/2022 6:24 AM] dusek#6153
what testnet should I be using right now and where do I download the node for it?


[10/07/2022 10:09 AM] Cheese Enthusiast#0548
Hey guys, what is preventing sybil attacks (or similar) on oracle datapoints? Can someone overload the number of datapoints so as to change what the entire pool agrees to be the correct value?


[10/07/2022 10:17 AM] Cheese Enthusiast#0548
Is it that the bootstrapper is a trusted actor and is able to decide who submits data points by giving out participant tokens?


[10/07/2022 10:18 AM] greenhat#6562
Pinging @scalahub  . In v2 outliers are filtered out, so as long as the majority is honest it should hold. Only one data point from each oracle token is allowed.


[10/07/2022 10:18 AM] greenhat#6562
Yes. The number of oracle tokens to be minted is a bootstrap parameter.


[10/07/2022 10:20 AM] Cheese Enthusiast#0548
Yeah, my question is more about whether or not someone (with multiple fake identities / addresses) or some group of people can overload the majority to shift the resulting data point. This assumes they all have participant tokens.


[10/07/2022 10:22 AM] Cheese Enthusiast#0548
Ah okay, yeah that makes sense and prevents most cases of it happening after the initial bootstrapping is set in stone. So I guess you just have to be careful when giving out the initial participant tokens.


[10/07/2022 10:24 AM] greenhat#6562
Also the number of oracle tokens can be altered through voting. By minting new oracle tokens.


[10/07/2022 10:26 AM] Cheese Enthusiast#0548
Maybe a good place for some decentralized proof-of-humanity sort of system


[10/07/2022 10:31 AM] greenhat#6562
`(MaxDatapoint - MinDatapoint) <= MaxDeviationPercent` data points from the minimum number of oracle (bootstrap parameter) is the requirement in refresh contract. I don't see how it can be passed without the majority oracles.


[10/07/2022 10:34 AM] Cheese Enthusiast#0548
Agreed, my question is more about how easy it is for a bad actor to gain control over a majority of the participating oracles.


[10/07/2022 10:37 AM] Cheese Enthusiast#0548
The limited tokens prevents change quite well, though I think there is probably still a risk if you happen to hand participant tokens to the wrong set of actors during bootstrapping or creation of additional tokens. Though that does not seem like an easy task to solve, and it's still better than one actor = one valid datapoint.


[10/07/2022 10:45 AM] greenhat#6562
The oracle token is protected by the oracle and refresh contracts. The idea is that only the oracle can transfer their token to someone else.


[10/07/2022 10:57 AM] mx#5165
neverending problems of token governance where token participants are bad actors from the start already because of their power and everything based on it will be semi-decentralized, that`s why I like more approaches with releasing new dapps each time without token governance in case of flaws in the design instead of updating with governance tokens


[10/07/2022 3:10 PM] MGpai#4313
paiNet


[10/09/2022 12:32 AM] WilfordGrimley#0124
Can anyone please point me in the right direction of files in the ErgoNode setting that would allow additional logic to be implemented to check a percentile in favour of any given change to the network?

I think it is going to require editing a few of these files (as well as a node version increase):


https://github.com/ergoplatform/ergo/blob/e6086e23ecd45f1e01a3e4c0344f003cec1a5b11/src/main/scala/org/ergoplatform/nodeView/state/VotingData.scala
This is the trickiest one, as votes are currently boolean increments.


https://github.com/ergoplatform/ergo/blob/15bd802aacd50dbe94d8ac9dec55a7fa9d2f148f/src/main/scala/org/ergoplatform/settings/VotingTargets.scala
https://github.com/ergoplatform/ergo/blob/2eda574d45659ebb2fa1c09535f19ae541bc8681/src/main/scala/org/ergoplatform/settings/ErgoValidationSettingsUpdate.scala
https://github.com/ergoplatform/ergo/blob/ba74e132212fe099736bf1d9df692c54b649a054/src/main/scala/org/ergoplatform/settings/ErgoValidationSettings.scala
https://github.com/ergoplatform/ergo/blob/3e5b5c0281c8e66889a3d94c3a3dd797f5319125/src/main/scala/org/ergoplatform/tools/ValidationRulesPrinter.scala
https://github.com/ergoplatform/ergo/blob/2eda574d45659ebb2fa1c09535f19ae541bc8681/src/main/scala/org/ergoplatform/settings/VotingSettings.scala






I have started parsing some of my best guesses in this repo:
https://github.com/WilfordGrimley/eip38PartialVoting/edit/master/EIP-0038.md


[10/09/2022 5:26 PM] glasgowm#9381
@ERGOHACK Mentor


[10/12/2022 7:50 PM] glasgowm#9381
@networkspore try again, whitelisted the bot


[10/12/2022 8:22 PM] networkspore#4282
@glasgowm  I think I got a timeout. As writer I can over write (and I think I did that in the EIP-33 discussion). Anyway I'm just doing research on making NFTs of CRC information so that a program can look up the authenticity of binary information based on the key or name and the CRC that is stored on the block chain.

Can the block chain be used like a database with a key that stores information? Or am I getting this wrong. Is there a better way to use the block chain to verify the authenticity of information?


[10/13/2022 12:51 AM] jl.sachse#3248
Hey, I have the same issue. I'm pretty new to this, but I assume that the chosen RPC node doesn't implement _signData_. If I'm correct, is there any way to change the RPC Nautilus uses? I would really like to implement a wallet login for our project üôÇ

{Reactions}
üëç 

[10/13/2022 12:25 PM] glasgowm#9381
Might a better way but I think yours sounds fine for the use. Maybe storing a hash or something in a singleton box is another approach? Not sure. Maybe @MGpai or @Cheese Enthusiast can answer better


[10/13/2022 4:20 PM] MGpai#4313
https://github.com/GetBlok-io/GetBlok-Plasma


[10/13/2022 7:11 PM] networkspore#4282
"[Plasma] allows for distributed systems to keep track of the key-value pairs held in digests stored on-chain."  Nice, this sounds like exactly what I was looking for!  Awesome.


[10/13/2022 8:05 PM] Cheese Enthusiast#0548
I suggest reading the documentation on that repo in `/documents`, should hopefully let you understand how plasma works and best practices while using it üôÇ


[10/13/2022 10:11 PM] networkspore#4282
@Cheese Enthusiast Thanks. I still have a ways to go to get my project floating, and then I can worry about making it sea worthy, but it's nice to know that there's a path forward. (it makes me feel like these logs I have may eventually be a raft, and one day a ship)


[10/14/2022 10:44 AM] dusek#6153
is there any proof of concept implementation of payment channels in ergo? Not something as huge as LN, just a simple channel where you can update the balance between two people off-chain and commit the latest transaction


[10/15/2022 12:44 AM] Iv√°n#2297
Can  anyone help me with ‚Äã/mining‚Äã/solution entrypoint? 

there is an example:
```
{
  "pk": "0350e25cee8562697d55275c96bb01b34228f9bd68fd9933f2a25ff195526864f5",
  "w": "0366ea253123dfdb8d6d9ca2cb9ea98629e8f34015b1e4ba942b1d88badfcc6a12",
  "n": "0000000000000000",
  "d": 987654321
}
```
I think `n` stands for nonce (found by miner), `pk` is given by node during /mining/candidate

I totaly don't understand what is `w` and `d` there ?


[10/15/2022 1:04 AM] glasgowm#9381
`pk` hex-encoded public key


[10/15/2022 1:05 AM] glasgowm#9381
https://discord.com/channels/668903786361651200/668903786902847502/882160918941794325

- pk is public key as binary
- n is nonce
- w and d are not used anymore in Autolykos2


[10/15/2022 1:06 AM] Iv√°n#2297
Should I send this values or not ? Like 0 ?


[10/15/2022 1:07 AM] glasgowm#9381
not sure but w&d are constant since Autolykos2


[10/15/2022 1:08 AM] glasgowm#9381
Discussion here if you scroll down


[10/15/2022 1:08 AM] glasgowm#9381
https://discord.com/channels/668903786361651200/668903786902847502/882161006275620884

{Reactions}
ergo_black 

[10/15/2022 8:33 AM] tug#0673
i understand that POST `/wallet/payment/send` manages all of the complexities of coinbase locked tokens, but if i want to use `/wallet/transaction/generate` (to generate but not broadcast a transaction spending multiple coinbases), is there an explanation on how to do that?


[10/15/2022 8:33 AM] tug#0673
ive tried many times before but to no avail, i haven't been able to figure it out


[10/15/2022 8:58 AM] MrStahlfelge#0042
what are you trying to achieve?


[10/15/2022 2:37 PM] tug#0673
being able to generate transactions that spend coinbases without broadcasting it immediately


[10/15/2022 2:37 PM] tug#0673
pretty necessary for me to prevent double spends in internal pool accounting


[10/15/2022 2:38 PM] tug#0673
broadcasting immediately works fine, it just opens up more risk than id like and generating w/o spending is a pretty reasonable solution


[10/15/2022 5:31 PM] Cheese Enthusiast#0548
You can't spend the coinbase tx within the same block, there is a 720 block delay before that UTXO is spendable.


[10/15/2022 5:31 PM] Cheese Enthusiast#0548
You can however, spend your own ERG to send that payment out quicker.


[10/15/2022 7:21 PM] WilfordGrimley#0124
are all .map files stored locally on each node? If they are stored on chain, how does a node verify them? Is this an instance where serialization is used?

I can't ping @ergohack mentors or I would.


[10/15/2022 8:10 PM] WilfordGrimley#0124
Trying to parse this file https://github.com/ergoplatform/ergo/blob/master/src/main/scala/org/ergoplatform/settings/Parameters.scala
namely this part:

` private def padVotes(vs: Array[Byte]): Array[Byte] = {
    val maxVotes = ParamVotesCount + 1
    if (vs.length < maxVotes) vs ++ Array.fill(maxVotes - vs.length)(0: Byte) else vs
  }
  def vote(ownTargets: Map[Byte, Int], epochVotes: Array[(Byte, Int)], voteForFork: Boolean): Array[Byte] = {
    val vs = epochVotes.filter { case (paramId, _) =>
      if (paramId == Parameters.SoftFork) {
        voteForFork
      } else if (paramId > 0) {
        ownTargets.get(paramId).exists(_ > parametersTable(paramId))
      } else if (paramId < 0) {
        ownTargets.get((-paramId).toByte).exists(_ < parametersTable((-paramId).toByte))
      } else {
        false
      }
    }.map(_._1)
    padVotes(vs)
  }`


[10/15/2022 8:13 PM] WilfordGrimley#0124
Seems that this logic enforces nodes increasing votes by a maximum of 1 for each parameter.


[10/15/2022 10:54 PM] WilfordGrimley#0124
Or is it perhaps helping to differentiate the votes between bytes?


[10/16/2022 1:04 AM] tug#0673
yes i understand that, that is not what i am asking. the logic is extremely unique - if we look at a coinbase (https://explorer.ergoplatform.com/en/transactions/164ac7d5943e5a06c76c132467085f2b5fd3e5aac5fae8718da3b1291f7fc8e8), there is 57 base reward (only 45 of which are the miner's, at time of writing), and 12_000_000_000 reemission tokens.


[10/16/2022 1:05 AM] tug#0673
the `/wallet/payment/send` handles the nuances of this logic, and the steps that need to take place (i.e. where to send the remission tokens, etc). my question is what those steps are, so that i can generate a transaction without broadcasting it immediately with `/wallet/transaction/generate`


[10/16/2022 2:31 AM] tug#0673
i have looked at the api calls in `ergoplatform/ergo` but dont understand scala imports well enough to find where the logic actually happens. more than happy to figure it out myself if someone can direct me there (or in sigmarust)


[10/16/2022 2:41 AM] Cheese Enthusiast#0548
The way it works is that the number of reem tokens equals the number of nanoErgs to be sent to the re-emission contract. Upon spending a box with re-em tokens and sending the nanoErgs to the re-emission contract, all re-emission tokens must be burned (not included within the outputs of the transaction).


[10/16/2022 5:00 AM] tug#0673
ok thats quite helpful. my understanding is that `/wallet/transaction/generate` will not manage the process like `/wallet/payment/send` does, and so i see where it gets complicated bc `/wallet/transaction/generate` chooses the input utxos for you, meaning you arent actually aware of how many coinbase's youre spending. this is making more sense, ty for the help


[10/16/2022 5:06 AM] tug#0673
actually im overcomplicating the whole process - `/wallet/transaction/generate` handles it fine, that seems to work without issue.


[10/18/2022 6:57 AM] kii#8888
Hi. 
If we have a reducedTxBytes as String form. How can we sign it via appkit? (I found that we can use 
```
ctx.parseReducedTransaction
```
, however i'm getting this 
```
requirement failed: Not enough bytes in the buffer```

I'm doing:
```
      {
        (Address.create(tx._1),
          client.getContext.parseReducedTransaction(tx._2.getBytes))
      }

Where tx = (String, String) -> Wallet address in String, and TxBytes in String

```

For a sample tx like this:
```
3QIB_1JG5qTPntBexsiCikbQ_VE1uhtoBG5TyWttASKOkosAAAADg2FcoBCWIDoj4kbTFy2D_mMHmGvdRZRldiDJ0oWk0Dd85dhG5-wa8gfLDadilJjVz2_6zXtNKNCNzZXYicp3OvZjSvkKhjvNecY0PlaLGyzdPOvyMDYaEu87_luDcOdgA4CJegAIzQPULJZ0Jd77AX3zyVjLnTHR3SrYxe50EA_yE0yvp85wP62ZNAABBRTAhD0QBQQABAAONhACBKALCM0Ceb5mfvncu6xVoGKVzocLBwKb_NstzijZWfKBWxb4F5jqAtGSo5qMx6cBcwBzARABAgQC0ZaDAwGTo4zHsqVzAAABk8KypXMBAHRzAnMDgwEIze6sk7GlcwStmTQAAMC71dUEAAjNA9QslnQl3vsBffPJWMudMdHdKtjF7nQQD_ITTK-nznA_rZk0AwABAb_ckOgBAgEAzQPULJZ0Jd77AX3zyVjLnTHR3SrYxe50EA_yE0yvp85wP51P8Gw=
```


[10/18/2022 8:00 AM] MrStahlfelge#0042
what exactly is tx._2.getBytes?


[10/18/2022 8:01 AM] MrStahlfelge#0042
must be something with that, in general you did right. here's the code from wallet app https://github.com/ergoplatform/ergo-wallet-app/blob/2e8e2da445464b7c0f7b97afd6b099b6dc9eb51c/common-jvm/src/main/java/org/ergoplatform/ErgoFacade.kt#L185


[10/18/2022 5:00 PM] kii#8888
Oh thats confusing haha. That is the string. Both of it are strings. One is wallet address, one is the reducedTxBytes in String form


[10/18/2022 5:11 PM] kii#8888
I found the issue, I've to decode it the way i encoded it. I encoded it via Base64.GetUrlEncoder. So I have to decode the same way

{Reactions}
üëç 

[10/20/2022 3:40 AM] Porridge#8651
Where does one get started in understanding the weeds of the ergo node implementation to be able to help out with open issues?


[10/20/2022 10:08 AM] dusek#6153
ergo uses schnorr signatures right?


[10/20/2022 10:09 AM] dusek#6153
does that mean i could use something like musig2 to compact 2 keys into one (without anyone knowing this is a multisig address)?


[10/20/2022 10:26 AM] Cheese Enthusiast#0548
Yea, you could use musig to create hidden multisig addresses. You can also use it to have multiple parties make decisions in smart contracts while still using a single `ProveDlog` SigmaProp. I looked into it implementing it but it was too over my head üòÖ


[10/20/2022 10:27 AM] dusek#6153
i've been reading about taproot lately and a lot of it goes over my head but musig2/dn and merkelized alternative script trees look cool


[10/20/2022 1:30 PM] HelixEvo#2120
Do you boys clone repository first. Make changes, then create PR to push to master?


[10/20/2022 2:54 PM] MGpai#4313
yes

{Reactions}
üëç 

[10/20/2022 5:37 PM] Superheat22#8526
What are some good resources for someone interested in learning how to develop on Ergo?


[10/20/2022 5:48 PM] HelixEvo#2120
@glasgowm probably know of a few


[10/20/2022 6:07 PM] glasgowm#9381
https://docs.ergoplatform.com/dev/


[10/22/2022 10:38 AM] _msd#2792
Hi,
Does someone know what's the max length of an Ergo address ? I'm trying to do a regex, but can't find a static prefix or something that doesn't change.
Read this : https://ergoplatform.org/en/blog/2019_07_24_ergo_address/, couldn't find a solution.


[10/22/2022 10:43 AM] glasgowm#9381
P2S has no limit since it is the serialized script.
P2SH is 192 bits since it is the "first 192 bits of the Blake2b256 hash of serialized script bytes"

{Reactions}
üëç 

[10/22/2022 10:48 AM] _msd#2792
Got it, so I will just have to do a checksum on the data to check it's a valid address.


[10/22/2022 11:02 AM] glasgowm#9381
you can use the Address class from appkit:

https://github.com/ergoplatform/ergo-appkit/blob/a2384a983fb4c0a2627e9fdaa0299714683b20ca/common/src/main/java/org/ergoplatform/appkit/Address.java

or use its code directly

some more info here;

https://docs.ergoplatform.com/dev/wallet/address/#length

{Embed}
https://github.com/ergoplatform/ergo-appkit/blob/a2384a983fb4c0a2627e9fdaa0299714683b20ca/common/src/main/java/org/ergoplatform/appkit/Address.java
ergo-appkit/Address.java at a2384a983fb4c0a2627e9fdaa0299714683b20c...
Appkit: A Library for Java/Scala/Kotlin Development of Ergo Applications - ergo-appkit/Address.java at a2384a983fb4c0a2627e9fdaa0299714683b20ca ¬∑ ergoplatform/ergo-appkit
https://images-ext-2.discordapp.net/external/LYm07-mCLKmGrPWFMqYMg5R9CC1Hfz2kSpZrqQJ4Usc/https/opengraph.githubassets.com/334858cb270835e5374478056f61778690475b78f24de39774628dfcd821edcb/ergoplatform/ergo-appkit


[10/22/2022 11:45 AM] _msd#2792
Thank you! üôÇ


[10/22/2022 2:41 PM] 6directions#1089
is there a Fleet SDK dedicated channel?
cc/ @capt_nemo


[10/22/2022 2:41 PM] glasgowm#9381
added #deleted-channel

{Reactions}
üëç 

[10/22/2022 2:41 PM] 6directions#1089
thank you sir


[10/22/2022 3:44 PM] glasgowm#9381
Forgot about this too

https://github.com/kushti/ergo-simple-addresses

{Embed}
https://github.com/kushti/ergo-simple-addresses
GitHub - kushti/ergo-simple-addresses: Simple no-dependencies Ergo ...
Simple no-dependencies Ergo addresses utils . Contribute to kushti/ergo-simple-addresses development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/AkVzN9QSKjNeeTbA2c11M-1isNuavrDhKHb7_2O9Kg8/https/opengraph.githubassets.com/1e758ddaafa12ac9512082b27ffbbcf8b9479599a9c31b8e263aa1b15911847e/kushti/ergo-simple-addresses


[10/22/2022 7:12 PM] 6directions#1089
anyone who knows scala well - is structured logging a thing in scala? I've searched the web but can't seem to find a straight answer


[10/22/2022 9:50 PM] _msd#2792
Great, I will try to use this. üëç


[10/23/2022 2:20 AM] capt_nemo#3204
Here I have a pretty straight forward address validation code: https://github.com/fleet-sdk/core/blob/master/src/models/ergoAddress.ts#L164

{Embed}
https://github.com/fleet-sdk/core/blob/master/src/models/ergoAddress.ts
core/ergoAddress.ts at master ¬∑ fleet-sdk/core
Fleet SDK core Library. Contribute to fleet-sdk/core development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/T61QtBJt70EKP3Dob6fXTcuAxFOqQxNs3gDAec1ONaI/https/opengraph.githubassets.com/47e770a662b9ba406767b8f26b419052011fc592dbd90d1456a981fa8216f192/fleet-sdk/core

{Reactions}
üëç 

[10/25/2022 6:12 AM] ProSavage#7131
I needed this amazing


[10/25/2022 11:49 PM] liquid_phase#4605
Any front-end folks familiar with webpack mix  and/or alpineJS ?


[10/27/2022 1:40 AM] 6directions#1089
Where might I find the Autolykos implementation?


[10/27/2022 11:48 AM] glasgowm#9381
https://docs.ergoplatform.com/mining/autolykos/


[10/27/2022 1:26 PM] 6directions#1089
Thank you!


[11/02/2022 6:28 PM] MGpai#4313
What's the decentralized solution to get price from erg usd oracle pool


[11/02/2022 6:32 PM] abchris#8522
Grab the latest epoch prep box from any explorer


[11/02/2022 6:32 PM] abchris#8522
One of the registers is the inverse of the price in nano


[11/02/2022 8:30 PM] MGpai#4313
Do I look for this with the oracle nft?


[11/02/2022 8:32 PM] abchris#8522
Use the epoch preparation address: `EfS5abyDe4vKFrJ48K5HnwTqa1ksn238bWFPe84bzVvCGvK1h2B7sgWLETtQuWwzVdBaoRZ1HcyzddrxLcsoM5YEy4UnqcLqMU1MDca1kLw9xbazAM6Awo9y6UVWTkQcS97mYkhkmx2Tewg3JntMgzfLWz5mACiEJEv7potayvk6awmLWS36sJMfXWgnEfNiqTyXNiPzt466cgot3GLcEsYXxKzLXyJ9EfvXpjzC2abTMzVSf1e17BHre4zZvDoAeTqr4igV3ubv2PtJjntvF2ibrDLmwwAyANEhw1yt8C8fCidkf3MAoPE6T53hX3Eb2mp3Xofmtrn4qVgmhNonnV8ekWZWvBTxYiNP8Vu5nc6RMDBv7P1c5rRc3tnDMRh2dUcDD7USyoB9YcvioMfAZGMNfLjWqgYu9Ygw2FokGBPThyWrKQ5nkLJvief1eQJg4wZXKdXWAR7VxwNftdZjPCHcmwn6ByRHZo9kb4Emv3rjfZE`


[11/02/2022 8:33 PM] abchris#8522
Can find it here if you need it later <https://explorer.ergoplatform.com/en/oracle-pool-state/ergusd>


[11/02/2022 8:35 PM] abchris#8522
1 / R4 * 10^9 = price of 1 ERG in USD


[11/02/2022 8:37 PM] MGpai#4313
awesome I found the box, thanks


[11/05/2022 3:43 AM] torchTheMall#9228
how to I pass this transaction to nautilus?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1038297453125959740/image.png


[11/05/2022 3:44 AM] torchTheMall#9228
not sure which function im supposed to use from the context


[11/05/2022 4:42 AM] MGpai#4313
you cant


[11/05/2022 10:57 AM] MrStahlfelge#0042
https://github.com/capt-nemo429/nautilus-wallet/issues/35 must be resolved first. make captain nemo aware this is needed


[11/05/2022 12:28 PM] MrStahlfelge#0042
btw from which service is the json? the address is weird, it should be a p2pk address. also, replyto field should be omitted when empty


[11/05/2022 7:57 PM] kii#8888
If we mint a token, we would have to create it in a box with just that token itself?

What if we have an input box with tokens, and we want to mint a token from that input box but have all the tokens in the same box.

For example
InBox (id: gfd) -> Tokens (0 -> abc)
OutBox (id: qwe) -> Tokens(0 -> abc, 1 -> gfd)

Is this possible?


[11/05/2022 9:41 PM] Cheese Enthusiast#0548
This is definitely possible

{Reactions}
üëç 

[11/05/2022 9:41 PM] kii#8888
you've done a successful one before i assume


[11/05/2022 9:42 PM] Cheese Enthusiast#0548
I've minted a single token into multiple boxes, don't see a reason why you couldn't place it into a box with another token in it as well.


[11/05/2022 9:44 PM] kii#8888
thats different though


[11/05/2022 9:44 PM] Cheese Enthusiast#0548
True


[11/05/2022 9:44 PM] kii#8888
cause minting a single token into multiple boxes, those boxes don't have tokens in it


[11/05/2022 9:45 PM] Cheese Enthusiast#0548
I feel like it's possible but I guess you'll have to test it out to make sure


[11/05/2022 9:46 PM] kii#8888
I tested it out, and my txs failed. But I wasnt sure if I'm doing something wrong


[11/06/2022 2:46 AM] kii#8888
its from exle, I'm sending a reducedTx.


[11/06/2022 2:48 AM] torchTheMall#9228
ah kiidots already here


[11/06/2022 2:49 AM] torchTheMall#9228
can they resolve this stuff on the backend api so i dont have to send the ergo-sdk with the front end bundle


[11/06/2022 2:50 AM] torchTheMall#9228
our project is going to be used by people with low bandwidth and i want to trim our project bundle way down and use react server components - id love to yank the ergo-sdk out of that bundle


[11/06/2022 9:02 AM] MrStahlfelge#0042
It is possible, I have seen obolflip doing this


[11/06/2022 5:26 PM] Hara'peko Suiren#3847
Hello there, what peers should I add to get the testnet up and mining? the default peers are down, and I can't figure out what peers are running https://testnet.ergoplatform.com/


[11/06/2022 5:47 PM] Hara'peko Suiren#3847
Well, I finally found these: https://github.com/ergoplatform/ergo/pull/1895

{Embed}
https://github.com/ergoplatform/ergo/pull/1895
Testnet checkpoint by kushti ¬∑ Pull Request #1895 ¬∑ ergoplatform/er...
In this PR:

213.239.193.208:9022 added to testnet's seed peers list
checkpoint added to testnet settings. As some v.3 blocks in the PaiNet are violating monotonic creation height rule (due to ...
https://images-ext-1.discordapp.net/external/AE6nKHyTqd7SG43M1he-LpjQuzPaCOzD_XDQ764Skq4/https/opengraph.githubassets.com/a1cc019e6b842e45adf3d9d3d1e53943c0716050244bddc5fcb05602d67a6c1e/ergoplatform/ergo/pull/1895


[11/06/2022 7:37 PM] Hara'peko Suiren#3847
mmmm it isn't working, this testnet seems stuck at block 55162... anybody has something to help me connect to a working testnet?


[11/06/2022 7:51 PM] kii#8888
weird, i'll have to check out their code


[11/06/2022 8:20 PM] MGpai#4313
Use 5.0 rc3 for now


[11/06/2022 8:21 PM] MGpai#4313
https://github.com/ergoplatform/ergo/releases/tag/5.0.0-RC3

{Embed}
https://github.com/ergoplatform/ergo/releases/tag/5.0.0-RC3
Release 5.0.0 RC3 ¬∑ ergoplatform/ergo
5.0 Release Candidate 3 reference protocol client release. It has recent 4.0.104 codebase merged, and also PaiNet settings.
https://images-ext-2.discordapp.net/external/yH3xT1QJVHT3HVh0RTTG7utTrRrd2t4M7dXXeZ_bLW0/https/opengraph.githubassets.com/f69ed241f16c1691077f8d293533e21829d6dd7a31ba82ef2467ea4c0797ccc4/ergoplatform/ergo/releases/tag/5.0.0-RC3

{Reactions}
üëç 

[11/06/2022 8:35 PM] Hara'peko Suiren#3847
okay I found a work around: https://discord.com/channels/668903786361651200/669989266478202917/1037815923198935061


[11/06/2022 8:35 PM] Hara'peko Suiren#3847
thks I did that and it worked

{Reactions}
üëç 

[11/06/2022 9:29 PM] kii#8888
Okay. I think i found my mistake. When Minting, it always take the first box's id as the token to mint. It can't take the second or the third


[11/06/2022 10:42 PM] kii#8888
Is Block stuck?


[11/06/2022 10:44 PM] kii#8888


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1038947091281616926/Screenshot_2022-11-06_at_2.43.37_PM.png


[11/06/2022 10:50 PM] kii#8888
I think block is not stuck, but explorer.ergoplatform.com seems to not be updating?


[11/06/2022 11:10 PM] kii#8888
@capt_nemo how can we help?


[11/06/2022 11:10 PM] kii#8888
So currently there's no way to sign a reduced tx via nautilus?


[11/07/2022 2:08 PM] CypherPet#3447
are people gpu mining the testnet?


[11/07/2022 2:10 PM] MrStahlfelge#0042
yes


[11/07/2022 2:11 PM] CypherPet#3447
tought it was cpu..


[11/07/2022 2:15 PM] CypherPet#3447
faucet is down and i don't want to set a gpu miner up so can someone send some here: 3WyKVS9ZXmiic9h3oUChcPSY2T1vcm2UyvphejKzmCsV9JDHv4JJ


[11/07/2022 3:07 PM] MrStahlfelge#0042
done


[11/07/2022 3:30 PM] torchTheMall#9228
hey @MrStahlfelge we decided to add ergopay to exle - tested it last night and it works great.


[11/07/2022 3:30 PM] torchTheMall#9228
we have a fix to make on our end - but once its done we should be up and running


[11/07/2022 3:33 PM] MrStahlfelge#0042
great to hear! always good to have more dapps supporting it üôÇ

{Reactions}
üî• 

[11/07/2022 3:34 PM] MrStahlfelge#0042
right now I am implementing some of the enhancements from https://github.com/ergoplatform/eips/pull/82 maybe you want to check that

{Reactions}
üëç 

[11/07/2022 3:34 PM] torchTheMall#9228
to be honest its because I dont know what to do with a reducedTx and nautilus lol


[11/07/2022 3:34 PM] MrStahlfelge#0042
I hope that nautilus will add reducedtx support to make everyone's life easier üôÇ

{Reactions}
üëç 

[11/07/2022 4:09 PM] CypherPet#3447
thanks


[11/08/2022 5:48 PM] liquid_phase#4605
@MrStahlfelge @safew i tried to generate an ergopay tx in safew but my ergopay mobile wallet cannot scan the QR code which was generated. my phone is a brand new pixel 7 pro so its not the camera quality


[11/08/2022 6:23 PM] MGpai#4313
try expanding the qr code maybe


[11/08/2022 6:23 PM] MGpai#4313
if not it maybe too much data


[11/08/2022 6:24 PM] liquid_phase#4605
it is sending tx to a p2s address, so im guessing too much data


[11/08/2022 6:24 PM] MGpai#4313
can you share it?


[11/08/2022 6:24 PM] liquid_phase#4605
im now sending assets to a mnemonic wallet in safew instead of ergopay


[11/08/2022 6:25 PM] liquid_phase#4605
weirdly, the other day when i went to use transaction builder it had areas to edit the registers but i cant see those now


[11/08/2022 6:26 PM] liquid_phase#4605
```Fjp7ogHP6fdk2Xy782guszHP35akmNcoMyvJev8CsSfFzGeKW4sLZ1mFcrYQTFNjxXJKr95gSoSrJynQ32vfpvgU9WUUngT3mMJtGWt7cUQ9FSZNeaCHpEtPHi4jdiMCpz3K9NuzniKFHxpg212zbfPwghXMQ3CF9Dwue5c891fuCT9BTSotdwko6cz9UyvthrzxCB9tsa2MX3TSsTMXFa1JiuX6yU2CyKmY5P7zxbnMsrd3Dy1FNiVWvKS35XbrwjjRMXxKs7J81pwiLfanBByVH7z1KjEVupfYVf1QbmACuSHEQtm2i7Ekp1e8Ztd2CJhETKn3bCzSKBHKN2PXbfBEXfEV6EUhCmq1SWEcPjDZz1iK2oMLSmfDMF5zbLnd8saRpc9iCCwoVXc8pquq63XTdFyF1iUhQcEdy6t3srzZDwpTAd73ACCPmJBnWr5istsf4d3dXbAvdd1UJCyeUrWJvagpLYkz8gQdpGStnzyPagbsGjJutvdbRK7TcwuPQ92XyQVDpyFWBvf7STt4ZXrNseEhJj2dEHS9LWszr7Vx7B5wj1UzCmY5aY3mQv2eTAL1kMbnzzn5HeuG1gRNEcet3aNfNh5DgEwiPA8ttJpa7dwNsWE7C33FuLo9H5CRd7KV8ovMqiA9ADnJimG7NoR32KRUo1xW4ZT2hVM633zZeMcKeCdjfVR91ZU3xHHqkti5CMvjAKcgwnAoyv3HCkosrke7jMUzfcFkueTTk5f3AhGyyrz7CZw7RSf5jKc6rGBs2zY6Xr3zeJcbV2SboBa5n92eTY77yzccx5XSXDw89pfkncFQaz5jc8chAAncAK9wSpDvBZzr8u8W5QViCVRGBbc8pXhboDQQWKnJogvw```


[11/08/2022 6:42 PM] MGpai#4313
try this

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1039610937566560287/qr-fjp7oghp6fdk2xy.svg


[11/08/2022 6:42 PM] MGpai#4313
its an svg


[11/08/2022 6:42 PM] MGpai#4313
open with a browser


[11/08/2022 6:48 PM] MGpai#4313
@liquid_phase


[11/08/2022 8:51 PM] haileypdll#3353
This should not be a size issue, there is "only" 880 characters, with high end devices it usually work up to 3000 / 4000.


[11/08/2022 9:45 PM] MGpai#4313
it could have been a quality issue idk


[11/08/2022 9:45 PM] MGpai#4313
when I enlarged the qr it worked fine


[11/08/2022 10:05 PM] liquid_phase#4605
i can confirm when the QR was enlarged it worked fine - im blaming the high DPI scaling settings for mac OS devices and/or my 4k monitor color space


[11/08/2022 10:05 PM] liquid_phase#4605
it seemed like inside the browser extension it produced a blurry edge'd QR code, where the SVG had definite edges


[11/09/2022 3:42 AM] CypherPet#3447
i'm trying to use safew on testnet but there seems to be a problem with syncing. I tried with the default address (replacing 9053 to 9052) and also with my own fully-synced testnet node address (127.0.0.1:9052) and it never sync with my wallets balance. it'"s always "searching existing address". I used my node wallet mnemonic and it looks like the address is not the same ü§® anybody knows what's wrong with my setup?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1039746768767828098/image.png
https://cdn.discordapp.com/attachments/840313005064585246/1039746769170485319/image.png
https://cdn.discordapp.com/attachments/840313005064585246/1039746769543770154/image.png


[11/09/2022 6:57 AM] haileypdll#3353
Unfortunately safew does not support testnet.


[11/09/2022 7:36 AM] MrStahlfelge#0042
I found many can only scan up to 400 reliably


[11/09/2022 3:04 PM] liquid_phase#4605
manufacturers put phones to rival telescopes in phones nowawdays and they're thwarted by a simple 401 character square. how funny


[11/09/2022 3:08 PM] MrStahlfelge#0042
It is because Android SDK does not have a qr code decoder that manufacturer's can override with hardware capabilities. So on Android it is always software decoding. iOS SDK has this and the hardware can decode.


[11/09/2022 3:11 PM] haileypdll#3353
I can try to add a higher level of zoom in the next version.


[11/09/2022 3:15 PM] liquid_phase#4605
so for once, android is not better than apple at harnessing the hardware


[11/09/2022 3:15 PM] MrStahlfelge#0042
Yes regarding qr code reading support apple is better. Regarding generating qr codes they generate them wrong üòÖ


[11/09/2022 3:16 PM] liquid_phase#4605
let me guess, they start every QR code with "Buy Apple"

{Reactions}
üòÖ (2) 

[11/09/2022 3:24 PM] MrStahlfelge#0042
They omit the quiet zone around the qr code, everyone needs to add it manually


[11/09/2022 4:26 PM] MrStahlfelge#0042
that helps. what would be great was support to sign ergopay requests üôÇ


[11/09/2022 7:20 PM] WilfordGrimley#0124
Does anyone have experience using Njalla as a host?

https://njal.la/servers/

If not, can anyone recommend a hosting provider with servers in Sweden, Switzerland, or Iceland?


[11/09/2022 8:54 PM] WilfordGrimley#0124
Looks like infomaniak is the most cost efficient host for my usecase


[11/10/2022 4:38 AM] dusek#6153
what testnet is everyone using right now?


[11/10/2022 4:38 AM] dusek#6153
I've downloaded ergo-5.0.0-RC3 but have no peers


[11/10/2022 6:02 AM] dusek#6153
Can I get some testnet erg at 3WwkxVkCiN5PKa4CLg72aX2XR53QfGRZmfJxEgiQEqsMmi59ULwq


[11/10/2022 3:19 PM] liquid_phase#4605
nite owl


[11/10/2022 3:49 PM] WilfordGrimley#0124
Cheers. I'll go bug them.

Ended up pulling the trigger on a single mid tier VPS from Njalla. Was reasonably priced and Sweden's privacy laws are very strong.


[11/11/2022 2:52 AM] CypherPet#3447
if i wanted to spend a box that i created with sigmaProp(pk("mypk")), what would be the easiest way to do it? im on testnet now


[11/11/2022 7:43 AM] MrStahlfelge#0042
use it as an input and sign the transaction?

{Reactions}
‚òùÔ∏è 

[11/11/2022 2:43 PM] quokka#1273
is there an example of encoding Coll[Long] anywhere?


[11/11/2022 2:44 PM] quokka#1273
In javascript I mean. ergo-lib-wasm doesn't seem to have it


[11/11/2022 4:44 PM] quokka#1273
@LADOPIXŒ£L @lgd Would either of you be able to help with this ^


[11/11/2022 4:44 PM] quokka#1273
?


[11/11/2022 4:45 PM] lgd#5847
Idk I don't do ergo web dev. But maybe check fleet from captn nemo


[11/11/2022 4:46 PM] quokka#1273
Ah alright I'll check it out


[11/11/2022 4:53 PM] haileypdll#3353
yes, there is straitforward wasm function : https://github.com/ThierryM1212/cyti/blob/4b648ffa74bc47f009fa10d9c2527d128f749273/front-end/src/ergo-related/serializer.js#L27-L29

{Reactions}
ü§ù (2) 

[11/11/2022 4:54 PM] quokka#1273
WAIT YESSSS TYSM!!!


[11/12/2022 2:30 PM] liquid_phase#4605
Anyone here really good with javascript / front end that can help me with something?


[11/12/2022 2:32 PM] liquid_phase#4605
Currently using AlpineJS to store certain things which persist through the site (like the audio file being played, the name of the artist, album art - etc)

The player currently plays one audio file at a time, but there is a loop of audio files on the page where the onclick event (play button) initiates from. I am trying now to create new variables in the js file for audio_playlist alongside the original audio_file variable.

I'm not sure if i'm doing this right, so if this sounds like it's in anyone's wheel house please lmk


[11/12/2022 10:13 PM] WilfordGrimley#0124
@capt_nemo @MrStahlfelge  @Ilya | Spectrum @J - The Ergod @Luivatra @LowKeyNerd I am toying with the idea of using ErgoAuth as a 3pid alternative for registration to sigmachat.app

Would want to enable users to sign an Ergo transaction to prove that they own a particular address, and have that address be linked to that user's account on the server's identity database. 

Looking to avoid requiring an email or reCAPTHA, but still have 3pid as a requirement.

Could any of you point me to the relevant parts of your projects, or AppKit documentation that might help me?

{Reactions}
ergo_orange2 

[11/12/2022 10:21 PM] LowKeyNerd#0001
@WilfordGrimley you mean like how it works on blitztcg.com? If so, I'll just send you the code


[11/12/2022 10:21 PM] LowKeyNerd#0001
if you haven't tried it - make an account, then click the Connect button that appears when you have nautilus installed


[11/12/2022 10:22 PM] LowKeyNerd#0001
after confirmation, it passes the users public key to Firebase so we can use it in-game to pull in their tokens/cards


[11/12/2022 10:40 PM] MrStahlfelge#0042
The eip-0028 documentation links the appkit example project


[11/12/2022 10:40 PM] MrStahlfelge#0042
Feel free to ask any further questions


[11/12/2022 10:42 PM] liquid_phase#4605
We made a dapp connector / auth system for laravel available here:
https://github.com/TremendouslyHighFrequency/ErgoDappConnector-PHP

{Embed}
https://github.com/TremendouslyHighFrequency/ErgoDappConnector-PHP
GitHub - TremendouslyHighFrequency/ErgoDappConnector-PHP
Contribute to TremendouslyHighFrequency/ErgoDappConnector-PHP development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/DcZj9XANP-UGo-ROOB564BnAbRWQNwoqwaq_8OaUn4Q/https/opengraph.githubassets.com/0fd230b79db7ed9e863424a12100711e0d6ad31e529be355535e06783963ecbc/TremendouslyHighFrequency/ErgoDappConnector-PHP


[11/12/2022 10:43 PM] liquid_phase#4605
Lets users auth through the native auth system via the nautilus auth signing - uses ergo-lib-wasm on the backend


[11/12/2022 10:44 PM] liquid_phase#4605
the user is added to the DB as a specific user type, with the address as the only table content


[11/12/2022 11:07 PM] WilfordGrimley#0124
Just made an account and tried connecting a wallet. This is nearly exactly what I am after, going to use something other than firebase for tokens though.

I'd love to see the code! üôÇ


[11/12/2022 11:07 PM] WilfordGrimley#0124
Reading through it now, thank you! üôÇ


[11/12/2022 11:08 PM] WilfordGrimley#0124
Wonderful. I will take a look and may implement this. Thank you!


[11/12/2022 11:45 PM] Cheese Enthusiast#0548
Is the appkit implementation the same one used by nautilus?


[11/13/2022 2:25 AM] WilfordGrimley#0124
Anyone have experience with sendgrid as an alternative to SMTP hosting?


[11/13/2022 4:10 AM] CypherPet#3447
are there any templates for basic transactions somewhere? I'm pretty much brute forcing the example transaction in swagger/send right now trying to figure out how to spend a specific box. I created a {  "source": "true" } p2s address (Ms7smJwLGbUAjuWQ) and sent 1 erg in it. on testnet.

im sending this :

{
"requests":[{
"address":"3WyKVS9ZXmiic9h3oUChcPSY2T1vcm2UyvphejKzmCsV9JDHv4JJ",
"value":900000000,
"assets":[]
}],
"fee":1000000,
"inputs": {
"boxId":"dc0d7df35cfcc66bc95d1c5bdd9d4f1b828556b48f2c2004877791882af5e9b7"
}
}

 this result in a transactionID with no errors but the boxID is never spent. im sending myself my own boxes with this transaction.


[11/13/2022 8:11 AM] MrStahlfelge#0042
No, nautilus does not use appkit


[11/13/2022 8:14 AM] Cheese Enthusiast#0548
Hmm, is there some way to unify these two implantations then? I would prefer to just use a backend api to handle authorization, for both mobile AND web dApp connectors, rather than deal with JS / WASM (which I'm not too good at üòÅ )


[11/13/2022 8:17 AM] Cheese Enthusiast#0548
And yes, I'm aware Nautilus doesn't use appkit. My question is more about how EIP-28 is implemented in terms of what is signed by the user, and whether I can implement something which interacts with Nautilus while using a backend API that uses Appkit functions.


[11/13/2022 8:20 AM] MrStahlfelge#0042
Ah yes, got it not quite right. I suspect it is not completely the same. Captain Nemo discussed a lot with Sigmavalley Ilya and did it as he wanted it if I understand correctly. I think there is no call to the server but everything handled client side. But I might be wrong. Don't know if there is a doc how nautilus handles it.
I would prefer nautilus following the EIP, too, so that dapps don't need different implementations


[11/13/2022 8:23 AM] Cheese Enthusiast#0548
Ah okay, yeah that makes sense. I'll try looking into it to see if there's any significant differences. Though tbh, I think that it would be good to have more collaboration between Nautilus and the Mobile Wallet / ErgoPay functions, given that these are pretty much the two biggest ways to interact with Ergo dApps.


[11/13/2022 8:25 AM] Cheese Enthusiast#0548
It'd be great as a developer to have complete standards that can be followed regardless of your specific language / specialty. Ergopay has done pretty well in this regards, though would be nice if Nautilus / SAFEW / Yoroi could follow similar standards. @capt_nemo

{Reactions}
üëç 

[11/13/2022 8:34 AM] MrStahlfelge#0042
I was not sure if it makes sense to process auth client side. For non browser wallets it is the easiest way to process the data server side anyway.
But yes, I've had preferred if it was the same. But web devs doesn't seem to like using servers which is a must to interact with non browser wallets.

{Reactions}
üëç 

[11/13/2022 8:39 AM] Cheese Enthusiast#0548
Hmm ü§î, I wonder if there is a way to unite these two very different forms of interacting with the blockchain, regardless of server-side / client-side interaction.


[11/13/2022 9:15 AM] MrStahlfelge#0042
For auth it does not make much sense to not interact with a server in my opinion. And you need it anyway to cover mobile/desktop wallets so in order to have a single implementation it is the way to go. Apart from that, browser wallets can't intercept Uri links that are needed for desktop/mobile wallets. But that could be easy to work around by having two buttons on the website (or automatically detect installed wallet). 
I've outlined it here https://github.com/capt-nemo429/nautilus-wallet/issues/35

{Embed}
https://github.com/capt-nemo429/nautilus-wallet/issues/35
ErgoPay support ¬∑ Issue #35 ¬∑ capt-nemo429/nautilus-wallet
Add method to web dapp connector: Eip12Connection.invokeErgoPay(ergoPayUrl: string, completionHandler: function) // invokes an EIP-20 ErgoPay request completionHandler is called when the user compl...
https://images-ext-2.discordapp.net/external/9MW6_O66j-6yVhPSX0_4fcL0vxppMNKJfz4oHrpjVpA/https/opengraph.githubassets.com/fb1dfe7dc9009323b7b787c24e71499dc2376cafb50a49b594de62012ac410ba/capt-nemo429/nautilus-wallet/issues/35


[11/13/2022 11:17 AM] Krasavice Blasen#4574
You basically have it, all thats wrong is you created an "inputs" which should not be there


[11/13/2022 11:18 AM] Krasavice Blasen#4574
You should use /wallet/transaction/send
with the exact request you have


[11/13/2022 11:19 AM] Krasavice Blasen#4574
And then in the inputsRaw field, you put the binary of the box, which you can obtain with the endpoint /utxo/byIdBinary


[11/13/2022 3:00 PM] liquid_phase#4605
using a content management system auth controller is a way to have that entry logged into a local db on the server. For instance, a normal dapp connected user on our site has no user account associted, but a dapp authenticated user has middleware which creates a user in the database for them, and allows their login without a password via a post response from our sigma-rust ergo lib wasm running on lambda to access the user areas of the site.


[11/13/2022 4:57 PM] capt_nemo#3204
Ok, lemme do some clarifications:

1. Nautilus does **not** support ErgoAuth. In my opinion, it doesn't makes sense for an extension wallet, and after some unfruitful discussions on EIP's in order to have additional info like a signature timestamp, I decided to write a new auth mechanism as an extension of EIP-12 (which I'm still documenting and will open a new PR soon).
2. Nautilus' signed message can be checked by AppKit or sigma-rust in the exactly same way as ErgoAuth's.
3. The EIP-12 authentication protocol is only meant to provide proofs whether a user owns a private key or not. How it will be transferred and checked is a dev's decision. **It doesn't requires nor enforces client side verification**, it just gives implementation flexibility and puts the decision power on devs' hands. That's what open, decentralized systems are all about, right?

{Reactions}
üëç 

[11/13/2022 5:29 PM] Cheese Enthusiast#0548
Yeah, when I say server side / client side, I was more referring to dApp connectors vs ergopay, not really ErgoAuth. That makes sense though, thanks!


[11/13/2022 5:31 PM] Cheese Enthusiast#0548
Cool, point #2 is probably the most important one for me at least. Thanks for the clarification üôÇ

{Reactions}
üëç 

[11/13/2022 5:33 PM] MrStahlfelge#0042
With point 2, you can basically implement Ergoauth in your dapp. i don't see why not do it in an extension wallet so that not every dapp has to do it again and again.


[11/13/2022 5:36 PM] MrStahlfelge#0042
The discussion in the EIP came to a dead end, unfortunately. Ergoauth is in its core a message signed by a key owner. It is in the dapp's hand to establish mechanisms to make the message short lived, and invalidate it after a short period of time.


[11/13/2022 5:36 PM] MrStahlfelge#0042
When you digged through everything would be good to have some insights and feedback from you @Cheese Enthusiast


[11/13/2022 5:44 PM] Cheese Enthusiast#0548
Sure, ill check out both Auth methods. Will also look a little bit more into the discussions on EIP-28 as well.

{Reactions}
üëç 

[11/13/2022 5:54 PM] capt_nemo#3204
Oh, I'm sorry, I meant not additional checks, but additional info. Edited the message to reflect this.


[11/13/2022 10:39 PM] WilfordGrimley#0124
Are you building out a method for smartpool miners to vote with authentication? ü§ûüôè


[11/14/2022 2:06 AM] CypherPet#3447
well thank you! i finally managed to spend my "true" box....  
"inputsRaw": [
"serialized box id "
]
nothing worked till i found a February post with an example of inputsRaw without the "boxId" label...


[11/14/2022 2:07 AM] Krasavice Blasen#4574
Nice, yeah once you know how to spend a box the whole worlds your oyster üôÇ


[11/14/2022 2:11 AM] CypherPet#3447
tbh, ive tried doing this for so long, i usually just give up because something simply doesn't work at some point. node not syncing, npm install that spits out errors etc. today is a great day üòÖ


[11/14/2022 5:11 AM] kii#8888
Hi, are we able to get an InputBox that is in the mempool using BlockchainContext?


[11/14/2022 12:14 PM] MrStahlfelge#0042
yes, latest snapshot has parameters for getBoxById - release versions have getBoxByIdWithMempool


[11/15/2022 12:36 AM] Cheese Enthusiast#0548
Hey @morphic , I'm trying to test how the 5.0 upgrade works in terms of execution cost. I'm running into something strange while testing out some contracts which are applying updates to an AVL Tree. I'm connected to the current testnet, where 5.0 is already activated.

When trying to update anywhere from 1 - 335 miners, the transaction works fine, and cost seems to scale up linearly. At 335 miners, the tx cost is 145392. However, once I change it to try and update 336 miners in one transaction, I get the following error:

```
Caused by: scalan.Base$StagingException: Cannot invoke method public abstract java.lang.Object special.collection.Coll.foldLeft(java.lang.Object,scala.Function1) on object sigmastate.eval.Evaluation$$Lambda$1256/1709930189@6bccd036)
...
Caused by: scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s933 -> OpCost(s918, 511, WrappedArray(s924), s932))
...
Caused by: sigmastate.lang.exceptions.CostLimitException: Estimated execution cost 7976790 exceeds the limit 7967480
```


[11/15/2022 12:39 AM] Cheese Enthusiast#0548
What's confusing me is the last line, which seems to indicate the cost has ballooned up to nearly 8 million. Am I misinterpreting the error message? Or has the cost really gone up that high. All I'm doing is folding left over a collection of data which has 336 elements in it.


[11/15/2022 12:41 AM] Cheese Enthusiast#0548
I'm on Appkit 5.0.0 and SigmaState 5.0.2 if it helps


[11/15/2022 2:16 PM] morphic#4133
What is the contract?


[11/15/2022 3:48 PM] morphic#4133
Also if you can create a minified unit test which reproduces the problem and share with me so I can hit a breakpoint and see want happens.


[11/16/2022 12:14 AM] Cheese Enthusiast#0548
```scala
{
  val balanceState = INPUTS(0).R4[AvlTree].get
  val nextStateBox = OUTPUTS(0)
  val nextBalanceState = OUTPUTS(0).R4[AvlTree].get
  val poolNFT = INPUTS(0).tokens(0)._1

  val stateData     = getVar[Coll[(Coll[Byte], Coll[Byte])]](0).get
  val proof         = getVar[Coll[Byte]](1).get

  val keys = stateData.map{ (keyVal: (Coll[Byte], Coll[Byte])) => keyVal._1 }
  val updateBalances = {
    val oldBalances   = balanceState.getMany(keys, proof)
    val totalPaid     = stateData.fold(0L, {
      (z: Long, keyVal: (Coll[Byte], Coll[Byte])) =>
        val minerBalanceChange: Long = byteArrayToLong( keyVal._2 )
        z + minerBalanceChange
      }
    )

    val newBalances: Coll[(Coll[Byte], Coll[Byte])] = stateData.map{
      (keyVal: (Coll[Byte], Coll[Byte])) =>
        val index =   keys.indexOf(keyVal._1, 0)
        val oldMinerBalance: Coll[Byte]      = oldBalances(index).get
        val balanceChangeBytes: Coll[Byte]   = keyVal._2

        val lastBalance = byteArrayToLong( oldMinerBalance )
        val minerBalanceChange = byteArrayToLong( balanceChangeBytes )

        val nextBalance = minerBalanceChange + lastBalance

        (keyVal._1, longToByteArray( nextBalance ))
    }

    val updatedBalanceState  = balanceState.update(newBalances, proof).get
    val nextRewardValid = nextStateBox.value == INPUTS(0).value + totalPaid
    val nextBalanceStateValid = nextBalanceState.digest == updatedBalanceState.digest
    val secureSpend = poolNFT == const_poolNFT

    val validUpdate = allOf(
      Coll(
        nextRewardValid,
        nextBalanceStateValid,
        secureSpend
      )
    )
    validUpdate
  }

  sigmaProp(updateBalances)
}
```


[11/16/2022 12:58 AM] Cheese Enthusiast#0548
Ended up figuring out the issue, was a stupid error on my part üòÅ


[11/16/2022 1:10 AM] Cheese Enthusiast#0548
Am 100% sure I'm getting JIT costing now, the update contract still takes the bulk of the tx cost at nearly 700k for 200 miners. Looks like performance actually went down for it, as it's unable to get past 240 miners (while 335 was the max on AOT).

Maybe this is just a more accurate cost for it? It could be rather heavy on the computation side due to all the different collection methods I called. On the other hand, there is still a ton of space to use to use in the tx, which is only 22kb / 95kb.

I'll work on an isolated test for you to run in the meantime.


[11/16/2022 10:23 AM] morphic#4133
Yeah, AOT was probably inaccurate towards lower cost, while JIT is set up to be a bit pessimistic and skewed towards higher costs. Also AvlTree operations specifically are hard to cost precisely so there is some approximation  skewed towards higher costs.
Also you do repeated loops over the same long collection and there is repeated byteArrayToLong( balanceChangeBytes)
Try to optimise the contract.


[11/16/2022 10:25 AM] morphic#4133
You probably will not be able to merge fold with maps and do everything in a single loop, but at least leave one fold and one map I think possible.


[11/16/2022 10:27 AM] morphic#4133
If you prepare the "isolated test" I can check where the high cost comes from.


[11/16/2022 10:51 AM] morphic#4133
Another possible optimization is to split stateData collection into two variables (keys and values). You can always do `zip` which is almost free (it is specially designed to be basically O(1) operation). 
Then, having keys and values, you can remove the first `map`,  then `fold` will be over collection of values. 
And ideally you better pass Coll[Long] in context variable for values and thus avoid both byteArrayToLong operations in long loops.


[11/16/2022 11:01 AM] morphic#4133
Also, do you really need to get oldBalances   = balanceState.getMany(keys, proof) from AvlTree? Can you just pass the old balances as variable?


[11/16/2022 11:11 AM] morphic#4133
to perform AvlTree operation, the AvlVerifier need to be created (separately for each operation, it is not shared or somehow cached). Its cost is accumulated like this
    E.addSeqCost(CreateAvlVerifier_Info, proof.length) { () =>
      tree.createVerifier(proof)
    }
where addSeqCost is a cost which depends on some collection size.
val CreateAvlVerifier_Info = OperationCostInfo(
    PerItemCost(baseCost = JitCost(110), perChunkCost = JitCost(20), chunkSize = 64),
    NamedDesc("CreateAvlVerifier"))
The parameters are setup based on profiling on my MacBook.

Example: if proof size is 640 bytes, then the JitCost will be 
110 + 640/64 * 20 = 310
which should be converted to block cost like
310/10 = 31 units of block cost.


[11/16/2022 11:11 AM] morphic#4133
What is the length of the `proof` collection in your case?


[11/16/2022 11:21 AM] morphic#4133
Then there is 
  val UpdateAvlTree_Info = OperationCostInfo(
    PerItemCost(baseCost = JitCost(120), perChunkCost = JitCost(20), chunkSize = 1),
    NamedDesc("UpdateAvlTree"))
which is accumulated for each key-value pair like 
val nItems = Math.max(bv.treeHeight, 1)
E.addSeqCost(UpdateAvlTree_Info, nItems)
So if we have 100 kv pairs and the tree of height 10, then 
(120 + 10/1 * 20) * 100 = 32000 Jit cost and 32000/10 = 3200 block cost.


[11/16/2022 11:35 AM] morphic#4133
Chances are the current AvlTree implementation is not optimized for performance, but I think we can hardly expect more that 50% improvement here and more than 50% cost reduction.


[11/16/2022 1:35 PM] Luivatra#9076
It has been a while, but in my early JIT experiments I also ran into a case where the cost was suddenly really high, refactoring the contract especially around maps and folds help A LOT. So for that reason I now make test cases with high amount of operations so I can find out right away if I messed up the cost when changing the contract


[11/16/2022 2:44 PM] morphic#4133
v5.0 interpreter has cost profiler integrated which can collect full trace of operations performed during contract execution and their costs.


[11/16/2022 2:46 PM] morphic#4133
I think the profiler can be extended to connect trace back to ergoTree nodes.

{Reactions}
üî• (2) 

[11/16/2022 2:47 PM] morphic#4133
Can be useful for cost optimization of contracts


[11/16/2022 4:22 PM] Cheese Enthusiast#0548
Interesting that zip is basically free, In that case ill definitely consider splitting up the data to get rid of the initial map to get keys.


[11/16/2022 4:27 PM] Cheese Enthusiast#0548
Not entirely sure what you mean about the avl tree methods, but getting the old balances from there is definitely important though. I do agree that using a Coll[Long] in context vars should reduce the number of conversions needed though.

{Reactions}
üëç 

[11/16/2022 4:37 PM] morphic#4133
I think that is something I can do after finishing Sigma.js. And then this profiling can be reused both in Appkit and Fleet.


[11/16/2022 4:40 PM] morphic#4133
Yes, I used so called `column representation` where a collection of pairs Coll[(A, B)] is represented as a pair of collections (Coll[A], Coll[B]) internally. So zip is just creating such pair. It is safe because ErgoScript is immutable for all data values.

{Reactions}
üî• 

[11/16/2022 4:41 PM] morphic#4133
In general it is better to pass the data separated and combine in the script as necessary.

{Reactions}
üëç 

[11/16/2022 4:42 PM] morphic#4133
Ok, but are you sure it is ok to use the same proof in both of this operations?


[11/16/2022 4:43 PM] morphic#4133
BTW, what is the size of your proof (in bytes)?


[11/16/2022 4:45 PM] Cheese Enthusiast#0548
Yes, update and lookup proofs can be the same as long as they are operating on same keys. I implemented this way to specifically take advantage of that.

{Reactions}
üëç 

[11/16/2022 4:46 PM] Cheese Enthusiast#0548
Will have to come back to you on that, but likely 6k - 12k bytes? Will let you know exact amount soon.


[11/16/2022 4:48 PM] Grand Gambit#5886
Hello I am asking for some guidance regarding appkit and java here: https://discord.com/channels/668903786361651200/669207683869573142/1042460978576642128
if someone could reply there I d appreciate it


[11/16/2022 7:33 PM] essaias#5787
Hey devs, upgraded my two mainnet nodes to be available using static domain and secure connection (https). 

Feel free to use them. They are online 24/7, using latest 4.x.x Software. <1h downtime per month guaranteed. No bandwidth limits apply.

*Public ERGO Node #1*
EU-DE (D√ºsseldorf) based (VPS) | 24/7
HTTPS REST API (https://ergo1.oette.info)

*Public ERGO Node #2*
US-WA (Seattle) based (VPS) | 24/7
HTTPS REST API (https://ergo2.oette.info)

{Reactions}
üõê 

[11/16/2022 7:54 PM] Cheese Enthusiast#0548
11576 bytes for 240 miners, this is likely close to optimal proof size given that I perform updates on a sorted collection of all keys in the tree. The tree in total has 976 miners inside of it, and in this test, we chain together multiple update transactions to perform updates on all of them.


[11/16/2022 7:56 PM] morphic#4133
And how many inputs with such contract in the transaction?


[11/16/2022 7:58 PM] Cheese Enthusiast#0548
Only one per transaction, the other input at INPUTS(0) is a very simple contract which simply verifies that INPUTS(1) is of a valid "command" contract (Insertion, Updates which we are looking at now, and payouts)


[11/16/2022 7:59 PM] Cheese Enthusiast#0548
Insertion and payouts are quite a bit more efficient now btw, payouts especially can scale up much higher than in AOT


[11/16/2022 8:00 PM] morphic#4133
Ok, then still not clear how you get "nearly 700k for 200 miners"


[11/16/2022 8:01 PM] Cheese Enthusiast#0548
Let me give you exact numbers, one second


[11/16/2022 8:01 PM] Cheese Enthusiast#0548
Root node height for 240 miners was 10 btw


[11/16/2022 8:05 PM] Cheese Enthusiast#0548
```
2022-11-16 15:02:23 INFO  PayoutGroup  =============== Printing Group Info =============== 
2022-11-16 15:02:23 INFO  PayoutGroup  TOTAL MINERS: 962 
2022-11-16 15:02:23 INFO  PayoutGroup  BATCH SIZE: 200 
2022-11-16 15:02:23 INFO  PayoutGroup  UPDATE: 7b57531319cff7e80e94650974389f3ae77408c7651b8a59125247f97b365aaf -> 7da817202e769f475736ff7fd706da57b8858f436190b357f8ca2459a9ce180e0a -> 734466 tx cost -> 18665 bytes 
2022-11-16 15:02:23 INFO  PayoutGroup  UPDATE: 3d2bfcd9717960e1460ecee797953f8355881c0d0a1d68892f8220e799b7281f -> 16e018e726d3642de10345ac2c0256ccc41f2f74dfb429d5cf21ef61c5b871be0a -> 735270 tx cost -> 18802 bytes 
2022-11-16 15:02:23 INFO  PayoutGroup  UPDATE: 3b6f249818e3787079dc460945958b2a70386cc8fef07cdfeed59da73fb2074d -> 49009edc5cd6ae0707f4b001c47c483854eb71d24ed986336089e47957c69a0a0a -> 735270 tx cost -> 18764 bytes 
2022-11-16 15:02:23 INFO  PayoutGroup  UPDATE: 6dea9d1680520fa47a76300c189fa0b544a2ba28d618dd9b34fe964d0ff3c0da -> ba993e58f14bdcf8f3fa5ca3246360fce63f0c2b96042469b1601b1bf2905df50a -> 734868 tx cost -> 18734 bytes 
2022-11-16 15:02:23 INFO  PayoutGroup  UPDATE: d2e4d8284da1ca4f6d27c75ade1cd2f4da21ecafd96894a420cebd1dd1442f47 -> f1dfde564aa0c50a9750ec81b360a6523fdc6c4b5ed3c017ccf47395d90c472c0a -> 501974 tx cost -> 15202 bytes 
```

I removed insertion and payout results from this due to text size. The format of the text is `tx id -> tree digest -> tx cost -> tx size (in bytes)`


[11/16/2022 8:07 PM] Cheese Enthusiast#0548
The last tx is not quite ~730k tx cost, due to not having exactly 200 miners.


[11/16/2022 8:07 PM] Cheese Enthusiast#0548
I'm getting tx cost by doing `SignedTransaction.getCost` btw, not sure if that changes anything


[11/16/2022 8:09 PM] Cheese Enthusiast#0548
This is for 230 miners now:
```
2022-11-16 15:08:36 INFO  PayoutGroup  =============== Printing Group Info =============== 
2022-11-16 15:08:36 INFO  PayoutGroup  TOTAL MINERS: 962 
2022-11-16 15:08:36 INFO  PayoutGroup  BATCH SIZE: 230 
2022-11-16 15:08:36 INFO  PayoutGroup  UPDATE: 787e094d8a93d01d5744c1c89457041fc1c75d8feea3e972d8c4644279b5aeb5 -> 809d05a9e3e8e335064f1914b8f63e3084b564ae2b5bf8bcc0e49d326c2393390a -> 951157 tx cost -> 21275 bytes 
2022-11-16 15:08:36 INFO  PayoutGroup  UPDATE: 76b4faa2c6f8be99101d5121d18f222e17ac075363b5c469b55de1c0f79dba54 -> 358be062cc81fe2c243405d8023004b61e6925608d87b9728d31f0fb18590e390a -> 952543 tx cost -> 21444 bytes 
2022-11-16 15:08:36 INFO  PayoutGroup  UPDATE: d212e17cfdf6d9f7484dc11754894e7872d421c945045a6810be7480fbd31758 -> 7bba1f05f664beca17e100db00cd3c9f8f604882c49d81d8bb491eab061269cf0a -> 953467 tx cost -> 21545 bytes 
2022-11-16 15:08:36 INFO  PayoutGroup  UPDATE: ca5d8bf3fcc2f7cd26ad81e794e8d8023dfa7a0bac5da5a41ed9b4f101f6943a -> efc7643f3f2b4cf4f2631feffe762e3c47229af94ee9255522d65aa7d45165470a -> 952081 tx cost -> 21374 bytes 
2022-11-16 15:08:36 INFO  PayoutGroup  UPDATE: f4dd29c857074db0ab4a277c053a813205fdd8c40d607b5a014c56384925c1f7 -> 74d2ee9e76d99b1e236aad8cfba1d7b33e4563b4bc927b8f6caf99f383e5690e0a -> 84278 tx cost -> 4529 bytes 
```


[11/16/2022 8:10 PM] Cheese Enthusiast#0548
At 240 miners, I get the following upon attempting an update:
```
Caused by: sigmastate.lang.exceptions.CostLimitException: Estimated execution cost JitCost(9782764) exceeds the limit JitCost(9782640)
    at sigmastate.interpreter.CostAccumulator.add(CostAccumulator.scala:65)
    at sigmastate.interpreter.ErgoTreeEvaluator.addSeqCost(ErgoTreeEvaluator.scala:298)
    at sigmastate.interpreter.ErgoTreeEvaluator.addSeqCost(ErgoTreeEvaluator.scala:307)
    at sigmastate.SAvlTree$.$anonfun$getMany_eval$1(types.scala:2413)
    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)
    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)
    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)
    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)

```


[11/16/2022 8:13 PM] Cheese Enthusiast#0548
Hope that helps @morphic , can provide more results if needed


[11/16/2022 8:38 PM] Cheese Enthusiast#0548
Btw this means `unzip` is also O(1) as well?

EDIT: I forgot unzip doesn't exist in ErgoScript  üòÅ


[11/16/2022 8:59 PM] WilfordGrimley#0124
@MrStahlfelge I have a couple of questions about the Ergo wallet app.

Firstly: is it feasible to build it against alpine aarch64 or arm64?

Secondly: across several different distributions, desktop environments and compositors on the PinePhone I can't seem to get the v2.2.2220 release to display nicely on the device. (This is a problem that is pervasive across several gui apps on the device, not just your app and not just the most recent version)

The device has a 1440x720res 18:9 ratio display

Several GTK and Qt apps have implemented sime scaling solution that enables them to ensure that everything remains on screen.

In armbian (debian for arm) there are some scripts that enable a user to attempt to force an app to scale, they are not effective on Ergo Wallet App.

Any guidance would be appreciated. I am happy to continue testing.üòÅ


[11/16/2022 9:23 PM] MrStahlfelge#0042
ok, so I guess you are referring to linux version? you can build for arm64, a build is also downloadable. it was tested on a raspi.
what is the scaling problem? probably something that is caused by app using skia under the hood, so maybe investigating regarding skia gives you some results.


[11/16/2022 9:47 PM] morphic#4133
I need UnsignedErgoLikeTransaction.messageToSign bytes as hex to reproduce.


[11/16/2022 10:05 PM] Cheese Enthusiast#0548
Sure will get that to you later today


[11/16/2022 10:05 PM] WilfordGrimley#0124
The prebuilt arm64 works well, but not on alpine (this doesn't matter much, as using a debian or arch base works fine)

The scaling issue is that nothing is centered on the screen. Everything is half off the right side of the display in both portrait and landscape.

I'll look into skai, thank you


[11/16/2022 10:07 PM] morphic#4133
Ideally I also need the context to reproduce singing.


[11/16/2022 10:07 PM] Cheese Enthusiast#0548
How would I go about getting that to you?


[11/16/2022 10:09 PM] morphic#4133
you can privately share your example (which you run), I will try to run it under debugger.

{Reactions}
üëç 

[11/16/2022 10:10 PM] morphic#4133
Let me check using existing tests of AvlTree operations first


[11/16/2022 10:52 PM] MrStahlfelge#0042
Weird as the window is resizeable, so it should fit at least on landscape


[11/16/2022 10:54 PM] WilfordGrimley#0124
I'll play around with more DEs and compositors.

Thanks for the insight!


[11/18/2022 12:03 AM] Grand Gambit#5886
Hello what would be the best api call to be constantly iterating over and over if I want to trigger something to happen everytime an address receives a confirmed tx?


[11/18/2022 1:15 AM] Krasavice Blasen#4574
https://api.ergoplatform.com/api/v1/docs/#operation/getApiV1AddressesP1Transactions

{Reactions}
sigmanaut 

[11/18/2022 12:59 PM] charlie-wasp#7322
Hi everyone! Can someone please explain me the meaning behind parameters of `/mining/solution` API route? I found OpenAPI specs here https://github.com/ergoplatform/ergo/blob/master/src/main/resources/api/openapi.yaml#L1219, but I don't understand clearly, what `pk`, `w`, `n` and `d` params mean. Or is there any documentation on that matter? Thanks

{Embed}
https://github.com/ergoplatform/ergo/blob/master/src/main/resources/api/openapi.yaml
ergo/openapi.yaml at master ¬∑ ergoplatform/ergo
Ergo protocol description & reference client implementation - ergo/openapi.yaml at master ¬∑ ergoplatform/ergo
https://images-ext-1.discordapp.net/external/WGJ5jJ8qgwhJEB7WWO04yzBwbKBulxAJQiBwJydcpgk/https/opengraph.githubassets.com/0746135fbfbc448533abf2504975cc00d7ee8194e40f5de0fef8fbcd97e5f64b/ergoplatform/ergo


[11/18/2022 1:00 PM] glasgowm#9381
https://docs.ergoplatform.com/mining/setup/solo/#frombase


[11/18/2022 1:01 PM] glasgowm#9381
some related info here (still a bit messy though - WIP)

https://docs.ergoplatform.com/mining/algorithm/


[11/18/2022 1:11 PM] charlie-wasp#7322
Thanks! It helped a lot


[11/18/2022 1:21 PM] charlie-wasp#7322
Now I got "Invalid point compression" error from node on `/mining/solution` request. Does someone know what it means by any chance? Does it mean I encoded miner's public key incorrectly?


[11/18/2022 1:58 PM] glasgowm#9381
Not sure, what are you trying to do exactly? 

Added you to #üÉè‚îÇsolo-mining and #üõ†‚îÇhost-a-pool, may be something useful in backlog/pins


[11/18/2022 2:02 PM] glasgowm#9381
Looks like that error is something like that yes


[11/18/2022 3:11 PM] charlie-wasp#7322
I'm trying to mine a block on testnet with nanominer on HiveOS. Currently I struggle with that nanominer sends exactly the same pk no matter which wallet I set on it ü§î It looks like "3d27b7c92e2a0450f666c85571590a41cfd78bf5d6be80e67f3a08f7736838fa4", and when I try to convert it from hex to base58, I don't get anything looking like ergo-address


[11/18/2022 3:12 PM] glasgowm#9381
Why not just CPU mine directly via the node?


[11/18/2022 3:17 PM] glasgowm#9381
Not a miner but i guess maybe as it's your rewardPublicKey - different from your wallet. See `/mining/rewardPublicKey`


[11/18/2022 3:36 PM] charlie-wasp#7322
Wow, it's exactly that! Did not know about this concept, thanks a lot!

Should I pass it to `mining/solution` directly or I should do something with compression (or decompression)?


[11/18/2022 3:40 PM] charlie-wasp#7322
Hm, however, it is secp256k1 point, so decompression would give me two numbers, which I could not submit to API obviously üôÇ


[11/18/2022 4:52 PM] charlie-wasp#7322
Now I think that value for w attribute should be different for testnet, can it be the case?


[11/19/2022 12:22 PM] Grand Gambit#5886
Hello can someone help me minting an NFT with appkit?


[11/20/2022 4:11 AM] WilfordGrimley#0124
@MrStahlfelge regarding the scaling issues I mentioned having with the mobile app on the PinePhone:

Many prebuilt images for the PinePhone have a default global 200% scaling setting. Changing this to 100% makes the .jar nearly useable as I can access all but the bottom settings button by rotating the screen.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1043740266038833182/IMG_20221119_231029_726.jpg
https://cdn.discordapp.com/attachments/840313005064585246/1043740266282090586/IMG_20221119_231044_175.jpg


[11/20/2022 4:12 AM] WilfordGrimley#0124
This is with v2.2.2221 OpenJDK17 on mobian aarch64 (bookworm)


[11/20/2022 4:16 AM] WilfordGrimley#0124
My DE, Phosh is using Wayland as its compositor. Could it be that the app is detecting the 720√ó1440 display as being rotated 90¬∞?


[11/20/2022 4:22 AM] WilfordGrimley#0124
For reference, here is what it looks like with the default 200% scaling set by the prebuilt mobian image.

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1043743061278216222/IMG_20221119_232127_537.jpg


[11/20/2022 8:11 AM] MrStahlfelge#0042
Normally, the app just opens at a default size centered to the screen. It saves position and size for the next start. Looking at your first screenshot, I wonder why the system just not resizes it to full screen. On KDE I would just double click the title bar to do that and it would be good to go.


[11/20/2022 1:51 PM] WilfordGrimley#0124
It's definitely an issue with my setup not your app. I'll try with both desktop and mobile KDE


[11/21/2022 11:07 AM] qq_2020#1852
I followed this (https://github.com/ergoplatform/explorer-backend/blob/master/setup/docker-compose.yaml) guide to build version 9.17.4 and used ergoplatform/ergo: v5.0.3. The node starts with an error

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1044207400044994651/2022-11-21_18.58.44.png
https://cdn.discordapp.com/attachments/840313005064585246/1044207400489603072/2022-11-21_18.59.10.png

{Embed}
https://github.com/ergoplatform/explorer-backend/blob/master/setup/docker-compose.yaml
explorer-backend/docker-compose.yaml at master ¬∑ ergoplatform/explo...
Ergo Blockchain Explorer. Contribute to ergoplatform/explorer-backend development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/6nwqw28II7tCzrymDSF0LUZmDq1tMJsnfJEAzdtJT6g/https/opengraph.githubassets.com/264d9ccff08e8dfdda24dec609967a89d4669e54895792cbca3c781922d1388d/ergoplatform/explorer-backend


[11/23/2022 6:27 AM] liquid_phase#4605
anyone have some time to help me with a bit of javascript


[11/23/2022 3:00 PM] morphic#4133
Hi, I looked at the code and still not clear why your transactions have such a big cost. I can investigate you use case closer if you share the code so that I can run the example under debugger.


[11/23/2022 3:02 PM] Cheese Enthusiast#0548
Yeah sorry I didnt get this to you before. I am traveling today, but tomorrow I will sit down and clean up the test so its easy for you to run and debug.

{Reactions}
üëç 

[11/28/2022 3:50 PM] liquid_phase#4605
noob question but with javascript if you have to declare an non-public API key as a variable for your app to function how do you prevent people from viewing it in the source code?


[11/28/2022 5:08 PM] MrStahlfelge#0042
you can't


[11/28/2022 5:09 PM] MrStahlfelge#0042
you can do a bit of obfuscation but it won't help much. that's why there is the slogan "never trust the client"


[11/29/2022 5:04 AM] 6directions#1089
Is there documentation on how to run an ergo oracle pool, and on how to produce oracle data?


[11/29/2022 7:03 AM] greenhat#6562
Oracle pool v2 will soon be open for testing. Keep an eye on #oracle-pools2  and https://github.com/ergoplatform/oracle-core

{Embed}
https://github.com/ergoplatform/oracle-core
GitHub - ergoplatform/oracle-core: Core off-chain component of Orac...
Core off-chain component of Oracle Pools. Contribute to ergoplatform/oracle-core development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/j69BaN-XSx7xzCAzQbbi6MKIlHk3wmIYIVGhIVzG-fA/https/opengraph.githubassets.com/353eb4e46f23cfded666d271a0503b1742da1a605675517f0a3b8f18794425e0/ergoplatform/oracle-core

{Reactions}
üëç üôè 

[11/29/2022 9:14 PM] bk#4411
Is it possible to make a EIP-004 token where the initial distribution is to different boxes?


[11/30/2022 8:38 AM] MrStahlfelge#0042
yes. in theory, the issueing boxes are different and the metadata could be different, but most interpreters use the first box to read the metadata


[11/30/2022 4:43 PM] bk#4411
It doesn't seem to work completely.  On testnet, I made a transaction (https://testnet.ergoplatform.com/en/transactions/95147278312e72f592130ad5d3039f082f865908e70ed62356ec3b7ff27e6d21) that created this token (https://testnet.ergoplatform.com/en/token/0754c9e24d42b5c5dab00405e50d30ab946adc05f8c1ffdd1a744bbcd75b2aa8) where this box (https://api-testnet.ergoplatform.com/api/v1/boxes/5d364ed34b9b388e3fa41332e387e6ef51fbb2dbe61fb5c57657e214e44bb260) had the metadata and this box (https://api-testnet.ergoplatform.com/api/v1/boxes/bbb7e7ed799457f643e3a8276164745203495a835ffc9b4e068d45cf9799aa66) was issued the actual single token.  Maybe it is just a bug in the explorer, but the name / description wasn't displayed?


[11/30/2022 4:45 PM] MrStahlfelge#0042
the box containing the metadata and the box containing the token must be the same


[11/30/2022 4:46 PM] bk#4411
Oh, that's what I was asking. So it is not possible to issue to a different box? That would have to be a second transaction?


[11/30/2022 4:46 PM] MrStahlfelge#0042
you can issue to different boxes. but what's done in your tx is that the metadata is in a box without any token issued.


[11/30/2022 4:49 PM] bk#4411
So the metadata box must have at least one of the minted tokens?


[11/30/2022 4:50 PM] MrStahlfelge#0042
yes, and I am sure explorer will parse the metadata of the first one (see my first reply)


[11/30/2022 4:52 PM] bk#4411
So if I want to mint a new EIP-004 token and put them all in a (different) specific box, that must be two separate transactions? (One to mint, and a second to move?)


[11/30/2022 4:57 PM] MrStahlfelge#0042
as said: you can put them all in different boxes, but the metadata has to be in the boxes


[11/30/2022 4:58 PM] MrStahlfelge#0042
most people settle to mint and then move though. but if you design a smart contract that somehow needs it to distribute the token to different boxes, you can do it.


[11/30/2022 5:00 PM] bk#4411
That is kind of annoying, but thanks for all the info!


[11/30/2022 5:00 PM] MrStahlfelge#0042
yes I suppose when eip-4 was designed nobody thought of this

{Reactions}
üòÜ 

[11/30/2022 5:01 PM] bk#4411
It definitely makes trying to orchestrate programmatic token creation much more tedious.


[11/30/2022 5:02 PM] bk#4411
It seems like you could easily say something like "the first output of the tx has the metadata even if it contains no tokens itself".


[11/30/2022 5:02 PM] bk#4411
perhaps in a future EIP-004.1


[11/30/2022 5:43 PM] Dark Lord of Programming#9825
Hello, I'm hoping to write some token minting contracts. Can anyone recommend some documentation, examples to look into? This will be my first foray into smart contracts üò®


[12/01/2022 4:42 PM] essaias#5787
***Anyone using ergo1.oette.info (185.216.203.16, Germany hosted node):***
It will be down on 5th Dec. 2022 from 03:00 MEZ for max. 120 minutes as the server hosting the VPS will undergo maintenance.

Both of my nodes now run ref client 5.0.3


[12/05/2022 6:41 AM] Cor#5422
i'm trying to setup a node on my MacBook but the "run.command" file doesn't do anything when double clicked and so i start it from the "Satergo" icon in the bin file. It does start a wallet, then syncs the headers to 15.55% and it gets stuck there forever
any assistance to setup my node would be appreciated


[12/07/2022 1:16 AM] tug#0673
for the past 48hr my transactions just get stuck in the mempool (address 88dhgzEuTXaTmFJfU5i58VVg6PRWfaAEWJ2qTgvVusnA2U1xw9NTsDYBpW4fTzkz2Cx7sGkQQYwnJ3xN). on the explorer, it only shows up like 20% of the time, but the txs were definitely broadcast. any new transaction is just treated as unconfirmed as well

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1049856779233787914/Screen_Shot_2022-12-06_at_5.14.14_PM.png


[12/07/2022 1:18 AM] tug#0673
not really sure what to do to clear these out or actually push them through


[12/07/2022 1:26 AM] tug#0673
the txids are:
```
d85421373a416a0693a71acc5b57a2199bfc459c0cd91a017c6a71c59b784b89
a09dc7bc30a9061ab01177eb1410598fad048d6d8304c2f85ebcf4eb172a358b
bf670a051003da25697f5012d295b80eb131deee46ed61513821e5523f659bff
ff79c2ef8b4c7877dc50d0f56f3e55056820025541b734d0ae88930aec7bd0e7
c5cbc442a46252e4bfb119728365ce1c2d5278e73a659d4b11e49eb560109737
```


[12/07/2022 1:35 AM] tug#0673
they appear from api calls for `/transactions/unconfirmed`, but when i look for it in `/wallet/transactionById` theyre not there


[12/07/2022 2:49 AM] Cheese Enthusiast#0548
Are you paying to the reemission contract?


[12/07/2022 2:49 AM] Cheese Enthusiast#0548
Also, are you on the newest node version, it fixed something with miner payments


[12/07/2022 4:47 AM] tug#0673
im using /transaction/generate so that handles remission stuff for me


[12/07/2022 4:48 AM] tug#0673
so the first transaction was on like v4.0.101, now theyre all on v5.0.3 but new txs still get stuck


[12/07/2022 4:49 AM] Cheese Enthusiast#0548
Try v5.0.4


[12/07/2022 4:49 AM] tug#0673
is there a lifetime on transactions before they get cleared out of the mempool? any way i can force them out?


[12/07/2022 4:49 AM] Cheese Enthusiast#0548
That should fix it


[12/07/2022 4:49 AM] tug#0673
ohhh it just came out, ill try that now


[12/07/2022 4:50 AM] tug#0673
ok but what abt the existing ones that are stuck


[12/07/2022 4:50 AM] Cheese Enthusiast#0548
If you re-send a tx spending the same boxes but with a higher fee the txs will be replaced


[12/07/2022 4:50 AM] tug#0673
ahhh good to know


[12/07/2022 4:50 AM] Cheese Enthusiast#0548
Though I don't even see those txs in the mempool anymore


[12/07/2022 4:51 AM] tug#0673
i see them sometimes, its weird


[12/07/2022 4:51 AM] tug#0673
ill just move to v5.0.4, respend all of them with higher fee, and see if that works


[12/07/2022 4:52 AM] tug#0673
ill have to regenerate the txs i guess, but if they dont exist anymore than that should be fine


[12/07/2022 4:53 AM] tug#0673
restoring the wallet will probs fix the balance


[12/08/2022 12:12 AM] tug#0673
that worked perfectly, ty


[12/08/2022 9:25 PM] tug#0673
i think ive seen something on this before, but the `NotEnoughErgsError` (`(not enough boxes to meet ERG needs 317420536772 (found only 317420536772),317420536772)`) when its complaining abt an equal amt, that has something to do with me spending the coinbase tokens right?


[12/08/2022 9:27 PM] tug#0673
i guess i cant clear a wallet at once? if i just drop it by 0.00000001 ergo will that be enough? or is there a consistent way i can find the limit here?


[12/08/2022 9:36 PM] tug#0673
if i just leave, say 1 erg, as excess in my wallet, that would solve this right? it wont get spent and ill never get this error?


[12/09/2022 12:28 AM] Krasavice Blasen#4574
No you are able to empty a wallet. Here you just have some bug with how much ERG your wallet thinks you have/ maybe some tokens/ utxo state/ maybe a bad tx too


[12/09/2022 12:29 AM] Krasavice Blasen#4574
If using a node, try wallet/rescan from some height before you received ERG


[12/09/2022 12:29 AM] Krasavice Blasen#4574
For other wallet, just send yourself small amount to consolidate boxes - most likely will fix it


[12/09/2022 7:43 AM] tug#0673
using a node. ive run into this before, it always happens when i try to spend all erg in my node wallets while there are still emission tokens that need to be sent. i added 1 erg and i dont run into the problem anymore, ive tried rescanning but it doesnt solve it


[12/09/2022 7:43 AM] tug#0673
so ill just keep the extra in there for now until the bug gets resolved


[12/09/2022 12:35 PM] glasgowm#9381
There's a minimum erg requirement for boxes with tokens, airdropped tokens need to be sent with a tiny bit of erg too. So you'd need to burn those reemission tokens if you wanted to send 100% your ERG


[12/09/2022 12:52 PM] glasgowm#9381
Oh hadn't read the backlog, guess a bug related to the `0.001` erg minimum anyway


[12/09/2022 6:41 PM] tug#0673
i mean it seems like it never spends it, it just needs to sit in there, which makes it a lot simpler but yeah that makes sense to me


[12/12/2022 3:18 AM] 6directions#1089
hey @glasgowm üëã any chance we could get a new channel going for the Plasma framework?


[12/12/2022 3:22 AM] 6directions#1089
speaking of Plasma, I have a question @Cheese Enthusiast üôÇ

playing with adding entries to an off-chain AVL Tree.
I'm trying to do the following
```
val tokenName: String = "myTokenName"
    val tokenId: ErgoId = ErgoId.create("0cd8c9f416e5b1ca9f986a7f10a84191dfb85941619e49e53c0dc30ebf83324b")
    val entry: Seq[(String, ErgoId)] = Seq(tokenName -> tokenId)

    val result: ProvenResult[ErgoId] = plasmaMap.insert(entry: _*)
```

but getting the following error on `.insert`
```
[error] org.bouncycastle.util.encoders.DecoderException: exception decoding Hex string: invalid characters encountered in Hex string
```

Do I have to convert the key to a collection of bytes?


[12/12/2022 3:25 AM] Cheese Enthusiast#0548
So the default String deserializer just takes in hex strings and converts them to bytes. My suggestion in general is to NOT use the default deserializers for non Appkit related types (like Strings).

Make a case class for your type, then create a new object which extends ByteConversion. This gives you the most control over how your data is stored in the tree.


[12/12/2022 3:26 AM] Cheese Enthusiast#0548
The README details how to make ByteConversions for custom classes


[12/12/2022 3:27 AM] Cheese Enthusiast#0548
Also keep in mind keys MUST be 32 bytes. In your case, I would suggest taking the String, encoding it into an Array of bytes, and then hashing it in order to get a unique 32-byte key


[12/12/2022 3:34 AM] Cheese Enthusiast#0548
I can give a more in-depth explanation of what's going on under the hood of the library if it helps.


[12/12/2022 3:39 AM] 6directions#1089
ah, I see.


[12/12/2022 3:40 AM] 6directions#1089
gotcha, this makes sense


[12/12/2022 3:43 AM] 6directions#1089
I need to spend some time figuring out how to properly write the ByteConverter I need. I'm looking at the examples in the README, but still not super clear about how to do it üòÖ.


[12/12/2022 3:44 AM] 6directions#1089
is it this section of the README you're referring to?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1051705960932061184/Screenshot_2022-12-11_at_10.43.48_PM.png


[12/12/2022 3:44 AM] 6directions#1089
or this one?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1051706047745773589/Screenshot_2022-12-11_at_10.44.16_PM.png


[12/12/2022 3:44 AM] Cheese Enthusiast#0548
That's the code for the default ones. The code block below that shows how to do it for a custom class.


[12/12/2022 3:44 AM] Cheese Enthusiast#0548
Second one


[12/12/2022 3:44 AM] Cheese Enthusiast#0548
Assuming you use the method I wrote here it should be pretty simple:


[12/12/2022 3:51 AM] Cheese Enthusiast#0548
I lied a little bit, slightly less simple because hashes are one way functions, but not too bad as long as you keep that in mind üôÇ

```scala

case class ErgoName(name: String) = {
  def toErgoNameHash: ErgoNameHash = ErgoNameHash(Blake2b256.hash(name.toBytes)) // I used toBytes here, in reality you'd want to encode the bytes into Unicode / ASCII
}
// Hash of encoded bytes of ErgoName string
case class ErgoNameHash(hashedName: Array[Byte])

implicit val nameConversion: ByteConversion[ErgoNameHash] = new ByteConversion[ErgoNameHash] {
  override def convertToBytes(t: ErgoNameHash): Array[Byte] = t.hashedName

  override def convertFromBytes(bytes: Array[Byte]): ErgoNameHash = ErgoNameHash(bytes)
}
```


[12/12/2022 3:53 AM] 6directions#1089
mmmmmm ok I see


[12/12/2022 3:53 AM] 6directions#1089
thank you for that. the more I look at this, the more it makes sense. just initially a lot of things were new üòÖ


[12/12/2022 3:54 AM] 6directions#1089
sorta related, what does it mean when you say `implicit val whatever` in scala? is that a variable?


[12/12/2022 3:55 AM] Cheese Enthusiast#0548
`implicit` just means a parameter that you don't have to put in parentheses as long as it's imported into the class


[12/12/2022 3:56 AM] Cheese Enthusiast#0548
So when you call `.insert` on the PlasmaMap, it takes these converters as parameters. But I got too lazy to write them in all the time, so I made them implicit and they are automatically passed into the function as long as they're imported into wherever you're calling `.insert`


[12/12/2022 3:56 AM] 6directions#1089
gotcha, I see


[12/12/2022 3:59 AM] Cheese Enthusiast#0548
Also, once you have the above code, the corresponding `PlasmaMap` would simply be of type `PlasmaMap[ErgoNameHash, ErgoId]`. You would use these corresponding types during `inserts`, `updates`, and the other available operations

{Reactions}
‚ù§Ô∏è 

[12/12/2022 4:00 AM] 6directions#1089
that makes sense. appreciate your help! trying to get an MVP of this working üôÇ

{Reactions}
üî• 

[12/12/2022 4:02 AM] Cheese Enthusiast#0548
If you need anymore help, then there are some documents you may not have seen already:
https://github.com/GetBlok-io/GetBlok-Plasma/tree/master/documents

Otherwise, feel free to ask anymore questions here üôÇ

{Embed}
https://github.com/GetBlok-io/GetBlok-Plasma/tree/master/documents
GetBlok-Plasma/documents at master ¬∑ GetBlok-io/GetBlok-Plasma
An Ergo-Appkit based library providing an abstraction layer to easily interact with AVL Trees as an L2 Solution - GetBlok-Plasma/documents at master ¬∑ GetBlok-io/GetBlok-Plasma
https://images-ext-1.discordapp.net/external/y6n0uXCZUKThbMGxYqqVlhRTmZvavGoXleIkoSP_4fI/https/opengraph.githubassets.com/182c2e5b133a18361f70ba1e550cc419c5a6c7f994a24bbe7149f76c70990afb/GetBlok-io/GetBlok-Plasma

{Reactions}
üôè 

[12/12/2022 4:04 AM] 6directions#1089
thanks so much. I certainly will üôÇ


[12/12/2022 8:03 PM] 6directions#1089
Let's say there's an unspent box out there, with box ID of 123.

What happens if two txs try to spend box 123 at the same time? Does the protocol have a built in way of preventing this? Will both txs be allowed in the mempool? Or will one fail to be signed?


[12/12/2022 10:02 PM] Cheese Enthusiast#0548
The one that pays the higher tx fee ends up in the block


[12/12/2022 10:02 PM] 6directions#1089
interesting. what happens to the other one? does it stay in the mempool or does it become invalidated and gets dropped? also, what if they pay the same tx fee?


[12/13/2022 2:21 AM] Krasavice Blasen#4574
utxo state changes when blocks are mined. The protocol ensures that block doesn't contain txs which have spent any box twice. 
As for which tx will be included, thats up to the miner but mining clients have a bias for tx with higher fee per byte. 
Nodes will drop double spends from mempool once they see box has been spent

{Reactions}
üëç 

[12/13/2022 2:35 AM] 6directions#1089
gotcha, I see. thank you!


[12/13/2022 2:59 AM] 6directions#1089
@Cheese Enthusiast how do you use Plasma to get an AVL Tree from a box register?


[12/13/2022 3:01 AM] 6directions#1089
unless I am misunderstanding, you take an AvlTree that exists on chain, you update it off chain, and "commit" the updated one back to the chain (in an unspent output)

{Reactions}
üëç 

[12/13/2022 3:01 AM] 6directions#1089
so I managed to get the box that has the AvlTree I want to update.
but now I am wondering, how do I use Plasma to "load" that state into an off chain PlasmaMap I can perform operations against?


[12/13/2022 8:27 AM] Cheese Enthusiast#0548
Boxes store only the digest on-chain, which is what makes them so easy to store (only 32 bytes of data). The downside of that, is that you cannot reconstruct the entire off-chain database using just a digest / hash alone. To get around it, you should make a function to "sync" an empty off-chain AVL tree to the current AVL tree that exists on-chain. 

So you will find the initial tx that outputs the box storing the AVL Tree in it's registers. Then go through every tx spending that box and update the AVL Tree using the context var data attatched to the tx to appropriately update it in your off-chain database. At the end, you can verify things were done correctly if the digest of your off-chain db matches the digest that exists on-chain.. This is the basic idea behind "rollups".

{Reactions}
üò≤ üëç 

[12/13/2022 8:28 AM] Cheese Enthusiast#0548
I have implemented this before using the explorer db, it's not too bad. It's also possible to do using just the node API. I was considering adding a "sync" function into the library but it is hard to make something general that would work for all usecases and smart contract designs.

{Reactions}
üëç 

[12/13/2022 2:07 PM] 6directions#1089
Oooooooooo. Ok, I see. Thank you @Cheese Enthusiast, that actually makes a lot of sense.


[12/13/2022 2:08 PM] 6directions#1089
Well... Only one thing left to do üòÅ


[12/13/2022 2:08 PM] 6directions#1089
https://tenor.com/view/typing-laptop-cat-busy-cute-gif-5822667

{Embed}
https://tenor.com/view/typing-laptop-cat-busy-cute-gif-5822667
https://images-ext-2.discordapp.net/external/IcELVLai_umNxIvOoqeXkVAJQDf1yQtq2k7v_FifSg4/https/media.tenor.com/jNgKSlUpmkEAAAAD/typing-laptop.png


[12/13/2022 2:37 PM] 6directions#1089
Clarifying question: so if I ever make an insert to the off chain tree, and don't set that entry I inserted as a context var, then I wouldn't be able to reconstruct that entry off chain?


[12/13/2022 2:38 PM] 6directions#1089
Also, is there a reason why context vars are recommended over registers?


[12/13/2022 2:40 PM] Cheese Enthusiast#0548
Nah, it wouldnt exist on chain. You could verify this by seeing that the off chain digest is no longer equal to the on-chain one. If someone else decided to sync their own AVL Tree to the on-chain one, their offchain db wouldnt include the extra insertion you added either.


[12/13/2022 2:41 PM] Cheese Enthusiast#0548
Registers give you 4k bytes to work with per utxo.

Context vars give 95k bytes to work with per tx.


[12/13/2022 2:42 PM] 6directions#1089
Gotcha, ok that makes sense.

So for that initial tx that outputs the box with the tree, I should either output an empty tree (and make inserts, with entries included in context vars) in subsequent txs, or include whatever I put into the tree as context vars?


[12/13/2022 2:42 PM] glasgowm#9381
missed this yesterday but created now #deleted-channel

{Reactions}
üôèüèº 

[12/13/2022 2:42 PM] 6directions#1089
Thank u sir!


[12/13/2022 2:43 PM] Cheese Enthusiast#0548
I suggest an empty tree so anyone can easily sync with it from scratch

{Reactions}
üëç üôèüèº 

[12/13/2022 2:43 PM] 6directions#1089
Oh very interesting.


[12/13/2022 2:43 PM] 6directions#1089
Thanks Cheesey. I'll post any subsequent questions in #deleted-channel üôÇ


[12/14/2022 8:16 AM] kii#8888
@MrStahlfelge do you know what this means?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1052499201503793192/IMG_1463.PNG


[12/14/2022 8:25 AM] MrStahlfelge#0042
yes, a box is in inputs that is already spent or never existed


[12/22/2022 9:00 AM] D25#9621
How do I get all the address that have a certain token?


[12/23/2022 7:50 AM] Krasavice Blasen#4574
https://api.ergoplatform.com/api/v1/docs/#operation/getApiV1BoxesUnspentBytokenidP1


[12/23/2022 10:27 AM] D25#9621
It worked tnx üëç


[01/06/2023 5:02 AM] 6directions#1089
Wild idea I'm just gonna throw out there.

So, anyone can try and spend a box (let's assume this particular box can be spent as long as some basic conditions are met).

But if more than one person try to spend that same box at the same time, there's going to be a race condition.

Is it possible to implement some sort of on chain Mutex, that guarantees only address can spend the box at a time?

Not once per block, just once at a time. The idea is to create a set of chained txs without collisions.


[01/06/2023 6:01 PM] MGpai#4313
There won't be a race condition if you force a constant miner fee


[01/06/2023 6:02 PM] MGpai#4313
https://github.com/mgpai22/comet-lottery/blob/86a25b65f78c579cd951c5a5f643e95c1d78bbae/comet-lottery-bot/src/main/resources/contracts/Lottery/BoxGuardScripts/TicketContract.es#L12


[01/10/2023 2:13 AM] tug#0673
ive run into this a couple of times where all of my nodes miss a block i mined in the wallet index


[01/10/2023 2:13 AM] tug#0673
the resolution is simple, i just delete the `wallet/` dir and restart the node, but thats pretty inconvenient to do every week or two


[01/10/2023 2:13 AM] tug#0673
is this a known issue?


[01/12/2023 4:17 AM] Repampanoz#4088
Hey fellas, new node operator here!
I'm just starting to set up my node, it's already syncing and running
My problem is, on the Panel, when I click on "Set API key" and write my api key, it pops a message saying Bad API Key
I'm sure I have it right, also tried with and without the " symbols
Is it because it's still syncing for the first time?


[01/12/2023 5:51 AM] Repampanoz#4088
I just kept reading in the server and I think this is not the channel to ask
Either way, I will be waiting for synchronization to finish and if I'm still having the same issue I'll send a message to #node


[01/18/2023 11:50 PM] D25#9621
Mine was syncing and it still worked.


[01/19/2023 10:37 PM] Foeniculum#3278
Hey guys!

I have some ideas for the upcoming Hackathon, very on-theme

Front-end and back-end help would be needed üôå

OR if you're an existing team: I can help with branding, marketing and socials


[01/23/2023 10:47 PM] Porridge#8651
where would one find testnet ergo? Just mining?


[01/24/2023 12:28 AM] MGpai#4313
https://tn-faucet.ergohost.io/


[01/24/2023 12:39 AM] Porridge#8651
thanks!


[02/01/2023 7:40 PM] danza#2629
Hello, is there a way to partially sign a transaction, then send it to someone else and let them finalize the signing? I mean in case that there are inputs from 2 different addresses. I see that there are `UnsignedTransaction` having `inputs: UnsignedInput[]` and `SignedTransaction` having `inputs: SignedInput[]` in fleet, but I'm thinking of something like having a transaction that has  some inputs signed and others not. I guess that txId depends on inputs too, so I can't just sign one tx with only inputs from one wallet to get spending proofs and then swap those inputs for others, right? Maybe using `sign_tx_input` would be an option here, but it's not implemented in Nautilus if I'm not mistaken. Something like a `partialSign` flag in `signTx` would be great, but I think it's not there.


[02/02/2023 5:23 AM] greenhat#6562
Yes. Take a look at https://github.com/ergoplatform/sigma-rust/blob/2564f2d425c5daf3673da44e16cf3e1383dc0e17/bindings/ergo-lib-wasm/tests/test_transaction.js#L230-L281

{Embed}
https://github.com/ergoplatform/sigma-rust/blob/2564f2d425c5daf3673da44e16cf3e1383dc0e17/bindings/ergo-lib-wasm/tests/test_transaction.js
sigma-rust/test_transaction.js at 2564f2d425c5daf3673da44e16cf3e138...
Rust implementation of ErgoTree interpreter and wallet-related features - sigma-rust/test_transaction.js at 2564f2d425c5daf3673da44e16cf3e1383dc0e17 ¬∑ ergoplatform/sigma-rust
https://images-ext-2.discordapp.net/external/sSS-W7hbh-1xCuiQMBfoUVtgCFaAurLYlsgDrLFTHJQ/https/opengraph.githubassets.com/8d4d3ac3b434b69695f2bbe5ea41e41800cf0e8a9443bed3be13a3d2a041a954/ergoplatform/sigma-rust

{Reactions}
üôè 

[02/02/2023 9:45 PM] danza#2629
Thanks a lot! This is not possible through EIP-0012 compatible dApp connector though, is it? I think for example this line is problematic for such dApp connector API:
```
const partial_signed = wallet_alice.sign_transaction_multi(ctx, tx, unspent_boxes, tx_data_inputs, alice_tx_hints_bag);
```
Am I missing something? Of course I can directly use this ergo-lib code, but I would need the user's mnemonic for that, which I can't get.


[02/03/2023 5:39 AM] greenhat#6562
I don't think it's possible, but I don't have much experience with EIP-12. @anon_br @MrStahlfelge What do you think?


[02/03/2023 7:31 AM] MrStahlfelge#0042
The multisig EIP by minotaur should be more applicable here


[02/03/2023 9:18 AM] danza#2629
Thanks, didn't notice that one. If `sign_tx_input` was implemented in EIP-0012 wallets, would that be usable? (let all participants sign their inputs and then aggregate those signed inputs into `SignedTransaction`)? If so, why is `sign_tx_input` not implemented in nautilus nor safew, is it too complicated or inefficient? And in case this approach works, would it make sense to change `ergo.sign_tx_input(tx: Tx, index: number): Promise<SignedInput>` to `ergo.sign_tx_inputs(tx: Tx, indexes: number[]): Promise<SignedInput[]>` in EIP-0012 so the user does not have to type their password once for each of their inputs? In case it would make sense, maybe even a `partial_sign` flag could be added directly into `sign_tx`, just like in CIP-0030 on Cardano? That would probably break the `SignedTransaction` return type, so I guess that's not feasible.


[02/03/2023 10:47 PM] andrei_krx#5273
Hello!
I have several stratum servers and one node that I pulling about a new candidate block.
I want to make a unique work for all my clients.
What is the best practice to do it?
It it possible to put some extra data in coinbase transaction when asking for candidate block of node?


[02/03/2023 11:17 PM] anon_br#2282
`sign_tx_input` is not yet implemented in Nautilus, but it could be added, it just wasn't enough demand until now )


[02/04/2023 6:53 PM] Marty#4039
What is the difference between Stats and Levels in the NFT standard? 
```
Levels: These are numerical traits that encode some sort of level-like information such as specifying speed as 60 out of 100.
Stats: These are numerical traits that encode any numerical information about the NFT such as specifying age as 25 out of 50.
```


[02/04/2023 6:59 PM] Marty#4039
`Although the structure of levels and stats are similar, they can be considered different in marketplaces both for UI/UX purposes and also for filtering purposes.` 
What is an example of one of the UX differences?


[02/04/2023 7:16 PM] cafebedouin#9837
Maybe DnD is a useful reference. You can have a level 10 barbarian, with 18 Strength (a stat). Not sure how that translates into UI though.

{Reactions}
üëç 

[02/07/2023 12:00 AM] deathgripson#2395
Im trying to sync a testnet node from the mgpai22 snapshot, so far it looks like its forcing a mainnet node even after I change ergo.conf in both main and python conf folder (i also changed the docker compose to start from testnet). I am trying to rerun the ergo node install with the new config in the python folder now, anyone know how to get it on testnet? docker container ls will show it open on 9053 when its supposed to be 9052 neither of them display UI after conf is changed to testnet


[02/07/2023 12:22 AM] deathgripson#2395
ok i had to delete the peers db


[02/07/2023 12:22 AM] deathgripson#2395
and then i had to run the node through cmd line not through docker and alter the ergo conf to find the .ergo folder in the same directory not in /ergo


[02/07/2023 12:27 AM] deathgripson#2395
i had to delete the known peers object in ergo.conf as well and turn networkType = "testnet" , overall I think if this Repo is to be advertised as for testnet it should have a flag to run with testnet from launch.


[02/07/2023 12:39 AM] deathgripson#2395
anyone know howmuch hashrate these two have? will i be able to mine cpu to testnet still?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1072315722316926976/Screenshot_from_2023-02-06_18-39-14.png


[02/07/2023 12:54 AM] deathgripson#2395
yea the mgpai snapshot is NOT testnet it is mainnet


[02/07/2023 1:58 AM] deathgripson#2395
https://testnet.ergoplatform.com/en/addresses/mPdcmWTSJ6EE7kinMeiVHJFpzfbeXn8ZH9WjdDwW2SqdWWn9WULeGMWcfbMyrLvULzbbdqftXv33hpxF this address lines up with when i pointed my GPU to my test net stratum I hit several blocks however they are not going to the address listed on my node??


[02/07/2023 2:09 AM] deathgripson#2395
the testnet node is generating new addresses and putting them in the blocks that they find here is proof


[02/07/2023 2:10 AM] deathgripson#2395


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1072338412402643046/Screenshot_from_2023-02-06_20-08-55.png
https://cdn.discordapp.com/attachments/840313005064585246/1072338412734001192/Screenshot_from_2023-02-06_20-08-37.png
https://cdn.discordapp.com/attachments/840313005064585246/1072338412926931055/Screenshot_from_2023-02-06_20-08-26.png


[02/07/2023 2:10 AM] deathgripson#2395
https://testnet.ergoplatform.com/en/addresses/mPdcmWTSJ6EFMsSHg8rRVnDirF1hcn8XvJz5GKQJ25cjz7d6XZC5Yw3YttPrXfukXfJQ4WtgrFry9BKa


[02/07/2023 2:10 AM] deathgripson#2395
is there any way I can access these addresses? why would it not use the one displayed on the node?


[02/07/2023 2:11 AM] deathgripson#2395


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1072338744457318500/Screenshot_from_2023-02-06_20-11-11.png


[02/07/2023 2:11 AM] deathgripson#2395
stratum server is set to this address but rewards went to another one


[02/07/2023 2:12 AM] glasgowm#9381
Rewards go to the mining address

https://docs.ergoplatform.com/mining/setup/solo-faq/#why-are-mining-rewards-going-to-some-strange-address


[02/07/2023 2:15 AM] deathgripson#2395
that info should be clearly stated https://docs.ergoplatform.com/mining/setup/solo-node/#resources somewhere there so noobs like me dont freak out again


[02/07/2023 3:40 PM] Cheese Enthusiast#0548
Why are you scanning mining boxes? There is no good reason to do this, the node wallet will automatically keep track of these boxes for you.


[02/07/2023 3:41 PM] deathgripson#2395
its because they werent showing up after 72 confirms


[02/07/2023 3:41 PM] deathgripson#2395
i can delete all my stuff here now


[02/07/2023 3:41 PM] Cheese Enthusiast#0548
Ah okay, makes sense


[02/07/2023 3:42 PM] deathgripson#2395
yea i was getting worried that my wallet was bugged, all good now though I can spend them


[02/08/2023 1:17 AM] Marty#4039
That is helpful, thanks cafe

{Reactions}
üëç 

[02/08/2023 8:46 PM] Pulsarz#9208
82mh/s

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1072981800944672838/image.png


[02/08/2023 9:36 PM] deathgripson#2395
can someone help me get around the outdated features in the appkit tutorial example freezecoin.java


[02/08/2023 10:33 PM] MGpai#4313
@MrStahlfelge is the java god but I can try


[02/08/2023 10:34 PM] deathgripson#2395
will appreciate any help


[02/11/2023 5:18 PM] deathgripson#2395
could u send me that repo again where it demonstrates compiling scala contract and turning it into a box


[02/11/2023 5:18 PM] deathgripson#2395
i think appkit channel got deleted


[02/11/2023 5:35 PM] deathgripson#2395
was it the comet lottery bot repo?


[02/11/2023 5:36 PM] MGpai#4313
Yes


[02/11/2023 5:55 PM] deathgripson#2395
as far as I can tell this one is 100% scala, would I be able to compile w scala and deploy w ergpy? or should I just go with compile and deploy w scala?


[02/11/2023 6:12 PM] MGpai#4313
What are you trying to do?


[02/11/2023 6:13 PM] deathgripson#2395
i was planning to run through these https://github.com/ergoplatform/ergoscript-by-example and test them on testnet

{Embed}
https://github.com/ergoplatform/ergoscript-by-example
GitHub - ergoplatform/ergoscript-by-example: Learn ErgoScript by re...
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - GitHub - ergoplatform/ergoscript-by-example: Learn ErgoScript by reading example smart contracts powered by Ergo Pl...
https://images-ext-2.discordapp.net/external/BbJ3zpGIbNv9JzczX_6toLQ9btHafAeuyuE1QVtgokY/https/opengraph.githubassets.com/e8209dd89231d12b5fb60687277986c6f4bfd05d71e97a9476a21927e26de34f/ergoplatform/ergoscript-by-example


[02/11/2023 6:13 PM] MGpai#4313
You can do it on ergpy


[02/11/2023 6:14 PM] MGpai#4313
Just follow the Readme instructions to edit the appkit.py


[02/11/2023 6:14 PM] MGpai#4313
So you can get stubs/code completion


[02/11/2023 7:19 PM] deathgripson#2395
so im comparing the stubs to the scala code
in scala they call compile like this:
`val pinLockContract = ErgoScriptCompiler.compile(Map(), pinLockScript)`
The pystub gets implemented like this 
`def compileContract(self, constants: org.ergoplatform.appkit.Constants, string: str) -> org.ergoplatform.appkit.ErgoContract: ...` Im not sure what Map() is in the scala version and what that would be for python, but Im assuming it would be the constants and the contract would be the str?


[02/11/2023 7:22 PM] deathgripson#2395
is the python version of map one of these: ``` def isoExplRegistersToMap() -> org.ergoplatform.appkit.Iso[org.ergoplatform.explorer.client.model.AdditionalRegisters, scala.collection.immutable.Map[org.ergoplatform.ErgoBox.NonMandatoryRegisterId, sigmastate.Values.EvaluatedValue[sigmastate.SType]]]: ...
   
    @staticmethod
    def isoRegistersToMap() -> org.ergoplatform.appkit.Iso[org.ergoplatform.restapi.client.Registers, scala.collection.immutable.Map[org.ergoplatform.ErgoBox.NonMandatoryRegisterId, sigmastate.Values.EvaluatedValue[sigmastate.SType]]]: ...```


[02/11/2023 7:38 PM] MGpai#4313
so pinlock is something without constants


[02/11/2023 7:39 PM] deathgripson#2395
so in that case can I use a none for it or would I use one of these maps from the scala bridge stub?


[02/11/2023 7:40 PM] MGpai#4313
so you can do something like this:
```scala
  def compileErgoSapiensProxyContract(
      contract: String
  ): ErgoContract = {
    this.ctx.compileContract(
      ConstantsBuilder
        .create()
        .build(),
      contract
    )
  }
```


[02/11/2023 7:41 PM] MGpai#4313
```python
    def compile_proxy_contract(self, contract):
        return self._ctx.compileContract(
            ConstantsBuilder.create().build(),
            contract)
```


[02/11/2023 7:41 PM] MGpai#4313
that would be it in python


[02/11/2023 7:43 PM] MGpai#4313
```python
pinLockScript = "sigmaProp(INPUTS(0).R4[Coll[Byte]].get == blake2b256(OUTPUTS(0).R4[Coll[Byte]].get))"

pinLockContract = ergo.compile_proxy_contract(pinLockScript)

```


[02/11/2023 7:43 PM] deathgripson#2395
thanks


[02/11/2023 8:18 PM] deathgripson#2395
where do I source ConstantsBuilder from


[02/11/2023 8:19 PM] MGpai#4313
Should be part of appkit/stubs


[02/11/2023 8:53 PM] deathgripson#2395
ok so I added the method to appkit.py, how could I include/import my modified clone of the repo instead of my installed version?


[02/11/2023 8:57 PM] MGpai#4313
can you show me what your directory looks like


[02/11/2023 8:57 PM] deathgripson#2395
https://www.geeksforgeeks.org/how-to-import-a-python-module-given-the-full-path/ can i basically use this?

{Embed}
https://www.geeksforgeeks.org/how-to-import-a-python-module-given-the-full-path/
How to import a Python module given the full path? - GeeksforGeeks
A Computer Science portal for geeks. It contains well written, well thought and well explained computer science and programming articles, quizzes and practice/competitive programming/company interview Questions.


[02/11/2023 8:59 PM] deathgripson#2395
the directory structure is like this: 
```
        connect.py #file that will import ergpy
        ergpy/ #modified ergpy repo
```


[02/11/2023 9:00 PM] deathgripson#2395
theyre in the same directory


[02/11/2023 9:01 PM] MGpai#4313
then you must have cloned /examples


[02/11/2023 9:01 PM] MGpai#4313
add your code files inside of /examples


[02/11/2023 9:01 PM] MGpai#4313
and you don't even need to change your imports


[02/11/2023 9:02 PM] MGpai#4313
python will prioritize the local files first


[02/11/2023 9:02 PM] deathgripson#2395
ok cool


[02/11/2023 9:19 PM] deathgripson#2395
```File ergpy/examples/connect.py", line 5, in <module>
    from ergpy import appkit, helper_functions
ModuleNotFoundError: No module named 'ergpy'``` I tried that seems to still not find it, i uninstalled the pip version for now to make sure its trying to get the modified clone, the example files fail on the same error


[02/11/2023 9:27 PM] deathgripson#2395
I got it working by specifying it with `import sys` and `sys.path.append('../ergpy')`


[02/11/2023 9:40 PM] deathgripson#2395
`sys.path.insert(0, '../ergpy') ` this one will force it to use the local version even if its installed w pip


[02/11/2023 9:42 PM] MGpai#4313
@deathgripson did you get it to work?


[02/11/2023 9:42 PM] deathgripson#2395
yea i got pinlock compiled with the new method

{Reactions}
üî• 

[02/11/2023 9:43 PM] MGpai#4313
It cannot find the ergpy directory


[02/11/2023 9:43 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1074083313456775218/image.png


[02/11/2023 9:43 PM] MGpai#4313
should be like this


[02/12/2023 8:13 PM] stro#5043
Hello


[02/12/2023 8:21 PM] stro#5043
where is updated api reference


[02/12/2023 9:18 PM] deathgripson#2395
`val hashedPin = Blake2b256(pinNumber.getBytes())` anyone know if this version of .getBytes() from here https://github.com/ergoplatform/ergoscript-by-example/blob/main/pinLockContract.md gets the bytes in big or little endian order?

{Embed}
https://github.com/ergoplatform/ergoscript-by-example/blob/main/pinLockContract.md
ergoscript-by-example/pinLockContract.md at main ¬∑ ergoplatform/erg...
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - ergoscript-by-example/pinLockContract.md at main ¬∑ ergoplatform/ergoscript-by-example
https://images-ext-2.discordapp.net/external/BbJ3zpGIbNv9JzczX_6toLQ9btHafAeuyuE1QVtgokY/https/opengraph.githubassets.com/e8209dd89231d12b5fb60687277986c6f4bfd05d71e97a9476a21927e26de34f/ergoplatform/ergoscript-by-example


[02/12/2023 10:21 PM] cafebedouin#9837
Not sure what api you need. But, this shows the basics of interacting with the Ergo blockchain on your stack of choice. https://docs.ergoplatform.com/dev/stack/basics/


[02/13/2023 12:42 AM] deathgripson#2395
`register = (R4 -> hashedPin)` how can i implement this register assignment w ergpy appkit?


[02/13/2023 1:53 AM] stro#5043
Why does the documentstion just say tbd on most js stuff


[02/13/2023 1:54 AM] stro#5043
So I should use fleet I see


[02/13/2023 1:54 AM] stro#5043
Only thing it says to do in tutorial is install  package using npm doesn‚Äôt go into detail


[02/13/2023 1:55 AM] stro#5043


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1074509004342034503/image0.jpg


[02/13/2023 1:56 AM] stro#5043
Will look into fleet


[02/13/2023 1:57 AM] stro#5043
https://fleet-sdk.github.io/docs/getting-started


[02/13/2023 1:57 AM] stro#5043
Any other good resources


[02/13/2023 2:15 AM] stro#5043
ok i got my node js / ergo fleetsdk env setup


[02/13/2023 2:15 AM] stro#5043
will try to fk around


[02/13/2023 4:38 AM] MGpai#4313
```python
        box = tb.outBoxBuilder() \
            .value(jpype.JLong(amount * Parameters.OneErg)) \
            .registers([ErgoValue.of(blakeHash(pin))]) \
            .contract(whatever contract) \
            .build()
```

{Reactions}
k_thumbs_up 

[02/13/2023 4:39 AM] MGpai#4313
I am not sure how to get the blake function from appkit into python


[02/13/2023 4:39 AM] MGpai#4313
you may need to find a python blake function lib


[02/13/2023 6:05 AM] deathgripson#2395
i found a blake2b in hashlib thanks though


[02/13/2023 3:28 PM] MGpai#4313
cool make sure it returns bytes


[02/13/2023 9:34 PM] deathgripson#2395
it does, i just need to find out of scala integer to bytes is little endian or big endian


[02/13/2023 9:34 PM] deathgripson#2395
python will do big endian by default so im just gonna test w that


[02/13/2023 10:41 PM] deathgripson#2395
getting `java.lang.java.lang.AssertionError: java.lang.AssertionError: assertion failed: unexpected selected boxes`


[02/13/2023 10:43 PM] deathgripson#2395
i am using ergo.buildUnsignedTransaction to build the pinLockBox transaction


[02/13/2023 10:45 PM] MGpai#4313
https://discord.com/channels/668903786361651200/1073483680099618876/1073536235911516210

{Reactions}
‚òùÔ∏è (2) k_thumbs_up 

[02/13/2023 10:58 PM] deathgripson#2395
ty in python one of these boxes is called `<java class 'org.ergoplatform.appkit.impl.InputBoxImpl'>` is there a method I can run on it to get the value so I can filter through the values?


[02/13/2023 11:02 PM] deathgripson#2395
nvm found it its just .getValue()


[02/14/2023 12:50 AM] deathgripson#2395
trying to select the previous txs outbox as the withdraw tx's inbox `java.lang.java.lang.ClassCastException: java.lang.ClassCastException: class org.ergoplatform.appkit.impl.OutBoxImpl cannot be cast to class org.ergoplatform.appkit.InputBox`

the original seems to allow it like this : ```val withdrawTransaction = Transaction(
      inputs       = List(depositTransactionSigned.outputs(0)),
      outputs      = List(withdrawBox),
      fee          = MinTxFee,
      sendChangeTo = userParty.wallet.getAddress
    )```


[02/14/2023 12:51 AM] deathgripson#2395
mines like this ```pinOut = depositTxSigned.getOutputs()
    
    withdrawTx = ergo.buildUnsignedTransaction(
           input_box=pinOut, outBox=withdrawBox,
           sender_address=ergo.castAddress(senderAddress[0])
    ) ```


[02/14/2023 1:02 AM] Cheese Enthusiast#0548
The original is chaining the transaction together, and using output box 0 as an input box. This works with java, because `depositTransactionSigned.outputs` is a list of `InputBox`'s.

I'm not sure what method `depositTxSigned.getOutputs()` is coming from, but it's returning the `OutBox` class in java, which simply won't work with unsigned transactions.

{Reactions}
k_thumbs_up 

[02/14/2023 1:18 AM] MGpai#4313
Call getOutputsToSpend on the signed tx and use that

{Reactions}
k_thumbs_up 

[02/14/2023 1:41 AM] deathgripson#2395
ty both


[02/14/2023 2:51 AM] deathgripson#2395
how should I go about adding the fee to the original ergAmount value, I see there is Parameters.MinFee however not sure how to use it


[02/14/2023 3:55 AM] MGpai#4313
what do you mean?


[02/14/2023 6:52 AM] deathgripson#2395
nvm i got through that was just selecting inputs wrong, but now I have this `Script reduced to false`  at the withdraw tx, im using the same values for the registers


[02/14/2023 7:02 AM] deathgripson#2395
so basically got all the way to the end but cannot claim because of reduced to false, all I can think of would be the registers


[02/14/2023 7:44 AM] deathgripson#2395
possible that blake 2b is hashing the bytes differently?


[02/14/2023 11:53 AM] MGpai#4313
Show how you made the two boxes


[02/14/2023 7:43 PM] deathgripson#2395
```
pinLockBox = tb.outBoxBuilder().value(Parameters.OneErg * ergoAmount).registers([ErgoValue.of(pinBytes)]).contract(pinLockContract).build()
senderErgoTree = ErgoTreeContract(pinLockContract.getErgoTree(), ergo._networkType)
withdrawBox = tb.outBoxBuilder().value(Parameters.OneErg * ergoAmount).registers([ErgoValue.of(pinBytes)]).contract(senderErgoTree).build()
```
I have also tried putting the contract directly into the contract() function also building an ergo tree out of that contract and both give the same failure. is there a way to specify register 4?


[02/15/2023 3:08 AM] deathgripson#2395
lmk anything I could check still blocked here


[02/15/2023 3:47 AM] deathgripson#2395
maybe the compile proxy contract is not working properly?


[02/15/2023 3:47 AM] deathgripson#2395
```
    def compile_proxy_contract(self, contract):
        return self._ctx.compileContract(ConstantsBuilder.create().build(), contract)

``` anything i could add to it?


[02/15/2023 5:53 AM] deathgripson#2395
how can I map like this, do I use constants builder still? :
```
val timedFundContract = ErgoScriptCompiler.compile(Map("deadline" -> deadline, 
                                                       "bobPK" -> bob.wallet.getAddress.pubKey,
                                                       "alicePK" -> alice.wallet.getAddress.pubKey
                                                      ), timedFundScript)
```
from https://github.com/ergoplatform/ergoscript-by-example/blob/main/timedFund.md

{Embed}
https://github.com/ergoplatform/ergoscript-by-example/blob/main/timedFund.md
ergoscript-by-example/timedFund.md at main ¬∑ ergoplatform/ergoscrip...
Learn ErgoScript by reading example smart contracts powered by Ergo Playground. - ergoscript-by-example/timedFund.md at main ¬∑ ergoplatform/ergoscript-by-example
https://images-ext-2.discordapp.net/external/BbJ3zpGIbNv9JzczX_6toLQ9btHafAeuyuE1QVtgokY/https/opengraph.githubassets.com/e8209dd89231d12b5fb60687277986c6f4bfd05d71e97a9476a21927e26de34f/ergoplatform/ergoscript-by-example


[02/15/2023 6:31 AM] deathgripson#2395
i found out how to add items with constants builder but im getting this error ``` (pOne && HEIGHT > deadline) || (pTwo && HEIGHT <= deadline) 
          ^
Cannot assign type for variable 'pOne' because it is not found in env Map(bit_& -> [T](T,T) => T, decodePoint -> 
>...```


[02/15/2023 6:34 AM] deathgripson#2395
pOne is `ergo.castAddress(senderAddress)`


[02/15/2023 6:51 AM] deathgripson#2395
how can i specify address type for ergoscript in this context otherwise?


[02/15/2023 7:02 AM] deathgripson#2395
also is it ok to create multiple at a time like this ``` cb.item("pOne", p1).item("pTwo", p2).item("deadline", deadline).build()```


[02/15/2023 7:34 PM] MGpai#4313
try something like this


[02/15/2023 7:35 PM] MGpai#4313
```python
    def pinLockBox(self):
        box = tb.outBoxBuilder() \
            .value(jpype.JLong(ergoAmount * Parameters.OneErg)) \
            .registers([ErgoValue.of(jpype.JByte(pinBytes))]) \
            .contract(pinLockContract) \
            .build()
        
    def withdrawBox(self):
        box = tb.outBoxBuilder() \
            .value(jpype.JLong(ergoAmount * Parameters.OneErg)) \
            .registers([ErgoValue.of(jpype.JByte(pinBytes))]) \
            .contract(ErgoTreeContract(senderAddress.getErgoAddress().script(), self._networkType)) \
            .build()
```


[02/15/2023 7:35 PM] MGpai#4313
with your respective variables ofc


[02/15/2023 7:43 PM] MGpai#4313
Also share what the pin is and what the hex string of the blake hash looks like


[02/15/2023 7:44 PM] MGpai#4313
I want to compare with scala blake and make sure you are using the right one


[02/15/2023 7:47 PM] deathgripson#2395
ok good idea:
```
pin: 9728 
pin as bytes( big endian default ):  b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&\x00' 
pinHash:  b"\xe6\xc5\xed\xb8\\o\x0ev\xc8\x91\x87\xe8a\xa3\x8b\xab\x13Lr@\x935\xc6\xd7\xaa\xf4\xea;\xfb\xf518\xc5,\xef\x91UO\xd1~'}\xb1+\x88-\xc8\x8a\x93h\xcb\xb6\xd1#b\xb6,E\xe13\x9a\x05\x18R"
```


[02/15/2023 7:48 PM] MGpai#4313
hex string please


[02/15/2023 7:48 PM] deathgripson#2395
my b


[02/15/2023 7:48 PM] MGpai#4313
should be a built-in method with hash lib


[02/15/2023 7:49 PM] deathgripson#2395
```
pin: 9728 
pin as hex:  000000000000000000000000000000000000002600 
pinHash:  e6c5edb85c6f0e76c89187e861a38bab134c72409335c6d7aaf4ea3bfbf53138c52cef91554fd17e277db12b882dc88a9368cbb6d12362b62c45e1339a051852
```


[02/15/2023 8:12 PM] MGpai#4313
pin has to be a string so "9728"


[02/15/2023 8:12 PM] MGpai#4313
this is the proper blake hash of "9728"
caff357f5e90c10ae18debce6948ea80f15162ba3815bb34c2e892587f1978e0


[02/15/2023 8:20 PM] deathgripson#2395
python is requiring an 'encoded' string to hash also for some reason blake2b in hash lib outputs hex that is this long:
10022eb8fd168e5bdd5b2c201cb9a4a7fa07860806ce85e75b534c25e24d6621df85a4bc9134328fb2b9ea491e39c1c4a5c5bf128b5e3550bafa72573bc095cb
compared to yours 
caff357f5e90c10ae18debce6948ea80f15162ba3815bb34c2e892587f1978e0
it seems majorly wrong


[02/15/2023 8:20 PM] deathgripson#2395
can i access the scala blake function


[02/15/2023 8:22 PM] MGpai#4313
no you cannot


[02/15/2023 8:22 PM] MGpai#4313
not easy


[02/15/2023 8:22 PM] MGpai#4313
I can look for python blake2b256


[02/15/2023 8:24 PM] deathgripson#2395
think i found a solution https://stackoverflow.com/questions/61164855/python-hashlib-blake2b-256-512

{Embed}
https://stackoverflow.com/questions/61164855/python-hashlib-blake2b-256-512
Python ‚Äì¬†hashlib.blake2b-256/512?
I often see references to multiple types of blake2b‚Äì a 256-bit version, a 512-bit version, and so on. What version is hashlib.blake2b()? I don't see any mentions of it.

hashlib.blake2b(data=b'', *,
https://images-ext-1.discordapp.net/external/VbfwnzN2MM794XNccNxDzrB1YeuPrxR53y11bwRfflY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon%402.png


[02/15/2023 8:25 PM] MGpai#4313
here is the code:


[02/15/2023 8:25 PM] MGpai#4313
```python
import hashlib

message = b'9728'

# Hash the message using BLAKE2b-256
hash_obj = hashlib.blake2b(digest_size=32)
hash_obj.update(message)
digest = hash_obj.digest()

# Print the hexadecimal representation of the hash digest
print(digest.hex())

```

{Reactions}
k_thumbs_up 

[02/15/2023 8:26 PM] MGpai#4313
also this is a good reference https://github.com/ApexTheory/appkit-by-example/tree/main/src/main/scala/pinlock


[02/15/2023 8:26 PM] deathgripson#2395
caff357f5e90c10ae18debce6948ea80f15162ba3815bb34c2e892587f1978e0 got the right hash


[02/15/2023 8:42 PM] deathgripson#2395
should i still use JBytes for passing in the hash?


[02/15/2023 8:42 PM] MGpai#4313
yes it can cause weird errors sometimes


[02/15/2023 8:54 PM] deathgripson#2395
```  ErgoValue.of(jpype.JByte(hashedPinBytes)) \
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: b'\xca\xff5\x7f^\x90\xc1\n\xe1\x8d\xeb\xceiH\xea\x80\xf1Qb\xba8\x15\xbb4\xc2\xe8\x92X\x7f\x19x\xe0'
```


[02/15/2023 8:54 PM] MGpai#4313
try  without maybe?


[02/15/2023 8:55 PM] deathgripson#2395
getting this error ```scalan.Base.scalan.Base.StagingException: scalan.Base$StagingException: Error in Evaluation.compile.evaluate(s325 -> MethodCall(s324, scalan.Base$Ref special.sigma.CostedObjects$SizeBox.getReg(scalan.Base$Ref,scalan.TypeDescs$Elem), [s82, CollElem<Coll[Byte]>], true))
```


[02/15/2023 8:56 PM] deathgripson#2395
if I remove Jbytes conversion from the withdraw box registers I get reduced to false again


[02/15/2023 9:01 PM] deathgripson#2395
with the timeFund contract i was able to add the variables but upon building the outbox I get this ```timedFundBox = tb.outBoxBuilder().value(depositAmount).contract(timedFundContract).build()

sigmastate.lang.exceptions.sigmastate.lang.exceptions.CosterException: sigmastate.lang.exceptions.CosterException: Cannot find method isValid in object SigmaOr(List(SigmaAnd(List(ConstantNode(SigmaProp(ProveDlog(ECPoint(6cd047,a16276,...))),SSigmaProp), BoolToSigmaProp(GT(ValUse(1,SLong$),LongConstant(290862))))), SigmaAnd(List(ConstantNode(SigmaProp(ProveDlog(ECPoint(5716bc,7fdf92,...))),SSigmaProp), BoolToSigmaProp(LE(ValUse(1,SLong$),LongConstant(290862)))))))```


[02/15/2023 9:22 PM] deathgripson#2395
address' are being created like this `Address.create("3WwGZfTh3uur3g1dSUdHFXtRfGKtRJUPhiAwNWDuf2LGpcjRzC3y").getPublicKey()`


[02/15/2023 10:15 PM] deathgripson#2395
looks like the timedFund example is just not using sigmaprop at all in the script, when I add sigmaprop it works out:
`sigmaProp(p1 && HEIGHT > deadline) || sigmaProp(p2 && HEIGHT <= deadline)`
instead of
`(p1 && HEIGHT > deadline) || (p2 && HEIGHT <= deadline)`
does this seem correct?


[02/15/2023 10:29 PM] MGpai#4313
yes you always need sigmaprop


[02/15/2023 10:29 PM] MGpai#4313
unless its a pk (address sigmaProp)


[02/15/2023 10:30 PM] deathgripson#2395
that example needs an update for that


[02/16/2023 6:17 PM] deathgripson#2395
Any idea how to resolve this?
``` Tree root should be real but was UnprovenSchnorr(ProveDlog((5716bc2cf6f3bfae9504f9b35a4780633882eb2b893b3d7d801b7f5910b0e15f,7fdf92f9f527e6e994e12e272e1ff1e73233ceb9099fb0f659ec82459a4ae460,1)),None,None,None,true,0)
```


[02/16/2023 6:43 PM] deathgripson#2395
happens when submitting withdraw tx on timedFund contract
contract looks like this `sigmaProp(p1 && HEIGHT > deadline) || sigmaProp(p2 && HEIGHT <= deadline)`


[02/16/2023 6:49 PM] mohammmad#3961
Hey @Ilya | Spectrum , I found a type issue when I was working with `ergo-sdk-js`. Can you take a look?
https://github.com/spectrum-finance/ergo-sdk-js/issues/26

{Embed}
https://github.com/spectrum-finance/ergo-sdk-js/issues/26
Better type for `Registers` ¬∑ Issue #26 ¬∑ spectrum-finance/ergo-sdk...
It seems that Registers type is not narrow enough: ergo-sdk-js/src/entities/registers.ts Line 31 in dbdd341 export type Registers = {[key: string]: HexString} The user may provide any string value ...
https://images-ext-2.discordapp.net/external/aGNsfBL8QkNf9pgeAEMdp5Ab7xRbxbh-38jBwpfxiHc/https/opengraph.githubassets.com/a83ddb5a5977578b8facfbc79a145229ebb518cc40ae9a3d8eaa99ffacfd523c/spectrum-finance/ergo-sdk-js/issues/26


[02/16/2023 9:29 PM] quokka#1273
Hey @morphic, I'm getting this error when building a transaction using Ergopay and sending it to the user's wallet (via reducedBase64 transaction). The transaction built seems to be correct but the error still shows up


[02/16/2023 9:29 PM] quokka#1273


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1075891806497144913/IMG_0958.png


[02/16/2023 9:30 PM] quokka#1273
I asked Mr Stahlfelge and he said you might know what's going on


[02/16/2023 9:30 PM] quokka#1273
Here's the tx built

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1075891911463809125/message.txt


[02/16/2023 10:10 PM] morphic#4133
this means invalid opcode has been read from the bytes. This is only possible when the bytes are botched somehow.


[02/16/2023 10:10 PM] quokka#1273
Is it the bytes of the whole hash or is there any specific part that could be botched?


[02/16/2023 10:11 PM] quokka#1273
All we do is build the transaction using fleet, and then hash using blake2bHex


[02/16/2023 10:11 PM] morphic#4133
It happened during deserialization of ErgoTree


[02/16/2023 10:13 PM] morphic#4133
This is exactly the kind of errors expected with alternative serializers. Likely Fleet's serialization is somehow different from Sigma (which is used in the wallet)


[02/16/2023 10:14 PM] quokka#1273
@capt_nemo this might be something to look into


[02/16/2023 10:14 PM] quokka#1273
We've used the serialization for nautilus transactions and they seemed to work great, just when converting the whole tx to a hash is the only different part when using ergopay


[02/16/2023 10:15 PM] morphic#4133
what you mean "converting the whole tx to a hash"?


[02/16/2023 10:16 PM] morphic#4133
note ErgoPay uses ReducedTransaction, which is only implemented in Appkit


[02/16/2023 10:17 PM] morphic#4133
But, all Appkit's serializer reuse Sigma's serializers


[02/16/2023 10:19 PM] morphic#4133
And Sigma's serializers are used in Ergo node and hence they are part of protocol. 
So, Fleet should implement exactly the same serialization as Sigma


[02/16/2023 10:32 PM] MGpai#4313
@quokka you are reducing with appkit right?


[02/16/2023 10:36 PM] capt_nemo#3204
Currently, Fleet doesn't support tx serialization. That will be added soon


[02/16/2023 10:38 PM] MGpai#4313
Tx serialization?


[02/16/2023 10:40 PM] capt_nemo#3204
Yup, serialize transactions in the same way Sigma serializer does, useful to build ergopay's reduced transactions, for example

{Reactions}
üî• 

[02/16/2023 11:07 PM] quokka#1273
No, we are reducing using BlakeJS module


[02/16/2023 11:07 PM] quokka#1273
blake2bHex function


[02/16/2023 11:09 PM] quokka#1273
Interesting. So Hashing using blake2b wouldn't provide the correct hash. Is there any way we can hash the transaction without using appkit or wasm? (trying to avoid it since it adds bloat to the site)


[02/16/2023 11:32 PM] quokka#1273
Ah I see. Blake2b isnt Blake2b256


[02/16/2023 11:43 PM] quokka#1273
Alright so I think we have the correct txId now but we are getting the same error, so the issue must be with converting the transaction object to base64. This is what we do currently:
```
Buffer.from(unsignedTx).toString('base64')
```


[02/17/2023 12:05 AM] quokka#1273
Thats how you correctly reduce right?


[02/17/2023 12:07 AM] MGpai#4313
make sure the scala blake hash matches the js one


[02/17/2023 12:11 AM] MGpai#4313
```js
const {blake2b} = require(`${basePath}/node_modules/@noble/hashes/blake2b`);
// const bytes = require(`${basePath}/node_modules/multiformats/dist/types/src/index`);

const BLAKE_256_HASH_LENGTH = 32;

function blake2b256(input) {
    return blake2b(input, { dkLen: BLAKE_256_HASH_LENGTH });
}

function toHexString(byteArray) {
    return Array.from(byteArray, function(byte) {
      return ('0' + (byte & 0xFF).toString(16)).slice(-2);
    }).join('')
  }

function blakeStr(stringInput){
  return toHexString(blake2b256(utf8Encode.encode(stringInput)))
}
```


[02/17/2023 12:11 AM] MGpai#4313
this worked well for me


[02/17/2023 12:13 AM] quokka#1273
Thanks, will try it out. Hopefully its the txId thats the issue and not the base64 of the tx json


[02/17/2023 12:22 AM] quokka#1273
Would the string input be the JSON of the transaction here?


[02/17/2023 12:23 AM] MGpai#4313
why don't you build the reduced txn using the ergoPay server?


[02/17/2023 12:24 AM] quokka#1273
We want to build it on the frontend so we can make it a frontend module. So people can build transactions without a backend


[02/17/2023 12:25 AM] MGpai#4313
yeah just wait for nemo to implement it tbh


[02/17/2023 12:25 AM] MGpai#4313
while you wait make the server


[02/17/2023 12:25 AM] MGpai#4313
it is really easy


[02/17/2023 12:25 AM] quokka#1273
Haha alright will do


[02/17/2023 12:26 AM] MGpai#4313
here I have it all dockerized https://github.com/mgpai22/ergosapiens/tree/main/ergopay


[02/17/2023 12:31 AM] quokka#1273
We have our own built actually using typescript/nodejs


[02/17/2023 12:31 AM] quokka#1273
But ty


[02/17/2023 12:31 AM] MGpai#4313
what do you have built?


[02/17/2023 3:22 AM] quokka#1273
Its the same as yours except its ts and it only stores the transaction you send it. So the tx has to be built on frontend


[02/17/2023 5:23 AM] deathgripson#2395
any alternative testnet explorers to https://testnet.sigmaexplorer.org/ & https://tn-ergo-explorer.anetabtc.io/


[02/17/2023 7:43 PM] danza#2629
Hello, I have a few questions I can't figure out, mainly regarding Fleet, so probably @capt_nemo is the right person to ask? Any help would be highly appreciated.

1. **[ANSWERED]** When I use `/boxes/unspent/byAddress/{address}` to get boxes, there is an `additionalRegisters` field encoded
as an object. However, fleet uses `NonMandatoryRegisters`, where each register is a `HexString`.
How do I convert the object representation of a register into a `HexString`?

2. An `EIP12UnsignedTransaction` from tx builder does not contain `txId`. I need to get the 
`txId` because I'm manually assembling a `SignedTransaction` from signed inputs from multiple
people. Therefore, I can't get the `txId` using a `wallet.sign_tx` call. How can I calculate
the id  from `EIP12UnsignedTransaction`? 

Thanks for any tips!


[02/17/2023 7:58 PM] cornbelt#7268
Here's how I'm handling the registers from the api to use with fleet


[02/17/2023 7:58 PM] cornbelt#7268
```export function parseAdditionalRegisters(json: { [s: string]: any; } | ArrayLike<unknown>) {
    let reg: any = {}
    Object.entries(json).forEach(([key, value]) => {
        if (isDict(value)) {
            reg[key] = value["serializedValue"];
        } else {
            reg[key] = value;
        }
    });
    return reg;
}```


[02/17/2023 8:04 PM] danza#2629
Oh, perfect, so the serialized value is all i need, I thought it's just a part of it. Thank you!


[02/17/2023 8:05 PM] cornbelt#7268
Yeah that should work


[02/18/2023 12:53 AM] capt_nemo#3204
I need to write a transaction serializer to get the right transaction id, I'm on it.


[02/18/2023 12:54 AM] capt_nemo#3204
That will not work, the transaction needs to be serialized before to be encoded as base64


[02/18/2023 12:57 AM] capt_nemo#3204
It looks like a transaction serializer is my top 1 priority now


[02/18/2023 12:57 AM] capt_nemo#3204
https://tenor.com/view/waiting-cat-filing-nail-getting-ready-bring-it-on-im-listening-gif-17677371

{Embed}
https://tenor.com/view/waiting-cat-filing-nail-getting-ready-bring-it-on-im-listening-gif-17677371
https://images-ext-2.discordapp.net/external/FxrXTaKG9DdAnkrFzy8cR6KIctb_g6znoGjX3S1zyaA/https/media.tenor.com/W_bHuwhxhs8AAAAD/waiting-cat-filing-nail.png

{Reactions}
nautilus (6) 

[02/18/2023 2:54 AM] quokka#1273
This might be the solution!


[02/18/2023 2:55 AM] quokka#1273
:salute::salute::salute:


[02/18/2023 8:14 AM] danza#2629
I can get some `id` using
```javascript
ErgoWasm.UnsignedTransaction.from_json(JSON.stringify(fleetUnsignedTx)).id().to_str();
```
Not sure if that's the correct one and if the missing `id` in `fleetUnsignedTx` is a problem here. I can try to validate the `id`.

If it's not, do you have any rough estimate if it is possible to have the serializer before the end of the hackathon? Same question about `sign_tx_inputs`, sorry to keep asking about it, just planning what to do üòÑ


[02/18/2023 11:42 AM] capt_nemo#3204
That's the correct id.

  - The absence of an ID in `UnsignedTransaction` object is not a problem, actually it gives you more flexibility as you can manually change something in the unsigned transaction before to send, it's something expected by the node and wallets;
  - Serializer will be finished today;
  - `sign_tx_inputs`, probably tomorrow in a Nautilus beta release.


[02/18/2023 1:43 PM] danza#2629
Amazing, thanks!


[02/18/2023 2:28 PM] capt_nemo#3204
Got it green! Just need to fill it with more test cases before to publish )

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1076510569751916614/Screen_Shot_2023-02-18_at_11.27.12.png

{Reactions}
üëè 

[02/18/2023 2:37 PM] capt_nemo#3204
@quokka after diving into your issue, I have a bad news: Reduced Transactions will be not possible on Fleet for a while, as it requires an interpreter to provide reduction results and costing. That will be only available on Fleet in pure JS when Sigma.js is done.

So, for now you can use sigma-rust to generate reduced transactions. Actually Fleet is a great complement for sigma-rust, you can build the transaction using Fleet and call sigma-rust's `UnsignedTransaction.from_json(fleetUnsignedTransacion)` and use it to reduce and encode the transaction.


[02/18/2023 4:49 PM] quokka#1273
Alright thanks for the update! We‚Äôll do the from_json solution


[02/21/2023 4:51 AM] quokka#1273
Getting this error:
```
invalid type: string "465000000", expected u64 at line 1 column 2518
```
Might be because the transaction builder turns all my Output box values into strings


[02/21/2023 5:04 AM] quokka#1273
I am using ergo-lib-wasm-browser. Wonder if there's been an update


[02/21/2023 5:25 AM] quokka#1273
nah now its expecting a u32 lol. upgraded to 0.20.1, any higher than that then I get errors


[02/21/2023 5:18 PM] MetaMatt#1134
Hey devs, I'm currently studying ErgoScript and if I understand correctly in each box we have 6 free registries that we can use to store data.
The smart contract I want to create has 10 values to store. Is there a way to create structs or similar and put them in a single registry?
Thanks üôÇ


[02/21/2023 6:57 PM] deathgripson#2395
There is a Coll Type which is a generic collection of Types T, I think that might be what you want https://docs.ergoplatform.com/dev/scs/sigma/lang-spec/#collt


[02/21/2023 6:58 PM] MetaMatt#1134
Thanks @deathgripson , I'll play with it!
Where can I find the limits of the data, of the txs, etc?


[02/21/2023 6:59 PM] deathgripson#2395
here are some data serialization limits https://docs.ergoplatform.com/dev/scs/ergotree/serialization/#table-1-serialization-limits


[02/21/2023 7:00 PM] MetaMatt#1134
Lovely, that should give a boost to my tests, thanks!


[02/21/2023 7:00 PM] deathgripson#2395
np :k_thumbs_up:


[02/22/2023 8:23 AM] MetaMatt#1134
Hey @deathgripson !
The collection type requires to have fields of the same type, is there something for hererogeneous types?


[02/22/2023 9:03 AM] greenhat#6562
That's weird. `UnsignedTransaction.from_json` should handle both numbers and strings in box values and token amounts. Have you tested it with latest v0.23.0 ergo-lib-wasm version?


[02/22/2023 10:12 AM] MetaMatt#1134
Guys, can you mint/burn a token during a smart contract transaction in Ergo, similar to minting scripts for Cardano?


[02/22/2023 11:45 AM] nitram147#5106
Is there an easy way using currently available APIs to find something like Ethereum's "total difficulty" of some Ergo block?


[02/22/2023 11:45 AM] nitram147#5106
By total difficulty, I mean aggregated difficulty since genesis block up to that block


[02/22/2023 11:46 AM] nitram147#5106
In my use case I need to find aggregated difficulty between block P and R, where block P is some block in the past and block R is the current highest block


[02/22/2023 11:46 AM] nitram147#5106
If there was such an total difficulty option, it would be easy:
```
what_i_want(p,r) = total_diff(r) - total_diff(p)
```


[02/22/2023 11:46 AM] nitram147#5106
Thank you ‚ù§Ô∏è


[02/22/2023 12:33 PM] quokka#1273
No i was using version 0.20.1 because I get some webpack errors if I use higher than that. Most likely it works on that higher version lol


[02/23/2023 11:57 AM] anon_br#2282
Yes, you can set the minting/burning in the off-chain part and validate if it's actually happening from the contract by checking the balances. 

Token minting: https://fleet-sdk.github.io/docs/transaction-building#step-4-2-mint-a-token
Token burning: https://fleet-sdk.github.io/docs/token-burning#burning-tokens


[02/23/2023 12:05 PM] anon_br#2282
As `UnsignedTransaction.from_json` expects a string as argument, you probably need to "stringify" (using `JSON.stringify`) the transaction object before to pass to `from_json`.

See: https://github.com/capt-nemo429/nautilus-wallet/blob/master/src/api/ergo/transaction/prover.ts#L79


[02/23/2023 12:59 PM] quokka#1273
Yes we‚Äôve tried this as well, a different error comes up


[02/23/2023 1:00 PM] quokka#1273
I can send it over later

{Reactions}
üëç 

[02/23/2023 3:19 PM] MetaMatt#1134
Thanks @anon_br , but how to I enforce it to be a NFT in this case? I need to ensure the token minted can be minted only once by any user. In Cardano this is normally done by a minting script that ensures the name of the token equals one of the input utxos


[02/24/2023 7:12 AM] deathgripson#2395
Im trying to turn dlogGroup.generator points into a GroupElement getting this error ```Invalid argument type of application Apply(Select(ConstantNode(ECPoint(79be66,483ada,...),SGroupElement),multiply,None),ArrayBuffer(Select(ApplyTypes(Select(Self$(167),R4,None),Vector(SBigInt$)),get,None))): expected WrappedArray(SGroupElement); actual: ArrayBuffer(SBigInt$)
``` Not sure how I should go about turning it into the wrappedArray SGroupElement type


[02/24/2023 2:44 PM] morphic#4133
How you do this, show your code please.


[02/24/2023 6:39 PM] deathgripson#2395
my b I am basically trying to do it we python-appkit and it seems like its easier in scala so i might just try to switch the code to scala today, 
anyway Im trying to do it like this w python appkit:
```Generator : SGroupElement =  dlogGroup().generator()
``` then I try to wrap it with this ```generator_group_element = sigmastate.SGroupElement(Generator.getEncoded(True))
``` Ive tried a bunch of things like this with no luck


[02/24/2023 6:49 PM] deathgripson#2395
ive tried regular GroupElement too seems like there isnt an  obvious way to go about it in the python appkit because some of the objects dont have constructors and interfaces cannot be instanced


[02/24/2023 6:50 PM] MGpai#4313
I found it for these complex stuff you can do in scala


[02/24/2023 6:51 PM] MGpai#4313
and create classes for it


[02/24/2023 6:51 PM] MGpai#4313
then make it all a FAT jar


[02/24/2023 6:51 PM] MGpai#4313
and import into python


[02/24/2023 6:51 PM] MGpai#4313
then you can use it easily


[02/24/2023 7:03 PM] deathgripson#2395
cool Im going to spend time setting up scala then trying to compile my current project in just scala, if that works I should be able to work on the imports


[02/24/2023 7:07 PM] MGpai#4313
you can clone this and follow the structure


[02/24/2023 7:07 PM] MGpai#4313
https://github.com/mgpai22/ergoappkit-spent-box-explorer


[02/24/2023 7:22 PM] deathgripson#2395
thanks


[02/25/2023 12:36 AM] deathgripson#2395
how do i run it w sbt


[02/25/2023 1:44 AM] deathgripson#2395
it says theres no main function


[02/25/2023 2:42 AM] MGpai#4313
you want to run the scala code in intellij idea?


[02/25/2023 2:42 AM] deathgripson#2395
i dont have an ide just have sbt im following https://docs.scala-lang.org/getting-started/index.html

{Embed}
https://docs.scala-lang.org/getting-started/index.html
Getting Started
https://images-ext-2.discordapp.net/external/NimeBpuQwVZP68LG6VcPgxr_MFcLZ9m_oh3uR_FPyS8/https/docs.scala-lang.org/resources/img/scala-spiral-3d-2-toned-down.png


[02/25/2023 2:43 AM] deathgripson#2395
so just command line


[02/25/2023 2:46 AM] MGpai#4313
can you install idea ?


[02/25/2023 2:46 AM] MGpai#4313
it will help a lot


[02/25/2023 3:04 AM] deathgripson#2395
ok i got it how would i run within idea


[02/25/2023 5:04 AM] MGpai#4313
create a new scala file


[02/25/2023 5:04 AM] MGpai#4313
```scala
object test extends App{
//code goes here
}
```


[02/25/2023 5:04 AM] MGpai#4313
then idea will let you run automatically


[02/25/2023 5:04 AM] MGpai#4313
there will be a play button next to object


[02/25/2023 5:04 AM] MGpai#4313
click it


[02/25/2023 5:05 AM] MGpai#4313
and it will run


[02/26/2023 8:44 PM] deathgripson#2395
what If i want to set up a build project what would I choose in this screen

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1079504253233664030/Screenshot_from_2023-02-26_14-44-03.png


[02/26/2023 8:47 PM] MGpai#4313
I think you can select scala and go on from there


[02/26/2023 8:48 PM] deathgripson#2395
wb the build system does it matter


[02/26/2023 8:48 PM] MGpai#4313
I never really set it up on my own since I always get sbt issues


[02/26/2023 8:48 PM] MGpai#4313
I always clone and go from there


[02/26/2023 8:48 PM] deathgripson#2395
oh ok ill try doing it that way, do you have to like set the current project to build or anything like that?


[02/26/2023 8:49 PM] MGpai#4313
you can clone this


[02/26/2023 8:49 PM] MGpai#4313
do this and idea does all compiling for you


[02/26/2023 8:50 PM] MGpai#4313


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1079505663539023982/image.png


[02/26/2023 8:50 PM] MGpai#4313
like this


[02/26/2023 9:08 PM] deathgripson#2395
first line says Client type not found should I include something for it?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1079510222277722233/Screenshot_from_2023-02-26_15-07-46.png


[02/26/2023 10:13 PM] MGpai#4313
you don't need to follow the code in my block


[02/26/2023 10:13 PM] MGpai#4313
you want to/need to use client?


[02/26/2023 10:14 PM] deathgripson#2395
not specifically i just want something to kinda code and test to get used to the ide and scala


[02/26/2023 10:15 PM] deathgripson#2395
might try to do the appkit scala example


[02/26/2023 10:24 PM] deathgripson#2395
https://github.com/ApexTheory/appkit-by-example/blob/main/src/main/scala/freezecoin/FreezeCoin.scala im setting this up and its working easily ty for the help


[02/26/2023 10:38 PM] MGpai#4313
ok awesome


[02/26/2023 10:39 PM] MGpai#4313
this also helped me a lot


[02/26/2023 10:39 PM] MGpai#4313
https://github.com/zackbalbin/ErgoTutorials/tree/master/appkit/scala/simplesend


[02/27/2023 12:26 AM] deathgripson#2395
all of these examples seem to be pre 1627 key derivation because theyre not giving a boolean in the withMnemonic function


[02/27/2023 12:26 AM] deathgripson#2395
just a note


[02/27/2023 12:42 AM] deathgripson#2395
theres also a ctx.getWallet function that seems to be defunct now and replaced w getUnspentBoxesFor(address


[02/27/2023 12:55 AM] deathgripson#2395
says getUnspentBoxesFor is deprecated what should I use instead?


[02/27/2023 7:29 AM] deathgripson#2395
@MGpai Im trying to select input boxes and getting this not enough boxes to meet ERG needs 2002000000 (found only 0) i made sure its getting the correct address and its funded.
Heres the code:

```       
val inboxes = BoxOperations
        .createForSender(sender, ctx)
        .withAmountToSpend(ergoAmount)
        .withFeeAmount(Parameters.MinFee).loadTop()```


[02/27/2023 12:08 PM] MGpai#4313
Are you using correct network and address/wallet mnemonic?


[02/27/2023 6:36 PM] deathgripson#2395
yea  testnet and I checked that the sender and prover .asP2PK equal my testnet node address


[02/27/2023 6:39 PM] deathgripson#2395
is there any better method to get inputboxes?


[02/27/2023 7:26 PM] MGpai#4313
did you check how ergpy implements input boxes?


[02/27/2023 7:28 PM] deathgripson#2395
yea I have  a version of that I am looking from, i think this part .withInputBoxesLoader(ExplorerAndPoolUnspentBoxesLoader())  might be the only thing that im using in python that im not in scala. but when i try to implement it the same way in scala it fails, how should this method be implemented?


[02/27/2023 7:41 PM] deathgripson#2395
for example this fails ```      val loader = ExplorerAndPoolUnspentBoxesLoader
      val inputboxes = BoxOperations.createForSender(sender, ctx)
        .withAmountToSpend(ergoAmountFeeIncluded)
        .withInputBoxesLoader(loader)
        .loadTop()``` with ```class org.ergoplatform.appkit.ExplorerAndPoolUnspentBoxesLoader is not a value
      val loader = ExplorerAndPoolUnspentBoxesLoader```


[02/27/2023 9:50 PM] deathgripson#2395
its gotta be this val explorerUrl: String = RestApiErgoClient.getDefaultExplorerUrl(NetworkType.TESTNET)


[02/27/2023 9:50 PM] deathgripson#2395
the default explorer doesnt work rn i think


[02/27/2023 9:51 PM] deathgripson#2395
not sure what it is


[02/27/2023 9:56 PM] deathgripson#2395
changing the explorer seemed to fix it, is there any way to get around the explorer usage?


[02/27/2023 10:17 PM] MGpai#4313
oh you must have been using testnet explorer


[02/27/2023 10:17 PM] MGpai#4313
you have to use the tn aneta explorer


[02/27/2023 10:27 PM] deathgripson#2395
yea i am using that now


[02/27/2023 10:27 PM] deathgripson#2395
is that the only way to get input boxes


[02/27/2023 10:33 PM] Cheese Enthusiast#0548
`ctx.getBoxById` used the node. Also some new node api calls will be able to track inputs like the explorer.


[02/27/2023 11:13 PM] MGpai#4313
no there are several methods


[02/27/2023 11:13 PM] MGpai#4313
you can even make your own


[02/27/2023 11:15 PM] deathgripson#2395
oh ok I see how this could be used


[02/27/2023 11:15 PM] deathgripson#2395
I will probably try to do one with the api calls


[03/01/2023 10:11 AM] charlie-wasp#7322
Cross-posting from #üõ†‚îÇhost-a-pool : hey, guys! What is a proper way to make different Ergo nodes share the same reward address? Can I just set `miningPubKeyHex` attributes in their config to the same value?


[03/01/2023 7:07 PM] deathgripson#2395
looks like kushti said yes in this thread https://discordapp.com/channels/668903786361651200/670288337747312646/1080510492226887680 Not sure exactly how though unfortunately, u can try to reply to him in that thread if you want to ask


[03/02/2023 8:52 AM] charlie-wasp#7322
yeah, I saw that, thanks! It's frustrating, that I can't still find a clear answer to such basic question though üòï


[03/02/2023 1:54 PM] Cheese Enthusiast#0548
Kushti was correct, all you need to do is set `miningPubKeyHex` there isn't much else to it.


[03/02/2023 1:55 PM] Cheese Enthusiast#0548
You can verify by confirming the reward addresses are the same using the API


[03/04/2023 9:22 AM] MeHow#0000
When it comes to smart contract development


[03/04/2023 9:22 AM] MeHow#0000
For example I make 


Int I =0;
While (true){
  If (if special_token){
   Special_token.someAttr =I;
   Send_back(special_token);
  }
   Else{
        I++;
    }
}


[03/04/2023 9:22 AM] MeHow#0000
The I variable is going to be keep increasing free of charge?


[03/04/2023 9:22 AM] MeHow#0000
Also if I have this special_token in my ergo wallet. Do I have to pay fee for sending it to this smart contract?


[03/04/2023 9:44 AM] MrStahlfelge#0042
there is no while loop in ergoscript


[03/04/2023 9:44 AM] MrStahlfelge#0042
contracts on ergo are not active


[03/04/2023 11:54 AM] glasgowm#9381
Can use a transaction tree for simple loops

https://docs.ergoplatform.com/dev/scs/tx/tx-tree/


[03/05/2023 1:02 AM] D25#9621
Super noob here. How do I send a transaction by making an API call to my own node?


[03/05/2023 1:32 AM] MGpai#4313
```python
import requests
import json
node_ip = "http://127.0.0.1:9053"
api_key = "hello"
headers = {
                'accept': 'application/json',
                'api_key': api_key,
                'Content-Type': 'application/json'
        }
out = [
  {
    "address": "3WwbzW6u8hKWBcL1W7kNVMr25s2UHfSBnYtwSHvrRQt7DdPuoXrt",
    "value": 10000000,
    "assets": []
  }
]
tx_id = requests.post('http://{}/wallet/payment/send'.format(node_ip), headers=headers, data=json.dumps(out)).json()
print(tx_id)
```

{Reactions}
üî• 

[03/12/2023 11:44 PM] MeHow#3154
wait let me ask you a stupid question,
am I correct that it is possible to write working blockchain within ergo blockchain (not-side chain, but "virtual" blockchain using ergoscripts like dapps)


[03/12/2023 11:48 PM] MeHow#3154
or the blockchain's script is too primitive/limited


[03/13/2023 3:26 AM] MGpai#4313
too limited


[03/19/2023 4:07 PM] quokka#1273
Hey everyone, just got done enjoying a nice session of banging my head on the wall üôÇ

We have some older typescript code that used to work for reducing transactions, but now it doesn't. Anyone who if ergo-lib-wasm has changed recently to not support this code? Or how to fix it at all?

```
    // reduce base64 the tx before saving to the DB
    const bodyParam = JSONBigInt.parse(body.txData)
    const unsignedTx = UnsignedTransaction.from_json(JSONBigInt.stringify(bodyParam))
    const inputBoxes = ErgoBoxes.from_boxes_json(bodyParam.inputs)
    const inputDataBoxes = ErgoBoxes.from_boxes_json(bodyParam.dataInputs)

    const block_headers = BlockHeaders.from_json(await getLastHeaders())
    const pre_header = PreHeader.from_block_header(block_headers.get(0))
    const ctx = new ErgoStateContext(pre_header, block_headers)

    const reducedTx = ReducedTransaction.from_unsigned_tx(unsignedTx, inputBoxes, inputDataBoxes, ctx)
    const txReducedBase64 = byteArrayToBase64(reducedTx.sigma_serialize_bytes())
    const ergoPayTx = txReducedBase64.replace(/\//g, '_').replace(/\+/g, '-')

    // split by chunk of 1000 char to generate the QR codes
    const ergoPayMatched = ergoPayTx.match(/.{1,1000}/g)
```

txReducedBase64():
```
export function byteArrayToBase64(byteArray: any) {
  var binary = '';
  var len = byteArray.byteLength;
  for (var i = 0; i < len; i++) {
    binary += String.fromCharCode(byteArray[i]);
  }
  return Buffer.from(binary).toString('base64')
}
```


[03/19/2023 4:16 PM] quokka#1273
I think were encoding to base64 wrong, not sure


[03/19/2023 5:48 PM] quokka#1273
Yep, instead of using byteArrayToBase64, I used
```Buffer.from(reducedTx.sigma_serialize_bytes()).toString('base64');```


[03/19/2023 6:37 PM] quokka#1273
Works good now üëç


[03/20/2023 9:00 AM] $astodialo#1048
Hey everyone GM, im currently building a project on Cardano and lately, I've been thinking more and more about moving it to Ergo. Would someone be able to help out a bit?ü§ü


[03/21/2023 3:55 AM] MGpai#4313
You need to provide more context


[03/22/2023 10:30 AM] $astodialo#1048
https://github.com/Astodialo/unLearn


[03/22/2023 10:31 AM] $astodialo#1048
For first, i wanted to ask if there is something on ergo like a datum on Cardano, because i use something similar to CIP-68, to have mutable state on chain


[03/22/2023 10:53 AM] MGpai#4313
Mutable NFT metadata?


[03/22/2023 1:19 PM] Cheese Enthusiast#0548
I believe the Ergo equivalent would be called registers


[03/22/2023 1:57 PM] $astodialo#1048
Well inline datums, but in a way yes, thats a use of it


[03/22/2023 2:17 PM] $astodialo#1048
and also can then registers be referenced onchain?


[03/22/2023 2:21 PM] $astodialo#1048
so for example in a validator, check the register of a box locked in another validator


[03/22/2023 3:55 PM] MGpai#4313
Give a high level overview of what you are trying to achieve


[03/22/2023 4:10 PM] $astodialo#1048
I want to build a modular proposal creation system. So someone mints an token that on the register of the box that contains the token i want to write the proposal/question . Aftet that I want after community decision to write aswell the decided answers to the question to the reigister of the box that contains this token. So propably spend that utxo and create a new one with the uupdated registers. Then the results updated. And finally I want to be able to read onChain the value of one of those registers, in a contract, so that in a decentralized way someone can get a funding, so take out of the contract/validator the amount written on the Register of the box where the minted token is locked.


[03/22/2023 4:12 PM] $astodialo#1048
i explain the process a bit better on the github


[03/23/2023 10:36 PM] Marty#4039
Any idea why these 10+ minute blocks are so frequent?


[03/23/2023 11:56 PM] NoahErgo#4349
Looking through past blocks from today almost all of them are not that long


[03/23/2023 11:56 PM] NoahErgo#4349
I think its just random distribution curve


[03/24/2023 12:26 AM] Marty#4039
i run into blocks 5 minutes or more at least once per day that i use ergo


[03/24/2023 12:26 AM] Marty#4039
10+ minute not uncommon


[03/24/2023 12:26 AM] Marty#4039
it seems really long considering the target is 2 minutes


[03/24/2023 12:27 AM] Marty#4039
is it really just bad luck?


[03/24/2023 5:06 AM] glasgowm#9381
24hr avg is 120s exactly. Individual blocks will just be luck yes


[03/27/2023 6:12 PM] Marty#4039
i have really bad luck then. Every single time i use ergo i run into at least one 5+ minute block


[03/27/2023 6:12 PM] Marty#4039
there's one right now


[03/27/2023 6:13 PM] Marty#4039
there was another about 20 minutes ago


[03/27/2023 6:13 PM] Marty#4039
and 25 minutes ago


[03/27/2023 6:13 PM] Marty#4039
that's pretty frequent


[03/27/2023 6:14 PM] Marty#4039
actually in the past hour there's been several longer than 5 minutes


[03/27/2023 6:45 PM] glasgowm#9381
More the miners luck than yours. Due to the probabilistic nature of mining individual blocks can vary based on how quickly they solve the puzzle. Will be lots of blocks under 2m in the past hour too averaging out to 120s


[03/27/2023 6:58 PM] deathgripson#2395
increased propagation time can be due to more nodes connecting to the network or a wider variety of mining stratum + full nodes as well as competitive hash-rate on these  new nodes causing reorganizations which can happen several blocks deep and will extend confirmation times for security purposes https://learnmeabitcoin.com/technical/chain-reorganisation


[04/01/2023 6:03 PM] Pgr456#1839
Is there an easy way to get the miner reward address from the block `header.powSolutions.pk` ?


[04/01/2023 6:05 PM] Pgr456#1839
or what would be the way to get an ErgoTree out of it if that is possible?


[04/07/2023 4:53 AM] quokka#1273
Hey, does anyone know how we can encode a coll of group elements? We need to place inside the additional registers of a box


[04/07/2023 4:11 PM] zargarzadehmoein#2928
```
.registers(       ErgoValueBuilder.buildFor(Colls.fromArray(Array(JavaHelpers.decodeStringToGE("a1"))))
)
```

`JavaHelpers.decodeStringToGE("a1")` this is just for test and you should put your GE object instead of that.


[04/07/2023 5:39 PM] quokka#1273
Thanks! I Guess i should‚Äôve mentioned that we were using JavaScript with ergo-lib-wasm-browser üòÖ. Might be able to adapt this though

{Reactions}
üëç 

[04/12/2023 6:37 PM] RelevantData#9545
Hey folks! 
I am looking into how I'd go about creating a contract that allows a portion of any BTC deposited into a Bitcoin wallet to be automagically converted to ADA and deposited into a wallet on Cardano. I imagine a dex api would be used to do the conversion from BTC to ADA, though I'm not sure is such a pair already exists on an Ergo dex.

Is Ergo a good smart contract intermediary to accomplish something like that in general, or am I off-base to think Ergo is a good place to start with this?


[04/12/2023 6:38 PM] RelevantData#9545
I could do all of this manually of course, but am looking for how I'd go about developing something that does it automatically, anytime I deposit BTC into the Bitcoin wallet.


[04/12/2023 6:39 PM] RelevantData#9545
ü§î  just realized I posted this in dev-support - apologies.


[04/12/2023 6:39 PM] RelevantData#9545
Posting in development channel.


[04/17/2023 3:24 PM] Breehze#5531
Hey guys any idea what may cause this ?

{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1097528037219782747/image.png


[04/17/2023 3:25 PM] glasgowm#9381
https://tenor.com/view/ken-jeong-community-too-small-to-read-read-reading-gif-5494204

{Embed}
https://tenor.com/view/ken-jeong-community-too-small-to-read-read-reading-gif-5494204
Too small to read - Small
https://images-ext-1.discordapp.net/external/C9Yc-cxf8j_30-WsksRn0HChQQJeljghz_wsyfBaDkM/https/media.tenor.com/khJthyXJxtcAAAAD/ken-jeong-community.png


[04/17/2023 3:25 PM] glasgowm#9381
Looks like you're missing the minimum erg required in your output box


[04/17/2023 3:42 PM] Breehze#5531
Hmm any idea how to fix this ?


[04/17/2023 3:48 PM] glasgowm#9381
You need to ensure that the transaction outputs meet this requirement. This is a consensus-critical validation rule in Ergo to prevent spam attacks.

Need more details of what you're doing and the request you're sending so see where you're going wrong.


[04/17/2023 3:50 PM] Breehze#5531


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1097534465452028035/image.png


[04/17/2023 3:51 PM] Breehze#5531


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1097534748148117574/image.png


[04/17/2023 3:52 PM] Breehze#5531
This is what i m using, didn t have any problems with it beforehand


[04/17/2023 3:53 PM] Breehze#5531
It works with some transactions, and others get this error


[04/17/2023 5:31 PM] glasgowm#9381
and what's different now? Passing something different? Are there funds available to send?

Send as code-blocks not pictures please, like
```
```scala
code
 `` `
```


[04/17/2023 5:51 PM] Breehze#5531
Hmmm, the only difference that comes to mind is that i minted through that address and issued 100 more inputBoxes for royalties. Could that be the cause ?


[04/17/2023 5:51 PM] Breehze#5531
I ll use code block from now :k_thumbs_up:


[04/17/2023 6:33 PM] glasgowm#9381
The error message you mentioned indicates that the transaction outputs do not meet the minimum value requirement, which is calculated as <minValuePerByte * outputSize> nanoErgs.

When you mint and issue more inputBoxes for royalties, the transaction size increases, and so does the minimum value requirement for the outputs. If the outputs do not meet this requirement, the function will produce an error.

To resolve this issue, you can either increase the value of the outputs to meet the minimum requirement or reduce the transaction size by consolidating inputBoxes or removing unnecessary data.


[04/17/2023 6:52 PM] Breehze#5531
Ohhh I see, thanks for your help sir, also i m kinda noob in this , how would i consolidate the input boxes ?


[04/17/2023 9:03 PM] Breehze#5531
Managed to find out, still thanks for your help


[04/18/2023 1:38 AM] soysor#6001
blink twice if you've been taken by robots


[04/18/2023 1:56 AM] MGpai#4313
ai took over glasgow

{Reactions}
ü§ñ (2) 

[04/18/2023 9:04 AM] glasgowm#9381


{Attachments}
https://cdn.discordapp.com/attachments/840313005064585246/1097794853187887114/image0.gif


[04/18/2023 2:08 PM] glasgowm#9381
Started a thread.


[04/18/2023 2:14 PM] deathgripson#2395
https://tenor.com/view/styx-mr-roboto-japanese-robots-80s-music-mtv-gif-16203419

{Embed}
https://tenor.com/view/styx-mr-roboto-japanese-robots-80s-music-mtv-gif-16203419
https://images-ext-1.discordapp.net/external/ZIjv7LL-D_iyf8VENuEO3qVnq_mukm4Xx5rHBGonfUs/https/media.tenor.com/EBW4_AdIPyEAAAAD/styx-mr-roboto.png


==============================================================
Exported 6,768 message(s)
==============================================================
